/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220613(e367b12f19c0c28ac35e1713544867ca35f326c2)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ne=["exports","require","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/platform/instantiation/common/instantiation","vs/base/common/strings","vs/base/common/async","vs/editor/common/core/position","vs/editor/browser/editorExtensions","vs/base/common/errors","vs/css!vs/editor/editor.main","vs/platform/theme/common/themeService","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/base/common/arrays","vs/base/common/types","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/core/selection","vs/editor/common/editorContextKeys","vs/platform/theme/common/colorRegistry","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/common/languages","vs/editor/browser/services/codeEditorService","vs/platform/configuration/common/configuration","vs/base/common/color","vs/editor/common/languages/languageConfigurationRegistry","vs/base/browser/fastDomNode","vs/editor/common/config/editorOptions","vs/platform/registry/common/platform","vs/base/browser/browser","vs/editor/common/model/textModel","vs/editor/common/languages/language","vs/base/common/objects","vs/platform/notification/common/notification","vs/platform/actions/common/actions","vs/base/common/resources","vs/platform/keybinding/common/keybinding","vs/base/common/network","vs/platform/opener/common/opener","vs/base/browser/keyboardEvent","vs/base/browser/ui/aria/aria","vs/editor/common/model","vs/base/common/actions","vs/editor/common/services/model","vs/base/common/map","vs/editor/browser/view/viewPart","vs/platform/instantiation/common/extensions","vs/editor/common/core/editorColorRegistry","vs/base/common/iterator","vs/platform/theme/common/theme","vs/base/common/stopwatch","vs/editor/common/services/resolverService","vs/base/common/keyCodes","vs/base/browser/touch","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/mouseEvent","vs/base/common/filters","vs/base/common/htmlContent","vs/base/browser/ui/widget","vs/editor/common/core/cursorColumns","vs/editor/browser/config/domFontInfo","vs/platform/accessibility/common/accessibility","vs/platform/log/common/log","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/base/common/severity","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel","vs/editor/common/standaloneStrings","vs/platform/progress/common/progress","vs/platform/theme/common/iconRegistry","vs/base/common/linkedList","vs/base/common/path","vs/editor/common/tokens/lineTokens","vs/platform/contextview/browser/contextView","vs/platform/markers/common/markers","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/contrib/hover/browser/hoverTypes","vs/editor/contrib/snippet/browser/snippetParser","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/editorWorker","vs/platform/clipboard/common/clipboardService","vs/platform/telemetry/common/telemetry","vs/editor/contrib/editorState/browser/editorState","vs/base/common/functional","vs/base/browser/event","vs/editor/common/core/stringBuilder","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/platform/configuration/common/configurationRegistry","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/contrib/suggest/browser/suggest","vs/base/common/buffer","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/mime","vs/base/common/iconLabels","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/browser/view/dynamicViewOverlay","vs/editor/standalone/common/standaloneTheme","vs/platform/dialogs/common/dialogs","vs/platform/layout/browser/layoutService","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/peekView/browser/peekView","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/tree/tree","vs/base/browser/dnd","vs/base/common/numbers","vs/base/common/hash","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/browser/view/renderingContext","vs/editor/common/core/eolCounter","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/languages/nullTokenize","vs/editor/common/viewEventHandler","vs/editor/common/viewLayout/viewLineRenderer","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/editor/browser/services/bulkEditService","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/base/common/idGenerator","vs/base/common/lazy","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/browser/stableEditorScroll","vs/editor/common/config/editorZoom","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/standalone/standaloneEnums","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/browser/types","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/browser/coreCommands","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/message/browser/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/platform/workspace/common/workspace","vs/base/common/dataTransfer","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/marshalling","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/toggle/toggle","vs/editor/common/config/fontInfo","vs/editor/common/core/indentation","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/inlineCompletions/browser/consts","vs/editor/contrib/inlineCompletions/browser/utils","vs/editor/contrib/inlineCompletions/browser/inlineCompletionToGhostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/files/common/files","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/standalone/browser/standaloneServices","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/cache","vs/base/common/collections","vs/base/common/glob","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/uuid","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/browser/dnd","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/core/textChange","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/modelLineProjectionData","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/services/editorBaseApi","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/resizable","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/tree/objectTree","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/colorPicker/browser/color","vs/editor/standalone/common/monarch/monarchLexer","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/cursor/cursor","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/contrib/format/browser/format","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/find/browser/findController","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/labels","vs/base/common/fuzzyScorer","vs/base/common/search","vs/base/browser/dompurify/dompurify","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/diffComputer","vs/editor/common/editorTheme","vs/editor/common/languageSelector","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/languages/supports/tokenization","vs/editor/common/languageFeatureRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/tokenizationRegistry","vs/editor/common/services/editorSimpleWorker","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/common/model/tokenizationTextModelPart","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/intializingRangeProvider","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/config/charWidthReader","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/dnd/browser/dnd","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/files/browser/htmlFileSystemProvider","vs/platform/files/browser/webFileSystemAccess","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/dnd/browser/dnd","vs/editor/browser/services/webWorker","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/codeAction/browser/codeActionUi","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/copyPaste/browser/copyPasteController","vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/browser/ghostTextModel","vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/editor/contrib/inlineCompletions/browser/ghostText.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/editor/edcore.main"],oe=function(j){for(var e=[],y=0,f=j.length;y<f;y++)e[y]=ne[j[y]];return e},gi;(function(j){var e=function(){function f(){this._pendingLoads=0}return f.prototype.attachListeners=function(N,D,w,b){var v=function(){D.removeEventListener("load",u),D.removeEventListener("error",h)},u=function(i){v(),w()},h=function(i){v(),b(i)};D.addEventListener("load",u),D.addEventListener("error",h)},f.prototype._onLoad=function(N,D){this._pendingLoads--,D()},f.prototype._onLoadError=function(N,D,w){this._pendingLoads--,D(w)},f.prototype._insertLinkNode=function(N){this._pendingLoads++;var D=document.head||document.getElementsByTagName("head")[0];D.appendChild(N)},f.prototype.createLinkTag=function(N,D,w,b){var v=this,u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.setAttribute("type","text/css"),u.setAttribute("data-name",N);var h=function(){return v._onLoad(N,w)},i=function(n){return v._onLoadError(N,b,n)};return this.attachListeners(N,u,h,i),u.setAttribute("href",D),u},f.prototype._linkTagExists=function(N,D){var w,b,v,u,h=document.getElementsByTagName("link");for(w=0,b=h.length;w<b;w++)if(v=h[w].getAttribute("data-name"),u=h[w].getAttribute("href"),v===N||u===D)return!0;return!1},f.prototype.load=function(N,D,w,b){if(this._linkTagExists(N,D)){w();return}var v=this.createLinkTag(N,D,w,b);this._insertLinkNode(v)},f}(),y=function(){function f(){this._cssLoader=new e}return f.prototype.load=function(N,D,w,b){b=b||{};var v=b["vs/css"]||{};if(v.disabled){w({});return}var u=D.toUrl(N+".css");this._cssLoader.load(N,u,function(h){w({})},function(h){typeof w.error=="function"&&w.error("Could not find "+u+" or it was empty")})},f}();j.CSSPlugin=y,define("vs/css",new y)})(gi||(gi={}));var on=this&&this.__spreadArrays||function(){for(var j=0,e=0,y=arguments.length;e<y;e++)j+=arguments[e].length;for(var f=Array(j),N=0,e=0;e<y;e++)for(var D=arguments[e],w=0,b=D.length;w<b;w++,N++)f[N]=D[w];return f},fi;(function(j){var e=function(){function b(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(b.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!1,configurable:!0}),b.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},b}();function y(b,v,u){var h;return v.length===0?h=b:h=b.replace(/\{(\d+)\}/g,function(i,n){var t=n[0],s=v[t],l=i;return typeof s=="string"?l=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(l=String(s)),l}),u.isPseudo&&(h="\uFF3B"+h.replace(/[aouei]/g,"$&$&")+"\uFF3D"),h}function f(b,v){var u=b[v];return u||(u=b["*"],u)?u:null}function N(b,v,u){for(var h=[],i=3;i<arguments.length;i++)h[i-3]=arguments[i];return y(u,h,b)}function D(b,v){return function(u,h){var i=Array.prototype.slice.call(arguments,2);return y(b[u],i,v)}}var w=function(){function b(v){var u=this;this._env=v,this.localize=function(h,i){for(var n=[],t=2;t<arguments.length;t++)n[t-2]=arguments[t];return N.apply(void 0,on([u._env,h,i],n))}}return b.prototype.setPseudoTranslation=function(v){this._env._isPseudo=v},b.prototype.create=function(v,u){return{localize:D(u[v],this._env)}},b.prototype.load=function(v,u,h,i){var n=this,t;if(i=i||{},!v||v.length===0)h({localize:this.localize});else{var s=i["vs/nls"]||{},l=s.availableLanguages?f(s.availableLanguages,v):null,d=".nls";l!==null&&l!==b.DEFAULT_TAG&&(d=d+"."+l);var a=function(r){Array.isArray(r)?r.localize=D(r,n._env):r.localize=D(r[v],n._env),h(r)};if(typeof s.loadBundle=="function")s.loadBundle(v,l,function(r,c){r?u([v+".nls"],a):a(c)});else{var o=(t=s.baseUrl)!==null&&t!==void 0?t:"";u([o+v+d],a,function(r){var c;console.warn("Falling back to default strings. Unable to load translations because of: "+((c=r.message)!==null&&c!==void 0?c:r)),u([v+".nls"],a)})}}},b.DEFAULT_TAG="i-default",b}();j.NLSPlugin=w,define("vs/nls",new w(new e))})(fi||(fi={}));/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function sn(j){if(Array.isArray(j)){for(var e=0,y=Array(j.length);e<j.length;e++)y[e]=j[e];return y}else return Array.from(j)}var rn=Object.hasOwnProperty,mi=Object.setPrototypeOf,an=Object.isFrozen,ln=Object.getPrototypeOf,dn=Object.getOwnPropertyDescriptor,lt=Object.freeze,mt=Object.seal,cn=Object.create,pi=typeof Reflect!="undefined"&&Reflect,Ot=pi.apply,Gt=pi.construct;Ot||(Ot=function(e,y,f){return e.apply(y,f)}),lt||(lt=function(e){return e}),mt||(mt=function(e){return e}),Gt||(Gt=function(e,y){return new(Function.prototype.bind.apply(e,[null].concat(sn(y))))});var un=ht(Array.prototype.forEach),Ci=ht(Array.prototype.pop),kt=ht(Array.prototype.push),St=ht(String.prototype.toLowerCase),vi=ht(String.prototype.match),vt=ht(String.prototype.replace),hn=ht(String.prototype.indexOf),gn=ht(String.prototype.trim),pt=ht(RegExp.prototype.test),bi=fn(TypeError);function ht(j){return function(e){for(var y=arguments.length,f=Array(y>1?y-1:0),N=1;N<y;N++)f[N-1]=arguments[N];return Ot(j,e,f)}}function fn(j){return function(){for(var e=arguments.length,y=Array(e),f=0;f<e;f++)y[f]=arguments[f];return Gt(j,y)}}function Qe(j,e){mi&&mi(j,null);for(var y=e.length;y--;){var f=e[y];if(typeof f=="string"){var N=St(f);N!==f&&(an(e)||(e[y]=N),f=N)}j[f]=!0}return j}function wt(j){var e=cn(null),y=void 0;for(y in j)Ot(rn,j,[y])&&(e[y]=j[y]);return e}function Ft(j,e){for(;j!==null;){var y=dn(j,e);if(y){if(y.get)return ht(y.get);if(typeof y.value=="function")return ht(y.value)}j=ln(j)}function f(N){return console.warn("fallback value for",N),null}return f}var _i=lt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zt=lt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yt=lt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mn=lt(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qt=lt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pn=lt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Si=lt(["#text"]),wi=lt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Xt=lt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Li=lt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bt=lt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Cn=mt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),vn=mt(/<%[\s\S]*|[\s\S]*%>/gm),bn=mt(/^data-[\-\w.\u00B7-\uFFFF]/),_n=mt(/^aria-[\-\w]+$/),Sn=mt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wn=mt(/^(?:\w+script|data):/i),Ln=mt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j};function gt(j){if(Array.isArray(j)){for(var e=0,y=Array(j.length);e<j.length;e++)y[e]=j[e];return y}else return Array.from(j)}var yn=function(){return typeof window=="undefined"?null:window},En=function(e,y){if((typeof e=="undefined"?"undefined":Nt(e))!=="object"||typeof e.createPolicy!="function")return null;var f=null,N="data-tt-policy-suffix";y.currentScript&&y.currentScript.hasAttribute(N)&&(f=y.currentScript.getAttribute(N));var D="dompurify"+(f?"#"+f:"");try{return e.createPolicy(D,{createHTML:function(b){return b}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function yi(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yn(),e=function(Ie){return yi(Ie)};if(e.version="2.3.1",e.removed=[],!j||!j.document||j.document.nodeType!==9)return e.isSupported=!1,e;var y=j.document,f=j.document,N=j.DocumentFragment,D=j.HTMLTemplateElement,w=j.Node,b=j.Element,v=j.NodeFilter,u=j.NamedNodeMap,h=u===void 0?j.NamedNodeMap||j.MozNamedAttrMap:u,i=j.Text,n=j.Comment,t=j.DOMParser,s=j.trustedTypes,l=b.prototype,d=Ft(l,"cloneNode"),a=Ft(l,"nextSibling"),o=Ft(l,"childNodes"),r=Ft(l,"parentNode");if(typeof D=="function"){var c=f.createElement("template");c.content&&c.content.ownerDocument&&(f=c.content.ownerDocument)}var g=En(s,y),m=g&&de?g.createHTML(""):"",S=f,p=S.implementation,C=S.createNodeIterator,_=S.createDocumentFragment,L=S.getElementsByTagName,E=y.importNode,I={};try{I=wt(f).documentMode?f.documentMode:{}}catch{}var T={};e.isSupported=typeof r=="function"&&p&&typeof p.createHTMLDocument!="undefined"&&I!==9;var P=Cn,B=vn,R=bn,k=_n,A=wn,O=Ln,F=Sn,W=null,M=Qe({},[].concat(gt(_i),gt(Zt),gt(Yt),gt(Qt),gt(Si))),z=null,G=Qe({},[].concat(gt(wi),gt(Xt),gt(Li),gt(Bt))),te=null,X=null,J=!0,ie=!0,re=!1,Z=!1,x=!1,U=!1,q=!1,le=!1,se=!1,Y=!0,de=!1,H=!0,$=!0,K=!1,V={},Q=null,ee=Qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ae=null,fe=Qe({},["audio","video","img","source","image","track"]),pe=null,ve=Qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",Ce="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",be=me,ce=!1,he=null,we=f.createElement("form"),ye=function(Ie){he&&he===Ie||((!Ie||(typeof Ie=="undefined"?"undefined":Nt(Ie))!=="object")&&(Ie={}),Ie=wt(Ie),W="ALLOWED_TAGS"in Ie?Qe({},Ie.ALLOWED_TAGS):M,z="ALLOWED_ATTR"in Ie?Qe({},Ie.ALLOWED_ATTR):G,pe="ADD_URI_SAFE_ATTR"in Ie?Qe(wt(ve),Ie.ADD_URI_SAFE_ATTR):ve,ae="ADD_DATA_URI_TAGS"in Ie?Qe(wt(fe),Ie.ADD_DATA_URI_TAGS):fe,Q="FORBID_CONTENTS"in Ie?Qe({},Ie.FORBID_CONTENTS):ee,te="FORBID_TAGS"in Ie?Qe({},Ie.FORBID_TAGS):{},X="FORBID_ATTR"in Ie?Qe({},Ie.FORBID_ATTR):{},V="USE_PROFILES"in Ie?Ie.USE_PROFILES:!1,J=Ie.ALLOW_ARIA_ATTR!==!1,ie=Ie.ALLOW_DATA_ATTR!==!1,re=Ie.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=Ie.SAFE_FOR_TEMPLATES||!1,x=Ie.WHOLE_DOCUMENT||!1,le=Ie.RETURN_DOM||!1,se=Ie.RETURN_DOM_FRAGMENT||!1,Y=Ie.RETURN_DOM_IMPORT!==!1,de=Ie.RETURN_TRUSTED_TYPE||!1,q=Ie.FORCE_BODY||!1,H=Ie.SANITIZE_DOM!==!1,$=Ie.KEEP_CONTENT!==!1,K=Ie.IN_PLACE||!1,F=Ie.ALLOWED_URI_REGEXP||F,be=Ie.NAMESPACE||me,Z&&(ie=!1),se&&(le=!0),V&&(W=Qe({},[].concat(gt(Si))),z=[],V.html===!0&&(Qe(W,_i),Qe(z,wi)),V.svg===!0&&(Qe(W,Zt),Qe(z,Xt),Qe(z,Bt)),V.svgFilters===!0&&(Qe(W,Yt),Qe(z,Xt),Qe(z,Bt)),V.mathMl===!0&&(Qe(W,Qt),Qe(z,Li),Qe(z,Bt))),Ie.ADD_TAGS&&(W===M&&(W=wt(W)),Qe(W,Ie.ADD_TAGS)),Ie.ADD_ATTR&&(z===G&&(z=wt(z)),Qe(z,Ie.ADD_ATTR)),Ie.ADD_URI_SAFE_ATTR&&Qe(pe,Ie.ADD_URI_SAFE_ATTR),Ie.FORBID_CONTENTS&&(Q===ee&&(Q=wt(Q)),Qe(Q,Ie.FORBID_CONTENTS)),$&&(W["#text"]=!0),x&&Qe(W,["html","head","body"]),W.table&&(Qe(W,["tbody"]),delete te.tbody),lt&&lt(Ie),he=Ie)},Te=Qe({},["mi","mo","mn","ms","mtext"]),ke=Qe({},["foreignobject","desc","title","annotation-xml"]),Ne=Qe({},Zt);Qe(Ne,Yt),Qe(Ne,mn);var Oe=Qe({},Qt);Qe(Oe,pn);var Se=function(Ie){var Pe=r(Ie);(!Pe||!Pe.tagName)&&(Pe={namespaceURI:me,tagName:"template"});var Be=St(Ie.tagName),We=St(Pe.tagName);if(Ie.namespaceURI===Ce)return Pe.namespaceURI===me?Be==="svg":Pe.namespaceURI===ue?Be==="svg"&&(We==="annotation-xml"||Te[We]):Boolean(Ne[Be]);if(Ie.namespaceURI===ue)return Pe.namespaceURI===me?Be==="math":Pe.namespaceURI===Ce?Be==="math"&&ke[We]:Boolean(Oe[Be]);if(Ie.namespaceURI===me){if(Pe.namespaceURI===Ce&&!ke[We]||Pe.namespaceURI===ue&&!Te[We])return!1;var Ge=Qe({},["title","style","font","a","script"]);return!Oe[Be]&&(Ge[Be]||!Ne[Be])}return!1},_e=function(Ie){kt(e.removed,{element:Ie});try{Ie.parentNode.removeChild(Ie)}catch{try{Ie.outerHTML=m}catch{Ie.remove()}}},Ee=function(Ie,Pe){try{kt(e.removed,{attribute:Pe.getAttributeNode(Ie),from:Pe})}catch{kt(e.removed,{attribute:null,from:Pe})}if(Pe.removeAttribute(Ie),Ie==="is"&&!z[Ie])if(le||se)try{_e(Pe)}catch{}else try{Pe.setAttribute(Ie,"")}catch{}},Ae=function(Ie){var Pe=void 0,Be=void 0;if(q)Ie="<remove></remove>"+Ie;else{var We=vi(Ie,/^[\r\n\t ]+/);Be=We&&We[0]}var Ge=g?g.createHTML(Ie):Ie;if(be===me)try{Pe=new t().parseFromString(Ge,"text/html")}catch{}if(!Pe||!Pe.documentElement){Pe=p.createDocument(be,"template",null);try{Pe.documentElement.innerHTML=ce?"":Ge}catch{}}var Je=Pe.body||Pe.documentElement;return Ie&&Be&&Je.insertBefore(f.createTextNode(Be),Je.childNodes[0]||null),be===me?L.call(Pe,x?"html":"body")[0]:x?Pe.documentElement:Je},Re=function(Ie){return C.call(Ie.ownerDocument||Ie,Ie,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},Ve=function(Ie){return Ie instanceof i||Ie instanceof n?!1:typeof Ie.nodeName!="string"||typeof Ie.textContent!="string"||typeof Ie.removeChild!="function"||!(Ie.attributes instanceof h)||typeof Ie.removeAttribute!="function"||typeof Ie.setAttribute!="function"||typeof Ie.namespaceURI!="string"||typeof Ie.insertBefore!="function"},He=function(Ie){return(typeof w=="undefined"?"undefined":Nt(w))==="object"?Ie instanceof w:Ie&&(typeof Ie=="undefined"?"undefined":Nt(Ie))==="object"&&typeof Ie.nodeType=="number"&&typeof Ie.nodeName=="string"},ze=function(Ie,Pe,Be){!T[Ie]||un(T[Ie],function(We){We.call(e,Pe,Be,he)})},Ye=function(Ie){var Pe=void 0;if(ze("beforeSanitizeElements",Ie,null),Ve(Ie)||vi(Ie.nodeName,/[\u0080-\uFFFF]/))return _e(Ie),!0;var Be=St(Ie.nodeName);if(ze("uponSanitizeElement",Ie,{tagName:Be,allowedTags:W}),!He(Ie.firstElementChild)&&(!He(Ie.content)||!He(Ie.content.firstElementChild))&&pt(/<[/\w]/g,Ie.innerHTML)&&pt(/<[/\w]/g,Ie.textContent)||Be==="select"&&pt(/<template/i,Ie.innerHTML))return _e(Ie),!0;if(!W[Be]||te[Be]){if($&&!Q[Be]){var We=r(Ie)||Ie.parentNode,Ge=o(Ie)||Ie.childNodes;if(Ge&&We)for(var Je=Ge.length,Ze=Je-1;Ze>=0;--Ze)We.insertBefore(d(Ge[Ze],!0),a(Ie))}return _e(Ie),!0}return Ie instanceof b&&!Se(Ie)||(Be==="noscript"||Be==="noembed")&&pt(/<\/no(script|embed)/i,Ie.innerHTML)?(_e(Ie),!0):(Z&&Ie.nodeType===3&&(Pe=Ie.textContent,Pe=vt(Pe,P," "),Pe=vt(Pe,B," "),Ie.textContent!==Pe&&(kt(e.removed,{element:Ie.cloneNode()}),Ie.textContent=Pe)),ze("afterSanitizeElements",Ie,null),!1)},et=function(Ie,Pe,Be){if(H&&(Pe==="id"||Pe==="name")&&(Be in f||Be in we))return!1;if(!(ie&&!X[Pe]&&pt(R,Pe))){if(!(J&&pt(k,Pe))){if(!z[Pe]||X[Pe])return!1;if(!pe[Pe]){if(!pt(F,vt(Be,O,""))){if(!((Pe==="src"||Pe==="xlink:href"||Pe==="href")&&Ie!=="script"&&hn(Be,"data:")===0&&ae[Ie])){if(!(re&&!pt(A,vt(Be,O,"")))){if(Be)return!1}}}}}}return!0},ot=function(Ie){var Pe=void 0,Be=void 0,We=void 0,Ge=void 0;ze("beforeSanitizeAttributes",Ie,null);var Je=Ie.attributes;if(!!Je){var Ze={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};for(Ge=Je.length;Ge--;){Pe=Je[Ge];var it=Pe,Ke=it.name,Me=it.namespaceURI;if(Be=gn(Pe.value),We=St(Ke),Ze.attrName=We,Ze.attrValue=Be,Ze.keepAttr=!0,Ze.forceKeepAttr=void 0,ze("uponSanitizeAttribute",Ie,Ze),Be=Ze.attrValue,!Ze.forceKeepAttr&&(Ee(Ke,Ie),!!Ze.keepAttr)){if(pt(/\/>/i,Be)){Ee(Ke,Ie);continue}Z&&(Be=vt(Be,P," "),Be=vt(Be,B," "));var Fe=Ie.nodeName.toLowerCase();if(!!et(Fe,We,Be))try{Me?Ie.setAttributeNS(Me,Ke,Be):Ie.setAttribute(Ke,Be),Ci(e.removed)}catch{}}}ze("afterSanitizeAttributes",Ie,null)}},Ue=function xe(Ie){var Pe=void 0,Be=Re(Ie);for(ze("beforeSanitizeShadowDOM",Ie,null);Pe=Be.nextNode();)ze("uponSanitizeShadowNode",Pe,null),!Ye(Pe)&&(Pe.content instanceof N&&xe(Pe.content),ot(Pe));ze("afterSanitizeShadowDOM",Ie,null)};return e.sanitize=function(xe,Ie){var Pe=void 0,Be=void 0,We=void 0,Ge=void 0,Je=void 0;if(ce=!xe,ce&&(xe="<!-->"),typeof xe!="string"&&!He(xe)){if(typeof xe.toString!="function")throw bi("toString is not a function");if(xe=xe.toString(),typeof xe!="string")throw bi("dirty is not a string, aborting")}if(!e.isSupported){if(Nt(j.toStaticHTML)==="object"||typeof j.toStaticHTML=="function"){if(typeof xe=="string")return j.toStaticHTML(xe);if(He(xe))return j.toStaticHTML(xe.outerHTML)}return xe}if(U||ye(Ie),e.removed=[],typeof xe=="string"&&(K=!1),!K)if(xe instanceof w)Pe=Ae("<!---->"),Be=Pe.ownerDocument.importNode(xe,!0),Be.nodeType===1&&Be.nodeName==="BODY"||Be.nodeName==="HTML"?Pe=Be:Pe.appendChild(Be);else{if(!le&&!Z&&!x&&xe.indexOf("<")===-1)return g&&de?g.createHTML(xe):xe;if(Pe=Ae(xe),!Pe)return le?null:m}Pe&&q&&_e(Pe.firstChild);for(var Ze=Re(K?xe:Pe);We=Ze.nextNode();)We.nodeType===3&&We===Ge||Ye(We)||(We.content instanceof N&&Ue(We.content),ot(We),Ge=We);if(Ge=null,K)return xe;if(le){if(se)for(Je=_.call(Pe.ownerDocument);Pe.firstChild;)Je.appendChild(Pe.firstChild);else Je=Pe;return Y&&(Je=E.call(y,Je,!0)),Je}var it=x?Pe.outerHTML:Pe.innerHTML;return Z&&(it=vt(it,P," "),it=vt(it,B," ")),g&&de?g.createHTML(it):it},e.setConfig=function(xe){ye(xe),U=!0},e.clearConfig=function(){he=null,U=!1},e.isValidAttribute=function(xe,Ie,Pe){he||ye({});var Be=St(xe),We=St(Ie);return et(Be,We,Pe)},e.addHook=function(xe,Ie){typeof Ie=="function"&&(T[xe]=T[xe]||[],kt(T[xe],Ie))},e.removeHook=function(xe){T[xe]&&Ci(T[xe])},e.removeHooks=function(xe){T[xe]&&(T[xe]=[])},e.removeAllHooks=function(){T={}},e}var Dn=yi();define("vs/base/browser/dompurify/dompurify",function(){return Dn}),define(ne[33],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class y{constructor(w){this.domNode=w,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(w){const b=f(w);this._maxWidth!==b&&(this._maxWidth=b,this.domNode.style.maxWidth=this._maxWidth)}setWidth(w){const b=f(w);this._width!==b&&(this._width=b,this.domNode.style.width=this._width)}setHeight(w){const b=f(w);this._height!==b&&(this._height=b,this.domNode.style.height=this._height)}setTop(w){const b=f(w);this._top!==b&&(this._top=b,this.domNode.style.top=this._top)}setLeft(w){const b=f(w);this._left!==b&&(this._left=b,this.domNode.style.left=this._left)}setBottom(w){const b=f(w);this._bottom!==b&&(this._bottom=b,this.domNode.style.bottom=this._bottom)}setRight(w){const b=f(w);this._right!==b&&(this._right=b,this.domNode.style.right=this._right)}setFontFamily(w){this._fontFamily!==w&&(this._fontFamily=w,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(w){this._fontWeight!==w&&(this._fontWeight=w,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(w){const b=f(w);this._fontSize!==b&&(this._fontSize=b,this.domNode.style.fontSize=this._fontSize)}setFontStyle(w){this._fontStyle!==w&&(this._fontStyle=w,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(w){this._fontFeatureSettings!==w&&(this._fontFeatureSettings=w,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(w){this._textDecoration!==w&&(this._textDecoration=w,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(w){const b=f(w);this._lineHeight!==b&&(this._lineHeight=b,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(w){const b=f(w);this._letterSpacing!==b&&(this._letterSpacing=b,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(w){this._className!==w&&(this._className=w,this.domNode.className=this._className)}toggleClassName(w,b){this.domNode.classList.toggle(w,b),this._className=this.domNode.className}setDisplay(w){this._display!==w&&(this._display=w,this.domNode.style.display=this._display)}setPosition(w){this._position!==w&&(this._position=w,this.domNode.style.position=this._position)}setVisibility(w){this._visibility!==w&&(this._visibility=w,this.domNode.style.visibility=this._visibility)}setColor(w){this._color!==w&&(this._color=w,this.domNode.style.color=this._color)}setBackgroundColor(w){this._backgroundColor!==w&&(this._backgroundColor=w,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(w){this._layerHint!==w&&(this._layerHint=w,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(w){this._boxShadow!==w&&(this._boxShadow=w,this.domNode.style.boxShadow=w)}setContain(w){this._contain!==w&&(this._contain=w,this.domNode.style.contain=this._contain)}setAttribute(w,b){this.domNode.setAttribute(w,b)}removeAttribute(w){this.domNode.removeAttribute(w)}appendChild(w){this.domNode.appendChild(w.domNode)}removeChild(w){this.domNode.removeChild(w.domNode)}}e.FastDomNode=y;function f(D){return typeof D=="number"?`${D}px`:D}function N(D){return new y(D)}e.createFastDomNode=N}),define(ne[323],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let y=!1,f=null;function N(w){if(!w.parent||w.parent===w)return null;try{const b=w.location,v=w.parent.location;if(b.origin!=="null"&&v.origin!=="null"&&b.origin!==v.origin)return y=!0,null}catch{return y=!0,null}return w.parent}class D{static getSameOriginWindowChain(){if(!f){f=[];let b=window,v;do v=N(b),v?f.push({window:b,iframeElement:b.frameElement||null}):f.push({window:b,iframeElement:null}),b=v;while(b)}return f.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(b,v){if(!v||b===v)return{top:0,left:0};let u=0,h=0;const i=this.getSameOriginWindowChain();for(const n of i){if(u+=n.window.scrollY,h+=n.window.scrollX,n.window===v||!n.iframeElement)break;const t=n.iframeElement.getBoundingClientRect();u+=t.top,h+=t.left}return{top:u,left:h}}}e.IframeUtils=D}),define(ne[324],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class y extends Error{constructor(N,D){super(`ListError [${N}] ${D}`)}}e.ListError=y}),define(ne[325],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class y{constructor(N){this.spliceables=N}splice(N,D,w){this.spliceables.forEach(b=>b.splice(N,D,w))}}e.CombinedSpliceable=y}),define(ne[220],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const y=20;class f{constructor(D,w,b,v,u,h){this._scrollbarSize=Math.round(w),this._oppositeScrollbarSize=Math.round(b),this._arrowSize=Math.round(D),this._visibleSize=v,this._scrollSize=u,this._scrollPosition=h,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new f(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const w=Math.round(D);return this._visibleSize!==w?(this._visibleSize=w,this._refreshComputedValues(),!0):!1}setScrollSize(D){const w=Math.round(D);return this._scrollSize!==w?(this._scrollSize=w,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const w=Math.round(D);return this._scrollPosition!==w?(this._scrollPosition=w,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,w,b,v,u){const h=Math.max(0,b-D),i=Math.max(0,h-2*w),n=v>0&&v>b;if(!n)return{computedAvailableSize:Math.round(h),computedIsNeeded:n,computedSliderSize:Math.round(i),computedSliderRatio:0,computedSliderPosition:0};const t=Math.round(Math.max(y,Math.floor(b*i/v))),s=(i-t)/(v-b),l=u*s;return{computedAvailableSize:Math.round(h),computedIsNeeded:n,computedSliderSize:Math.round(t),computedSliderRatio:s,computedSliderPosition:Math.round(l)}}_refreshComputedValues(){const D=f._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const w=D-this._arrowSize-this._computedSliderSize/2;return Math.round(w/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const w=D-this._arrowSize;let b=this._scrollPosition;return w<this._computedSliderPosition?b-=this._visibleSize:b+=this._visibleSize,b}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const w=this._computedSliderPosition+D;return Math.round(w/this._computedSliderRatio)}}e.ScrollbarState=f}),define(ne[120],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var y;(function(D){D[D.Unknown=0]="Unknown",D[D.Twistie=1]="Twistie",D[D.Element=2]="Element"})(y=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class f extends Error{constructor(w,b){super(`TreeError [${w}] ${b}`)}}e.TreeError=f;class N{constructor(w){this.fn=w,this._map=new WeakMap}map(w){let b=this._map.get(w);return b||(b=this.fn(w),this._map.set(w,b)),b}}e.WeakMapper=N}),define(ne[18],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch2=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function y(R,k=0){return R[R.length-(1+k)]}e.tail=y;function f(R){if(R.length===0)throw new Error("Invalid tail call");return[R.slice(0,R.length-1),R[R.length-1]]}e.tail2=f;function N(R,k,A=(O,F)=>O===F){if(R===k)return!0;if(!R||!k||R.length!==k.length)return!1;for(let O=0,F=R.length;O<F;O++)if(!A(R[O],k[O]))return!1;return!0}e.equals=N;function D(R,k,A){return w(R.length,O=>A(R[O],k))}e.binarySearch=D;function w(R,k){let A=0,O=R-1;for(;A<=O;){const F=(A+O)/2|0,W=k(F);if(W<0)A=F+1;else if(W>0)O=F-1;else return F}return-(A+1)}e.binarySearch2=w;function b(R,k){let A=0,O=R.length;if(O===0)return 0;for(;A<O;){const F=Math.floor((A+O)/2);k(R[F])?O=F:A=F+1}return A}e.findFirstInSorted=b;function v(R,k,A){if(R=R|0,R>=k.length)throw new TypeError("invalid index");const O=k[Math.floor(k.length*Math.random())],F=[],W=[],M=[];for(const z of k){const G=A(z,O);G<0?F.push(z):G>0?W.push(z):M.push(z)}return R<F.length?v(R,F,A):R<F.length+M.length?M[0]:v(R-(F.length+M.length),W,A)}e.quickSelect=v;function u(R,k){const A=[];let O;for(const F of R.slice(0).sort(k))!O||k(O[0],F)!==0?(O=[F],A.push(O)):O.push(F);return A}e.groupBy=u;function h(R){return R.filter(k=>!!k)}e.coalesce=h;function i(R){return!Array.isArray(R)||R.length===0}e.isFalsyOrEmpty=i;function n(R){return Array.isArray(R)&&R.length>0}e.isNonEmptyArray=n;function t(R,k=A=>A){const A=new Set;return R.filter(O=>{const F=k(O);return A.has(F)?!1:(A.add(F),!0)})}e.distinct=t;function s(R,k){const A=l(R,k);if(A!==-1)return R[A]}e.findLast=s;function l(R,k){for(let A=R.length-1;A>=0;A--){const O=R[A];if(k(O))return A}return-1}e.lastIndex=l;function d(R,k){return R.length>0?R[0]:k}e.firstOrDefault=d;function a(R,k){let A=typeof k=="number"?R:0;typeof k=="number"?A=R:(A=0,k=R);const O=[];if(A<=k)for(let F=A;F<k;F++)O.push(F);else for(let F=A;F>k;F--)O.push(F);return O}e.range=a;function o(R,k,A){const O=R.slice(0,k),F=R.slice(k);return O.concat(A,F)}e.arrayInsert=o;function r(R,k){const A=R.indexOf(k);A>-1&&(R.splice(A,1),R.unshift(k))}e.pushToStart=r;function c(R,k){const A=R.indexOf(k);A>-1&&(R.splice(A,1),R.push(k))}e.pushToEnd=c;function g(R,k){for(const A of k)R.push(A)}e.pushMany=g;function m(R){return Array.isArray(R)?R:[R]}e.asArray=m;function S(R,k,A){const O=C(R,k),F=R.length,W=A.length;R.length=F+W;for(let M=F-1;M>=O;M--)R[M+W]=R[M];for(let M=0;M<W;M++)R[M+O]=A[M]}e.insertInto=S;function p(R,k,A,O){const F=C(R,k),W=R.splice(F,A);return S(R,F,O),W}e.splice=p;function C(R,k){return k<0?Math.max(k+R.length,0):Math.min(k,R.length)}var _;(function(R){function k(F){return F<0}R.isLessThan=k;function A(F){return F>0}R.isGreaterThan=A;function O(F){return F===0}R.isNeitherLessOrGreaterThan=O,R.greaterThan=1,R.lessThan=-1,R.neitherLessOrGreaterThan=0})(_=e.CompareResult||(e.CompareResult={}));function L(R,k){return(A,O)=>k(R(A),R(O))}e.compareBy=L;const E=(R,k)=>R-k;e.numberComparator=E;function I(R,k){if(R.length===0)return;let A=R[0];for(let O=1;O<R.length;O++){const F=R[O];k(F,A)>0&&(A=F)}return A}e.findMaxBy=I;function T(R,k){if(R.length===0)return;let A=R[0];for(let O=1;O<R.length;O++){const F=R[O];k(F,A)>=0&&(A=F)}return A}e.findLastMaxBy=T;function P(R,k){return I(R,(A,O)=>-k(A,O))}e.findMinBy=P;class B{constructor(k){this.items=k,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(k){let A=this.firstIdx;for(;A<this.items.length&&k(this.items[A]);)A++;const O=A===this.firstIdx?null:this.items.slice(this.firstIdx,A);return this.firstIdx=A,O}takeFromEndWhile(k){let A=this.lastIdx;for(;A>=0&&k(this.items[A]);)A--;const O=A===this.lastIdx?null:this.items.slice(A+1,this.lastIdx+1);return this.lastIdx=A,O}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const k=this.items[this.firstIdx];return this.firstIdx++,k}takeCount(k){const A=this.items.slice(this.firstIdx,this.firstIdx+k);return this.firstIdx+=k,A}}e.ArrayQueue=B}),define(ne[221],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function y(f,N){if(!f)throw new Error(N?`Assertion failed (${N})`:"Assertion Failed")}e.ok=y}),define(ne[102],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const y=typeof Buffer!="undefined";let f,N;class D{constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}static wrap(t){return y&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new D(t)}static fromString(t,s){return!((s==null?void 0:s.dontUseNodeBuffer)||!1)&&y?new D(Buffer.from(t)):(f||(f=new TextEncoder),new D(f.encode(t)))}toString(){return y?this.buffer.toString():(N||(N=new TextDecoder),N.decode(this.buffer))}}e.VSBuffer=D;function w(n,t){return n[t+0]<<0>>>0|n[t+1]<<8>>>0}e.readUInt16LE=w;function b(n,t,s){n[s+0]=t&255,t=t>>>8,n[s+1]=t&255}e.writeUInt16LE=b;function v(n,t){return n[t]*Math.pow(2,24)+n[t+1]*Math.pow(2,16)+n[t+2]*Math.pow(2,8)+n[t+3]}e.readUInt32BE=v;function u(n,t,s){n[s+3]=t,t=t>>>8,n[s+2]=t,t=t>>>8,n[s+1]=t,t=t>>>8,n[s]=t}e.writeUInt32BE=u;function h(n,t){return n[t]}e.readUInt8=h;function i(n,t,s){n[s]=t}e.writeUInt8=i}),define(ne[222],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class y{constructor(D){this.fn=D,this.lastCache=void 0,this.lastArgKey=void 0}get(D){const w=JSON.stringify(D);return this.lastArgKey!==w&&(this.lastArgKey=w,this.lastCache=this.fn(D)),this.lastCache}}e.LRUCachedFunction=y;class f{constructor(D){this.fn=D,this._map=new Map}get cachedValues(){return this._map}get(D){if(this._map.has(D))return this._map.get(D);const w=this.fn(D);return this._map.set(D,w),w}}e.CachedFunction=f}),define(ne[27],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=void 0;function y(D){return D?D.replace(/\$\((.*?)\)/g,(w,b)=>` ${b} `).trim():""}e.getCodiconAriaLabel=y;class f{constructor(w,b,v){this.id=w,this.definition=b,this.description=v,f._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return f._allCodicons}}e.Codicon=f,f._allCodicons=[],f.add=new f("add",{fontCharacter:"\\ea60"}),f.plus=new f("plus",f.add.definition),f.gistNew=new f("gist-new",f.add.definition),f.repoCreate=new f("repo-create",f.add.definition),f.lightbulb=new f("lightbulb",{fontCharacter:"\\ea61"}),f.lightBulb=new f("light-bulb",{fontCharacter:"\\ea61"}),f.repo=new f("repo",{fontCharacter:"\\ea62"}),f.repoDelete=new f("repo-delete",{fontCharacter:"\\ea62"}),f.gistFork=new f("gist-fork",{fontCharacter:"\\ea63"}),f.repoForked=new f("repo-forked",{fontCharacter:"\\ea63"}),f.gitPullRequest=new f("git-pull-request",{fontCharacter:"\\ea64"}),f.gitPullRequestAbandoned=new f("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),f.recordKeys=new f("record-keys",{fontCharacter:"\\ea65"}),f.keyboard=new f("keyboard",{fontCharacter:"\\ea65"}),f.tag=new f("tag",{fontCharacter:"\\ea66"}),f.tagAdd=new f("tag-add",{fontCharacter:"\\ea66"}),f.tagRemove=new f("tag-remove",{fontCharacter:"\\ea66"}),f.person=new f("person",{fontCharacter:"\\ea67"}),f.personFollow=new f("person-follow",{fontCharacter:"\\ea67"}),f.personOutline=new f("person-outline",{fontCharacter:"\\ea67"}),f.personFilled=new f("person-filled",{fontCharacter:"\\ea67"}),f.gitBranch=new f("git-branch",{fontCharacter:"\\ea68"}),f.gitBranchCreate=new f("git-branch-create",{fontCharacter:"\\ea68"}),f.gitBranchDelete=new f("git-branch-delete",{fontCharacter:"\\ea68"}),f.sourceControl=new f("source-control",{fontCharacter:"\\ea68"}),f.mirror=new f("mirror",{fontCharacter:"\\ea69"}),f.mirrorPublic=new f("mirror-public",{fontCharacter:"\\ea69"}),f.star=new f("star",{fontCharacter:"\\ea6a"}),f.starAdd=new f("star-add",{fontCharacter:"\\ea6a"}),f.starDelete=new f("star-delete",{fontCharacter:"\\ea6a"}),f.starEmpty=new f("star-empty",{fontCharacter:"\\ea6a"}),f.comment=new f("comment",{fontCharacter:"\\ea6b"}),f.commentAdd=new f("comment-add",{fontCharacter:"\\ea6b"}),f.alert=new f("alert",{fontCharacter:"\\ea6c"}),f.warning=new f("warning",{fontCharacter:"\\ea6c"}),f.search=new f("search",{fontCharacter:"\\ea6d"}),f.searchSave=new f("search-save",{fontCharacter:"\\ea6d"}),f.logOut=new f("log-out",{fontCharacter:"\\ea6e"}),f.signOut=new f("sign-out",{fontCharacter:"\\ea6e"}),f.logIn=new f("log-in",{fontCharacter:"\\ea6f"}),f.signIn=new f("sign-in",{fontCharacter:"\\ea6f"}),f.eye=new f("eye",{fontCharacter:"\\ea70"}),f.eyeUnwatch=new f("eye-unwatch",{fontCharacter:"\\ea70"}),f.eyeWatch=new f("eye-watch",{fontCharacter:"\\ea70"}),f.circleFilled=new f("circle-filled",{fontCharacter:"\\ea71"}),f.primitiveDot=new f("primitive-dot",{fontCharacter:"\\ea71"}),f.closeDirty=new f("close-dirty",{fontCharacter:"\\ea71"}),f.debugBreakpoint=new f("debug-breakpoint",{fontCharacter:"\\ea71"}),f.debugBreakpointDisabled=new f("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),f.debugHint=new f("debug-hint",{fontCharacter:"\\ea71"}),f.primitiveSquare=new f("primitive-square",{fontCharacter:"\\ea72"}),f.edit=new f("edit",{fontCharacter:"\\ea73"}),f.pencil=new f("pencil",{fontCharacter:"\\ea73"}),f.info=new f("info",{fontCharacter:"\\ea74"}),f.issueOpened=new f("issue-opened",{fontCharacter:"\\ea74"}),f.gistPrivate=new f("gist-private",{fontCharacter:"\\ea75"}),f.gitForkPrivate=new f("git-fork-private",{fontCharacter:"\\ea75"}),f.lock=new f("lock",{fontCharacter:"\\ea75"}),f.mirrorPrivate=new f("mirror-private",{fontCharacter:"\\ea75"}),f.close=new f("close",{fontCharacter:"\\ea76"}),f.removeClose=new f("remove-close",{fontCharacter:"\\ea76"}),f.x=new f("x",{fontCharacter:"\\ea76"}),f.repoSync=new f("repo-sync",{fontCharacter:"\\ea77"}),f.sync=new f("sync",{fontCharacter:"\\ea77"}),f.clone=new f("clone",{fontCharacter:"\\ea78"}),f.desktopDownload=new f("desktop-download",{fontCharacter:"\\ea78"}),f.beaker=new f("beaker",{fontCharacter:"\\ea79"}),f.microscope=new f("microscope",{fontCharacter:"\\ea79"}),f.vm=new f("vm",{fontCharacter:"\\ea7a"}),f.deviceDesktop=new f("device-desktop",{fontCharacter:"\\ea7a"}),f.file=new f("file",{fontCharacter:"\\ea7b"}),f.fileText=new f("file-text",{fontCharacter:"\\ea7b"}),f.more=new f("more",{fontCharacter:"\\ea7c"}),f.ellipsis=new f("ellipsis",{fontCharacter:"\\ea7c"}),f.kebabHorizontal=new f("kebab-horizontal",{fontCharacter:"\\ea7c"}),f.mailReply=new f("mail-reply",{fontCharacter:"\\ea7d"}),f.reply=new f("reply",{fontCharacter:"\\ea7d"}),f.organization=new f("organization",{fontCharacter:"\\ea7e"}),f.organizationFilled=new f("organization-filled",{fontCharacter:"\\ea7e"}),f.organizationOutline=new f("organization-outline",{fontCharacter:"\\ea7e"}),f.newFile=new f("new-file",{fontCharacter:"\\ea7f"}),f.fileAdd=new f("file-add",{fontCharacter:"\\ea7f"}),f.newFolder=new f("new-folder",{fontCharacter:"\\ea80"}),f.fileDirectoryCreate=new f("file-directory-create",{fontCharacter:"\\ea80"}),f.trash=new f("trash",{fontCharacter:"\\ea81"}),f.trashcan=new f("trashcan",{fontCharacter:"\\ea81"}),f.history=new f("history",{fontCharacter:"\\ea82"}),f.clock=new f("clock",{fontCharacter:"\\ea82"}),f.folder=new f("folder",{fontCharacter:"\\ea83"}),f.fileDirectory=new f("file-directory",{fontCharacter:"\\ea83"}),f.symbolFolder=new f("symbol-folder",{fontCharacter:"\\ea83"}),f.logoGithub=new f("logo-github",{fontCharacter:"\\ea84"}),f.markGithub=new f("mark-github",{fontCharacter:"\\ea84"}),f.github=new f("github",{fontCharacter:"\\ea84"}),f.terminal=new f("terminal",{fontCharacter:"\\ea85"}),f.console=new f("console",{fontCharacter:"\\ea85"}),f.repl=new f("repl",{fontCharacter:"\\ea85"}),f.zap=new f("zap",{fontCharacter:"\\ea86"}),f.symbolEvent=new f("symbol-event",{fontCharacter:"\\ea86"}),f.error=new f("error",{fontCharacter:"\\ea87"}),f.stop=new f("stop",{fontCharacter:"\\ea87"}),f.variable=new f("variable",{fontCharacter:"\\ea88"}),f.symbolVariable=new f("symbol-variable",{fontCharacter:"\\ea88"}),f.array=new f("array",{fontCharacter:"\\ea8a"}),f.symbolArray=new f("symbol-array",{fontCharacter:"\\ea8a"}),f.symbolModule=new f("symbol-module",{fontCharacter:"\\ea8b"}),f.symbolPackage=new f("symbol-package",{fontCharacter:"\\ea8b"}),f.symbolNamespace=new f("symbol-namespace",{fontCharacter:"\\ea8b"}),f.symbolObject=new f("symbol-object",{fontCharacter:"\\ea8b"}),f.symbolMethod=new f("symbol-method",{fontCharacter:"\\ea8c"}),f.symbolFunction=new f("symbol-function",{fontCharacter:"\\ea8c"}),f.symbolConstructor=new f("symbol-constructor",{fontCharacter:"\\ea8c"}),f.symbolBoolean=new f("symbol-boolean",{fontCharacter:"\\ea8f"}),f.symbolNull=new f("symbol-null",{fontCharacter:"\\ea8f"}),f.symbolNumeric=new f("symbol-numeric",{fontCharacter:"\\ea90"}),f.symbolNumber=new f("symbol-number",{fontCharacter:"\\ea90"}),f.symbolStructure=new f("symbol-structure",{fontCharacter:"\\ea91"}),f.symbolStruct=new f("symbol-struct",{fontCharacter:"\\ea91"}),f.symbolParameter=new f("symbol-parameter",{fontCharacter:"\\ea92"}),f.symbolTypeParameter=new f("symbol-type-parameter",{fontCharacter:"\\ea92"}),f.symbolKey=new f("symbol-key",{fontCharacter:"\\ea93"}),f.symbolText=new f("symbol-text",{fontCharacter:"\\ea93"}),f.symbolReference=new f("symbol-reference",{fontCharacter:"\\ea94"}),f.goToFile=new f("go-to-file",{fontCharacter:"\\ea94"}),f.symbolEnum=new f("symbol-enum",{fontCharacter:"\\ea95"}),f.symbolValue=new f("symbol-value",{fontCharacter:"\\ea95"}),f.symbolRuler=new f("symbol-ruler",{fontCharacter:"\\ea96"}),f.symbolUnit=new f("symbol-unit",{fontCharacter:"\\ea96"}),f.activateBreakpoints=new f("activate-breakpoints",{fontCharacter:"\\ea97"}),f.archive=new f("archive",{fontCharacter:"\\ea98"}),f.arrowBoth=new f("arrow-both",{fontCharacter:"\\ea99"}),f.arrowDown=new f("arrow-down",{fontCharacter:"\\ea9a"}),f.arrowLeft=new f("arrow-left",{fontCharacter:"\\ea9b"}),f.arrowRight=new f("arrow-right",{fontCharacter:"\\ea9c"}),f.arrowSmallDown=new f("arrow-small-down",{fontCharacter:"\\ea9d"}),f.arrowSmallLeft=new f("arrow-small-left",{fontCharacter:"\\ea9e"}),f.arrowSmallRight=new f("arrow-small-right",{fontCharacter:"\\ea9f"}),f.arrowSmallUp=new f("arrow-small-up",{fontCharacter:"\\eaa0"}),f.arrowUp=new f("arrow-up",{fontCharacter:"\\eaa1"}),f.bell=new f("bell",{fontCharacter:"\\eaa2"}),f.bold=new f("bold",{fontCharacter:"\\eaa3"}),f.book=new f("book",{fontCharacter:"\\eaa4"}),f.bookmark=new f("bookmark",{fontCharacter:"\\eaa5"}),f.debugBreakpointConditionalUnverified=new f("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),f.debugBreakpointConditional=new f("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),f.debugBreakpointConditionalDisabled=new f("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),f.debugBreakpointDataUnverified=new f("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),f.debugBreakpointData=new f("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),f.debugBreakpointDataDisabled=new f("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),f.debugBreakpointLogUnverified=new f("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),f.debugBreakpointLog=new f("debug-breakpoint-log",{fontCharacter:"\\eaab"}),f.debugBreakpointLogDisabled=new f("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),f.briefcase=new f("briefcase",{fontCharacter:"\\eaac"}),f.broadcast=new f("broadcast",{fontCharacter:"\\eaad"}),f.browser=new f("browser",{fontCharacter:"\\eaae"}),f.bug=new f("bug",{fontCharacter:"\\eaaf"}),f.calendar=new f("calendar",{fontCharacter:"\\eab0"}),f.caseSensitive=new f("case-sensitive",{fontCharacter:"\\eab1"}),f.check=new f("check",{fontCharacter:"\\eab2"}),f.checklist=new f("checklist",{fontCharacter:"\\eab3"}),f.chevronDown=new f("chevron-down",{fontCharacter:"\\eab4"}),f.dropDownButton=new f("drop-down-button",f.chevronDown.definition),f.chevronLeft=new f("chevron-left",{fontCharacter:"\\eab5"}),f.chevronRight=new f("chevron-right",{fontCharacter:"\\eab6"}),f.chevronUp=new f("chevron-up",{fontCharacter:"\\eab7"}),f.chromeClose=new f("chrome-close",{fontCharacter:"\\eab8"}),f.chromeMaximize=new f("chrome-maximize",{fontCharacter:"\\eab9"}),f.chromeMinimize=new f("chrome-minimize",{fontCharacter:"\\eaba"}),f.chromeRestore=new f("chrome-restore",{fontCharacter:"\\eabb"}),f.circleOutline=new f("circle-outline",{fontCharacter:"\\eabc"}),f.debugBreakpointUnverified=new f("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),f.circleSlash=new f("circle-slash",{fontCharacter:"\\eabd"}),f.circuitBoard=new f("circuit-board",{fontCharacter:"\\eabe"}),f.clearAll=new f("clear-all",{fontCharacter:"\\eabf"}),f.clippy=new f("clippy",{fontCharacter:"\\eac0"}),f.closeAll=new f("close-all",{fontCharacter:"\\eac1"}),f.cloudDownload=new f("cloud-download",{fontCharacter:"\\eac2"}),f.cloudUpload=new f("cloud-upload",{fontCharacter:"\\eac3"}),f.code=new f("code",{fontCharacter:"\\eac4"}),f.collapseAll=new f("collapse-all",{fontCharacter:"\\eac5"}),f.colorMode=new f("color-mode",{fontCharacter:"\\eac6"}),f.commentDiscussion=new f("comment-discussion",{fontCharacter:"\\eac7"}),f.compareChanges=new f("compare-changes",{fontCharacter:"\\eafd"}),f.creditCard=new f("credit-card",{fontCharacter:"\\eac9"}),f.dash=new f("dash",{fontCharacter:"\\eacc"}),f.dashboard=new f("dashboard",{fontCharacter:"\\eacd"}),f.database=new f("database",{fontCharacter:"\\eace"}),f.debugContinue=new f("debug-continue",{fontCharacter:"\\eacf"}),f.debugDisconnect=new f("debug-disconnect",{fontCharacter:"\\ead0"}),f.debugPause=new f("debug-pause",{fontCharacter:"\\ead1"}),f.debugRestart=new f("debug-restart",{fontCharacter:"\\ead2"}),f.debugStart=new f("debug-start",{fontCharacter:"\\ead3"}),f.debugStepInto=new f("debug-step-into",{fontCharacter:"\\ead4"}),f.debugStepOut=new f("debug-step-out",{fontCharacter:"\\ead5"}),f.debugStepOver=new f("debug-step-over",{fontCharacter:"\\ead6"}),f.debugStop=new f("debug-stop",{fontCharacter:"\\ead7"}),f.debug=new f("debug",{fontCharacter:"\\ead8"}),f.deviceCameraVideo=new f("device-camera-video",{fontCharacter:"\\ead9"}),f.deviceCamera=new f("device-camera",{fontCharacter:"\\eada"}),f.deviceMobile=new f("device-mobile",{fontCharacter:"\\eadb"}),f.diffAdded=new f("diff-added",{fontCharacter:"\\eadc"}),f.diffIgnored=new f("diff-ignored",{fontCharacter:"\\eadd"}),f.diffModified=new f("diff-modified",{fontCharacter:"\\eade"}),f.diffRemoved=new f("diff-removed",{fontCharacter:"\\eadf"}),f.diffRenamed=new f("diff-renamed",{fontCharacter:"\\eae0"}),f.diff=new f("diff",{fontCharacter:"\\eae1"}),f.discard=new f("discard",{fontCharacter:"\\eae2"}),f.editorLayout=new f("editor-layout",{fontCharacter:"\\eae3"}),f.emptyWindow=new f("empty-window",{fontCharacter:"\\eae4"}),f.exclude=new f("exclude",{fontCharacter:"\\eae5"}),f.extensions=new f("extensions",{fontCharacter:"\\eae6"}),f.eyeClosed=new f("eye-closed",{fontCharacter:"\\eae7"}),f.fileBinary=new f("file-binary",{fontCharacter:"\\eae8"}),f.fileCode=new f("file-code",{fontCharacter:"\\eae9"}),f.fileMedia=new f("file-media",{fontCharacter:"\\eaea"}),f.filePdf=new f("file-pdf",{fontCharacter:"\\eaeb"}),f.fileSubmodule=new f("file-submodule",{fontCharacter:"\\eaec"}),f.fileSymlinkDirectory=new f("file-symlink-directory",{fontCharacter:"\\eaed"}),f.fileSymlinkFile=new f("file-symlink-file",{fontCharacter:"\\eaee"}),f.fileZip=new f("file-zip",{fontCharacter:"\\eaef"}),f.files=new f("files",{fontCharacter:"\\eaf0"}),f.filter=new f("filter",{fontCharacter:"\\eaf1"}),f.flame=new f("flame",{fontCharacter:"\\eaf2"}),f.foldDown=new f("fold-down",{fontCharacter:"\\eaf3"}),f.foldUp=new f("fold-up",{fontCharacter:"\\eaf4"}),f.fold=new f("fold",{fontCharacter:"\\eaf5"}),f.folderActive=new f("folder-active",{fontCharacter:"\\eaf6"}),f.folderOpened=new f("folder-opened",{fontCharacter:"\\eaf7"}),f.gear=new f("gear",{fontCharacter:"\\eaf8"}),f.gift=new f("gift",{fontCharacter:"\\eaf9"}),f.gistSecret=new f("gist-secret",{fontCharacter:"\\eafa"}),f.gist=new f("gist",{fontCharacter:"\\eafb"}),f.gitCommit=new f("git-commit",{fontCharacter:"\\eafc"}),f.gitCompare=new f("git-compare",{fontCharacter:"\\eafd"}),f.gitMerge=new f("git-merge",{fontCharacter:"\\eafe"}),f.githubAction=new f("github-action",{fontCharacter:"\\eaff"}),f.githubAlt=new f("github-alt",{fontCharacter:"\\eb00"}),f.globe=new f("globe",{fontCharacter:"\\eb01"}),f.grabber=new f("grabber",{fontCharacter:"\\eb02"}),f.graph=new f("graph",{fontCharacter:"\\eb03"}),f.gripper=new f("gripper",{fontCharacter:"\\eb04"}),f.heart=new f("heart",{fontCharacter:"\\eb05"}),f.home=new f("home",{fontCharacter:"\\eb06"}),f.horizontalRule=new f("horizontal-rule",{fontCharacter:"\\eb07"}),f.hubot=new f("hubot",{fontCharacter:"\\eb08"}),f.inbox=new f("inbox",{fontCharacter:"\\eb09"}),f.issueClosed=new f("issue-closed",{fontCharacter:"\\eba4"}),f.issueReopened=new f("issue-reopened",{fontCharacter:"\\eb0b"}),f.issues=new f("issues",{fontCharacter:"\\eb0c"}),f.italic=new f("italic",{fontCharacter:"\\eb0d"}),f.jersey=new f("jersey",{fontCharacter:"\\eb0e"}),f.json=new f("json",{fontCharacter:"\\eb0f"}),f.kebabVertical=new f("kebab-vertical",{fontCharacter:"\\eb10"}),f.key=new f("key",{fontCharacter:"\\eb11"}),f.law=new f("law",{fontCharacter:"\\eb12"}),f.lightbulbAutofix=new f("lightbulb-autofix",{fontCharacter:"\\eb13"}),f.linkExternal=new f("link-external",{fontCharacter:"\\eb14"}),f.link=new f("link",{fontCharacter:"\\eb15"}),f.listOrdered=new f("list-ordered",{fontCharacter:"\\eb16"}),f.listUnordered=new f("list-unordered",{fontCharacter:"\\eb17"}),f.liveShare=new f("live-share",{fontCharacter:"\\eb18"}),f.loading=new f("loading",{fontCharacter:"\\eb19"}),f.location=new f("location",{fontCharacter:"\\eb1a"}),f.mailRead=new f("mail-read",{fontCharacter:"\\eb1b"}),f.mail=new f("mail",{fontCharacter:"\\eb1c"}),f.markdown=new f("markdown",{fontCharacter:"\\eb1d"}),f.megaphone=new f("megaphone",{fontCharacter:"\\eb1e"}),f.mention=new f("mention",{fontCharacter:"\\eb1f"}),f.milestone=new f("milestone",{fontCharacter:"\\eb20"}),f.mortarBoard=new f("mortar-board",{fontCharacter:"\\eb21"}),f.move=new f("move",{fontCharacter:"\\eb22"}),f.multipleWindows=new f("multiple-windows",{fontCharacter:"\\eb23"}),f.mute=new f("mute",{fontCharacter:"\\eb24"}),f.noNewline=new f("no-newline",{fontCharacter:"\\eb25"}),f.note=new f("note",{fontCharacter:"\\eb26"}),f.octoface=new f("octoface",{fontCharacter:"\\eb27"}),f.openPreview=new f("open-preview",{fontCharacter:"\\eb28"}),f.package_=new f("package",{fontCharacter:"\\eb29"}),f.paintcan=new f("paintcan",{fontCharacter:"\\eb2a"}),f.pin=new f("pin",{fontCharacter:"\\eb2b"}),f.play=new f("play",{fontCharacter:"\\eb2c"}),f.run=new f("run",{fontCharacter:"\\eb2c"}),f.plug=new f("plug",{fontCharacter:"\\eb2d"}),f.preserveCase=new f("preserve-case",{fontCharacter:"\\eb2e"}),f.preview=new f("preview",{fontCharacter:"\\eb2f"}),f.project=new f("project",{fontCharacter:"\\eb30"}),f.pulse=new f("pulse",{fontCharacter:"\\eb31"}),f.question=new f("question",{fontCharacter:"\\eb32"}),f.quote=new f("quote",{fontCharacter:"\\eb33"}),f.radioTower=new f("radio-tower",{fontCharacter:"\\eb34"}),f.reactions=new f("reactions",{fontCharacter:"\\eb35"}),f.references=new f("references",{fontCharacter:"\\eb36"}),f.refresh=new f("refresh",{fontCharacter:"\\eb37"}),f.regex=new f("regex",{fontCharacter:"\\eb38"}),f.remoteExplorer=new f("remote-explorer",{fontCharacter:"\\eb39"}),f.remote=new f("remote",{fontCharacter:"\\eb3a"}),f.remove=new f("remove",{fontCharacter:"\\eb3b"}),f.replaceAll=new f("replace-all",{fontCharacter:"\\eb3c"}),f.replace=new f("replace",{fontCharacter:"\\eb3d"}),f.repoClone=new f("repo-clone",{fontCharacter:"\\eb3e"}),f.repoForcePush=new f("repo-force-push",{fontCharacter:"\\eb3f"}),f.repoPull=new f("repo-pull",{fontCharacter:"\\eb40"}),f.repoPush=new f("repo-push",{fontCharacter:"\\eb41"}),f.report=new f("report",{fontCharacter:"\\eb42"}),f.requestChanges=new f("request-changes",{fontCharacter:"\\eb43"}),f.rocket=new f("rocket",{fontCharacter:"\\eb44"}),f.rootFolderOpened=new f("root-folder-opened",{fontCharacter:"\\eb45"}),f.rootFolder=new f("root-folder",{fontCharacter:"\\eb46"}),f.rss=new f("rss",{fontCharacter:"\\eb47"}),f.ruby=new f("ruby",{fontCharacter:"\\eb48"}),f.saveAll=new f("save-all",{fontCharacter:"\\eb49"}),f.saveAs=new f("save-as",{fontCharacter:"\\eb4a"}),f.save=new f("save",{fontCharacter:"\\eb4b"}),f.screenFull=new f("screen-full",{fontCharacter:"\\eb4c"}),f.screenNormal=new f("screen-normal",{fontCharacter:"\\eb4d"}),f.searchStop=new f("search-stop",{fontCharacter:"\\eb4e"}),f.server=new f("server",{fontCharacter:"\\eb50"}),f.settingsGear=new f("settings-gear",{fontCharacter:"\\eb51"}),f.settings=new f("settings",{fontCharacter:"\\eb52"}),f.shield=new f("shield",{fontCharacter:"\\eb53"}),f.smiley=new f("smiley",{fontCharacter:"\\eb54"}),f.sortPrecedence=new f("sort-precedence",{fontCharacter:"\\eb55"}),f.splitHorizontal=new f("split-horizontal",{fontCharacter:"\\eb56"}),f.splitVertical=new f("split-vertical",{fontCharacter:"\\eb57"}),f.squirrel=new f("squirrel",{fontCharacter:"\\eb58"}),f.starFull=new f("star-full",{fontCharacter:"\\eb59"}),f.starHalf=new f("star-half",{fontCharacter:"\\eb5a"}),f.symbolClass=new f("symbol-class",{fontCharacter:"\\eb5b"}),f.symbolColor=new f("symbol-color",{fontCharacter:"\\eb5c"}),f.symbolCustomColor=new f("symbol-customcolor",{fontCharacter:"\\eb5c"}),f.symbolConstant=new f("symbol-constant",{fontCharacter:"\\eb5d"}),f.symbolEnumMember=new f("symbol-enum-member",{fontCharacter:"\\eb5e"}),f.symbolField=new f("symbol-field",{fontCharacter:"\\eb5f"}),f.symbolFile=new f("symbol-file",{fontCharacter:"\\eb60"}),f.symbolInterface=new f("symbol-interface",{fontCharacter:"\\eb61"}),f.symbolKeyword=new f("symbol-keyword",{fontCharacter:"\\eb62"}),f.symbolMisc=new f("symbol-misc",{fontCharacter:"\\eb63"}),f.symbolOperator=new f("symbol-operator",{fontCharacter:"\\eb64"}),f.symbolProperty=new f("symbol-property",{fontCharacter:"\\eb65"}),f.wrench=new f("wrench",{fontCharacter:"\\eb65"}),f.wrenchSubaction=new f("wrench-subaction",{fontCharacter:"\\eb65"}),f.symbolSnippet=new f("symbol-snippet",{fontCharacter:"\\eb66"}),f.tasklist=new f("tasklist",{fontCharacter:"\\eb67"}),f.telescope=new f("telescope",{fontCharacter:"\\eb68"}),f.textSize=new f("text-size",{fontCharacter:"\\eb69"}),f.threeBars=new f("three-bars",{fontCharacter:"\\eb6a"}),f.thumbsdown=new f("thumbsdown",{fontCharacter:"\\eb6b"}),f.thumbsup=new f("thumbsup",{fontCharacter:"\\eb6c"}),f.tools=new f("tools",{fontCharacter:"\\eb6d"}),f.triangleDown=new f("triangle-down",{fontCharacter:"\\eb6e"}),f.triangleLeft=new f("triangle-left",{fontCharacter:"\\eb6f"}),f.triangleRight=new f("triangle-right",{fontCharacter:"\\eb70"}),f.triangleUp=new f("triangle-up",{fontCharacter:"\\eb71"}),f.twitter=new f("twitter",{fontCharacter:"\\eb72"}),f.unfold=new f("unfold",{fontCharacter:"\\eb73"}),f.unlock=new f("unlock",{fontCharacter:"\\eb74"}),f.unmute=new f("unmute",{fontCharacter:"\\eb75"}),f.unverified=new f("unverified",{fontCharacter:"\\eb76"}),f.verified=new f("verified",{fontCharacter:"\\eb77"}),f.versions=new f("versions",{fontCharacter:"\\eb78"}),f.vmActive=new f("vm-active",{fontCharacter:"\\eb79"}),f.vmOutline=new f("vm-outline",{fontCharacter:"\\eb7a"}),f.vmRunning=new f("vm-running",{fontCharacter:"\\eb7b"}),f.watch=new f("watch",{fontCharacter:"\\eb7c"}),f.whitespace=new f("whitespace",{fontCharacter:"\\eb7d"}),f.wholeWord=new f("whole-word",{fontCharacter:"\\eb7e"}),f.window=new f("window",{fontCharacter:"\\eb7f"}),f.wordWrap=new f("word-wrap",{fontCharacter:"\\eb80"}),f.zoomIn=new f("zoom-in",{fontCharacter:"\\eb81"}),f.zoomOut=new f("zoom-out",{fontCharacter:"\\eb82"}),f.listFilter=new f("list-filter",{fontCharacter:"\\eb83"}),f.listFlat=new f("list-flat",{fontCharacter:"\\eb84"}),f.listSelection=new f("list-selection",{fontCharacter:"\\eb85"}),f.selection=new f("selection",{fontCharacter:"\\eb85"}),f.listTree=new f("list-tree",{fontCharacter:"\\eb86"}),f.debugBreakpointFunctionUnverified=new f("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),f.debugBreakpointFunction=new f("debug-breakpoint-function",{fontCharacter:"\\eb88"}),f.debugBreakpointFunctionDisabled=new f("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),f.debugStackframeActive=new f("debug-stackframe-active",{fontCharacter:"\\eb89"}),f.debugStackframeDot=new f("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),f.debugStackframe=new f("debug-stackframe",{fontCharacter:"\\eb8b"}),f.debugStackframeFocused=new f("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),f.debugBreakpointUnsupported=new f("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),f.symbolString=new f("symbol-string",{fontCharacter:"\\eb8d"}),f.debugReverseContinue=new f("debug-reverse-continue",{fontCharacter:"\\eb8e"}),f.debugStepBack=new f("debug-step-back",{fontCharacter:"\\eb8f"}),f.debugRestartFrame=new f("debug-restart-frame",{fontCharacter:"\\eb90"}),f.callIncoming=new f("call-incoming",{fontCharacter:"\\eb92"}),f.callOutgoing=new f("call-outgoing",{fontCharacter:"\\eb93"}),f.menu=new f("menu",{fontCharacter:"\\eb94"}),f.expandAll=new f("expand-all",{fontCharacter:"\\eb95"}),f.feedback=new f("feedback",{fontCharacter:"\\eb96"}),f.groupByRefType=new f("group-by-ref-type",{fontCharacter:"\\eb97"}),f.ungroupByRefType=new f("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),f.account=new f("account",{fontCharacter:"\\eb99"}),f.bellDot=new f("bell-dot",{fontCharacter:"\\eb9a"}),f.debugConsole=new f("debug-console",{fontCharacter:"\\eb9b"}),f.library=new f("library",{fontCharacter:"\\eb9c"}),f.output=new f("output",{fontCharacter:"\\eb9d"}),f.runAll=new f("run-all",{fontCharacter:"\\eb9e"}),f.syncIgnored=new f("sync-ignored",{fontCharacter:"\\eb9f"}),f.pinned=new f("pinned",{fontCharacter:"\\eba0"}),f.githubInverted=new f("github-inverted",{fontCharacter:"\\eba1"}),f.debugAlt=new f("debug-alt",{fontCharacter:"\\eb91"}),f.serverProcess=new f("server-process",{fontCharacter:"\\eba2"}),f.serverEnvironment=new f("server-environment",{fontCharacter:"\\eba3"}),f.pass=new f("pass",{fontCharacter:"\\eba4"}),f.stopCircle=new f("stop-circle",{fontCharacter:"\\eba5"}),f.playCircle=new f("play-circle",{fontCharacter:"\\eba6"}),f.record=new f("record",{fontCharacter:"\\eba7"}),f.debugAltSmall=new f("debug-alt-small",{fontCharacter:"\\eba8"}),f.vmConnect=new f("vm-connect",{fontCharacter:"\\eba9"}),f.cloud=new f("cloud",{fontCharacter:"\\ebaa"}),f.merge=new f("merge",{fontCharacter:"\\ebab"}),f.exportIcon=new f("export",{fontCharacter:"\\ebac"}),f.graphLeft=new f("graph-left",{fontCharacter:"\\ebad"}),f.magnet=new f("magnet",{fontCharacter:"\\ebae"}),f.notebook=new f("notebook",{fontCharacter:"\\ebaf"}),f.redo=new f("redo",{fontCharacter:"\\ebb0"}),f.checkAll=new f("check-all",{fontCharacter:"\\ebb1"}),f.pinnedDirty=new f("pinned-dirty",{fontCharacter:"\\ebb2"}),f.passFilled=new f("pass-filled",{fontCharacter:"\\ebb3"}),f.circleLargeFilled=new f("circle-large-filled",{fontCharacter:"\\ebb4"}),f.circleLargeOutline=new f("circle-large-outline",{fontCharacter:"\\ebb5"}),f.combine=new f("combine",{fontCharacter:"\\ebb6"}),f.gather=new f("gather",{fontCharacter:"\\ebb6"}),f.table=new f("table",{fontCharacter:"\\ebb7"}),f.variableGroup=new f("variable-group",{fontCharacter:"\\ebb8"}),f.typeHierarchy=new f("type-hierarchy",{fontCharacter:"\\ebb9"}),f.typeHierarchySub=new f("type-hierarchy-sub",{fontCharacter:"\\ebba"}),f.typeHierarchySuper=new f("type-hierarchy-super",{fontCharacter:"\\ebbb"}),f.gitPullRequestCreate=new f("git-pull-request-create",{fontCharacter:"\\ebbc"}),f.runAbove=new f("run-above",{fontCharacter:"\\ebbd"}),f.runBelow=new f("run-below",{fontCharacter:"\\ebbe"}),f.notebookTemplate=new f("notebook-template",{fontCharacter:"\\ebbf"}),f.debugRerun=new f("debug-rerun",{fontCharacter:"\\ebc0"}),f.workspaceTrusted=new f("workspace-trusted",{fontCharacter:"\\ebc1"}),f.workspaceUntrusted=new f("workspace-untrusted",{fontCharacter:"\\ebc2"}),f.workspaceUnspecified=new f("workspace-unspecified",{fontCharacter:"\\ebc3"}),f.terminalCmd=new f("terminal-cmd",{fontCharacter:"\\ebc4"}),f.terminalDebian=new f("terminal-debian",{fontCharacter:"\\ebc5"}),f.terminalLinux=new f("terminal-linux",{fontCharacter:"\\ebc6"}),f.terminalPowershell=new f("terminal-powershell",{fontCharacter:"\\ebc7"}),f.terminalTmux=new f("terminal-tmux",{fontCharacter:"\\ebc8"}),f.terminalUbuntu=new f("terminal-ubuntu",{fontCharacter:"\\ebc9"}),f.terminalBash=new f("terminal-bash",{fontCharacter:"\\ebca"}),f.arrowSwap=new f("arrow-swap",{fontCharacter:"\\ebcb"}),f.copy=new f("copy",{fontCharacter:"\\ebcc"}),f.personAdd=new f("person-add",{fontCharacter:"\\ebcd"}),f.filterFilled=new f("filter-filled",{fontCharacter:"\\ebce"}),f.wand=new f("wand",{fontCharacter:"\\ebcf"}),f.debugLineByLine=new f("debug-line-by-line",{fontCharacter:"\\ebd0"}),f.inspect=new f("inspect",{fontCharacter:"\\ebd1"}),f.layers=new f("layers",{fontCharacter:"\\ebd2"}),f.layersDot=new f("layers-dot",{fontCharacter:"\\ebd3"}),f.layersActive=new f("layers-active",{fontCharacter:"\\ebd4"}),f.compass=new f("compass",{fontCharacter:"\\ebd5"}),f.compassDot=new f("compass-dot",{fontCharacter:"\\ebd6"}),f.compassActive=new f("compass-active",{fontCharacter:"\\ebd7"}),f.azure=new f("azure",{fontCharacter:"\\ebd8"}),f.issueDraft=new f("issue-draft",{fontCharacter:"\\ebd9"}),f.gitPullRequestClosed=new f("git-pull-request-closed",{fontCharacter:"\\ebda"}),f.gitPullRequestDraft=new f("git-pull-request-draft",{fontCharacter:"\\ebdb"}),f.debugAll=new f("debug-all",{fontCharacter:"\\ebdc"}),f.debugCoverage=new f("debug-coverage",{fontCharacter:"\\ebdd"}),f.runErrors=new f("run-errors",{fontCharacter:"\\ebde"}),f.folderLibrary=new f("folder-library",{fontCharacter:"\\ebdf"}),f.debugContinueSmall=new f("debug-continue-small",{fontCharacter:"\\ebe0"}),f.beakerStop=new f("beaker-stop",{fontCharacter:"\\ebe1"}),f.graphLine=new f("graph-line",{fontCharacter:"\\ebe2"}),f.graphScatter=new f("graph-scatter",{fontCharacter:"\\ebe3"}),f.pieChart=new f("pie-chart",{fontCharacter:"\\ebe4"}),f.bracket=new f("bracket",f.json.definition),f.bracketDot=new f("bracket-dot",{fontCharacter:"\\ebe5"}),f.bracketError=new f("bracket-error",{fontCharacter:"\\ebe6"}),f.lockSmall=new f("lock-small",{fontCharacter:"\\ebe7"}),f.azureDevops=new f("azure-devops",{fontCharacter:"\\ebe8"}),f.verifiedFilled=new f("verified-filled",{fontCharacter:"\\ebe9"}),f.newLine=new f("newline",{fontCharacter:"\\ebea"}),f.layout=new f("layout",{fontCharacter:"\\ebeb"}),f.layoutActivitybarLeft=new f("layout-activitybar-left",{fontCharacter:"\\ebec"}),f.layoutActivitybarRight=new f("layout-activitybar-right",{fontCharacter:"\\ebed"}),f.layoutPanelLeft=new f("layout-panel-left",{fontCharacter:"\\ebee"}),f.layoutPanelCenter=new f("layout-panel-center",{fontCharacter:"\\ebef"}),f.layoutPanelJustify=new f("layout-panel-justify",{fontCharacter:"\\ebf0"}),f.layoutPanelRight=new f("layout-panel-right",{fontCharacter:"\\ebf1"}),f.layoutPanel=new f("layout-panel",{fontCharacter:"\\ebf2"}),f.layoutSidebarLeft=new f("layout-sidebar-left",{fontCharacter:"\\ebf3"}),f.layoutSidebarRight=new f("layout-sidebar-right",{fontCharacter:"\\ebf4"}),f.layoutStatusbar=new f("layout-statusbar",{fontCharacter:"\\ebf5"}),f.layoutMenubar=new f("layout-menubar",{fontCharacter:"\\ebf6"}),f.layoutCentered=new f("layout-centered",{fontCharacter:"\\ebf7"}),f.layoutSidebarRightOff=new f("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),f.layoutPanelOff=new f("layout-panel-off",{fontCharacter:"\\ec01"}),f.layoutSidebarLeftOff=new f("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),f.target=new f("target",{fontCharacter:"\\ebf8"}),f.indent=new f("indent",{fontCharacter:"\\ebf9"}),f.recordSmall=new f("record-small",{fontCharacter:"\\ebfa"}),f.errorSmall=new f("error-small",{fontCharacter:"\\ebfb"}),f.arrowCircleDown=new f("arrow-circle-down",{fontCharacter:"\\ebfc"}),f.arrowCircleLeft=new f("arrow-circle-left",{fontCharacter:"\\ebfd"}),f.arrowCircleRight=new f("arrow-circle-right",{fontCharacter:"\\ebfe"}),f.arrowCircleUp=new f("arrow-circle-up",{fontCharacter:"\\ebff"}),f.dialogError=new f("dialog-error",f.error.definition),f.dialogWarning=new f("dialog-warning",f.warning.definition),f.dialogInfo=new f("dialog-info",f.info.definition),f.dialogClose=new f("dialog-close",f.close.definition),f.treeItemExpanded=new f("tree-item-expanded",f.chevronDown.definition),f.treeFilterOnTypeOn=new f("tree-filter-on-type-on",f.listFilter.definition),f.treeFilterOnTypeOff=new f("tree-filter-on-type-off",f.listSelection.definition),f.treeFilterClear=new f("tree-filter-clear",f.close.definition),f.treeItemLoading=new f("tree-item-loading",f.loading.definition),f.menuSelection=new f("menu-selection",f.check.definition),f.menuSubmenu=new f("menu-submenu",f.chevronRight.definition),f.menuBarMore=new f("menubar-more",f.more.definition),f.scrollbarButtonLeft=new f("scrollbar-button-left",f.triangleLeft.definition),f.scrollbarButtonRight=new f("scrollbar-button-right",f.triangleRight.definition),f.scrollbarButtonUp=new f("scrollbar-button-up",f.triangleUp.definition),f.scrollbarButtonDown=new f("scrollbar-button-down",f.triangleDown.definition),f.toolBarMore=new f("toolbar-more",f.more.definition),f.quickInputBack=new f("quick-input-back",f.arrowLeft.definition);var N;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const w=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function b(h){if(h instanceof f)return["codicon","codicon-"+h.id];const i=w.exec(h.id);if(!i)return b(f.error);const[,n,t]=i,s=["codicon","codicon-"+n];return t&&s.push("codicon-modifier-"+t.substr(1)),s}D.asClassNameArray=b;function v(h){return b(h).join(" ")}D.asClassName=v;function u(h){return"."+b(h).join(".")}D.asCSSSelector=u})(N=e.CSSIcon||(e.CSSIcon={}))}),define(ne[223],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const y=Object.prototype.hasOwnProperty;function f(D,w){for(const b in D)if(y.call(D,b)&&w({key:b,value:D[b]},function(){delete D[b]})===!1)return}e.forEach=f;class N{constructor(){this.map=new Map}add(w,b){let v=this.map.get(w);v||(v=new Set,this.map.set(w,v)),v.add(b)}delete(w,b){const v=this.map.get(w);!v||(v.delete(b),v.size===0&&this.map.delete(w))}forEach(w,b){const v=this.map.get(w);!v||v.forEach(b)}}e.SetMap=N}),define(ne[31],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function y(b,v){const u=Math.pow(10,v);return Math.round(b*u)/u}class f{constructor(v,u,h,i=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,v))|0,this.g=Math.min(255,Math.max(0,u))|0,this.b=Math.min(255,Math.max(0,h))|0,this.a=y(Math.max(Math.min(1,i),0),3)}static equals(v,u){return v.r===u.r&&v.g===u.g&&v.b===u.b&&v.a===u.a}}e.RGBA=f;class N{constructor(v,u,h,i){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=y(Math.max(Math.min(1,u),0),3),this.l=y(Math.max(Math.min(1,h),0),3),this.a=y(Math.max(Math.min(1,i),0),3)}static equals(v,u){return v.h===u.h&&v.s===u.s&&v.l===u.l&&v.a===u.a}static fromRGBA(v){const u=v.r/255,h=v.g/255,i=v.b/255,n=v.a,t=Math.max(u,h,i),s=Math.min(u,h,i);let l=0,d=0;const a=(s+t)/2,o=t-s;if(o>0){switch(d=Math.min(a<=.5?o/(2*a):o/(2-2*a),1),t){case u:l=(h-i)/o+(h<i?6:0);break;case h:l=(i-u)/o+2;break;case i:l=(u-h)/o+4;break}l*=60,l=Math.round(l)}return new N(l,d,a,n)}static _hue2rgb(v,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?v+(u-v)*6*h:h<1/2?u:h<2/3?v+(u-v)*(2/3-h)*6:v}static toRGBA(v){const u=v.h/360,{s:h,l:i,a:n}=v;let t,s,l;if(h===0)t=s=l=i;else{const d=i<.5?i*(1+h):i+h-i*h,a=2*i-d;t=N._hue2rgb(a,d,u+1/3),s=N._hue2rgb(a,d,u),l=N._hue2rgb(a,d,u-1/3)}return new f(Math.round(t*255),Math.round(s*255),Math.round(l*255),n)}}e.HSLA=N;class D{constructor(v,u,h,i){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=y(Math.max(Math.min(1,u),0),3),this.v=y(Math.max(Math.min(1,h),0),3),this.a=y(Math.max(Math.min(1,i),0),3)}static equals(v,u){return v.h===u.h&&v.s===u.s&&v.v===u.v&&v.a===u.a}static fromRGBA(v){const u=v.r/255,h=v.g/255,i=v.b/255,n=Math.max(u,h,i),t=Math.min(u,h,i),s=n-t,l=n===0?0:s/n;let d;return s===0?d=0:n===u?d=((h-i)/s%6+6)%6:n===h?d=(i-u)/s+2:d=(u-h)/s+4,new D(Math.round(d*60),l,n,v.a)}static toRGBA(v){const{h:u,s:h,v:i,a:n}=v,t=i*h,s=t*(1-Math.abs(u/60%2-1)),l=i-t;let[d,a,o]=[0,0,0];return u<60?(d=t,a=s):u<120?(d=s,a=t):u<180?(a=t,o=s):u<240?(a=s,o=t):u<300?(d=s,o=t):u<=360&&(d=t,o=s),d=Math.round((d+l)*255),a=Math.round((a+l)*255),o=Math.round((o+l)*255),new f(d,a,o,n)}}e.HSVA=D;class w{constructor(v){if(v)if(v instanceof f)this.rgba=v;else if(v instanceof N)this._hsla=v,this.rgba=N.toRGBA(v);else if(v instanceof D)this._hsva=v,this.rgba=D.toRGBA(v);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(v){return w.Format.CSS.parseHex(v)||w.red}get hsla(){return this._hsla?this._hsla:N.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}equals(v){return!!v&&f.equals(this.rgba,v.rgba)&&N.equals(this.hsla,v.hsla)&&D.equals(this.hsva,v.hsva)}getRelativeLuminance(){const v=w._relativeLuminanceForComponent(this.rgba.r),u=w._relativeLuminanceForComponent(this.rgba.g),h=w._relativeLuminanceForComponent(this.rgba.b),i=.2126*v+.7152*u+.0722*h;return y(i,4)}static _relativeLuminanceForComponent(v){const u=v/255;return u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(v){const u=this.getRelativeLuminance(),h=v.getRelativeLuminance();return u>h}isDarkerThan(v){const u=this.getRelativeLuminance(),h=v.getRelativeLuminance();return u<h}lighten(v){return new w(new N(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*v,this.hsla.a))}darken(v){return new w(new N(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*v,this.hsla.a))}transparent(v){const{r:u,g:h,b:i,a:n}=this.rgba;return new w(new f(u,h,i,n*v))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new w(new f(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=w.Format.CSS.format(this)),this._toString}static getLighterColor(v,u,h){if(v.isLighterThan(u))return v;h=h||.5;const i=v.getRelativeLuminance(),n=u.getRelativeLuminance();return h=h*(n-i)/n,v.lighten(h)}static getDarkerColor(v,u,h){if(v.isDarkerThan(u))return v;h=h||.5;const i=v.getRelativeLuminance(),n=u.getRelativeLuminance();return h=h*(i-n)/i,v.darken(h)}}e.Color=w,w.white=new w(new f(255,255,255,1)),w.black=new w(new f(0,0,0,1)),w.red=new w(new f(255,0,0,1)),w.blue=new w(new f(0,0,255,1)),w.green=new w(new f(0,255,0,1)),w.cyan=new w(new f(0,255,255,1)),w.lightgrey=new w(new f(211,211,211,1)),w.transparent=new w(new f(0,0,0,0)),function(b){let v;(function(u){let h;(function(i){function n(m){return m.rgba.a===1?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:b.Format.CSS.formatRGBA(m)}i.formatRGB=n;function t(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`}i.formatRGBA=t;function s(m){return m.hsla.a===1?`hsl(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%)`:b.Format.CSS.formatHSLA(m)}i.formatHSL=s;function l(m){return`hsla(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`}i.formatHSLA=l;function d(m){const S=m.toString(16);return S.length!==2?"0"+S:S}function a(m){return`#${d(m.rgba.r)}${d(m.rgba.g)}${d(m.rgba.b)}`}i.formatHex=a;function o(m,S=!1){return S&&m.rgba.a===1?b.Format.CSS.formatHex(m):`#${d(m.rgba.r)}${d(m.rgba.g)}${d(m.rgba.b)}${d(Math.round(m.rgba.a*255))}`}i.formatHexA=o;function r(m){return m.isOpaque()?b.Format.CSS.formatHex(m):b.Format.CSS.formatRGBA(m)}i.format=r;function c(m){const S=m.length;if(S===0||m.charCodeAt(0)!==35)return null;if(S===7){const p=16*g(m.charCodeAt(1))+g(m.charCodeAt(2)),C=16*g(m.charCodeAt(3))+g(m.charCodeAt(4)),_=16*g(m.charCodeAt(5))+g(m.charCodeAt(6));return new b(new f(p,C,_,1))}if(S===9){const p=16*g(m.charCodeAt(1))+g(m.charCodeAt(2)),C=16*g(m.charCodeAt(3))+g(m.charCodeAt(4)),_=16*g(m.charCodeAt(5))+g(m.charCodeAt(6)),L=16*g(m.charCodeAt(7))+g(m.charCodeAt(8));return new b(new f(p,C,_,L/255))}if(S===4){const p=g(m.charCodeAt(1)),C=g(m.charCodeAt(2)),_=g(m.charCodeAt(3));return new b(new f(16*p+p,16*C+C,16*_+_))}if(S===5){const p=g(m.charCodeAt(1)),C=g(m.charCodeAt(2)),_=g(m.charCodeAt(3)),L=g(m.charCodeAt(4));return new b(new f(16*p+p,16*C+C,16*_+_,(16*L+L)/255))}return null}i.parseHex=c;function g(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(h=u.CSS||(u.CSS={}))})(v=b.Format||(b.Format={}))}(w=e.Color||(e.Color={}))});var Le=this&&this.__awaiter||function(j,e,y,f){function N(D){return D instanceof y?D:new y(function(w){w(D)})}return new(y||(y=Promise))(function(D,w){function b(h){try{u(f.next(h))}catch(i){w(i)}}function v(h){try{u(f.throw(h))}catch(i){w(i)}}function u(h){h.done?D(h.value):N(h.value).then(b,v)}u((f=f.apply(j,e||[])).next())})};define(ne[173],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function y(D){return{asString:()=>Le(this,void 0,void 0,function*(){return D}),asFile:()=>{},value:typeof D=="string"?D:void 0}}e.createStringDataTransferItem=y;function f(D,w,b){return{asString:()=>Le(this,void 0,void 0,function*(){return""}),asFile:()=>({name:D,uri:w,data:b}),value:void 0}}e.createFileDataTransferItem=f;class N{constructor(){this._entries=new Map}get size(){return this._entries.size}has(w){return this._entries.has(this.toKey(w))}get(w){var b;return(b=this._entries.get(this.toKey(w)))===null||b===void 0?void 0:b[0]}append(w,b){const v=this._entries.get(w);v?v.push(b):this._entries.set(this.toKey(w),[b])}replace(w,b){this._entries.set(this.toKey(w),[b])}delete(w){this._entries.delete(this.toKey(w))}*entries(){for(const[w,b]of this._entries.entries())for(const v of b)yield[w,v]}values(){return Array.from(this._entries.values()).flat()}forEach(w){for(const[b,v]of this.entries())w(v,b)}toKey(w){return w.toLowerCase()}}e.VSDataTransfer=N}),define(ne[103],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function y(f,N,D){let w=null,b=null;if(typeof D.value=="function"?(w="value",b=D.value,b.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(w="get",b=D.get),!b)throw new Error("not supported");const v=`$memoize$${N}`;D[w]=function(...u){return this.hasOwnProperty(v)||Object.defineProperty(this,v,{configurable:!1,enumerable:!1,writable:!1,value:b.apply(this,u)}),this[v]}}e.memoize=y}),define(ne[326],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class y{constructor(N,D,w,b){this.originalStart=N,this.originalLength=D,this.modifiedStart=w,this.modifiedLength=b}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=y}),define(ne[13],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class y{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(d){setTimeout(()=>{throw d.stack?new Error(d.message+`

`+d.stack):d},0)}}emit(d){this.listeners.forEach(a=>{a(d)})}onUnexpectedError(d){this.unexpectedErrorHandler(d),this.emit(d)}onUnexpectedExternalError(d){this.unexpectedErrorHandler(d)}}e.ErrorHandler=y,e.errorHandler=new y;function f(l){b(l)||e.errorHandler.onUnexpectedError(l)}e.onUnexpectedError=f;function N(l){b(l)||e.errorHandler.onUnexpectedExternalError(l)}e.onUnexpectedExternalError=N;function D(l){if(l instanceof Error){const{name:d,message:a}=l,o=l.stacktrace||l.stack;return{$isError:!0,name:d,message:a,stack:o,noTelemetry:l instanceof t}}return l}e.transformErrorForSerialization=D;const w="Canceled";function b(l){return l instanceof v?!0:l instanceof Error&&l.name===w&&l.message===w}e.isCancellationError=b;class v extends Error{constructor(){super(w);this.name=this.message}}e.CancellationError=v;function u(){const l=new Error(w);return l.name=l.message,l}e.canceled=u;function h(l){return l?new Error(`Illegal argument: ${l}`):new Error("Illegal argument")}e.illegalArgument=h;function i(l){return l?new Error(`Illegal state: ${l}`):new Error("Illegal state")}e.illegalState=i;class n extends Error{constructor(d){super("NotSupported");d&&(this.message=d)}}e.NotSupportedError=n;class t extends Error{constructor(){super(...arguments);this.logTelemetry=!1}static fromError(d){if(d&&d instanceof t)return d;if(d&&d instanceof Error){const a=new t;return a.name=d.name,a.message=d.message,a.stack=d.stack,a}return new t(d)}}e.ErrorNoTelemetry=t;class s extends Error{constructor(d){super(d||"An unexpected bug occurred.");Object.setPrototypeOf(this,s.prototype);debugger}}e.BugIndicatingError=s}),define(ne[94],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function y(f){const N=this;let D=!1,w;return function(){return D||(D=!0,w=f.apply(N,arguments)),w}}e.once=y}),define(ne[141],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class y{constructor(N){this._prefix=N,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=y,e.defaultGenerator=new y("id#")}),define(ne[55],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var y;(function(f){function N(S){return S&&typeof S=="object"&&typeof S[Symbol.iterator]=="function"}f.is=N;const D=Object.freeze([]);function w(){return D}f.empty=w;function*b(S){yield S}f.single=b;function v(S){return S||D}f.from=v;function u(S){return!S||S[Symbol.iterator]().next().done===!0}f.isEmpty=u;function h(S){return S[Symbol.iterator]().next().value}f.first=h;function i(S,p){for(const C of S)if(p(C))return!0;return!1}f.some=i;function n(S,p){for(const C of S)if(p(C))return C}f.find=n;function*t(S,p){for(const C of S)p(C)&&(yield C)}f.filter=t;function*s(S,p){let C=0;for(const _ of S)yield p(_,C++)}f.map=s;function*l(...S){for(const p of S)for(const C of p)yield C}f.concat=l;function*d(S){for(const p of S)for(const C of p)yield C}f.concatNested=d;function a(S,p,C){let _=C;for(const L of S)_=p(_,L);return _}f.reduce=a;function o(S,p){let C=0;for(const _ of S)p(_,C++)}f.forEach=o;function*r(S,p,C=S.length){for(p<0&&(p+=S.length),C<0?C+=S.length:C>S.length&&(C=S.length);p<C;p++)yield S[p]}f.slice=r;function c(S,p=Number.POSITIVE_INFINITY){const C=[];if(p===0)return[C,S];const _=S[Symbol.iterator]();for(let L=0;L<p;L++){const E=_.next();if(E.done)return[C,f.empty()];C.push(E.value)}return[C,{[Symbol.iterator](){return _}}]}f.consume=c;function g(S){return c(S)[0]}f.collect=g;function m(S,p,C=(_,L)=>_===L){const _=S[Symbol.iterator](),L=p[Symbol.iterator]();for(;;){const E=_.next(),I=L.next();if(E.done!==I.done)return!1;if(E.done)return!0;if(!C(E.value,I.value))return!1}}f.equals=m})(y=e.Iterable||(e.Iterable={}))}),define(ne[59],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class y{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(n,t){this._keyCodeToStr[n]=t,this._strToKeyCode[t.toLowerCase()]=n}keyCodeToStr(n){return this._keyCodeToStr[n]}strToKeyCode(n){return this._strToKeyCode[n.toLowerCase()]||0}}const f=new y,N=new y,D=new y;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const w=[],b=Object.create(null),v=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let i=0;i<=193;i++)e.IMMUTABLE_CODE_TO_KEY_CODE[i]=-1;for(let i=0;i<=127;i++)e.IMMUTABLE_KEY_CODE_TO_CODE[i]=-1;(function(){const i="",n=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[0,1,1,"Hyper",0,i,0,i,i,i],[0,1,2,"Super",0,i,0,i,i,i],[0,1,3,"Fn",0,i,0,i,i,i],[0,1,4,"FnLock",0,i,0,i,i,i],[0,1,5,"Suspend",0,i,0,i,i,i],[0,1,6,"Resume",0,i,0,i,i,i],[0,1,7,"Turbo",0,i,0,i,i,i],[0,1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[0,1,9,"WakeUp",0,i,0,i,i,i],[31,0,10,"KeyA",31,"A",65,"VK_A",i,i],[32,0,11,"KeyB",32,"B",66,"VK_B",i,i],[33,0,12,"KeyC",33,"C",67,"VK_C",i,i],[34,0,13,"KeyD",34,"D",68,"VK_D",i,i],[35,0,14,"KeyE",35,"E",69,"VK_E",i,i],[36,0,15,"KeyF",36,"F",70,"VK_F",i,i],[37,0,16,"KeyG",37,"G",71,"VK_G",i,i],[38,0,17,"KeyH",38,"H",72,"VK_H",i,i],[39,0,18,"KeyI",39,"I",73,"VK_I",i,i],[40,0,19,"KeyJ",40,"J",74,"VK_J",i,i],[41,0,20,"KeyK",41,"K",75,"VK_K",i,i],[42,0,21,"KeyL",42,"L",76,"VK_L",i,i],[43,0,22,"KeyM",43,"M",77,"VK_M",i,i],[44,0,23,"KeyN",44,"N",78,"VK_N",i,i],[45,0,24,"KeyO",45,"O",79,"VK_O",i,i],[46,0,25,"KeyP",46,"P",80,"VK_P",i,i],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[48,0,27,"KeyR",48,"R",82,"VK_R",i,i],[49,0,28,"KeyS",49,"S",83,"VK_S",i,i],[50,0,29,"KeyT",50,"T",84,"VK_T",i,i],[51,0,30,"KeyU",51,"U",85,"VK_U",i,i],[52,0,31,"KeyV",52,"V",86,"VK_V",i,i],[53,0,32,"KeyW",53,"W",87,"VK_W",i,i],[54,0,33,"KeyX",54,"X",88,"VK_X",i,i],[55,0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[22,0,36,"Digit1",22,"1",49,"VK_1",i,i],[23,0,37,"Digit2",23,"2",50,"VK_2",i,i],[24,0,38,"Digit3",24,"3",51,"VK_3",i,i],[25,0,39,"Digit4",25,"4",52,"VK_4",i,i],[26,0,40,"Digit5",26,"5",53,"VK_5",i,i],[27,0,41,"Digit6",27,"6",54,"VK_6",i,i],[28,0,42,"Digit7",28,"7",55,"VK_7",i,i],[29,0,43,"Digit8",29,"8",56,"VK_8",i,i],[30,0,44,"Digit9",30,"9",57,"VK_9",i,i],[21,0,45,"Digit0",21,"0",48,"VK_0",i,i],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[10,1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,i,0,i,i,i],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[59,1,64,"F1",59,"F1",112,"VK_F1",i,i],[60,1,65,"F2",60,"F2",113,"VK_F2",i,i],[61,1,66,"F3",61,"F3",114,"VK_F3",i,i],[62,1,67,"F4",62,"F4",115,"VK_F4",i,i],[63,1,68,"F5",63,"F5",116,"VK_F5",i,i],[64,1,69,"F6",64,"F6",117,"VK_F6",i,i],[65,1,70,"F7",65,"F7",118,"VK_F7",i,i],[66,1,71,"F8",66,"F8",119,"VK_F8",i,i],[67,1,72,"F9",67,"F9",120,"VK_F9",i,i],[68,1,73,"F10",68,"F10",121,"VK_F10",i,i],[69,1,74,"F11",69,"F11",122,"VK_F11",i,i],[70,1,75,"F12",70,"F12",123,"VK_F12",i,i],[0,1,76,"PrintScreen",0,i,0,i,i,i],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",i,i],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[14,1,80,"Home",14,"Home",36,"VK_HOME",i,i],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[13,1,83,"End",13,"End",35,"VK_END",i,i],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",i,i],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",i,i],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",i,i],[3,1,94,"NumpadEnter",3,i,0,i,i,i],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",i,i],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",i,i],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",i,i],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",i,i],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",i,i],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",i,i],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",i,i],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",i,i],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",i,i],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",i,i],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",i,i],[58,1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[0,1,108,"Power",0,i,0,i,i,i],[0,1,109,"NumpadEqual",0,i,0,i,i,i],[71,1,110,"F13",71,"F13",124,"VK_F13",i,i],[72,1,111,"F14",72,"F14",125,"VK_F14",i,i],[73,1,112,"F15",73,"F15",126,"VK_F15",i,i],[74,1,113,"F16",74,"F16",127,"VK_F16",i,i],[75,1,114,"F17",75,"F17",128,"VK_F17",i,i],[76,1,115,"F18",76,"F18",129,"VK_F18",i,i],[77,1,116,"F19",77,"F19",130,"VK_F19",i,i],[0,1,117,"F20",0,i,0,"VK_F20",i,i],[0,1,118,"F21",0,i,0,"VK_F21",i,i],[0,1,119,"F22",0,i,0,"VK_F22",i,i],[0,1,120,"F23",0,i,0,"VK_F23",i,i],[0,1,121,"F24",0,i,0,"VK_F24",i,i],[0,1,122,"Open",0,i,0,i,i,i],[0,1,123,"Help",0,i,0,i,i,i],[0,1,124,"Select",0,i,0,i,i,i],[0,1,125,"Again",0,i,0,i,i,i],[0,1,126,"Undo",0,i,0,i,i,i],[0,1,127,"Cut",0,i,0,i,i,i],[0,1,128,"Copy",0,i,0,i,i,i],[0,1,129,"Paste",0,i,0,i,i,i],[0,1,130,"Find",0,i,0,i,i,i],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",i,i],[0,1,136,"KanaMode",0,i,0,i,i,i],[0,0,137,"IntlYen",0,i,0,i,i,i],[0,1,138,"Convert",0,i,0,i,i,i],[0,1,139,"NonConvert",0,i,0,i,i,i],[0,1,140,"Lang1",0,i,0,i,i,i],[0,1,141,"Lang2",0,i,0,i,i,i],[0,1,142,"Lang3",0,i,0,i,i,i],[0,1,143,"Lang4",0,i,0,i,i,i],[0,1,144,"Lang5",0,i,0,i,i,i],[0,1,145,"Abort",0,i,0,i,i,i],[0,1,146,"Props",0,i,0,i,i,i],[0,1,147,"NumpadParenLeft",0,i,0,i,i,i],[0,1,148,"NumpadParenRight",0,i,0,i,i,i],[0,1,149,"NumpadBackspace",0,i,0,i,i,i],[0,1,150,"NumpadMemoryStore",0,i,0,i,i,i],[0,1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[0,1,152,"NumpadMemoryClear",0,i,0,i,i,i],[0,1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[0,1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",i,i],[0,1,156,"NumpadClearEntry",0,i,0,i,i,i],[5,1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[4,1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[6,1,0,i,6,"Alt",18,"VK_MENU",i,i],[57,1,0,i,57,"Meta",0,"VK_COMMAND",i,i],[5,1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[4,1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[6,1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[57,1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[5,1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[4,1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[6,1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[57,1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[0,1,165,"BrightnessUp",0,i,0,i,i,i],[0,1,166,"BrightnessDown",0,i,0,i,i,i],[0,1,167,"MediaPlay",0,i,0,i,i,i],[0,1,168,"MediaRecord",0,i,0,i,i,i],[0,1,169,"MediaFastForward",0,i,0,i,i,i],[0,1,170,"MediaRewind",0,i,0,i,i,i],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",i,i],[0,1,174,"Eject",0,i,0,i,i,i],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[0,1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[0,1,180,"SelectTask",0,i,0,i,i,i],[0,1,181,"LaunchScreenSaver",0,i,0,i,i,i],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[0,1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[0,1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[0,1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[0,1,189,"ZoomToggle",0,i,0,i,i,i],[0,1,190,"MailReply",0,i,0,i,i,i],[0,1,191,"MailForward",0,i,0,i,i,i],[0,1,192,"MailSend",0,i,0,i,i,i],[109,1,0,i,109,"KeyInComposition",229,i,i,i],[111,1,0,i,111,"ABNT_C2",194,"VK_ABNT_C2",i,i],[91,1,0,i,91,"OEM_8",223,"VK_OEM_8",i,i],[0,1,0,i,0,i,0,"VK_KANA",i,i],[0,1,0,i,0,i,0,"VK_HANGUL",i,i],[0,1,0,i,0,i,0,"VK_JUNJA",i,i],[0,1,0,i,0,i,0,"VK_FINAL",i,i],[0,1,0,i,0,i,0,"VK_HANJA",i,i],[0,1,0,i,0,i,0,"VK_KANJI",i,i],[0,1,0,i,0,i,0,"VK_CONVERT",i,i],[0,1,0,i,0,i,0,"VK_NONCONVERT",i,i],[0,1,0,i,0,i,0,"VK_ACCEPT",i,i],[0,1,0,i,0,i,0,"VK_MODECHANGE",i,i],[0,1,0,i,0,i,0,"VK_SELECT",i,i],[0,1,0,i,0,i,0,"VK_PRINT",i,i],[0,1,0,i,0,i,0,"VK_EXECUTE",i,i],[0,1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[0,1,0,i,0,i,0,"VK_HELP",i,i],[0,1,0,i,0,i,0,"VK_APPS",i,i],[0,1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[0,1,0,i,0,i,0,"VK_PACKET",i,i],[0,1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_ATTN",i,i],[0,1,0,i,0,i,0,"VK_CRSEL",i,i],[0,1,0,i,0,i,0,"VK_EXSEL",i,i],[0,1,0,i,0,i,0,"VK_EREOF",i,i],[0,1,0,i,0,i,0,"VK_PLAY",i,i],[0,1,0,i,0,i,0,"VK_ZOOM",i,i],[0,1,0,i,0,i,0,"VK_NONAME",i,i],[0,1,0,i,0,i,0,"VK_PA1",i,i],[0,1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],t=[],s=[];for(const l of n){const[d,a,o,r,c,g,m,S,p,C]=l;if(s[o]||(s[o]=!0,w[o]=r,b[r]=o,v[r.toLowerCase()]=o,a&&(e.IMMUTABLE_CODE_TO_KEY_CODE[o]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[c]=o))),!t[c]){if(t[c]=!0,!g)throw new Error(`String representation missing for key code ${c} around scan code ${r}`);f.define(c,g),N.define(c,p||g),D.define(c,C||p||g)}m&&(e.EVENT_KEY_CODE_MAP[m]=c),S&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[S]=c)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var u;(function(i){function n(o){return f.keyCodeToStr(o)}i.toString=n;function t(o){return f.strToKeyCode(o)}i.fromString=t;function s(o){return N.keyCodeToStr(o)}i.toUserSettingsUS=s;function l(o){return D.keyCodeToStr(o)}i.toUserSettingsGeneral=l;function d(o){return N.strToKeyCode(o)||D.strToKeyCode(o)}i.fromUserSettings=d;function a(o){if(o>=93&&o<=108)return null;switch(o){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return f.keyCodeToStr(o)}i.toElectronAccelerator=a})(u=e.KeyCodeUtils||(e.KeyCodeUtils={}));function h(i,n){const t=(n&65535)<<16>>>0;return(i|t)>>>0}e.KeyChord=h}),define(ne[104],oe([1,0,13]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function f(h,i){if(h===0)return null;const n=(h&65535)>>>0,t=(h&4294901760)>>>16;return t!==0?new w([N(n,i),N(t,i)]):new w([N(n,i)])}e.createKeybinding=f;function N(h,i){const n=!!(h&2048),t=!!(h&256),s=i===2?t:n,l=!!(h&1024),d=!!(h&512),a=i===2?n:t,o=h&255;return new D(s,l,d,a,o)}e.createSimpleKeybinding=N;class D{constructor(i,n,t,s,l){this.ctrlKey=i,this.shiftKey=n,this.altKey=t,this.metaKey=s,this.keyCode=l}equals(i){return this.ctrlKey===i.ctrlKey&&this.shiftKey===i.shiftKey&&this.altKey===i.altKey&&this.metaKey===i.metaKey&&this.keyCode===i.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new w([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=D;class w{constructor(i){if(i.length===0)throw(0,y.illegalArgument)("parts");this.parts=i}}e.ChordKeybinding=w;class b{constructor(i,n,t,s,l){this.ctrlKey=i,this.shiftKey=n,this.altKey=t,this.metaKey=s,this.scanCode=l}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=b;class v{constructor(i,n,t,s,l,d){this.ctrlKey=i,this.shiftKey=n,this.altKey=t,this.metaKey=s,this.keyLabel=l,this.keyAriaLabel=d}}e.ResolvedKeybindingPart=v;class u{}e.ResolvedKeybinding=u}),define(ne[142],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class y{constructor(N){this.executor=N,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(N){this._error=N}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=y}),define(ne[2],oe([1,0,94,55]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.SafeDisposable=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const N=!1;let D=null;function w(S){D=S}if(e.setDisposableTracker=w,N){const S="__is_disposable_tracked__";w(new class{trackDisposable(p){const C=new Error("Potentially leaked disposable").stack;setTimeout(()=>{p[S]||console.log(C)},3e3)}setParent(p,C){if(p&&p!==o.None)try{p[S]=!0}catch{}}markAsDisposed(p){if(p&&p!==o.None)try{p[S]=!0}catch{}}markAsSingleton(p){}})}function b(S){return D==null||D.trackDisposable(S),S}function v(S){D==null||D.markAsDisposed(S)}function u(S,p){D==null||D.setParent(S,p)}function h(S,p){if(!!D)for(const C of S)D.setParent(C,p)}function i(S){return D==null||D.markAsSingleton(S),S}e.markAsSingleton=i;class n extends Error{constructor(p){super(`Encountered errors while disposing of store. Errors: [${p.join(", ")}]`);this.errors=p}}e.MultiDisposeError=n;function t(S){return typeof S.dispose=="function"&&S.dispose.length===0}e.isDisposable=t;function s(S){if(f.Iterable.is(S)){const p=[];for(const C of S)if(C)try{C.dispose()}catch(_){p.push(_)}if(p.length===1)throw p[0];if(p.length>1)throw new n(p);return Array.isArray(S)?[]:S}else if(S)return S.dispose(),S}e.dispose=s;function l(...S){const p=d(()=>s(S));return h(S,p),p}e.combinedDisposable=l;function d(S){const p=b({dispose:(0,y.once)(()=>{v(p),S()})});return p}e.toDisposable=d;class a{constructor(){this._toDispose=new Set,this._isDisposed=!1,b(this)}dispose(){this._isDisposed||(v(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{s(this._toDispose.values())}finally{this._toDispose.clear()}}add(p){if(!p)return p;if(p===this)throw new Error("Cannot register a disposable on itself!");return u(p,this),this._isDisposed?a.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(p),p}}e.DisposableStore=a,a.DISABLE_DISPOSED_WARNING=!1;class o{constructor(){this._store=new a,b(this),u(this._store,this)}dispose(){v(this),this._store.dispose()}_register(p){if(p===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(p)}}e.Disposable=o,o.None=Object.freeze({dispose(){}});class r{constructor(){this._isDisposed=!1,b(this)}get value(){return this._isDisposed?void 0:this._value}set value(p){var C;this._isDisposed||p===this._value||((C=this._value)===null||C===void 0||C.dispose(),p&&u(p,this),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,v(this),(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}clearAndLeak(){const p=this._value;return this._value=void 0,p&&u(p,null),p}}e.MutableDisposable=r;class c{constructor(p){this._disposable=p,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}e.RefCountedDisposable=c;class g{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,b(this)}set(p){let C=p;return this.unset=()=>C=void 0,this.isset=()=>C!==void 0,this.dispose=()=>{C&&(C(),C=void 0,v(this))},this}}e.SafeDisposable=g;class m{constructor(p){this.object=p}dispose(){}}e.ImmortalReference=m}),define(ne[79],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class y{constructor(D){this.element=D,this.next=y.Undefined,this.prev=y.Undefined}}y.Undefined=new y(void 0);class f{constructor(){this._first=y.Undefined,this._last=y.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===y.Undefined}clear(){let D=this._first;for(;D!==y.Undefined;){const w=D.next;D.prev=y.Undefined,D.next=y.Undefined,D=w}this._first=y.Undefined,this._last=y.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,w){const b=new y(D);if(this._first===y.Undefined)this._first=b,this._last=b;else if(w){const u=this._last;this._last=b,b.prev=u,u.next=b}else{const u=this._first;this._first=b,b.next=u,u.prev=b}this._size+=1;let v=!1;return()=>{v||(v=!0,this._remove(b))}}shift(){if(this._first!==y.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==y.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==y.Undefined&&D.next!==y.Undefined){const w=D.prev;w.next=D.next,D.next.prev=w}else D.prev===y.Undefined&&D.next===y.Undefined?(this._first=y.Undefined,this._last=y.Undefined):D.next===y.Undefined?(this._last=this._last.prev,this._last.next=y.Undefined):D.prev===y.Undefined&&(this._first=this._first.next,this._first.prev=y.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==y.Undefined;)yield D.element,D=D.next}}e.LinkedList=f}),function(j,e){typeof exports=="object"&&typeof module!="undefined"?e(exports):typeof define=="function"&&define.amd?define(ne[327],oe([0]),e):(j=typeof globalThis!="undefined"?globalThis:j||self,e(j.marked={}))}(this,function(j){"use strict";function e(H,$){for(var K=0;K<$.length;K++){var V=$[K];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(H,V.key,V)}}function y(H,$,K){return $&&e(H.prototype,$),K&&e(H,K),Object.defineProperty(H,"prototype",{writable:!1}),H}function f(H,$){if(!!H){if(typeof H=="string")return N(H,$);var K=Object.prototype.toString.call(H).slice(8,-1);if(K==="Object"&&H.constructor&&(K=H.constructor.name),K==="Map"||K==="Set")return Array.from(H);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return N(H,$)}}function N(H,$){($==null||$>H.length)&&($=H.length);for(var K=0,V=new Array($);K<$;K++)V[K]=H[K];return V}function D(H,$){var K=typeof Symbol!="undefined"&&H[Symbol.iterator]||H["@@iterator"];if(K)return(K=K.call(H)).next.bind(K);if(Array.isArray(H)||(K=f(H))||$&&H&&typeof H.length=="number"){K&&(H=K);var V=0;return function(){return V>=H.length?{done:!0}:{done:!1,value:H[V++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}j.defaults=w();function b(H){j.defaults=H}var v=/[&<>"']/,u=/[&<>"']/g,h=/[<>"']|&(?!#?\w+;)/,i=/[<>"']|&(?!#?\w+;)/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t=function($){return n[$]};function s(H,$){if($){if(v.test(H))return H.replace(u,t)}else if(h.test(H))return H.replace(i,t);return H}var l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(H){return H.replace(l,function($,K){return K=K.toLowerCase(),K==="colon"?":":K.charAt(0)==="#"?K.charAt(1)==="x"?String.fromCharCode(parseInt(K.substring(2),16)):String.fromCharCode(+K.substring(1)):""})}var a=/(^|[^\[])\^/g;function o(H,$){H=typeof H=="string"?H:H.source,$=$||"";var K={replace:function(Q,ee){return ee=ee.source||ee,ee=ee.replace(a,"$1"),H=H.replace(Q,ee),K},getRegex:function(){return new RegExp(H,$)}};return K}var r=/[^\w:]/g,c=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(H,$,K){if(H){var V;try{V=decodeURIComponent(d(K)).replace(r,"").toLowerCase()}catch{return null}if(V.indexOf("javascript:")===0||V.indexOf("vbscript:")===0||V.indexOf("data:")===0)return null}$&&!c.test(K)&&(K=_($,K));try{K=encodeURI(K).replace(/%25/g,"%")}catch{return null}return K}var m={},S=/^[^:]+:\/*[^/]*$/,p=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(H,$){m[" "+H]||(S.test(H)?m[" "+H]=H+"/":m[" "+H]=T(H,"/",!0)),H=m[" "+H];var K=H.indexOf(":")===-1;return $.substring(0,2)==="//"?K?$:H.replace(p,"$1")+$:$.charAt(0)==="/"?K?$:H.replace(C,"$1")+$:H+$}var L={exec:function(){}};function E(H){for(var $=1,K,V;$<arguments.length;$++){K=arguments[$];for(V in K)Object.prototype.hasOwnProperty.call(K,V)&&(H[V]=K[V])}return H}function I(H,$){var K=H.replace(/\|/g,function(ee,ae,fe){for(var pe=!1,ve=ae;--ve>=0&&fe[ve]==="\\";)pe=!pe;return pe?"|":" |"}),V=K.split(/ \|/),Q=0;if(V[0].trim()||V.shift(),V.length>0&&!V[V.length-1].trim()&&V.pop(),V.length>$)V.splice($);else for(;V.length<$;)V.push("");for(;Q<V.length;Q++)V[Q]=V[Q].trim().replace(/\\\|/g,"|");return V}function T(H,$,K){var V=H.length;if(V===0)return"";for(var Q=0;Q<V;){var ee=H.charAt(V-Q-1);if(ee===$&&!K)Q++;else if(ee!==$&&K)Q++;else break}return H.slice(0,V-Q)}function P(H,$){if(H.indexOf($[1])===-1)return-1;for(var K=H.length,V=0,Q=0;Q<K;Q++)if(H[Q]==="\\")Q++;else if(H[Q]===$[0])V++;else if(H[Q]===$[1]&&(V--,V<0))return Q;return-1}function B(H){H&&H.sanitize&&!H.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function R(H,$){if($<1)return"";for(var K="";$>1;)$&1&&(K+=H),$>>=1,H+=H;return K+H}function k(H,$,K,V){var Q=$.href,ee=$.title?s($.title):null,ae=H[1].replace(/\\([\[\]])/g,"$1");if(H[0].charAt(0)!=="!"){V.state.inLink=!0;var fe={type:"link",raw:K,href:Q,title:ee,text:ae,tokens:V.inlineTokens(ae,[])};return V.state.inLink=!1,fe}return{type:"image",raw:K,href:Q,title:ee,text:s(ae)}}function A(H,$){var K=H.match(/^(\s+)(?:```)/);if(K===null)return $;var V=K[1];return $.split(`
`).map(function(Q){var ee=Q.match(/^\s+/);if(ee===null)return Q;var ae=ee[0];return ae.length>=V.length?Q.slice(V.length):Q}).join(`
`)}var O=function(){function H(K){this.options=K||j.defaults}var $=H.prototype;return $.space=function(V){var Q=this.rules.block.newline.exec(V);if(Q&&Q[0].length>0)return{type:"space",raw:Q[0]}},$.code=function(V){var Q=this.rules.block.code.exec(V);if(Q){var ee=Q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Q[0],codeBlockStyle:"indented",text:this.options.pedantic?ee:T(ee,`
`)}}},$.fences=function(V){var Q=this.rules.block.fences.exec(V);if(Q){var ee=Q[0],ae=A(ee,Q[3]||"");return{type:"code",raw:ee,lang:Q[2]?Q[2].trim():Q[2],text:ae}}},$.heading=function(V){var Q=this.rules.block.heading.exec(V);if(Q){var ee=Q[2].trim();if(/#$/.test(ee)){var ae=T(ee,"#");(this.options.pedantic||!ae||/ $/.test(ae))&&(ee=ae.trim())}var fe={type:"heading",raw:Q[0],depth:Q[1].length,text:ee,tokens:[]};return this.lexer.inline(fe.text,fe.tokens),fe}},$.hr=function(V){var Q=this.rules.block.hr.exec(V);if(Q)return{type:"hr",raw:Q[0]}},$.blockquote=function(V){var Q=this.rules.block.blockquote.exec(V);if(Q){var ee=Q[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Q[0],tokens:this.lexer.blockTokens(ee,[]),text:ee}}},$.list=function(V){var Q=this.rules.block.list.exec(V);if(Q){var ee,ae,fe,pe,ve,ue,Ce,me,be,ce,he,we,ye=Q[1].trim(),Te=ye.length>1,ke={type:"list",raw:"",ordered:Te,start:Te?+ye.slice(0,-1):"",loose:!1,items:[]};ye=Te?"\\d{1,9}\\"+ye.slice(-1):"\\"+ye,this.options.pedantic&&(ye=Te?ye:"[*+-]");for(var Ne=new RegExp("^( {0,3}"+ye+")((?:[	 ][^\\n]*)?(?:\\n|$))");V&&(we=!1,!(!(Q=Ne.exec(V))||this.rules.block.hr.test(V)));){if(ee=Q[0],V=V.substring(ee.length),me=Q[2].split(`
`,1)[0],be=V.split(`
`,1)[0],this.options.pedantic?(pe=2,he=me.trimLeft()):(pe=Q[2].search(/[^ ]/),pe=pe>4?1:pe,he=me.slice(pe),pe+=Q[1].length),ue=!1,!me&&/^ *$/.test(be)&&(ee+=be+`
`,V=V.substring(be.length+1),we=!0),!we)for(var Oe=new RegExp("^ {0,"+Math.min(3,pe-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Se=new RegExp("^ {0,"+Math.min(3,pe-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");V&&(ce=V.split(`
`,1)[0],me=ce,this.options.pedantic&&(me=me.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Oe.test(me)||Se.test(V)));){if(me.search(/[^ ]/)>=pe||!me.trim())he+=`
`+me.slice(pe);else if(!ue)he+=`
`+me;else break;!ue&&!me.trim()&&(ue=!0),ee+=ce+`
`,V=V.substring(ce.length+1)}ke.loose||(Ce?ke.loose=!0:/\n *\n *$/.test(ee)&&(Ce=!0)),this.options.gfm&&(ae=/^\[[ xX]\] /.exec(he),ae&&(fe=ae[0]!=="[ ] ",he=he.replace(/^\[[ xX]\] +/,""))),ke.items.push({type:"list_item",raw:ee,task:!!ae,checked:fe,loose:!1,text:he}),ke.raw+=ee}ke.items[ke.items.length-1].raw=ee.trimRight(),ke.items[ke.items.length-1].text=he.trimRight(),ke.raw=ke.raw.trimRight();var _e=ke.items.length;for(ve=0;ve<_e;ve++){this.lexer.state.top=!1,ke.items[ve].tokens=this.lexer.blockTokens(ke.items[ve].text,[]);var Ee=ke.items[ve].tokens.filter(function(Re){return Re.type==="space"}),Ae=Ee.every(function(Re){for(var Ve=Re.raw.split(""),He=0,ze=D(Ve),Ye;!(Ye=ze()).done;){var et=Ye.value;if(et===`
`&&(He+=1),He>1)return!0}return!1});!ke.loose&&Ee.length&&Ae&&(ke.loose=!0,ke.items[ve].loose=!0)}return ke}},$.html=function(V){var Q=this.rules.block.html.exec(V);if(Q){var ee={type:"html",raw:Q[0],pre:!this.options.sanitizer&&(Q[1]==="pre"||Q[1]==="script"||Q[1]==="style"),text:Q[0]};return this.options.sanitize&&(ee.type="paragraph",ee.text=this.options.sanitizer?this.options.sanitizer(Q[0]):s(Q[0]),ee.tokens=[],this.lexer.inline(ee.text,ee.tokens)),ee}},$.def=function(V){var Q=this.rules.block.def.exec(V);if(Q){Q[3]&&(Q[3]=Q[3].substring(1,Q[3].length-1));var ee=Q[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ee,raw:Q[0],href:Q[2],title:Q[3]}}},$.table=function(V){var Q=this.rules.block.table.exec(V);if(Q){var ee={type:"table",header:I(Q[1]).map(function(Ce){return{text:Ce}}),align:Q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Q[3]&&Q[3].trim()?Q[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ee.header.length===ee.align.length){ee.raw=Q[0];var ae=ee.align.length,fe,pe,ve,ue;for(fe=0;fe<ae;fe++)/^ *-+: *$/.test(ee.align[fe])?ee.align[fe]="right":/^ *:-+: *$/.test(ee.align[fe])?ee.align[fe]="center":/^ *:-+ *$/.test(ee.align[fe])?ee.align[fe]="left":ee.align[fe]=null;for(ae=ee.rows.length,fe=0;fe<ae;fe++)ee.rows[fe]=I(ee.rows[fe],ee.header.length).map(function(Ce){return{text:Ce}});for(ae=ee.header.length,pe=0;pe<ae;pe++)ee.header[pe].tokens=[],this.lexer.inline(ee.header[pe].text,ee.header[pe].tokens);for(ae=ee.rows.length,pe=0;pe<ae;pe++)for(ue=ee.rows[pe],ve=0;ve<ue.length;ve++)ue[ve].tokens=[],this.lexer.inline(ue[ve].text,ue[ve].tokens);return ee}}},$.lheading=function(V){var Q=this.rules.block.lheading.exec(V);if(Q){var ee={type:"heading",raw:Q[0],depth:Q[2].charAt(0)==="="?1:2,text:Q[1],tokens:[]};return this.lexer.inline(ee.text,ee.tokens),ee}},$.paragraph=function(V){var Q=this.rules.block.paragraph.exec(V);if(Q){var ee={type:"paragraph",raw:Q[0],text:Q[1].charAt(Q[1].length-1)===`
`?Q[1].slice(0,-1):Q[1],tokens:[]};return this.lexer.inline(ee.text,ee.tokens),ee}},$.text=function(V){var Q=this.rules.block.text.exec(V);if(Q){var ee={type:"text",raw:Q[0],text:Q[0],tokens:[]};return this.lexer.inline(ee.text,ee.tokens),ee}},$.escape=function(V){var Q=this.rules.inline.escape.exec(V);if(Q)return{type:"escape",raw:Q[0],text:s(Q[1])}},$.tag=function(V){var Q=this.rules.inline.tag.exec(V);if(Q)return!this.lexer.state.inLink&&/^<a /i.test(Q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Q[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Q[0]):s(Q[0]):Q[0]}},$.link=function(V){var Q=this.rules.inline.link.exec(V);if(Q){var ee=Q[2].trim();if(!this.options.pedantic&&/^</.test(ee)){if(!/>$/.test(ee))return;var ae=T(ee.slice(0,-1),"\\");if((ee.length-ae.length)%2==0)return}else{var fe=P(Q[2],"()");if(fe>-1){var pe=Q[0].indexOf("!")===0?5:4,ve=pe+Q[1].length+fe;Q[2]=Q[2].substring(0,fe),Q[0]=Q[0].substring(0,ve).trim(),Q[3]=""}}var ue=Q[2],Ce="";if(this.options.pedantic){var me=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ue);me&&(ue=me[1],Ce=me[3])}else Ce=Q[3]?Q[3].slice(1,-1):"";return ue=ue.trim(),/^</.test(ue)&&(this.options.pedantic&&!/>$/.test(ee)?ue=ue.slice(1):ue=ue.slice(1,-1)),k(Q,{href:ue&&ue.replace(this.rules.inline._escapes,"$1"),title:Ce&&Ce.replace(this.rules.inline._escapes,"$1")},Q[0],this.lexer)}},$.reflink=function(V,Q){var ee;if((ee=this.rules.inline.reflink.exec(V))||(ee=this.rules.inline.nolink.exec(V))){var ae=(ee[2]||ee[1]).replace(/\s+/g," ");if(ae=Q[ae.toLowerCase()],!ae||!ae.href){var fe=ee[0].charAt(0);return{type:"text",raw:fe,text:fe}}return k(ee,ae,ee[0],this.lexer)}},$.emStrong=function(V,Q,ee){ee===void 0&&(ee="");var ae=this.rules.inline.emStrong.lDelim.exec(V);if(!!ae&&!(ae[3]&&ee.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var fe=ae[1]||ae[2]||"";if(!fe||fe&&(ee===""||this.rules.inline.punctuation.exec(ee))){var pe=ae[0].length-1,ve,ue,Ce=pe,me=0,be=ae[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(be.lastIndex=0,Q=Q.slice(-1*V.length+pe);(ae=be.exec(Q))!=null;)if(ve=ae[1]||ae[2]||ae[3]||ae[4]||ae[5]||ae[6],!!ve){if(ue=ve.length,ae[3]||ae[4]){Ce+=ue;continue}else if((ae[5]||ae[6])&&pe%3&&!((pe+ue)%3)){me+=ue;continue}if(Ce-=ue,!(Ce>0)){if(ue=Math.min(ue,ue+Ce+me),Math.min(pe,ue)%2){var ce=V.slice(1,pe+ae.index+ue);return{type:"em",raw:V.slice(0,pe+ae.index+ue+1),text:ce,tokens:this.lexer.inlineTokens(ce,[])}}var he=V.slice(2,pe+ae.index+ue-1);return{type:"strong",raw:V.slice(0,pe+ae.index+ue+1),text:he,tokens:this.lexer.inlineTokens(he,[])}}}}}},$.codespan=function(V){var Q=this.rules.inline.code.exec(V);if(Q){var ee=Q[2].replace(/\n/g," "),ae=/[^ ]/.test(ee),fe=/^ /.test(ee)&&/ $/.test(ee);return ae&&fe&&(ee=ee.substring(1,ee.length-1)),ee=s(ee,!0),{type:"codespan",raw:Q[0],text:ee}}},$.br=function(V){var Q=this.rules.inline.br.exec(V);if(Q)return{type:"br",raw:Q[0]}},$.del=function(V){var Q=this.rules.inline.del.exec(V);if(Q)return{type:"del",raw:Q[0],text:Q[2],tokens:this.lexer.inlineTokens(Q[2],[])}},$.autolink=function(V,Q){var ee=this.rules.inline.autolink.exec(V);if(ee){var ae,fe;return ee[2]==="@"?(ae=s(this.options.mangle?Q(ee[1]):ee[1]),fe="mailto:"+ae):(ae=s(ee[1]),fe=ae),{type:"link",raw:ee[0],text:ae,href:fe,tokens:[{type:"text",raw:ae,text:ae}]}}},$.url=function(V,Q){var ee;if(ee=this.rules.inline.url.exec(V)){var ae,fe;if(ee[2]==="@")ae=s(this.options.mangle?Q(ee[0]):ee[0]),fe="mailto:"+ae;else{var pe;do pe=ee[0],ee[0]=this.rules.inline._backpedal.exec(ee[0])[0];while(pe!==ee[0]);ae=s(ee[0]),ee[1]==="www."?fe="http://"+ae:fe=ae}return{type:"link",raw:ee[0],text:ae,href:fe,tokens:[{type:"text",raw:ae,text:ae}]}}},$.inlineText=function(V,Q){var ee=this.rules.inline.text.exec(V);if(ee){var ae;return this.lexer.state.inRawBlock?ae=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):s(ee[0]):ee[0]:ae=s(this.options.smartypants?Q(ee[0]):ee[0]),{type:"text",raw:ee[0],text:ae}}},H}(),F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:L,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};F._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,F._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,F.def=o(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.listItemStart=o(/^( *)(bull) */).replace("bull",F.bullet).getRegex(),F.list=o(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=o(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=o(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.blockquote=o(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=E({},F),F.gfm=E({},F.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.table=o(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.gfm.paragraph=o(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",F.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.pedantic=E({},F.normal,{html:o(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:L,paragraph:o(F.normal._paragraph).replace("hr",F.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=o(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=o(F._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=o(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=o(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=o(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=o(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=o(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=o(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=o(W.reflink).replace("label",W._label).replace("ref",F._label).getRegex(),W.nolink=o(W.nolink).replace("ref",F._label).getRegex(),W.reflinkSearch=o(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=E({},W),W.pedantic=E({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:o(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:o(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=E({},W.normal,{escape:o(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=o(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=E({},W.gfm,{br:o(W.br).replace("{2,}","*").getRegex(),text:o(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function M(H){return H.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function z(H){var $="",K,V,Q=H.length;for(K=0;K<Q;K++)V=H.charCodeAt(K),Math.random()>.5&&(V="x"+V.toString(16)),$+="&#"+V+";";return $}var G=function(){function H(K){this.tokens=[],this.tokens.links=Object.create(null),this.options=K||j.defaults,this.options.tokenizer=this.options.tokenizer||new O,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var V={block:F.normal,inline:W.normal};this.options.pedantic?(V.block=F.pedantic,V.inline=W.pedantic):this.options.gfm&&(V.block=F.gfm,this.options.breaks?V.inline=W.breaks:V.inline=W.gfm),this.tokenizer.rules=V}H.lex=function(V,Q){var ee=new H(Q);return ee.lex(V)},H.lexInline=function(V,Q){var ee=new H(Q);return ee.inlineTokens(V)};var $=H.prototype;return $.lex=function(V){V=V.replace(/\r\n|\r/g,`
`),this.blockTokens(V,this.tokens);for(var Q;Q=this.inlineQueue.shift();)this.inlineTokens(Q.src,Q.tokens);return this.tokens},$.blockTokens=function(V,Q){var ee=this;Q===void 0&&(Q=[]),this.options.pedantic?V=V.replace(/\t/g,"    ").replace(/^ +$/gm,""):V=V.replace(/^( *)(\t+)/gm,function(Ce,me,be){return me+"    ".repeat(be.length)});for(var ae,fe,pe,ve;V;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ce){return(ae=Ce.call({lexer:ee},V,Q))?(V=V.substring(ae.raw.length),Q.push(ae),!0):!1}))){if(ae=this.tokenizer.space(V)){V=V.substring(ae.raw.length),ae.raw.length===1&&Q.length>0?Q[Q.length-1].raw+=`
`:Q.push(ae);continue}if(ae=this.tokenizer.code(V)){V=V.substring(ae.raw.length),fe=Q[Q.length-1],fe&&(fe.type==="paragraph"||fe.type==="text")?(fe.raw+=`
`+ae.raw,fe.text+=`
`+ae.text,this.inlineQueue[this.inlineQueue.length-1].src=fe.text):Q.push(ae);continue}if(ae=this.tokenizer.fences(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.heading(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.hr(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.blockquote(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.list(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.html(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.def(V)){V=V.substring(ae.raw.length),fe=Q[Q.length-1],fe&&(fe.type==="paragraph"||fe.type==="text")?(fe.raw+=`
`+ae.raw,fe.text+=`
`+ae.raw,this.inlineQueue[this.inlineQueue.length-1].src=fe.text):this.tokens.links[ae.tag]||(this.tokens.links[ae.tag]={href:ae.href,title:ae.title});continue}if(ae=this.tokenizer.table(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.lheading(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(pe=V,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ce=1/0,me=V.slice(1),be=void 0;ee.options.extensions.startBlock.forEach(function(ce){be=ce.call({lexer:this},me),typeof be=="number"&&be>=0&&(Ce=Math.min(Ce,be))}),Ce<1/0&&Ce>=0&&(pe=V.substring(0,Ce+1))}(),this.state.top&&(ae=this.tokenizer.paragraph(pe))){fe=Q[Q.length-1],ve&&fe.type==="paragraph"?(fe.raw+=`
`+ae.raw,fe.text+=`
`+ae.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=fe.text):Q.push(ae),ve=pe.length!==V.length,V=V.substring(ae.raw.length);continue}if(ae=this.tokenizer.text(V)){V=V.substring(ae.raw.length),fe=Q[Q.length-1],fe&&fe.type==="text"?(fe.raw+=`
`+ae.raw,fe.text+=`
`+ae.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=fe.text):Q.push(ae);continue}if(V){var ue="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(ue);break}else throw new Error(ue)}}return this.state.top=!0,Q},$.inline=function(V,Q){this.inlineQueue.push({src:V,tokens:Q})},$.inlineTokens=function(V,Q){var ee=this;Q===void 0&&(Q=[]);var ae,fe,pe,ve=V,ue,Ce,me;if(this.tokens.links){var be=Object.keys(this.tokens.links);if(be.length>0)for(;(ue=this.tokenizer.rules.inline.reflinkSearch.exec(ve))!=null;)be.includes(ue[0].slice(ue[0].lastIndexOf("[")+1,-1))&&(ve=ve.slice(0,ue.index)+"["+R("a",ue[0].length-2)+"]"+ve.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ue=this.tokenizer.rules.inline.blockSkip.exec(ve))!=null;)ve=ve.slice(0,ue.index)+"["+R("a",ue[0].length-2)+"]"+ve.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ue=this.tokenizer.rules.inline.escapedEmSt.exec(ve))!=null;)ve=ve.slice(0,ue.index)+"++"+ve.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;V;)if(Ce||(me=""),Ce=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(he){return(ae=he.call({lexer:ee},V,Q))?(V=V.substring(ae.raw.length),Q.push(ae),!0):!1}))){if(ae=this.tokenizer.escape(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.tag(V)){V=V.substring(ae.raw.length),fe=Q[Q.length-1],fe&&ae.type==="text"&&fe.type==="text"?(fe.raw+=ae.raw,fe.text+=ae.text):Q.push(ae);continue}if(ae=this.tokenizer.link(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.reflink(V,this.tokens.links)){V=V.substring(ae.raw.length),fe=Q[Q.length-1],fe&&ae.type==="text"&&fe.type==="text"?(fe.raw+=ae.raw,fe.text+=ae.text):Q.push(ae);continue}if(ae=this.tokenizer.emStrong(V,ve,me)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.codespan(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.br(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.del(V)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(ae=this.tokenizer.autolink(V,z)){V=V.substring(ae.raw.length),Q.push(ae);continue}if(!this.state.inLink&&(ae=this.tokenizer.url(V,z))){V=V.substring(ae.raw.length),Q.push(ae);continue}if(pe=V,this.options.extensions&&this.options.extensions.startInline&&function(){var he=1/0,we=V.slice(1),ye=void 0;ee.options.extensions.startInline.forEach(function(Te){ye=Te.call({lexer:this},we),typeof ye=="number"&&ye>=0&&(he=Math.min(he,ye))}),he<1/0&&he>=0&&(pe=V.substring(0,he+1))}(),ae=this.tokenizer.inlineText(pe,M)){V=V.substring(ae.raw.length),ae.raw.slice(-1)!=="_"&&(me=ae.raw.slice(-1)),Ce=!0,fe=Q[Q.length-1],fe&&fe.type==="text"?(fe.raw+=ae.raw,fe.text+=ae.text):Q.push(ae);continue}if(V){var ce="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(ce);break}else throw new Error(ce)}}return Q},y(H,null,[{key:"rules",get:function(){return{block:F,inline:W}}}]),H}(),te=function(){function H(K){this.options=K||j.defaults}var $=H.prototype;return $.code=function(V,Q,ee){var ae=(Q||"").match(/\S*/)[0];if(this.options.highlight){var fe=this.options.highlight(V,ae);fe!=null&&fe!==V&&(ee=!0,V=fe)}return V=V.replace(/\n$/,"")+`
`,ae?'<pre><code class="'+this.options.langPrefix+s(ae,!0)+'">'+(ee?V:s(V,!0))+`</code></pre>
`:"<pre><code>"+(ee?V:s(V,!0))+`</code></pre>
`},$.blockquote=function(V){return`<blockquote>
`+V+`</blockquote>
`},$.html=function(V){return V},$.heading=function(V,Q,ee,ae){if(this.options.headerIds){var fe=this.options.headerPrefix+ae.slug(ee);return"<h"+Q+' id="'+fe+'">'+V+"</h"+Q+`>
`}return"<h"+Q+">"+V+"</h"+Q+`>
`},$.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},$.list=function(V,Q,ee){var ae=Q?"ol":"ul",fe=Q&&ee!==1?' start="'+ee+'"':"";return"<"+ae+fe+`>
`+V+"</"+ae+`>
`},$.listitem=function(V){return"<li>"+V+`</li>
`},$.checkbox=function(V){return"<input "+(V?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},$.paragraph=function(V){return"<p>"+V+`</p>
`},$.table=function(V,Q){return Q&&(Q="<tbody>"+Q+"</tbody>"),`<table>
<thead>
`+V+`</thead>
`+Q+`</table>
`},$.tablerow=function(V){return`<tr>
`+V+`</tr>
`},$.tablecell=function(V,Q){var ee=Q.header?"th":"td",ae=Q.align?"<"+ee+' align="'+Q.align+'">':"<"+ee+">";return ae+V+("</"+ee+`>
`)},$.strong=function(V){return"<strong>"+V+"</strong>"},$.em=function(V){return"<em>"+V+"</em>"},$.codespan=function(V){return"<code>"+V+"</code>"},$.br=function(){return this.options.xhtml?"<br/>":"<br>"},$.del=function(V){return"<del>"+V+"</del>"},$.link=function(V,Q,ee){if(V=g(this.options.sanitize,this.options.baseUrl,V),V===null)return ee;var ae='<a href="'+s(V)+'"';return Q&&(ae+=' title="'+Q+'"'),ae+=">"+ee+"</a>",ae},$.image=function(V,Q,ee){if(V=g(this.options.sanitize,this.options.baseUrl,V),V===null)return ee;var ae='<img src="'+V+'" alt="'+ee+'"';return Q&&(ae+=' title="'+Q+'"'),ae+=this.options.xhtml?"/>":">",ae},$.text=function(V){return V},H}(),X=function(){function H(){}var $=H.prototype;return $.strong=function(V){return V},$.em=function(V){return V},$.codespan=function(V){return V},$.del=function(V){return V},$.html=function(V){return V},$.text=function(V){return V},$.link=function(V,Q,ee){return""+ee},$.image=function(V,Q,ee){return""+ee},$.br=function(){return""},H}(),J=function(){function H(){this.seen={}}var $=H.prototype;return $.serialize=function(V){return V.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},$.getNextSafeSlug=function(V,Q){var ee=V,ae=0;if(this.seen.hasOwnProperty(ee)){ae=this.seen[V];do ae++,ee=V+"-"+ae;while(this.seen.hasOwnProperty(ee))}return Q||(this.seen[V]=ae,this.seen[ee]=0),ee},$.slug=function(V,Q){Q===void 0&&(Q={});var ee=this.serialize(V);return this.getNextSafeSlug(ee,Q.dryrun)},H}(),ie=function(){function H(K){this.options=K||j.defaults,this.options.renderer=this.options.renderer||new te,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new X,this.slugger=new J}H.parse=function(V,Q){var ee=new H(Q);return ee.parse(V)},H.parseInline=function(V,Q){var ee=new H(Q);return ee.parseInline(V)};var $=H.prototype;return $.parse=function(V,Q){Q===void 0&&(Q=!0);var ee="",ae,fe,pe,ve,ue,Ce,me,be,ce,he,we,ye,Te,ke,Ne,Oe,Se,_e,Ee,Ae=V.length;for(ae=0;ae<Ae;ae++){if(he=V[ae],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[he.type]&&(Ee=this.options.extensions.renderers[he.type].call({parser:this},he),Ee!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(he.type))){ee+=Ee||"";continue}switch(he.type){case"space":continue;case"hr":{ee+=this.renderer.hr();continue}case"heading":{ee+=this.renderer.heading(this.parseInline(he.tokens),he.depth,d(this.parseInline(he.tokens,this.textRenderer)),this.slugger);continue}case"code":{ee+=this.renderer.code(he.text,he.lang,he.escaped);continue}case"table":{for(be="",me="",ve=he.header.length,fe=0;fe<ve;fe++)me+=this.renderer.tablecell(this.parseInline(he.header[fe].tokens),{header:!0,align:he.align[fe]});for(be+=this.renderer.tablerow(me),ce="",ve=he.rows.length,fe=0;fe<ve;fe++){for(Ce=he.rows[fe],me="",ue=Ce.length,pe=0;pe<ue;pe++)me+=this.renderer.tablecell(this.parseInline(Ce[pe].tokens),{header:!1,align:he.align[pe]});ce+=this.renderer.tablerow(me)}ee+=this.renderer.table(be,ce);continue}case"blockquote":{ce=this.parse(he.tokens),ee+=this.renderer.blockquote(ce);continue}case"list":{for(we=he.ordered,ye=he.start,Te=he.loose,ve=he.items.length,ce="",fe=0;fe<ve;fe++)Ne=he.items[fe],Oe=Ne.checked,Se=Ne.task,ke="",Ne.task&&(_e=this.renderer.checkbox(Oe),Te?Ne.tokens.length>0&&Ne.tokens[0].type==="paragraph"?(Ne.tokens[0].text=_e+" "+Ne.tokens[0].text,Ne.tokens[0].tokens&&Ne.tokens[0].tokens.length>0&&Ne.tokens[0].tokens[0].type==="text"&&(Ne.tokens[0].tokens[0].text=_e+" "+Ne.tokens[0].tokens[0].text)):Ne.tokens.unshift({type:"text",text:_e}):ke+=_e),ke+=this.parse(Ne.tokens,Te),ce+=this.renderer.listitem(ke,Se,Oe);ee+=this.renderer.list(ce,we,ye);continue}case"html":{ee+=this.renderer.html(he.text);continue}case"paragraph":{ee+=this.renderer.paragraph(this.parseInline(he.tokens));continue}case"text":{for(ce=he.tokens?this.parseInline(he.tokens):he.text;ae+1<Ae&&V[ae+1].type==="text";)he=V[++ae],ce+=`
`+(he.tokens?this.parseInline(he.tokens):he.text);ee+=Q?this.renderer.paragraph(ce):ce;continue}default:{var Re='Token with "'+he.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return ee},$.parseInline=function(V,Q){Q=Q||this.renderer;var ee="",ae,fe,pe,ve=V.length;for(ae=0;ae<ve;ae++){if(fe=V[ae],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[fe.type]&&(pe=this.options.extensions.renderers[fe.type].call({parser:this},fe),pe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(fe.type))){ee+=pe||"";continue}switch(fe.type){case"escape":{ee+=Q.text(fe.text);break}case"html":{ee+=Q.html(fe.text);break}case"link":{ee+=Q.link(fe.href,fe.title,this.parseInline(fe.tokens,Q));break}case"image":{ee+=Q.image(fe.href,fe.title,fe.text);break}case"strong":{ee+=Q.strong(this.parseInline(fe.tokens,Q));break}case"em":{ee+=Q.em(this.parseInline(fe.tokens,Q));break}case"codespan":{ee+=Q.codespan(fe.text);break}case"br":{ee+=Q.br();break}case"del":{ee+=Q.del(this.parseInline(fe.tokens,Q));break}case"text":{ee+=Q.text(fe.text);break}default:{var ue='Token with "'+fe.type+'" type was not found.';if(this.options.silent){console.error(ue);return}else throw new Error(ue)}}}return ee},H}();function re(H,$,K){if(typeof H=="undefined"||H===null)throw new Error("marked(): input parameter is undefined or null");if(typeof H!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(H)+", string expected");if(typeof $=="function"&&(K=$,$=null),$=E({},re.defaults,$||{}),B($),K){var V=$.highlight,Q;try{Q=G.lex(H,$)}catch(pe){return K(pe)}var ee=function(ve){var ue;if(!ve)try{$.walkTokens&&re.walkTokens(Q,$.walkTokens),ue=ie.parse(Q,$)}catch(Ce){ve=Ce}return $.highlight=V,ve?K(ve):K(null,ue)};if(!V||V.length<3||(delete $.highlight,!Q.length))return ee();var ae=0;re.walkTokens(Q,function(pe){pe.type==="code"&&(ae++,setTimeout(function(){V(pe.text,pe.lang,function(ve,ue){if(ve)return ee(ve);ue!=null&&ue!==pe.text&&(pe.text=ue,pe.escaped=!0),ae--,ae===0&&ee()})},0))}),ae===0&&ee();return}try{var fe=G.lex(H,$);return $.walkTokens&&re.walkTokens(fe,$.walkTokens),ie.parse(fe,$)}catch(pe){if(pe.message+=`
Please report this to https://github.com/markedjs/marked.`,$.silent)return"<p>An error occurred:</p><pre>"+s(pe.message+"",!0)+"</pre>";throw pe}}re.options=re.setOptions=function(H){return E(re.defaults,H),b(re.defaults),re},re.getDefaults=w,re.defaults=j.defaults,re.use=function(){for(var H=arguments.length,$=new Array(H),K=0;K<H;K++)$[K]=arguments[K];var V=E.apply(void 0,[{}].concat($)),Q=re.defaults.extensions||{renderers:{},childTokens:{}},ee;$.forEach(function(ae){if(ae.extensions&&(ee=!0,ae.extensions.forEach(function(pe){if(!pe.name)throw new Error("extension name required");if(pe.renderer){var ve=Q.renderers?Q.renderers[pe.name]:null;ve?Q.renderers[pe.name]=function(){for(var ue=arguments.length,Ce=new Array(ue),me=0;me<ue;me++)Ce[me]=arguments[me];var be=pe.renderer.apply(this,Ce);return be===!1&&(be=ve.apply(this,Ce)),be}:Q.renderers[pe.name]=pe.renderer}if(pe.tokenizer){if(!pe.level||pe.level!=="block"&&pe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Q[pe.level]?Q[pe.level].unshift(pe.tokenizer):Q[pe.level]=[pe.tokenizer],pe.start&&(pe.level==="block"?Q.startBlock?Q.startBlock.push(pe.start):Q.startBlock=[pe.start]:pe.level==="inline"&&(Q.startInline?Q.startInline.push(pe.start):Q.startInline=[pe.start]))}pe.childTokens&&(Q.childTokens[pe.name]=pe.childTokens)})),ae.renderer&&function(){var pe=re.defaults.renderer||new te,ve=function(me){var be=pe[me];pe[me]=function(){for(var ce=arguments.length,he=new Array(ce),we=0;we<ce;we++)he[we]=arguments[we];var ye=ae.renderer[me].apply(pe,he);return ye===!1&&(ye=be.apply(pe,he)),ye}};for(var ue in ae.renderer)ve(ue);V.renderer=pe}(),ae.tokenizer&&function(){var pe=re.defaults.tokenizer||new O,ve=function(me){var be=pe[me];pe[me]=function(){for(var ce=arguments.length,he=new Array(ce),we=0;we<ce;we++)he[we]=arguments[we];var ye=ae.tokenizer[me].apply(pe,he);return ye===!1&&(ye=be.apply(pe,he)),ye}};for(var ue in ae.tokenizer)ve(ue);V.tokenizer=pe}(),ae.walkTokens){var fe=re.defaults.walkTokens;V.walkTokens=function(pe){ae.walkTokens.call(this,pe),fe&&fe.call(this,pe)}}ee&&(V.extensions=Q),re.setOptions(V)})},re.walkTokens=function(H,$){for(var K=function(){var ae=Q.value;switch($.call(re,ae),ae.type){case"table":{for(var fe=D(ae.header),pe;!(pe=fe()).done;){var ve=pe.value;re.walkTokens(ve.tokens,$)}for(var ue=D(ae.rows),Ce;!(Ce=ue()).done;)for(var me=Ce.value,be=D(me),ce;!(ce=be()).done;){var he=ce.value;re.walkTokens(he.tokens,$)}break}case"list":{re.walkTokens(ae.items,$);break}default:re.defaults.extensions&&re.defaults.extensions.childTokens&&re.defaults.extensions.childTokens[ae.type]?re.defaults.extensions.childTokens[ae.type].forEach(function(we){re.walkTokens(ae[we],$)}):ae.tokens&&re.walkTokens(ae.tokens,$)}},V=D(H),Q;!(Q=V()).done;)K()},re.parseInline=function(H,$){if(typeof H=="undefined"||H===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof H!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(H)+", string expected");$=E({},re.defaults,$||{}),B($);try{var K=G.lexInline(H,$);return $.walkTokens&&re.walkTokens(K,$.walkTokens),ie.parseInline(K,$)}catch(V){if(V.message+=`
Please report this to https://github.com/markedjs/marked.`,$.silent)return"<p>An error occurred:</p><pre>"+s(V.message+"",!0)+"</pre>";throw V}},re.Parser=ie,re.parser=ie.parse,re.Renderer=te,re.TextRenderer=X,re.Lexer=G,re.lexer=G.lex,re.Tokenizer=O,re.Slugger=J,re.parse=re;var Z=re.options,x=re.setOptions,U=re.use,q=re.walkTokens,le=re.parseInline,se=re,Y=ie.parse,de=G.lex;j.Lexer=G,j.Parser=ie,j.Renderer=te,j.Slugger=J,j.TextRenderer=X,j.Tokenizer=O,j.getDefaults=w,j.lexer=de,j.marked=re,j.options=Z,j.parse=se,j.parseInline=le,j.parser=Y,j.setOptions=x,j.use=U,j.walkTokens=q,Object.defineProperty(j,"__esModule",{value:!0})}),define(ne[105],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0;var y;(function(f){f.text="text/plain",f.binary="application/octet-stream",f.unknown="application/unknown",f.markdown="text/markdown",f.latex="text/latex",f.uriList="text/uri-list"})(y=e.Mimes||(e.Mimes={}))}),define(ne[121],oe([1,0,105]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:y.Mimes.text};class f{constructor(D){this.data=D}update(){}getData(){return this.data}}e.DragAndDropData=f,e.StaticDND={CurrentDragAndDropData:void 0}}),define(ne[328],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class y{constructor(N,D=0,w=N.length,b=D-1){this.items=N,this.start=D,this.end=w,this.index=b}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=y}),define(ne[329],oe([1,0,328]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class f{constructor(D=[],w=10){this._initialize(D),this._limit=w,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new y.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const w of D)this._history.add(w)}get _elements(){const D=[];return this._history.forEach(w=>D.push(w)),D}}e.HistoryNavigator=f}),define(ne[122],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function y(D,w,b){return Math.min(Math.max(D,w),b)}e.clamp=y;class f{constructor(){this._n=1,this._val=0}update(w){return this._val=this._val+(w-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=f;class N{constructor(w){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(w),this._values.fill(0,0,w)}update(w){const b=this._values[this._index];return this._values[this._index]=w,this._index=(this._index+1)%this._values.length,this._sum-=b,this._sum+=w,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=N}),define(ne[17],oe([1,0]),function(j,e){"use strict";var y,f,N;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const D="en";let w=!1,b=!1,v=!1,u=!1,h=!1,i=!1,n=!1,t=!1,s=!1,l,d=D,a,o;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let r;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?r=e.globals.vscode.process:typeof process!="undefined"&&(r=process);const c=typeof((y=r==null?void 0:r.versions)===null||y===void 0?void 0:y.electron)=="string",g=c&&(r==null?void 0:r.type)==="renderer";if(typeof navigator=="object"&&!g){o=navigator.userAgent,w=o.indexOf("Windows")>=0,b=o.indexOf("Macintosh")>=0,t=(o.indexOf("Macintosh")>=0||o.indexOf("iPad")>=0||o.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,v=o.indexOf("Linux")>=0,i=!0;let _=null;typeof e.globals.require!="undefined"&&typeof e.globals.require.getConfig=="function"?_=e.globals.require.getConfig():typeof e.globals.requirejs!="undefined"&&(_=e.globals.requirejs.s.contexts._.config),l=((N=(f=_==null?void 0:_["vs/nls"])===null||f===void 0?void 0:f.availableLanguages)===null||N===void 0?void 0:N["*"])||navigator.language,d=l}else if(typeof r=="object"){w=r.platform==="win32",b=r.platform==="darwin",v=r.platform==="linux",u=v&&!!r.env.SNAP&&!!r.env.SNAP_REVISION,n=c,s=!!r.env.CI||!!r.env.BUILD_ARTIFACTSTAGINGDIRECTORY,l=D,d=D;const _=r.env.VSCODE_NLS_CONFIG;if(_)try{const L=JSON.parse(_),E=L.availableLanguages["*"];l=L.locale,d=E||D,a=L._translationsConfigFile}catch{}h=!0}else console.error("Unable to resolve platform.");let m=0;b?m=1:w?m=3:v&&(m=2),e.isWindows=w,e.isMacintosh=b,e.isLinux=v,e.isNative=h,e.isWeb=i,e.isWebWorker=i&&typeof e.globals.importScripts=="function",e.isIOS=t,e.userAgent=o,e.language=d,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const _=[];e.globals.addEventListener("message",E=>{if(E.data&&E.data.vscodeScheduleAsyncWork)for(let I=0,T=_.length;I<T;I++){const P=_[I];if(P.id===E.data.vscodeScheduleAsyncWork){_.splice(I,1),P.callback();return}}});let L=0;return E=>{const I=++L;_.push({id:I,callback:E}),e.globals.postMessage({vscodeScheduleAsyncWork:I},"*")}}return _=>setTimeout(_)})(),e.OS=b||t?2:w?1:3;let S=!0,p=!1;function C(){if(!p){p=!0;const _=new Uint8Array(2);_[0]=1,_[1]=2,S=new Uint16Array(_.buffer)[0]===(2<<8)+1}return S}e.isLittleEndian=C,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(ne[330],oe([1,0,17]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let f;if(typeof y.globals.vscode!="undefined"&&typeof y.globals.vscode.process!="undefined"){const N=y.globals.vscode.process;f={get platform(){return N.platform},get arch(){return N.arch},get env(){return N.env},cwd(){return N.cwd()}}}else typeof process!="undefined"?f={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:f={get platform(){return y.isWindows?"win32":y.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=f.cwd,e.env=f.env,e.platform=f.platform}),define(ne[80],oe([1,0,330]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const f=65,N=97,D=90,w=122,b=46,v=47,u=92,h=58,i=63;class n extends Error{constructor(c,g,m){let S;typeof g=="string"&&g.indexOf("not ")===0?(S="must not be",g=g.replace(/^not /,"")):S="must be";const p=c.indexOf(".")!==-1?"property":"argument";let C=`The "${c}" ${p} ${S} of type ${g}`;C+=`. Received type ${typeof m}`;super(C);this.code="ERR_INVALID_ARG_TYPE"}}function t(r,c){if(typeof r!="string")throw new n(c,"string",r)}function s(r){return r===v||r===u}function l(r){return r===v}function d(r){return r>=f&&r<=D||r>=N&&r<=w}function a(r,c,g,m){let S="",p=0,C=-1,_=0,L=0;for(let E=0;E<=r.length;++E){if(E<r.length)L=r.charCodeAt(E);else{if(m(L))break;L=v}if(m(L)){if(!(C===E-1||_===1))if(_===2){if(S.length<2||p!==2||S.charCodeAt(S.length-1)!==b||S.charCodeAt(S.length-2)!==b){if(S.length>2){const I=S.lastIndexOf(g);I===-1?(S="",p=0):(S=S.slice(0,I),p=S.length-1-S.lastIndexOf(g)),C=E,_=0;continue}else if(S.length!==0){S="",p=0,C=E,_=0;continue}}c&&(S+=S.length>0?`${g}..`:"..",p=2)}else S.length>0?S+=`${g}${r.slice(C+1,E)}`:S=r.slice(C+1,E),p=E-C-1;C=E,_=0}else L===b&&_!==-1?++_:_=-1}return S}function o(r,c){if(c===null||typeof c!="object")throw new n("pathObject","Object",c);const g=c.dir||c.root,m=c.base||`${c.name||""}${c.ext||""}`;return g?g===c.root?`${g}${m}`:`${g}${r}${m}`:m}e.win32={resolve(...r){let c="",g="",m=!1;for(let S=r.length-1;S>=-1;S--){let p;if(S>=0){if(p=r[S],t(p,"path"),p.length===0)continue}else c.length===0?p=y.cwd():(p=y.env[`=${c}`]||y.cwd(),(p===void 0||p.slice(0,2).toLowerCase()!==c.toLowerCase()&&p.charCodeAt(2)===u)&&(p=`${c}\\`));const C=p.length;let _=0,L="",E=!1;const I=p.charCodeAt(0);if(C===1)s(I)&&(_=1,E=!0);else if(s(I))if(E=!0,s(p.charCodeAt(1))){let T=2,P=T;for(;T<C&&!s(p.charCodeAt(T));)T++;if(T<C&&T!==P){const B=p.slice(P,T);for(P=T;T<C&&s(p.charCodeAt(T));)T++;if(T<C&&T!==P){for(P=T;T<C&&!s(p.charCodeAt(T));)T++;(T===C||T!==P)&&(L=`\\\\${B}\\${p.slice(P,T)}`,_=T)}}}else _=1;else d(I)&&p.charCodeAt(1)===h&&(L=p.slice(0,2),_=2,C>2&&s(p.charCodeAt(2))&&(E=!0,_=3));if(L.length>0)if(c.length>0){if(L.toLowerCase()!==c.toLowerCase())continue}else c=L;if(m){if(c.length>0)break}else if(g=`${p.slice(_)}\\${g}`,m=E,E&&c.length>0)break}return g=a(g,!m,"\\",s),m?`${c}\\${g}`:`${c}${g}`||"."},normalize(r){t(r,"path");const c=r.length;if(c===0)return".";let g=0,m,S=!1;const p=r.charCodeAt(0);if(c===1)return l(p)?"\\":r;if(s(p))if(S=!0,s(r.charCodeAt(1))){let _=2,L=_;for(;_<c&&!s(r.charCodeAt(_));)_++;if(_<c&&_!==L){const E=r.slice(L,_);for(L=_;_<c&&s(r.charCodeAt(_));)_++;if(_<c&&_!==L){for(L=_;_<c&&!s(r.charCodeAt(_));)_++;if(_===c)return`\\\\${E}\\${r.slice(L)}\\`;_!==L&&(m=`\\\\${E}\\${r.slice(L,_)}`,g=_)}}}else g=1;else d(p)&&r.charCodeAt(1)===h&&(m=r.slice(0,2),g=2,c>2&&s(r.charCodeAt(2))&&(S=!0,g=3));let C=g<c?a(r.slice(g),!S,"\\",s):"";return C.length===0&&!S&&(C="."),C.length>0&&s(r.charCodeAt(c-1))&&(C+="\\"),m===void 0?S?`\\${C}`:C:S?`${m}\\${C}`:`${m}${C}`},isAbsolute(r){t(r,"path");const c=r.length;if(c===0)return!1;const g=r.charCodeAt(0);return s(g)||c>2&&d(g)&&r.charCodeAt(1)===h&&s(r.charCodeAt(2))},join(...r){if(r.length===0)return".";let c,g;for(let p=0;p<r.length;++p){const C=r[p];t(C,"path"),C.length>0&&(c===void 0?c=g=C:c+=`\\${C}`)}if(c===void 0)return".";let m=!0,S=0;if(typeof g=="string"&&s(g.charCodeAt(0))){++S;const p=g.length;p>1&&s(g.charCodeAt(1))&&(++S,p>2&&(s(g.charCodeAt(2))?++S:m=!1))}if(m){for(;S<c.length&&s(c.charCodeAt(S));)S++;S>=2&&(c=`\\${c.slice(S)}`)}return e.win32.normalize(c)},relative(r,c){if(t(r,"from"),t(c,"to"),r===c)return"";const g=e.win32.resolve(r),m=e.win32.resolve(c);if(g===m||(r=g.toLowerCase(),c=m.toLowerCase(),r===c))return"";let S=0;for(;S<r.length&&r.charCodeAt(S)===u;)S++;let p=r.length;for(;p-1>S&&r.charCodeAt(p-1)===u;)p--;const C=p-S;let _=0;for(;_<c.length&&c.charCodeAt(_)===u;)_++;let L=c.length;for(;L-1>_&&c.charCodeAt(L-1)===u;)L--;const E=L-_,I=C<E?C:E;let T=-1,P=0;for(;P<I;P++){const R=r.charCodeAt(S+P);if(R!==c.charCodeAt(_+P))break;R===u&&(T=P)}if(P!==I){if(T===-1)return m}else{if(E>I){if(c.charCodeAt(_+P)===u)return m.slice(_+P+1);if(P===2)return m.slice(_+P)}C>I&&(r.charCodeAt(S+P)===u?T=P:P===2&&(T=3)),T===-1&&(T=0)}let B="";for(P=S+T+1;P<=p;++P)(P===p||r.charCodeAt(P)===u)&&(B+=B.length===0?"..":"\\..");return _+=T,B.length>0?`${B}${m.slice(_,L)}`:(m.charCodeAt(_)===u&&++_,m.slice(_,L))},toNamespacedPath(r){if(typeof r!="string")return r;if(r.length===0)return"";const c=e.win32.resolve(r);if(c.length<=2)return r;if(c.charCodeAt(0)===u){if(c.charCodeAt(1)===u){const g=c.charCodeAt(2);if(g!==i&&g!==b)return`\\\\?\\UNC\\${c.slice(2)}`}}else if(d(c.charCodeAt(0))&&c.charCodeAt(1)===h&&c.charCodeAt(2)===u)return`\\\\?\\${c}`;return r},dirname(r){t(r,"path");const c=r.length;if(c===0)return".";let g=-1,m=0;const S=r.charCodeAt(0);if(c===1)return s(S)?r:".";if(s(S)){if(g=m=1,s(r.charCodeAt(1))){let _=2,L=_;for(;_<c&&!s(r.charCodeAt(_));)_++;if(_<c&&_!==L){for(L=_;_<c&&s(r.charCodeAt(_));)_++;if(_<c&&_!==L){for(L=_;_<c&&!s(r.charCodeAt(_));)_++;if(_===c)return r;_!==L&&(g=m=_+1)}}}}else d(S)&&r.charCodeAt(1)===h&&(g=c>2&&s(r.charCodeAt(2))?3:2,m=g);let p=-1,C=!0;for(let _=c-1;_>=m;--_)if(s(r.charCodeAt(_))){if(!C){p=_;break}}else C=!1;if(p===-1){if(g===-1)return".";p=g}return r.slice(0,p)},basename(r,c){c!==void 0&&t(c,"ext"),t(r,"path");let g=0,m=-1,S=!0,p;if(r.length>=2&&d(r.charCodeAt(0))&&r.charCodeAt(1)===h&&(g=2),c!==void 0&&c.length>0&&c.length<=r.length){if(c===r)return"";let C=c.length-1,_=-1;for(p=r.length-1;p>=g;--p){const L=r.charCodeAt(p);if(s(L)){if(!S){g=p+1;break}}else _===-1&&(S=!1,_=p+1),C>=0&&(L===c.charCodeAt(C)?--C==-1&&(m=p):(C=-1,m=_))}return g===m?m=_:m===-1&&(m=r.length),r.slice(g,m)}for(p=r.length-1;p>=g;--p)if(s(r.charCodeAt(p))){if(!S){g=p+1;break}}else m===-1&&(S=!1,m=p+1);return m===-1?"":r.slice(g,m)},extname(r){t(r,"path");let c=0,g=-1,m=0,S=-1,p=!0,C=0;r.length>=2&&r.charCodeAt(1)===h&&d(r.charCodeAt(0))&&(c=m=2);for(let _=r.length-1;_>=c;--_){const L=r.charCodeAt(_);if(s(L)){if(!p){m=_+1;break}continue}S===-1&&(p=!1,S=_+1),L===b?g===-1?g=_:C!==1&&(C=1):g!==-1&&(C=-1)}return g===-1||S===-1||C===0||C===1&&g===S-1&&g===m+1?"":r.slice(g,S)},format:o.bind(null,"\\"),parse(r){t(r,"path");const c={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return c;const g=r.length;let m=0,S=r.charCodeAt(0);if(g===1)return s(S)?(c.root=c.dir=r,c):(c.base=c.name=r,c);if(s(S)){if(m=1,s(r.charCodeAt(1))){let T=2,P=T;for(;T<g&&!s(r.charCodeAt(T));)T++;if(T<g&&T!==P){for(P=T;T<g&&s(r.charCodeAt(T));)T++;if(T<g&&T!==P){for(P=T;T<g&&!s(r.charCodeAt(T));)T++;T===g?m=T:T!==P&&(m=T+1)}}}}else if(d(S)&&r.charCodeAt(1)===h){if(g<=2)return c.root=c.dir=r,c;if(m=2,s(r.charCodeAt(2))){if(g===3)return c.root=c.dir=r,c;m=3}}m>0&&(c.root=r.slice(0,m));let p=-1,C=m,_=-1,L=!0,E=r.length-1,I=0;for(;E>=m;--E){if(S=r.charCodeAt(E),s(S)){if(!L){C=E+1;break}continue}_===-1&&(L=!1,_=E+1),S===b?p===-1?p=E:I!==1&&(I=1):p!==-1&&(I=-1)}return _!==-1&&(p===-1||I===0||I===1&&p===_-1&&p===C+1?c.base=c.name=r.slice(C,_):(c.name=r.slice(C,p),c.base=r.slice(C,_),c.ext=r.slice(p,_))),C>0&&C!==m?c.dir=r.slice(0,C-1):c.dir=c.root,c},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...r){let c="",g=!1;for(let m=r.length-1;m>=-1&&!g;m--){const S=m>=0?r[m]:y.cwd();t(S,"path"),S.length!==0&&(c=`${S}/${c}`,g=S.charCodeAt(0)===v)}return c=a(c,!g,"/",l),g?`/${c}`:c.length>0?c:"."},normalize(r){if(t(r,"path"),r.length===0)return".";const c=r.charCodeAt(0)===v,g=r.charCodeAt(r.length-1)===v;return r=a(r,!c,"/",l),r.length===0?c?"/":g?"./":".":(g&&(r+="/"),c?`/${r}`:r)},isAbsolute(r){return t(r,"path"),r.length>0&&r.charCodeAt(0)===v},join(...r){if(r.length===0)return".";let c;for(let g=0;g<r.length;++g){const m=r[g];t(m,"path"),m.length>0&&(c===void 0?c=m:c+=`/${m}`)}return c===void 0?".":e.posix.normalize(c)},relative(r,c){if(t(r,"from"),t(c,"to"),r===c||(r=e.posix.resolve(r),c=e.posix.resolve(c),r===c))return"";const g=1,m=r.length,S=m-g,p=1,C=c.length-p,_=S<C?S:C;let L=-1,E=0;for(;E<_;E++){const T=r.charCodeAt(g+E);if(T!==c.charCodeAt(p+E))break;T===v&&(L=E)}if(E===_)if(C>_){if(c.charCodeAt(p+E)===v)return c.slice(p+E+1);if(E===0)return c.slice(p+E)}else S>_&&(r.charCodeAt(g+E)===v?L=E:E===0&&(L=0));let I="";for(E=g+L+1;E<=m;++E)(E===m||r.charCodeAt(E)===v)&&(I+=I.length===0?"..":"/..");return`${I}${c.slice(p+L)}`},toNamespacedPath(r){return r},dirname(r){if(t(r,"path"),r.length===0)return".";const c=r.charCodeAt(0)===v;let g=-1,m=!0;for(let S=r.length-1;S>=1;--S)if(r.charCodeAt(S)===v){if(!m){g=S;break}}else m=!1;return g===-1?c?"/":".":c&&g===1?"//":r.slice(0,g)},basename(r,c){c!==void 0&&t(c,"ext"),t(r,"path");let g=0,m=-1,S=!0,p;if(c!==void 0&&c.length>0&&c.length<=r.length){if(c===r)return"";let C=c.length-1,_=-1;for(p=r.length-1;p>=0;--p){const L=r.charCodeAt(p);if(L===v){if(!S){g=p+1;break}}else _===-1&&(S=!1,_=p+1),C>=0&&(L===c.charCodeAt(C)?--C==-1&&(m=p):(C=-1,m=_))}return g===m?m=_:m===-1&&(m=r.length),r.slice(g,m)}for(p=r.length-1;p>=0;--p)if(r.charCodeAt(p)===v){if(!S){g=p+1;break}}else m===-1&&(S=!1,m=p+1);return m===-1?"":r.slice(g,m)},extname(r){t(r,"path");let c=-1,g=0,m=-1,S=!0,p=0;for(let C=r.length-1;C>=0;--C){const _=r.charCodeAt(C);if(_===v){if(!S){g=C+1;break}continue}m===-1&&(S=!1,m=C+1),_===b?c===-1?c=C:p!==1&&(p=1):c!==-1&&(p=-1)}return c===-1||m===-1||p===0||p===1&&c===m-1&&c===g+1?"":r.slice(c,m)},format:o.bind(null,"/"),parse(r){t(r,"path");const c={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return c;const g=r.charCodeAt(0)===v;let m;g?(c.root="/",m=1):m=0;let S=-1,p=0,C=-1,_=!0,L=r.length-1,E=0;for(;L>=m;--L){const I=r.charCodeAt(L);if(I===v){if(!_){p=L+1;break}continue}C===-1&&(_=!1,C=L+1),I===b?S===-1?S=L:E!==1&&(E=1):S!==-1&&(E=-1)}if(C!==-1){const I=p===0&&g?1:p;S===-1||E===0||E===1&&S===C-1&&S===p+1?c.base=c.name=r.slice(I,C):(c.name=r.slice(I,S),c.base=r.slice(I,C),c.ext=r.slice(S,C))}return p>0?c.dir=r.slice(0,p-1):g&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=y.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=y.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=y.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=y.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=y.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=y.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=y.platform==="win32"?e.win32.sep:e.posix.sep}),define(ne[143],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var y;(function(f){function N(v,u){if(v.start>=u.end||u.start>=v.end)return{start:0,end:0};const h=Math.max(v.start,u.start),i=Math.min(v.end,u.end);return i-h<=0?{start:0,end:0}:{start:h,end:i}}f.intersect=N;function D(v){return v.end-v.start<=0}f.isEmpty=D;function w(v,u){return!D(N(v,u))}f.intersects=w;function b(v,u){const h=[],i={start:v.start,end:Math.min(u.start,v.end)},n={start:Math.max(u.end,v.start),end:v.end};return D(i)||h.push(i),D(n)||h.push(n),h}f.relativeComplement=b})(y=e.Range||(e.Range={}))}),define(ne[331],oe([1,0,143]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function f(v,u){const h=[];for(const i of u){if(v.start>=i.range.end)continue;if(v.end<i.range.start)break;const n=y.Range.intersect(v,i.range);y.Range.isEmpty(n)||h.push({range:n,size:i.size})}return h}e.groupIntersect=f;function N({start:v,end:u},h){return{start:v+h,end:u+h}}e.shift=N;function D(v){const u=[];let h=null;for(const i of v){const n=i.range.start,t=i.range.end,s=i.size;if(h&&s===h.size){h.range.end=t;continue}h={range:{start:n,end:t},size:s},u.push(h)}return u}e.consolidate=D;function w(...v){return D(v.reduce((u,h)=>u.concat(h),[]))}class b{constructor(){this.groups=[],this._size=0}splice(u,h,i=[]){const n=i.length-h,t=f({start:0,end:u},this.groups),s=f({start:u+h,end:Number.POSITIVE_INFINITY},this.groups).map(d=>({range:N(d.range,n),size:d.size})),l=i.map((d,a)=>({range:{start:u+a,end:u+a+1},size:d.size}));this.groups=w(t,l,s),this._size=this.groups.reduce((d,a)=>d+a.size*(a.range.end-a.range.start),0)}get count(){const u=this.groups.length;return u?this.groups[u-1].range.end:0}get size(){return this._size}indexAt(u){if(u<0)return-1;let h=0,i=0;for(const n of this.groups){const t=n.range.end-n.range.start,s=i+t*n.size;if(u<s)return h+Math.floor((u-i)/n.size);h+=t,i=s}return h}indexAfter(u){return Math.min(this.indexAt(u)+1,this.count)}positionAt(u){if(u<0)return-1;let h=0,i=0;for(const n of this.groups){const t=n.range.end-n.range.start,s=i+t;if(u<s)return h+(u-i)*n.size;h+=t*n.size,i=s}return-1}}e.RangeMap=b}),define(ne[57],oe([1,0,17]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const f=y.globals.performance&&typeof y.globals.performance.now=="function";class N{constructor(w){this._highResolution=f&&w,this._startTime=this._now(),this._stopTime=-1}static create(w=!0){return new N(w)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?y.globals.performance.now():Date.now()}}e.StopWatch=N}),define(ne[4],oe([1,0,13,2,79,57]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.EventDeliveryQueue=e.Emitter=e.Event=void 0;const w=!1,b=!1;var v;(function(m){m.None=()=>f.Disposable.None;function S(X){if(b){const{onListenerDidAdd:J}=X,ie=n.create();let re=0;X.onListenerDidAdd=()=>{++re==2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),ie.print()),J==null||J()}}}function p(X){return(J,ie=null,re)=>{let Z=!1,x;return x=X(U=>{if(!Z)return x?x.dispose():Z=!0,J.call(ie,U)},null,re),Z&&x.dispose(),x}}m.once=p;function C(X,J,ie){return P((re,Z=null,x)=>X(U=>re.call(Z,J(U)),null,x),ie)}m.map=C;function _(X,J,ie){return P((re,Z=null,x)=>X(U=>{J(U),re.call(Z,U)},null,x),ie)}m.forEach=_;function L(X,J,ie){return P((re,Z=null,x)=>X(U=>J(U)&&re.call(Z,U),null,x),ie)}m.filter=L;function E(X){return X}m.signal=E;function I(...X){return(J,ie=null,re)=>(0,f.combinedDisposable)(...X.map(Z=>Z(x=>J.call(ie,x),null,re)))}m.any=I;function T(X,J,ie,re){let Z=ie;return C(X,x=>(Z=J(Z,x),Z),re)}m.reduce=T;function P(X,J){let ie;const re={onFirstListenerAdd(){ie=X(Z.fire,Z)},onLastListenerRemove(){ie==null||ie.dispose()}};J||S(re);const Z=new s(re);return J&&J.add(Z),Z.event}function B(X,J,ie=100,re=!1,Z,x){let U,q,le,se=0;const Y={leakWarningThreshold:Z,onFirstListenerAdd(){U=X(H=>{se++,q=J(q,H),re&&!le&&(de.fire(q),q=void 0),clearTimeout(le),le=setTimeout(()=>{const $=q;q=void 0,le=void 0,(!re||se>1)&&de.fire($),se=0},ie)})},onLastListenerRemove(){U.dispose()}};x||S(Y);const de=new s(Y);return x&&x.add(de),de.event}m.debounce=B;function R(X,J=(re,Z)=>re===Z,ie){let re=!0,Z;return L(X,x=>{const U=re||!J(x,Z);return re=!1,Z=x,U},ie)}m.latch=R;function k(X,J,ie){return[m.filter(X,J,ie),m.filter(X,re=>!J(re),ie)]}m.split=k;function A(X,J=!1,ie=[]){let re=ie.slice(),Z=X(q=>{re?re.push(q):U.fire(q)});const x=()=>{re&&re.forEach(q=>U.fire(q)),re=null},U=new s({onFirstListenerAdd(){Z||(Z=X(q=>U.fire(q)))},onFirstListenerDidAdd(){re&&(J?setTimeout(x):x())},onLastListenerRemove(){Z&&Z.dispose(),Z=null}});return U.event}m.buffer=A;class O{constructor(J){this.event=J,this.disposables=new f.DisposableStore}map(J){return new O(C(this.event,J,this.disposables))}forEach(J){return new O(_(this.event,J,this.disposables))}filter(J){return new O(L(this.event,J,this.disposables))}reduce(J,ie){return new O(T(this.event,J,ie,this.disposables))}latch(){return new O(R(this.event,void 0,this.disposables))}debounce(J,ie=100,re=!1,Z){return new O(B(this.event,J,ie,re,Z,this.disposables))}on(J,ie,re){return this.event(J,ie,re)}once(J,ie,re){return p(this.event)(J,ie,re)}dispose(){this.disposables.dispose()}}function F(X){return new O(X)}m.chain=F;function W(X,J,ie=re=>re){const re=(...q)=>U.fire(ie(...q)),Z=()=>X.on(J,re),x=()=>X.removeListener(J,re),U=new s({onFirstListenerAdd:Z,onLastListenerRemove:x});return U.event}m.fromNodeEventEmitter=W;function M(X,J,ie=re=>re){const re=(...q)=>U.fire(ie(...q)),Z=()=>X.addEventListener(J,re),x=()=>X.removeEventListener(J,re),U=new s({onFirstListenerAdd:Z,onLastListenerRemove:x});return U.event}m.fromDOMEventEmitter=M;function z(X){return new Promise(J=>p(X)(J))}m.toPromise=z;function G(X,J){return J(void 0),X(ie=>J(ie))}m.runAndSubscribe=G;function te(X,J){let ie=null;function re(x){ie==null||ie.dispose(),ie=new f.DisposableStore,J(x,ie)}re(void 0);const Z=X(x=>re(x));return(0,f.toDisposable)(()=>{Z.dispose(),ie==null||ie.dispose()})}m.runAndSubscribeWithStore=te})(v=e.Event||(e.Event={}));class u{constructor(S){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${S}_${u._idPool++}`}start(S){this._stopWatch=new D.StopWatch(!0),this._listenerCount=S}stop(){if(this._stopWatch){const S=this._stopWatch.elapsed();this._elapsedOverall+=S,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${S.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}u._idPool=0;let h=-1;class i{constructor(S,p=Math.random().toString(18).slice(2,5)){this.customThreshold=S,this.name=p,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(S,p){let C=h;if(typeof this.customThreshold=="number"&&(C=this.customThreshold),C<=0||p<C)return;this._stacks||(this._stacks=new Map);const _=this._stacks.get(S.value)||0;if(this._stacks.set(S.value,_+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=C*.5;let L,E=0;for(const[I,T]of this._stacks)(!L||E<T)&&(L=I,E=T);console.warn(`[${this.name}] potential listener LEAK detected, having ${p} listeners already. MOST frequent listener (${E}):`),console.warn(L)}return()=>{const L=this._stacks.get(S.value)||0;this._stacks.set(S.value,L-1)}}}class n{constructor(S){this.value=S}static create(){var S;return new n((S=new Error().stack)!==null&&S!==void 0?S:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class t{constructor(S,p,C){this.callback=S,this.callbackThis=p,this.stack=C,this.subscription=new f.SafeDisposable}invoke(S){this.callback.call(this.callbackThis,S)}}class s{constructor(S){var p,C;this._disposed=!1,this._options=S,this._leakageMon=h>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((p=this._options)===null||p===void 0?void 0:p._profName)?new u(this._options._profName):void 0,this._deliveryQueue=(C=this._options)===null||C===void 0?void 0:C.deliveryQueue}dispose(){var S,p,C,_;if(!this._disposed){if(this._disposed=!0,this._listeners){if(w){const L=Array.from(this._listeners);queueMicrotask(()=>{var E;for(const I of L)I.subscription.isset()&&(I.subscription.unset(),(E=I.stack)===null||E===void 0||E.print())})}this._listeners.clear()}(S=this._deliveryQueue)===null||S===void 0||S.clear(this),(C=(p=this._options)===null||p===void 0?void 0:p.onLastListenerRemove)===null||C===void 0||C.call(p),(_=this._leakageMon)===null||_===void 0||_.dispose()}}get event(){return this._event||(this._event=(S,p,C)=>{var _,L,E;this._listeners||(this._listeners=new N.LinkedList);const I=this._listeners.isEmpty();I&&((_=this._options)===null||_===void 0?void 0:_.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let T,P;this._leakageMon&&this._listeners.size>=30&&(P=n.create(),T=this._leakageMon.check(P,this._listeners.size+1)),w&&(P=P??n.create());const B=new t(S,p,P),R=this._listeners.push(B);I&&((L=this._options)===null||L===void 0?void 0:L.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),((E=this._options)===null||E===void 0?void 0:E.onListenerDidAdd)&&this._options.onListenerDidAdd(this,S,p);const k=B.subscription.set(()=>{T==null||T(),this._disposed||(R(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return C instanceof f.DisposableStore?C.add(k):Array.isArray(C)&&C.push(k),k}),this._event}fire(S){var p,C;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new d);for(const _ of this._listeners)this._deliveryQueue.push(this,_,S);(p=this._perfMon)===null||p===void 0||p.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(C=this._perfMon)===null||C===void 0||C.stop()}}}e.Emitter=s;class l{constructor(){this._queue=new N.LinkedList}get size(){return this._queue.size}push(S,p,C){this._queue.push(new a(S,p,C))}clear(S){const p=new N.LinkedList;for(const C of this._queue)C.emitter!==S&&p.push(C);this._queue=p}deliver(){for(;this._queue.size>0;){const S=this._queue.shift();try{S.listener.invoke(S.event)}catch(p){(0,y.onUnexpectedError)(p)}}}}e.EventDeliveryQueue=l;class d extends l{clear(S){this._queue.clear()}}class a{constructor(S,p,C){this.emitter=S,this.listener=p,this.event=C}}class o extends s{constructor(S){super(S);this._isPaused=0,this._eventQueue=new N.LinkedList,this._mergeFn=S==null?void 0:S.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const S=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(S))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(S){this._listeners&&(this._isPaused!==0?this._eventQueue.push(S):super.fire(S))}}e.PauseableEmitter=o;class r extends o{constructor(S){var p;super(S);this._delay=(p=S.delay)!==null&&p!==void 0?p:100}fire(S){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(S)}}e.DebounceEmitter=r;class c{constructor(){this.buffers=[]}wrapEvent(S){return(p,C,_)=>S(L=>{const E=this.buffers[this.buffers.length-1];E?E.push(()=>p.call(C,L)):p.call(C,L)},void 0,_)}bufferEvents(S){const p=[];this.buffers.push(p);const C=S();return this.buffers.pop(),p.forEach(_=>_()),C}}e.EventBufferer=c;class g{constructor(){this.listening=!1,this.inputEvent=v.None,this.inputEventListener=f.Disposable.None,this.emitter=new s({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(S){this.inputEvent=S,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=S(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=g}),define(ne[36],oe([1,0,4,2]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class N{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}N.INSTANCE=new N;class D extends f.Disposable{constructor(){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(s){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),s&&this._onDidChange.fire()}}class w extends f.Disposable{constructor(){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const s=this._register(new D);this._register(s.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const s=document.createElement("canvas").getContext("2d"),l=window.devicePixelRatio||1,d=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1;return l/d}}class b{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,f.markAsSingleton)(new w)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function v(t,s){typeof t=="string"&&(t=window.matchMedia(t)),t.addEventListener("change",s)}e.addMatchMediaChangeListener=v,e.PixelRatio=new b;function u(){return N.INSTANCE.getZoomFactor()}e.getZoomFactor=u;const h=navigator.userAgent;e.isFirefox=h.indexOf("Firefox")>=0,e.isWebKit=h.indexOf("AppleWebKit")>=0,e.isChrome=h.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&h.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=h.indexOf("Electron/")>=0,e.isAndroid=h.indexOf("Android")>=0;let i=!1;if(window.matchMedia){const t=window.matchMedia("(display-mode: standalone)");i=t.matches,v(t,({matches:s})=>{i=s})}function n(){return i}e.isStandalone=n}),define(ne[174],oe([1,0,36,17]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:f.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:f.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>f.isNative||y.isStandalone()?0:navigator.keyboard||y.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(ne[95],oe([1,0,4]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class f{constructor(w,b,v){const u=h=>this.emitter.fire(h);this.emitter=new y.Emitter({onFirstListenerAdd:()=>w.addEventListener(b,u,v),onLastListenerRemove:()=>w.removeEventListener(b,u,v)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=f;function N(D){return D.preventDefault(),D.stopPropagation(),D}e.stopEvent=N}),define(ne[46],oe([1,0,36,59,104,17]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function w(n){if(n.charCode){const s=String.fromCharCode(n.charCode).toUpperCase();return f.KeyCodeUtils.fromString(s)}const t=n.keyCode;if(t===3)return 7;if(y.isFirefox){if(t===59)return 80;if(t===107)return 81;if(t===109)return 83;if(D.isMacintosh&&t===224)return 57}else if(y.isWebKit){if(t===91)return 57;if(D.isMacintosh&&t===93)return 57;if(!D.isMacintosh&&t===92)return 57}return f.EVENT_KEY_CODE_MAP[t]||0}const b=D.isMacintosh?256:2048,v=512,u=1024,h=D.isMacintosh?2048:256;class i{constructor(t){this._standardKeyboardEventBrand=!0;const s=t;this.browserEvent=s,this.target=s.target,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.altKey=s.altKey,this.metaKey=s.metaKey,this.keyCode=w(s),this.code=s.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let s=0;return this.ctrlKey&&(s|=b),this.altKey&&(s|=v),this.shiftKey&&(s|=u),this.metaKey&&(s|=h),s|=t,s}_computeRuntimeKeybinding(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new N.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}}e.StandardKeyboardEvent=i}),define(ne[63],oe([1,0,36,323,17]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=v.button===0,this.middleButton=v.button===1,this.rightButton=v.button===2,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,v.type==="dblclick"&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,typeof v.pageX=="number"?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=v.clientY+document.body.scrollTop+document.documentElement.scrollTop);const u=f.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,v.view);this.posx-=u.left,this.posy-=u.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class w{constructor(v,u=0,h=0){if(this.browserEvent=v||null,this.target=v?v.target||v.targetNode||v.srcElement:null,this.deltaY=h,this.deltaX=u,v){const i=v,n=v;if(typeof i.wheelDeltaY!="undefined")this.deltaY=i.wheelDeltaY/120;else if(typeof n.VERTICAL_AXIS!="undefined"&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if(v.type==="wheel"){const t=v;t.deltaMode===t.DOM_DELTA_LINE?y.isFirefox&&!N.isMacintosh?this.deltaY=-v.deltaY/3:this.deltaY=-v.deltaY:this.deltaY=-v.deltaY/40}if(typeof i.wheelDeltaX!="undefined")y.isSafari&&N.isWindows?this.deltaX=-(i.wheelDeltaX/120):this.deltaX=i.wheelDeltaX/120;else if(typeof n.HORIZONTAL_AXIS!="undefined"&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-v.detail/3;else if(v.type==="wheel"){const t=v;t.deltaMode===t.DOM_DELTA_LINE?y.isFirefox&&!N.isMacintosh?this.deltaX=-v.deltaX/3:this.deltaX=-v.deltaX:this.deltaX=-v.deltaX/40}this.deltaY===0&&this.deltaX===0&&v.wheelDelta&&(this.deltaY=v.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=w}),define(ne[21],oe([1,0,4]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const f=Object.freeze(function(b,v){const u=setTimeout(b.bind(v),0);return{dispose(){clearTimeout(u)}}});var N;(function(b){function v(u){return u===b.None||u===b.Cancelled||u instanceof D?!0:!u||typeof u!="object"?!1:typeof u.isCancellationRequested=="boolean"&&typeof u.onCancellationRequested=="function"}b.isCancellationToken=v,b.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:y.Event.None}),b.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:f})})(N=e.CancellationToken||(e.CancellationToken={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?f:(this._emitter||(this._emitter=new y.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class w{constructor(v){this._token=void 0,this._parentListener=void 0,this._parentListener=v&&v.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=N.Cancelled}dispose(v=!1){v&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=N.None}}e.CancellationTokenSource=w});var Ct=this&&this.__asyncValues||function(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=j[Symbol.asyncIterator],y;return e?e.call(j):(j=typeof __values=="function"?__values(j):j[Symbol.iterator](),y={},f("next"),f("throw"),f("return"),y[Symbol.asyncIterator]=function(){return this},y);function f(D){y[D]=j[D]&&function(w){return new Promise(function(b,v){w=j[D](w),N(b,v,w.done,w.value)})}}function N(D,w,b,v){Promise.resolve(v).then(function(u){D({value:u,done:b})},w)}};define(ne[10],oe([1,0,21,13,4,2,17]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.MicrotaskDelay=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function b(L){return!!L&&typeof L.then=="function"}e.isThenable=b;function v(L){const E=new y.CancellationTokenSource,I=L(E.token),T=new Promise((P,B)=>{const R=E.token.onCancellationRequested(()=>{R.dispose(),E.dispose(),B(new f.CancellationError)});Promise.resolve(I).then(k=>{R.dispose(),E.dispose(),P(k)},k=>{R.dispose(),E.dispose(),B(k)})});return new class{cancel(){E.cancel()}then(P,B){return T.then(P,B)}catch(P){return this.then(void 0,P)}finally(P){return T.finally(P)}}}e.createCancelablePromise=v;function u(L,E,I){return new Promise((T,P)=>{const B=E.onCancellationRequested(()=>{B.dispose(),T(I)});L.then(T,P).finally(()=>B.dispose())})}e.raceCancellation=u;class h{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(E){if(this.activePromise){if(this.queuedPromiseFactory=E,!this.queuedPromise){const I=()=>{this.queuedPromise=null;const T=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,T};this.queuedPromise=new Promise(T=>{this.activePromise.then(I,I).then(T)})}return new Promise((I,T)=>{this.queuedPromise.then(I,T)})}return this.activePromise=E(),new Promise((I,T)=>{this.activePromise.then(P=>{this.activePromise=null,I(P)},P=>{this.activePromise=null,T(P)})})}}e.Throttler=h;const i=(L,E)=>{let I=!0;const T=setTimeout(()=>{I=!1,E()},L);return{isTriggered:()=>I,dispose:()=>{clearTimeout(T),I=!1}}},n=L=>{let E=!0;return queueMicrotask(()=>{E&&(E=!1,L())}),{isTriggered:()=>E,dispose:()=>{E=!1}}};e.MicrotaskDelay=Symbol("MicrotaskDelay");class t{constructor(E){this.defaultDelay=E,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(E,I=this.defaultDelay){this.task=E,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((P,B)=>{this.doResolve=P,this.doReject=B}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const P=this.task;return this.task=null,P()}}));const T=()=>{var P;this.deferred=null,(P=this.doResolve)===null||P===void 0||P.call(this,null)};return this.deferred=I===e.MicrotaskDelay?n(T):i(I,T),this.completionPromise}isTriggered(){var E;return!!((E=this.deferred)===null||E===void 0?void 0:E.isTriggered())}cancel(){var E;this.cancelTimeout(),this.completionPromise&&((E=this.doReject)===null||E===void 0||E.call(this,new f.CancellationError),this.completionPromise=null)}cancelTimeout(){var E;(E=this.deferred)===null||E===void 0||E.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class s{constructor(E){this.delayer=new t(E),this.throttler=new h}trigger(E,I){return this.delayer.trigger(()=>this.throttler.queue(E),I)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=s;function l(L,E){return E?new Promise((I,T)=>{const P=setTimeout(()=>{B.dispose(),I()},L),B=E.onCancellationRequested(()=>{clearTimeout(P),B.dispose(),T(new f.CancellationError)})}):v(I=>l(L,I))}e.timeout=l;function d(L,E=0){const I=setTimeout(L,E);return(0,D.toDisposable)(()=>clearTimeout(I))}e.disposableTimeout=d;function a(L,E=T=>!!T,I=null){let T=0;const P=L.length,B=()=>{if(T>=P)return Promise.resolve(I);const R=L[T++];return Promise.resolve(R()).then(A=>E(A)?Promise.resolve(A):B())};return B()}e.first=a;class o{constructor(E,I){this._token=-1,typeof E=="function"&&typeof I=="number"&&this.setIfNotSet(E,I)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(E,I){this.cancel(),this._token=setTimeout(()=>{this._token=-1,E()},I)}setIfNotSet(E,I){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,E()},I))}}e.TimeoutTimer=o;class r{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(E,I){this.cancel(),this._token=setInterval(()=>{E()},I)}}e.IntervalTimer=r;class c{constructor(E,I){this.timeoutToken=-1,this.runner=E,this.timeout=I,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(E=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,E)}get delay(){return this.timeout}set delay(E){this.timeout=E}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var E;(E=this.runner)===null||E===void 0||E.call(this)}}e.RunOnceScheduler=c,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=L=>{(0,w.setTimeout0)(()=>{if(E)return;const I=Date.now()+15;L(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,I-Date.now())}}))});let E=!1;return{dispose(){E||(E=!0)}}}:e.runWhenIdle=(L,E)=>{const I=requestIdleCallback(L,typeof E=="number"?{timeout:E}:void 0);let T=!1;return{dispose(){T||(T=!0,cancelIdleCallback(I))}}}}();class g{constructor(E){this._didRun=!1,this._executor=()=>{try{this._value=E()}catch(I){this._error=I}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=g;class m{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((E,I)=>{this.completeCallback=E,this.errorCallback=I})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(E){return new Promise(I=>{this.completeCallback(E),this.resolved=!0,I()})}cancel(){new Promise(E=>{this.errorCallback(new f.CancellationError),this.rejected=!0,E()})}}e.DeferredPromise=m;var S;(function(L){function E(T){return Le(this,void 0,void 0,function*(){let P;const B=yield Promise.all(T.map(R=>R.then(k=>k,k=>{P||(P=k)})));if(typeof P!="undefined")throw P;return B})}L.settled=E;function I(T){return new Promise((P,B)=>Le(this,void 0,void 0,function*(){try{yield T(P,B)}catch(R){B(R)}}))}L.withAsyncBody=I})(S=e.Promises||(e.Promises={}));class p{constructor(E){this._state=0,this._results=[],this._error=null,this._onStateChanged=new N.Emitter,queueMicrotask(()=>Le(this,void 0,void 0,function*(){const I={emitOne:T=>this.emitOne(T),emitMany:T=>this.emitMany(T),reject:T=>this.reject(T)};try{yield Promise.resolve(E(I)),this.resolve()}catch(T){this.reject(T)}finally{I.emitOne=void 0,I.emitMany=void 0,I.reject=void 0}}))}static fromArray(E){return new p(I=>{I.emitMany(E)})}static fromPromise(E){return new p(I=>Le(this,void 0,void 0,function*(){I.emitMany(yield E)}))}static fromPromises(E){return new p(I=>Le(this,void 0,void 0,function*(){yield Promise.all(E.map(T=>Le(this,void 0,void 0,function*(){return I.emitOne(yield T)})))}))}static merge(E){return new p(I=>Le(this,void 0,void 0,function*(){yield Promise.all(E.map(T=>{var P,B;return Le(this,void 0,void 0,function*(){var R,k;try{for(P=Ct(T);B=yield P.next(),!B.done;){const A=B.value;I.emitOne(A)}}catch(A){R={error:A}}finally{try{B&&!B.done&&(k=P.return)&&(yield k.call(P))}finally{if(R)throw R.error}}})}))}))}[Symbol.asyncIterator](){let E=0;return{next:()=>Le(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(E<this._results.length)return{done:!1,value:this._results[E++]};if(this._state===1)return{done:!0,value:void 0};yield N.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(E,I){return new p(T=>Le(this,void 0,void 0,function*(){var P,B;try{for(var R=Ct(E),k;k=yield R.next(),!k.done;){const A=k.value;T.emitOne(I(A))}}catch(A){P={error:A}}finally{try{k&&!k.done&&(B=R.return)&&(yield B.call(R))}finally{if(P)throw P.error}}}))}map(E){return p.map(this,E)}static filter(E,I){return new p(T=>Le(this,void 0,void 0,function*(){var P,B;try{for(var R=Ct(E),k;k=yield R.next(),!k.done;){const A=k.value;I(A)&&T.emitOne(A)}}catch(A){P={error:A}}finally{try{k&&!k.done&&(B=R.return)&&(yield B.call(R))}finally{if(P)throw P.error}}}))}filter(E){return p.filter(this,E)}static coalesce(E){return p.filter(E,I=>!!I)}coalesce(){return p.coalesce(this)}static toPromise(E){var I,T,P,B;return Le(this,void 0,void 0,function*(){const R=[];try{for(I=Ct(E);T=yield I.next(),!T.done;){const k=T.value;R.push(k)}}catch(k){P={error:k}}finally{try{T&&!T.done&&(B=I.return)&&(yield B.call(I))}finally{if(P)throw P.error}}return R})}toPromise(){return p.toPromise(this)}emitOne(E){this._state===0&&(this._results.push(E),this._onStateChanged.fire())}emitMany(E){this._state===0&&(this._results=this._results.concat(E),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(E){this._state===0&&(this._state=2,this._error=E,this._onStateChanged.fire())}}e.AsyncIterableObject=p,p.EMPTY=p.fromArray([]);class C extends p{constructor(E,I){super(I);this._source=E}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=C;function _(L){const E=new y.CancellationTokenSource,I=L(E.token);return new C(E,T=>Le(this,void 0,void 0,function*(){var P,B;const R=E.token.onCancellationRequested(()=>{R.dispose(),E.dispose(),T.reject(new f.CancellationError)});try{try{for(var k=Ct(I),A;A=yield k.next(),!A.done;){const O=A.value;if(E.token.isCancellationRequested)return;T.emitOne(O)}}catch(O){P={error:O}}finally{try{A&&!A.done&&(B=k.return)&&(yield B.call(k))}finally{if(P)throw P.error}}R.dispose(),E.dispose()}catch(O){R.dispose(),E.dispose(),T.reject(O)}}))}e.createCancelableAsyncIterable=_}),define(ne[332],oe([1,0,10,2]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class N extends f.Disposable{constructor(w,b,v){super();this._visibility=w,this._visibleClassName=b,this._invisibleClassName=v,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new y.TimeoutTimer)}setVisibility(w){this._visibility!==w&&(this._visibility=w,this._updateShouldBeVisible())}setShouldBeVisible(w){this._rawShouldBeVisible=w,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const w=this._applyVisibilitySetting();this._shouldBeVisible!==w&&(this._shouldBeVisible=w,this.ensureVisibility())}setIsNeeded(w){this._isNeeded!==w&&(this._isNeeded=w,this.ensureVisibility())}setDomNode(w){this._domNode=w,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(w){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(w?" fade":"")))}}e.ScrollbarVisibilityController=N}),define(ne[333],oe([1,0,10]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const f=new y.IdleValue(()=>{const u=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:u,collatorIsNumeric:u.resolvedOptions().numeric}}),N=new y.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new y.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function w(u,h,i=!1){const n=u||"",t=h||"",s=f.value.collator.compare(n,t);return f.value.collatorIsNumeric&&s===0&&n!==t?n<t?-1:1:s}e.compareFileNames=w;function b(u,h,i){const n=u.toLowerCase(),t=h.toLowerCase(),s=v(u,h,i);if(s)return s;const l=n.endsWith(i),d=t.endsWith(i);if(l!==d)return l?-1:1;const a=w(n,t);return a!==0?a:n.localeCompare(t)}e.compareAnything=b;function v(u,h,i){const n=u.toLowerCase(),t=h.toLowerCase(),s=n.startsWith(i),l=t.startsWith(i);if(s!==l)return s?-1:1;if(s&&l){if(n.length<t.length)return-1;if(n.length>t.length)return 1}return 0}e.compareByPrefix=v}),define(ne[144],oe([1,0,4,2]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class N{constructor(t,s,l,d,a,o,r){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(s=s|0,l=l|0,d=d|0,a=a|0,o=o|0,r=r|0),this.rawScrollLeft=d,this.rawScrollTop=r,s<0&&(s=0),d+s>l&&(d=l-s),d<0&&(d=0),a<0&&(a=0),r+a>o&&(r=o-a),r<0&&(r=0),this.width=s,this.scrollWidth=l,this.scrollLeft=d,this.height=a,this.scrollHeight=o,this.scrollTop=r}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,s){return new N(this._forceIntegerValues,typeof t.width!="undefined"?t.width:this.width,typeof t.scrollWidth!="undefined"?t.scrollWidth:this.scrollWidth,s?this.rawScrollLeft:this.scrollLeft,typeof t.height!="undefined"?t.height:this.height,typeof t.scrollHeight!="undefined"?t.scrollHeight:this.scrollHeight,s?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new N(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft!="undefined"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop!="undefined"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,s){const l=this.width!==t.width,d=this.scrollWidth!==t.scrollWidth,a=this.scrollLeft!==t.scrollLeft,o=this.height!==t.height,r=this.scrollHeight!==t.scrollHeight,c=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:s,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:l,scrollWidthChanged:d,scrollLeftChanged:a,heightChanged:o,scrollHeightChanged:r,scrollTopChanged:c}}}e.ScrollState=N;class D extends f.Disposable{constructor(t){super();this._scrollableBrand=void 0,this._onScroll=this._register(new y.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new N(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,s){const l=this._state.withScrollDimensions(t,s);this._setState(l,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){const s=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(s,!1)}setScrollPositionSmooth(t,s){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:t.scrollTop};const l=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===l.scrollLeft&&this._smoothScrolling.to.scrollTop===l.scrollTop)return;let d;s?d=new u(this._smoothScrolling.from,l,this._smoothScrolling.startTime,this._smoothScrolling.duration):d=this._smoothScrolling.combine(this._state,l,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=d}else{const l=this._state.withScrollPosition(t);this._smoothScrolling=u.start(this._state,l,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const t=this._smoothScrolling.tick(),s=this._state.withScrollPosition(t);if(this._setState(s,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,s){const l=this._state;l.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(l,s)))}}e.Scrollable=D;class w{constructor(t,s,l){this.scrollLeft=t,this.scrollTop=s,this.isDone=l}}e.SmoothScrollingUpdate=w;function b(n,t){const s=t-n;return function(l){return n+s*i(l)}}function v(n,t,s){return function(l){return l<s?n(l/s):t((l-s)/(1-s))}}class u{constructor(t,s,l,d){this.from=t,this.to=s,this.duration=d,this.startTime=l,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,s,l){if(Math.abs(t-s)>2.5*l){let a,o;return t<s?(a=t+.75*l,o=s-.75*l):(a=t-.75*l,o=s+.75*l),v(b(t,a),b(o,s),.33)}return b(t,s)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){const s=(t-this.startTime)/this.duration;if(s<1){const l=this.scrollLeft(s),d=this.scrollTop(s);return new w(l,d,!1)}return new w(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,s,l){return u.start(t,s,l)}static start(t,s,l){l=l+10;const d=Date.now()-10;return new u(t,s,d,l)}}e.SmoothScrollingOperation=u;function h(n){return Math.pow(n,3)}function i(n){return 1-h(1-n)}}),define(ne[9],oe([1,0,222,142]),function(j,e,y,f){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D(ee){return!ee||typeof ee!="string"?!0:ee.trim().length===0}e.isFalsyOrWhitespace=D;const w=/{(\d+)}/g;function b(ee,...ae){return ae.length===0?ee:ee.replace(w,function(fe,pe){const ve=parseInt(pe,10);return isNaN(ve)||ve<0||ve>=ae.length?fe:ae[ve]})}e.format=b;function v(ee){return ee.replace(/[<>&]/g,function(ae){switch(ae){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ae}})}e.escape=v;function u(ee){return ee.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=u;function h(ee,ae=" "){const fe=i(ee,ae);return n(fe,ae)}e.trim=h;function i(ee,ae){if(!ee||!ae)return ee;const fe=ae.length;if(fe===0||ee.length===0)return ee;let pe=0;for(;ee.indexOf(ae,pe)===pe;)pe=pe+fe;return ee.substring(pe)}e.ltrim=i;function n(ee,ae){if(!ee||!ae)return ee;const fe=ae.length,pe=ee.length;if(fe===0||pe===0)return ee;let ve=pe,ue=-1;for(;ue=ee.lastIndexOf(ae,ve-1),!(ue===-1||ue+fe!==ve);){if(ue===0)return"";ve=ue}return ee.substring(0,ve)}e.rtrim=n;function t(ee){return ee.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=t;function s(ee){return ee.replace(/\*/g,"")}e.stripWildcards=s;function l(ee,ae,fe={}){if(!ee)throw new Error("Cannot create regex from empty string");ae||(ee=u(ee)),fe.wholeWord&&(/\B/.test(ee.charAt(0))||(ee="\\b"+ee),/\B/.test(ee.charAt(ee.length-1))||(ee=ee+"\\b"));let pe="";return fe.global&&(pe+="g"),fe.matchCase||(pe+="i"),fe.multiline&&(pe+="m"),fe.unicode&&(pe+="u"),new RegExp(ee,pe)}e.createRegExp=l;function d(ee){return ee.source==="^"||ee.source==="^$"||ee.source==="$"||ee.source==="^\\s*$"?!1:!!(ee.exec("")&&ee.lastIndex===0)}e.regExpLeadsToEndlessLoop=d;function a(ee){return(ee.global?"g":"")+(ee.ignoreCase?"i":"")+(ee.multiline?"m":"")+(ee.unicode?"u":"")}e.regExpFlags=a;function o(ee){return ee.split(/\r\n|\r|\n/)}e.splitLines=o;function r(ee){for(let ae=0,fe=ee.length;ae<fe;ae++){const pe=ee.charCodeAt(ae);if(pe!==32&&pe!==9)return ae}return-1}e.firstNonWhitespaceIndex=r;function c(ee,ae=0,fe=ee.length){for(let pe=ae;pe<fe;pe++){const ve=ee.charCodeAt(pe);if(ve!==32&&ve!==9)return ee.substring(ae,pe)}return ee.substring(ae,fe)}e.getLeadingWhitespace=c;function g(ee,ae=ee.length-1){for(let fe=ae;fe>=0;fe--){const pe=ee.charCodeAt(fe);if(pe!==32&&pe!==9)return fe}return-1}e.lastNonWhitespaceIndex=g;function m(ee,ae){return ee<ae?-1:ee>ae?1:0}e.compare=m;function S(ee,ae,fe=0,pe=ee.length,ve=0,ue=ae.length){for(;fe<pe&&ve<ue;fe++,ve++){const be=ee.charCodeAt(fe),ce=ae.charCodeAt(ve);if(be<ce)return-1;if(be>ce)return 1}const Ce=pe-fe,me=ue-ve;return Ce<me?-1:Ce>me?1:0}e.compareSubstring=S;function p(ee,ae){return C(ee,ae,0,ee.length,0,ae.length)}e.compareIgnoreCase=p;function C(ee,ae,fe=0,pe=ee.length,ve=0,ue=ae.length){for(;fe<pe&&ve<ue;fe++,ve++){let be=ee.charCodeAt(fe),ce=ae.charCodeAt(ve);if(be===ce)continue;if(be>=128||ce>=128)return S(ee.toLowerCase(),ae.toLowerCase(),fe,pe,ve,ue);_(be)&&(be-=32),_(ce)&&(ce-=32);const he=be-ce;if(he!==0)return he}const Ce=pe-fe,me=ue-ve;return Ce<me?-1:Ce>me?1:0}e.compareSubstringIgnoreCase=C;function _(ee){return ee>=97&&ee<=122}e.isLowerAsciiLetter=_;function L(ee){return ee>=65&&ee<=90}e.isUpperAsciiLetter=L;function E(ee,ae){return ee.length===ae.length&&C(ee,ae)===0}e.equalsIgnoreCase=E;function I(ee,ae){const fe=ae.length;return ae.length>ee.length?!1:C(ee,ae,0,fe)===0}e.startsWithIgnoreCase=I;function T(ee,ae){const fe=Math.min(ee.length,ae.length);let pe;for(pe=0;pe<fe;pe++)if(ee.charCodeAt(pe)!==ae.charCodeAt(pe))return pe;return fe}e.commonPrefixLength=T;function P(ee,ae){const fe=Math.min(ee.length,ae.length);let pe;const ve=ee.length-1,ue=ae.length-1;for(pe=0;pe<fe;pe++)if(ee.charCodeAt(ve-pe)!==ae.charCodeAt(ue-pe))return pe;return fe}e.commonSuffixLength=P;function B(ee){return 55296<=ee&&ee<=56319}e.isHighSurrogate=B;function R(ee){return 56320<=ee&&ee<=57343}e.isLowSurrogate=R;function k(ee,ae){return(ee-55296<<10)+(ae-56320)+65536}e.computeCodePoint=k;function A(ee,ae,fe){const pe=ee.charCodeAt(fe);if(B(pe)&&fe+1<ae){const ve=ee.charCodeAt(fe+1);if(R(ve))return k(pe,ve)}return pe}e.getNextCodePoint=A;function O(ee,ae){const fe=ee.charCodeAt(ae-1);if(R(fe)&&ae>1){const pe=ee.charCodeAt(ae-2);if(B(pe))return k(pe,fe)}return fe}class F{constructor(ae,fe=0){this._str=ae,this._len=ae.length,this._offset=fe}get offset(){return this._offset}setOffset(ae){this._offset=ae}prevCodePoint(){const ae=O(this._str,this._offset);return this._offset-=ae>=65536?2:1,ae}nextCodePoint(){const ae=A(this._str,this._len,this._offset);return this._offset+=ae>=65536?2:1,ae}eol(){return this._offset>=this._len}}e.CodePointIterator=F;class W{constructor(ae,fe=0){this._iterator=new F(ae,fe)}get offset(){return this._iterator.offset}nextGraphemeLength(){const ae=Y.getInstance(),fe=this._iterator,pe=fe.offset;let ve=ae.getGraphemeBreakType(fe.nextCodePoint());for(;!fe.eol();){const ue=fe.offset,Ce=ae.getGraphemeBreakType(fe.nextCodePoint());if(se(ve,Ce)){fe.setOffset(ue);break}ve=Ce}return fe.offset-pe}prevGraphemeLength(){const ae=Y.getInstance(),fe=this._iterator,pe=fe.offset;let ve=ae.getGraphemeBreakType(fe.prevCodePoint());for(;fe.offset>0;){const ue=fe.offset,Ce=ae.getGraphemeBreakType(fe.prevCodePoint());if(se(Ce,ve)){fe.setOffset(ue);break}ve=Ce}return pe-fe.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=W;function M(ee,ae){return new W(ee,ae).nextGraphemeLength()}e.nextCharLength=M;function z(ee,ae){return new W(ee,ae).prevGraphemeLength()}e.prevCharLength=z;function G(ee,ae){ae>0&&R(ee.charCodeAt(ae))&&ae--;const fe=ae+M(ee,ae);return[fe-z(ee,fe),fe]}e.getCharContainingOffset=G;const te=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function X(ee){return te.test(ee)}e.containsRTL=X;const J=/^[\t\n\r\x20-\x7E]*$/;function ie(ee){return J.test(ee)}e.isBasicASCII=ie,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function re(ee){return e.UNUSUAL_LINE_TERMINATORS.test(ee)}e.containsUnusualLineTerminators=re;function Z(ee){return ee>=11904&&ee<=55215||ee>=63744&&ee<=64255||ee>=65281&&ee<=65374}e.isFullWidthCharacter=Z;function x(ee){return ee>=127462&&ee<=127487||ee===8986||ee===8987||ee===9200||ee===9203||ee>=9728&&ee<=10175||ee===11088||ee===11093||ee>=127744&&ee<=128591||ee>=128640&&ee<=128764||ee>=128992&&ee<=129008||ee>=129280&&ee<=129535||ee>=129648&&ee<=129782}e.isEmojiImprecise=x,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function U(ee){return!!(ee&&ee.length>0&&ee.charCodeAt(0)===65279)}e.startsWithUTF8BOM=U;function q(ee,ae=!1){return ee?(ae&&(ee=ee.replace(/\\./g,"")),ee.toLowerCase()!==ee):!1}e.containsUppercaseCharacter=q;function le(ee){const ae=90-65+1;return ee=ee%(2*ae),ee<ae?String.fromCharCode(97+ee):String.fromCharCode(65+ee-ae)}e.singleLetterHash=le;function se(ee,ae){return ee===0?ae!==5&&ae!==7:ee===2&&ae===3?!1:ee===4||ee===2||ee===3||ae===4||ae===2||ae===3?!0:!(ee===8&&(ae===8||ae===9||ae===11||ae===12)||(ee===11||ee===9)&&(ae===9||ae===10)||(ee===12||ee===10)&&ae===10||ae===5||ae===13||ae===7||ee===1||ee===13&&ae===14||ee===6&&ae===6)}class Y{constructor(){this._data=de()}static getInstance(){return Y._INSTANCE||(Y._INSTANCE=new Y),Y._INSTANCE}getGraphemeBreakType(ae){if(ae<32)return ae===10?3:ae===13?2:4;if(ae<127)return 0;const fe=this._data,pe=fe.length/3;let ve=1;for(;ve<=pe;)if(ae<fe[3*ve])ve=2*ve;else if(ae>fe[3*ve+1])ve=2*ve+1;else return fe[3*ve+2];return 0}}Y._INSTANCE=null;function de(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function H(ee,ae){if(ee===0)return 0;const fe=$(ee,ae);if(fe!==void 0)return fe;const pe=new F(ae,ee);return pe.prevCodePoint(),pe.offset}e.getLeftDeleteOffset=H;function $(ee,ae){const fe=new F(ae,ee);let pe=fe.prevCodePoint();for(;K(pe)||pe===65039||pe===8419;){if(fe.offset===0)return;pe=fe.prevCodePoint()}if(!x(pe))return;let ve=fe.offset;return ve>0&&fe.prevCodePoint()===8205&&(ve=fe.offset),ve}function K(ee){return 127995<=ee&&ee<=127999}e.noBreakWhitespace="\xA0";class V{constructor(ae){this.confusableDictionary=ae}static getInstance(ae){return V.cache.get(Array.from(ae))}static getLocales(){return V._locales.getValue()}isAmbiguous(ae){return this.confusableDictionary.has(ae)}getPrimaryConfusable(ae){return this.confusableDictionary.get(ae)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=V,N=V,V.ambiguousCharacterData=new f.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),V.cache=new y.LRUCachedFunction(ee=>{function ae(ce){const he=new Map;for(let we=0;we<ce.length;we+=2)he.set(ce[we],ce[we+1]);return he}function fe(ce,he){const we=new Map(ce);for(const[ye,Te]of he)we.set(ye,Te);return we}function pe(ce,he){if(!ce)return he;const we=new Map;for(const[ye,Te]of ce)he.has(ye)&&we.set(ye,Te);return we}const ve=N.ambiguousCharacterData.getValue();let ue=ee.filter(ce=>!ce.startsWith("_")&&ce in ve);ue.length===0&&(ue=["_default"]);let Ce;for(const ce of ue){const he=ae(ve[ce]);Ce=pe(Ce,he)}const me=ae(ve._common),be=fe(me,Ce);return new V(be)}),V._locales=new f.Lazy(()=>Object.keys(V.ambiguousCharacterData.getValue()).filter(ee=>!ee.startsWith("_")));class Q{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Q.getRawData())),this._data}static isInvisibleCharacter(ae){return Q.getData().has(ae)}static get codePoints(){return Q.getData()}}e.InvisibleCharacters=Q,Q._data=void 0}),define(ne[175],oe([1,0,80,17,9]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(n){return n===47||n===92}e.isPathSeparator=D;function w(n){return n.replace(/[\\/]/g,y.posix.sep)}e.toSlashes=w;function b(n){return n.indexOf("/")===-1&&(n=w(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}e.toPosixPath=b;function v(n,t=y.posix.sep){if(!n)return"";const s=n.length,l=n.charCodeAt(0);if(D(l)){if(D(n.charCodeAt(1))&&!D(n.charCodeAt(2))){let a=3;const o=a;for(;a<s&&!D(n.charCodeAt(a));a++);if(o!==a&&!D(n.charCodeAt(a+1))){for(a+=1;a<s;a++)if(D(n.charCodeAt(a)))return n.slice(0,a+1).replace(/[\\/]/g,t)}}return t}else if(h(l)&&n.charCodeAt(1)===58)return D(n.charCodeAt(2))?n.slice(0,2)+t:n.slice(0,2);let d=n.indexOf("://");if(d!==-1){for(d+=3;d<s;d++)if(D(n.charCodeAt(d)))return n.slice(0,d+1)}return""}e.getRoot=v;function u(n,t,s,l=y.sep){if(n===t)return!0;if(!n||!t||t.length>n.length)return!1;if(s){if(!(0,N.startsWithIgnoreCase)(n,t))return!1;if(t.length===n.length)return!0;let a=t.length;return t.charAt(t.length-1)===l&&a--,n.charAt(a)===l}return t.charAt(t.length-1)!==l&&(t+=l),n.indexOf(t)===0}e.isEqualOrParent=u;function h(n){return n>=65&&n<=90||n>=97&&n<=122}e.isWindowsDriveLetter=h;function i(n,t=f.isWindows){return t?h(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}e.hasDriveLetter=i}),define(ne[123],oe([1,0,9]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function f(l){return N(l,0)}e.hash=f;function N(l,d){switch(typeof l){case"object":return l===null?D(349,d):Array.isArray(l)?v(l,d):u(l,d);case"string":return b(l,d);case"boolean":return w(l,d);case"number":return D(l,d);case"undefined":return D(937,d);default:return D(617,d)}}e.doHash=N;function D(l,d){return(d<<5)-d+l|0}e.numberHash=D;function w(l,d){return D(l?433:863,d)}function b(l,d){d=D(149417,d);for(let a=0,o=l.length;a<o;a++)d=D(l.charCodeAt(a),d);return d}e.stringHash=b;function v(l,d){return d=D(104579,d),l.reduce((a,o)=>N(o,a),d)}function u(l,d){return d=D(181387,d),Object.keys(l).sort().reduce((a,o)=>(a=b(o,a),N(l[o],a)),d)}function h(l,d,a=32){const o=a-d,r=~((1<<o)-1);return(l<<d|(r&l)>>>o)>>>0}function i(l,d=0,a=l.byteLength,o=0){for(let r=0;r<a;r++)l[d+r]=o}function n(l,d,a="0"){for(;l.length<d;)l=a+l;return l}function t(l,d=32){return l instanceof ArrayBuffer?Array.from(new Uint8Array(l)).map(a=>a.toString(16).padStart(2,"0")).join(""):n((l>>>0).toString(16),d/4)}e.toHexString=t;class s{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(d){const a=d.length;if(a===0)return;const o=this._buff;let r=this._buffLen,c=this._leftoverHighSurrogate,g,m;for(c!==0?(g=c,m=-1,c=0):(g=d.charCodeAt(0),m=0);;){let S=g;if(y.isHighSurrogate(g))if(m+1<a){const p=d.charCodeAt(m+1);y.isLowSurrogate(p)?(m++,S=y.computeCodePoint(g,p)):S=65533}else{c=g;break}else y.isLowSurrogate(g)&&(S=65533);if(r=this._push(o,r,S),m++,m<a)g=d.charCodeAt(m);else break}this._buffLen=r,this._leftoverHighSurrogate=c}_push(d,a,o){return o<128?d[a++]=o:o<2048?(d[a++]=192|(o&1984)>>>6,d[a++]=128|(o&63)>>>0):o<65536?(d[a++]=224|(o&61440)>>>12,d[a++]=128|(o&4032)>>>6,d[a++]=128|(o&63)>>>0):(d[a++]=240|(o&1835008)>>>18,d[a++]=128|(o&258048)>>>12,d[a++]=128|(o&4032)>>>6,d[a++]=128|(o&63)>>>0),a>=64&&(this._step(),a-=64,this._totalLen+=64,d[0]=d[64+0],d[1]=d[64+1],d[2]=d[64+2]),a}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),t(this._h0)+t(this._h1)+t(this._h2)+t(this._h3)+t(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,i(this._buff,this._buffLen),this._buffLen>56&&(this._step(),i(this._buff));const d=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(d/4294967296),!1),this._buffDV.setUint32(60,d%4294967296,!1),this._step()}_step(){const d=s._bigBlock32,a=this._buffDV;for(let _=0;_<64;_+=4)d.setUint32(_,a.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)d.setUint32(_,h(d.getUint32(_-12,!1)^d.getUint32(_-32,!1)^d.getUint32(_-56,!1)^d.getUint32(_-64,!1),1),!1);let o=this._h0,r=this._h1,c=this._h2,g=this._h3,m=this._h4,S,p,C;for(let _=0;_<80;_++)_<20?(S=r&c|~r&g,p=1518500249):_<40?(S=r^c^g,p=1859775393):_<60?(S=r&c|r&g|c&g,p=2400959708):(S=r^c^g,p=3395469782),C=h(o,5)+S+m+p+d.getUint32(_*4,!1)&4294967295,m=g,g=c,c=h(r,30),r=o,o=C;this._h0=this._h0+o&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+c&4294967295,this._h3=this._h3+g&4294967295,this._h4=this._h4+m&4294967295}}e.StringSHA1=s,s._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ne[145],oe([1,0,326,123]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class N{constructor(i){this.source=i}getElements(){const i=this.source,n=new Int32Array(i.length);for(let t=0,s=i.length;t<s;t++)n[t]=i.charCodeAt(t);return n}}e.StringDiffSequence=N;function D(h,i,n){return new u(new N(h),new N(i)).ComputeDiff(n).changes}e.stringDiff=D;class w{static Assert(i,n){if(!i)throw new Error(n)}}e.Debug=w;class b{static Copy(i,n,t,s,l){for(let d=0;d<l;d++)t[s+d]=i[n+d]}static Copy2(i,n,t,s,l){for(let d=0;d<l;d++)t[s+d]=i[n+d]}}e.MyArray=b;class v{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new y.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(i,n){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_originalCount++}AddModifiedElement(i,n){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class u{constructor(i,n,t=null){this.ContinueProcessingPredicate=t,this._originalSequence=i,this._modifiedSequence=n;const[s,l,d]=u._getElements(i),[a,o,r]=u._getElements(n);this._hasStrings=d&&r,this._originalStringElements=s,this._originalElementsOrHash=l,this._modifiedStringElements=a,this._modifiedElementsOrHash=o,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(i){return i.length>0&&typeof i[0]=="string"}static _getElements(i){const n=i.getElements();if(u._isStringArray(n)){const t=new Int32Array(n.length);for(let s=0,l=n.length;s<l;s++)t[s]=(0,f.stringHash)(n[s],0);return[n,t,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]}ElementsAreEqual(i,n){return this._originalElementsOrHash[i]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[i]===this._modifiedStringElements[n]:!0}ElementsAreStrictEqual(i,n){if(!this.ElementsAreEqual(i,n))return!1;const t=u._getStrictElement(this._originalSequence,i),s=u._getStrictElement(this._modifiedSequence,n);return t===s}static _getStrictElement(i,n){return typeof i.getStrictElement=="function"?i.getStrictElement(n):null}OriginalElementsAreEqual(i,n){return this._originalElementsOrHash[i]!==this._originalElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[i]===this._originalStringElements[n]:!0}ModifiedElementsAreEqual(i,n){return this._modifiedElementsOrHash[i]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._modifiedStringElements[i]===this._modifiedStringElements[n]:!0}ComputeDiff(i){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,i)}_ComputeDiff(i,n,t,s,l){const d=[!1];let a=this.ComputeDiffRecursive(i,n,t,s,d);return l&&(a=this.PrettifyChanges(a)),{quitEarly:d[0],changes:a}}ComputeDiffRecursive(i,n,t,s,l){for(l[0]=!1;i<=n&&t<=s&&this.ElementsAreEqual(i,t);)i++,t++;for(;n>=i&&s>=t&&this.ElementsAreEqual(n,s);)n--,s--;if(i>n||t>s){let g;return t<=s?(w.Assert(i===n+1,"originalStart should only be one more than originalEnd"),g=[new y.DiffChange(i,0,t,s-t+1)]):i<=n?(w.Assert(t===s+1,"modifiedStart should only be one more than modifiedEnd"),g=[new y.DiffChange(i,n-i+1,t,0)]):(w.Assert(i===n+1,"originalStart should only be one more than originalEnd"),w.Assert(t===s+1,"modifiedStart should only be one more than modifiedEnd"),g=[]),g}const d=[0],a=[0],o=this.ComputeRecursionPoint(i,n,t,s,d,a,l),r=d[0],c=a[0];if(o!==null)return o;if(!l[0]){const g=this.ComputeDiffRecursive(i,r,t,c,l);let m=[];return l[0]?m=[new y.DiffChange(r+1,n-(r+1)+1,c+1,s-(c+1)+1)]:m=this.ComputeDiffRecursive(r+1,n,c+1,s,l),this.ConcatenateChanges(g,m)}return[new y.DiffChange(i,n-i+1,t,s-t+1)]}WALKTRACE(i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E){let I=null,T=null,P=new v,B=n,R=t,k=S[0]-_[0]-s,A=-1073741824,O=this.m_forwardHistory.length-1;do{const F=k+i;F===B||F<R&&r[F-1]<r[F+1]?(g=r[F+1],p=g-k-s,g<A&&P.MarkNextChange(),A=g,P.AddModifiedElement(g+1,p),k=F+1-i):(g=r[F-1]+1,p=g-k-s,g<A&&P.MarkNextChange(),A=g-1,P.AddOriginalElement(g,p+1),k=F-1-i),O>=0&&(r=this.m_forwardHistory[O],i=r[0],B=1,R=r.length-1)}while(--O>=-1);if(I=P.getReverseChanges(),E[0]){let F=S[0]+1,W=_[0]+1;if(I!==null&&I.length>0){const M=I[I.length-1];F=Math.max(F,M.getOriginalEnd()),W=Math.max(W,M.getModifiedEnd())}T=[new y.DiffChange(F,m-F+1,W,C-W+1)]}else{P=new v,B=d,R=a,k=S[0]-_[0]-o,A=1073741824,O=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const F=k+l;F===B||F<R&&c[F-1]>=c[F+1]?(g=c[F+1]-1,p=g-k-o,g>A&&P.MarkNextChange(),A=g+1,P.AddOriginalElement(g+1,p+1),k=F+1-l):(g=c[F-1],p=g-k-o,g>A&&P.MarkNextChange(),A=g,P.AddModifiedElement(g+1,p+1),k=F-1-l),O>=0&&(c=this.m_reverseHistory[O],l=c[0],B=1,R=c.length-1)}while(--O>=-1);T=P.getChanges()}return this.ConcatenateChanges(I,T)}ComputeRecursionPoint(i,n,t,s,l,d,a){let o=0,r=0,c=0,g=0,m=0,S=0;i--,t--,l[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const p=n-i+(s-t),C=p+1,_=new Int32Array(C),L=new Int32Array(C),E=s-t,I=n-i,T=i-t,P=n-s,R=(I-E)%2==0;_[E]=i,L[I]=n,a[0]=!1;for(let k=1;k<=p/2+1;k++){let A=0,O=0;c=this.ClipDiagonalBound(E-k,k,E,C),g=this.ClipDiagonalBound(E+k,k,E,C);for(let W=c;W<=g;W+=2){W===c||W<g&&_[W-1]<_[W+1]?o=_[W+1]:o=_[W-1]+1,r=o-(W-E)-T;const M=o;for(;o<n&&r<s&&this.ElementsAreEqual(o+1,r+1);)o++,r++;if(_[W]=o,o+r>A+O&&(A=o,O=r),!R&&Math.abs(W-I)<=k-1&&o>=L[W])return l[0]=o,d[0]=r,M<=L[W]&&1447>0&&k<=1447+1?this.WALKTRACE(E,c,g,T,I,m,S,P,_,L,o,n,l,r,s,d,R,a):null}const F=(A-i+(O-t)-k)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(A,F))return a[0]=!0,l[0]=A,d[0]=O,F>0&&1447>0&&k<=1447+1?this.WALKTRACE(E,c,g,T,I,m,S,P,_,L,o,n,l,r,s,d,R,a):(i++,t++,[new y.DiffChange(i,n-i+1,t,s-t+1)]);m=this.ClipDiagonalBound(I-k,k,I,C),S=this.ClipDiagonalBound(I+k,k,I,C);for(let W=m;W<=S;W+=2){W===m||W<S&&L[W-1]>=L[W+1]?o=L[W+1]-1:o=L[W-1],r=o-(W-I)-P;const M=o;for(;o>i&&r>t&&this.ElementsAreEqual(o,r);)o--,r--;if(L[W]=o,R&&Math.abs(W-E)<=k&&o<=_[W])return l[0]=o,d[0]=r,M>=_[W]&&1447>0&&k<=1447+1?this.WALKTRACE(E,c,g,T,I,m,S,P,_,L,o,n,l,r,s,d,R,a):null}if(k<=1447){let W=new Int32Array(g-c+2);W[0]=E-c+1,b.Copy2(_,c,W,1,g-c+1),this.m_forwardHistory.push(W),W=new Int32Array(S-m+2),W[0]=I-m+1,b.Copy2(L,m,W,1,S-m+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(E,c,g,T,I,m,S,P,_,L,o,n,l,r,s,d,R,a)}PrettifyChanges(i){for(let n=0;n<i.length;n++){const t=i[n],s=n<i.length-1?i[n+1].originalStart:this._originalElementsOrHash.length,l=n<i.length-1?i[n+1].modifiedStart:this._modifiedElementsOrHash.length,d=t.originalLength>0,a=t.modifiedLength>0;for(;t.originalStart+t.originalLength<s&&t.modifiedStart+t.modifiedLength<l&&(!d||this.OriginalElementsAreEqual(t.originalStart,t.originalStart+t.originalLength))&&(!a||this.ModifiedElementsAreEqual(t.modifiedStart,t.modifiedStart+t.modifiedLength));){const r=this.ElementsAreStrictEqual(t.originalStart,t.modifiedStart);if(this.ElementsAreStrictEqual(t.originalStart+t.originalLength,t.modifiedStart+t.modifiedLength)&&!r)break;t.originalStart++,t.modifiedStart++}const o=[null];if(n<i.length-1&&this.ChangesOverlap(i[n],i[n+1],o)){i[n]=o[0],i.splice(n+1,1),n--;continue}}for(let n=i.length-1;n>=0;n--){const t=i[n];let s=0,l=0;if(n>0){const g=i[n-1];s=g.originalStart+g.originalLength,l=g.modifiedStart+g.modifiedLength}const d=t.originalLength>0,a=t.modifiedLength>0;let o=0,r=this._boundaryScore(t.originalStart,t.originalLength,t.modifiedStart,t.modifiedLength);for(let g=1;;g++){const m=t.originalStart-g,S=t.modifiedStart-g;if(m<s||S<l||d&&!this.OriginalElementsAreEqual(m,m+t.originalLength)||a&&!this.ModifiedElementsAreEqual(S,S+t.modifiedLength))break;const C=(m===s&&S===l?5:0)+this._boundaryScore(m,t.originalLength,S,t.modifiedLength);C>r&&(r=C,o=g)}t.originalStart-=o,t.modifiedStart-=o;const c=[null];if(n>0&&this.ChangesOverlap(i[n-1],i[n],c)){i[n-1]=c[0],i.splice(n,1),n++;continue}}if(this._hasStrings)for(let n=1,t=i.length;n<t;n++){const s=i[n-1],l=i[n],d=l.originalStart-s.originalStart-s.originalLength,a=s.originalStart,o=l.originalStart+l.originalLength,r=o-a,c=s.modifiedStart,g=l.modifiedStart+l.modifiedLength,m=g-c;if(d<5&&r<20&&m<20){const S=this._findBetterContiguousSequence(a,r,c,m,d);if(S){const[p,C]=S;(p!==s.originalStart+s.originalLength||C!==s.modifiedStart+s.modifiedLength)&&(s.originalLength=p-s.originalStart,s.modifiedLength=C-s.modifiedStart,l.originalStart=p+d,l.modifiedStart=C+d,l.originalLength=o-l.originalStart,l.modifiedLength=g-l.modifiedStart)}}}return i}_findBetterContiguousSequence(i,n,t,s,l){if(n<l||s<l)return null;const d=i+n-l+1,a=t+s-l+1;let o=0,r=0,c=0;for(let g=i;g<d;g++)for(let m=t;m<a;m++){const S=this._contiguousSequenceScore(g,m,l);S>0&&S>o&&(o=S,r=g,c=m)}return o>0?[r,c]:null}_contiguousSequenceScore(i,n,t){let s=0;for(let l=0;l<t;l++){if(!this.ElementsAreEqual(i+l,n+l))return 0;s+=this._originalStringElements[i+l].length}return s}_OriginalIsBoundary(i){return i<=0||i>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[i])}_OriginalRegionIsBoundary(i,n){if(this._OriginalIsBoundary(i)||this._OriginalIsBoundary(i-1))return!0;if(n>0){const t=i+n;if(this._OriginalIsBoundary(t-1)||this._OriginalIsBoundary(t))return!0}return!1}_ModifiedIsBoundary(i){return i<=0||i>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[i])}_ModifiedRegionIsBoundary(i,n){if(this._ModifiedIsBoundary(i)||this._ModifiedIsBoundary(i-1))return!0;if(n>0){const t=i+n;if(this._ModifiedIsBoundary(t-1)||this._ModifiedIsBoundary(t))return!0}return!1}_boundaryScore(i,n,t,s){const l=this._OriginalRegionIsBoundary(i,n)?1:0,d=this._ModifiedRegionIsBoundary(t,s)?1:0;return l+d}ConcatenateChanges(i,n){const t=[];if(i.length===0||n.length===0)return n.length>0?n:i;if(this.ChangesOverlap(i[i.length-1],n[0],t)){const s=new Array(i.length+n.length-1);return b.Copy(i,0,s,0,i.length-1),s[i.length-1]=t[0],b.Copy(n,1,s,i.length,n.length-1),s}else{const s=new Array(i.length+n.length);return b.Copy(i,0,s,0,i.length),b.Copy(n,0,s,i.length,n.length),s}}ChangesOverlap(i,n,t){if(w.Assert(i.originalStart<=n.originalStart,"Left change is not less than or equal to right change"),w.Assert(i.modifiedStart<=n.modifiedStart,"Left change is not less than or equal to right change"),i.originalStart+i.originalLength>=n.originalStart||i.modifiedStart+i.modifiedLength>=n.modifiedStart){const s=i.originalStart;let l=i.originalLength;const d=i.modifiedStart;let a=i.modifiedLength;return i.originalStart+i.originalLength>=n.originalStart&&(l=n.originalStart+n.originalLength-i.originalStart),i.modifiedStart+i.modifiedLength>=n.modifiedStart&&(a=n.modifiedStart+n.modifiedLength-i.modifiedStart),t[0]=new y.DiffChange(s,l,d,a),!0}else return t[0]=null,!1}ClipDiagonalBound(i,n,t,s){if(i>=0&&i<s)return i;const l=t,d=s-t-1,a=n%2==0;if(i<0){const o=l%2==0;return a===o?0:1}else{const o=d%2==0;return a===o?s-1:s-2}}}e.LcsDiff=u}),define(ne[176],oe([1,0,120,18,10,145,4,55]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function v(n){return typeof n=="object"&&"visibility"in n&&"data"in n}e.isFilterResult=v;function u(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}e.getVisibleState=u;function h(n){return typeof n.collapsible=="boolean"}class i{constructor(t,s,l,d={}){this.user=t,this.list=s,this.rootRef=[],this.eventBufferer=new w.EventBufferer,this._onDidChangeCollapseState=new w.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new w.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new w.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new N.Delayer(N.MicrotaskDelay),this.collapseByDefault=typeof d.collapseByDefault=="undefined"?!1:d.collapseByDefault,this.filter=d.filter,this.autoExpandSingleChildren=typeof d.autoExpandSingleChildren=="undefined"?!1:d.autoExpandSingleChildren,this.root={parent:void 0,element:l,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,s,l=b.Iterable.empty(),d={}){if(t.length===0)throw new y.TreeError(this.user,"Invalid tree location");d.diffIdentityProvider?this.spliceSmart(d.diffIdentityProvider,t,s,l,d):this.spliceSimple(t,s,l,d)}spliceSmart(t,s,l,d,a,o){var r;d===void 0&&(d=b.Iterable.empty()),o===void 0&&(o=(r=a.diffDepth)!==null&&r!==void 0?r:0);const{parentNode:c}=this.getParentNodeWithListIndex(s);if(!c.lastDiffIds)return this.spliceSimple(s,l,d,a);const g=[...d],m=s[s.length-1],S=new D.LcsDiff({getElements:()=>c.lastDiffIds},{getElements:()=>[...c.children.slice(0,m),...g,...c.children.slice(m+l)].map(E=>t.getId(E.element).toString())}).ComputeDiff(!1);if(S.quitEarly)return c.lastDiffIds=void 0,this.spliceSimple(s,l,g,a);const p=s.slice(0,-1),C=(E,I,T)=>{if(o>0)for(let P=0;P<T;P++)E--,I--,this.spliceSmart(t,[...p,E,0],Number.MAX_SAFE_INTEGER,g[I].children,a,o-1)};let _=Math.min(c.children.length,m+l),L=g.length;for(const E of S.changes.sort((I,T)=>T.originalStart-I.originalStart))C(_,L,_-(E.originalStart+E.originalLength)),_=E.originalStart,L=E.modifiedStart-m,this.spliceSimple([...p,_],E.originalLength,b.Iterable.slice(g,L,L+E.modifiedLength),a);C(_,L,_)}spliceSimple(t,s,l=b.Iterable.empty(),{onDidCreateNode:d,onDidDeleteNode:a,diffIdentityProvider:o}){const{parentNode:r,listIndex:c,revealed:g,visible:m}=this.getParentNodeWithListIndex(t),S=[],p=b.Iterable.map(l,A=>this.createTreeNode(A,r,r.visible?1:0,g,S,d)),C=t[t.length-1],_=r.children.length>0;let L=0;for(let A=C;A>=0&&A<r.children.length;A--){const O=r.children[A];if(O.visible){L=O.visibleChildIndex;break}}const E=[];let I=0,T=0;for(const A of p)E.push(A),T+=A.renderNodeCount,A.visible&&(A.visibleChildIndex=L+I++);const P=(0,f.splice)(r.children,C,s,E);o?r.lastDiffIds?(0,f.splice)(r.lastDiffIds,C,s,E.map(A=>o.getId(A.element).toString())):r.lastDiffIds=r.children.map(A=>o.getId(A.element).toString()):r.lastDiffIds=void 0;let B=0;for(const A of P)A.visible&&B++;if(B!==0)for(let A=C+E.length;A<r.children.length;A++){const O=r.children[A];O.visible&&(O.visibleChildIndex-=B)}if(r.visibleChildrenCount+=I-B,g&&m){const A=P.reduce((O,F)=>O+(F.visible?F.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(r,T-A),this.list.splice(c,A,S)}if(P.length>0&&a){const A=O=>{a(O),O.children.forEach(A)};P.forEach(A)}this._onDidSplice.fire({insertedNodes:E,deletedNodes:P});const R=r.children.length>0;_!==R&&this.setCollapsible(t.slice(0,-1),R);let k=r;for(;k;){if(k.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}k=k.parent}}rerender(t){if(t.length===0)throw new y.TreeError(this.user,"Invalid tree location");const{node:s,listIndex:l,revealed:d}=this.getTreeNodeWithListIndex(t);s.visible&&d&&this.list.splice(l,1,[s])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:s,visible:l,revealed:d}=this.getTreeNodeWithListIndex(t);return l&&d?s:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,s){const l=this.getTreeNode(t);typeof s=="undefined"&&(s=!l.collapsible);const d={collapsible:s};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,d))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,s,l){const d=this.getTreeNode(t);typeof s=="undefined"&&(s=!d.collapsed);const a={collapsed:s,recursive:l||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,a))}_setCollapseState(t,s){const{node:l,listIndex:d,revealed:a}=this.getTreeNodeWithListIndex(t),o=this._setListNodeCollapseState(l,d,a,s);if(l!==this.root&&this.autoExpandSingleChildren&&o&&!h(s)&&l.collapsible&&!l.collapsed&&!s.recursive){let r=-1;for(let c=0;c<l.children.length;c++)if(l.children[c].visible)if(r>-1){r=-1;break}else r=c;r>-1&&this._setCollapseState([...t,r],s)}return o}_setListNodeCollapseState(t,s,l,d){const a=this._setNodeCollapseState(t,d,!1);if(!l||!t.visible||!a)return a;const o=t.renderNodeCount,r=this.updateNodeAfterCollapseChange(t),c=o-(s===-1?0:1);return this.list.splice(s+1,c,r.slice(1)),a}_setNodeCollapseState(t,s,l){let d;if(t===this.root?d=!1:(h(s)?(d=t.collapsible!==s.collapsible,t.collapsible=s.collapsible):t.collapsible?(d=t.collapsed!==s.collapsed,t.collapsed=s.collapsed):d=!1,d&&this._onDidChangeCollapseState.fire({node:t,deep:l})),!h(s)&&s.recursive)for(const a of t.children)d=this._setNodeCollapseState(a,s,!0)||d;return d}expandTo(t){this.eventBufferer.bufferEvents(()=>{let s=this.getTreeNode(t);for(;s.parent;)s=s.parent,t=t.slice(0,t.length-1),s.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,s=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,s),this.refilterDelayer.cancel()}createTreeNode(t,s,l,d,a,o){const r={parent:s,element:t.element,children:[],depth:s.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed!="undefined",collapsed:typeof t.collapsed=="undefined"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},c=this._filterNode(r,l);r.visibility=c,d&&a.push(r);const g=t.children||b.Iterable.empty(),m=d&&c!==0&&!r.collapsed,S=b.Iterable.map(g,_=>this.createTreeNode(_,r,c,m,a,o));let p=0,C=1;for(const _ of S)r.children.push(_),C+=_.renderNodeCount,_.visible&&(_.visibleChildIndex=p++);return r.collapsible=r.collapsible||r.children.length>0,r.visibleChildrenCount=p,r.visible=c===2?p>0:c===1,r.visible?r.collapsed||(r.renderNodeCount=C):(r.renderNodeCount=0,d&&a.pop()),o==null||o(r),r}updateNodeAfterCollapseChange(t){const s=t.renderNodeCount,l=[];return this._updateNodeAfterCollapseChange(t,l),this._updateAncestorsRenderNodeCount(t.parent,l.length-s),l}_updateNodeAfterCollapseChange(t,s){if(t.visible===!1)return 0;if(s.push(t),t.renderNodeCount=1,!t.collapsed)for(const l of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(l,s);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const s=t.renderNodeCount,l=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,l),this._updateAncestorsRenderNodeCount(t.parent,l.length-s),l}_updateNodeAfterFilterChange(t,s,l,d=!0){let a;if(t!==this.root){if(a=this._filterNode(t,s),a===0)return t.visible=!1,t.renderNodeCount=0,!1;d&&l.push(t)}const o=l.length;t.renderNodeCount=t===this.root?0:1;let r=!1;if(!t.collapsed||a!==0){let c=0;for(const g of t.children)r=this._updateNodeAfterFilterChange(g,a,l,d&&!t.collapsed)||r,g.visible&&(g.visibleChildIndex=c++);t.visibleChildrenCount=c}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=a===2?r:a===1,t.visibility=a),t.visible?t.collapsed||(t.renderNodeCount+=l.length-o):(t.renderNodeCount=0,d&&l.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,s){if(s!==0)for(;t;)t.renderNodeCount+=s,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,s){const l=this.filter?this.filter.filter(t.element,s):1;return typeof l=="boolean"?(t.filterData=void 0,l?1:0):v(l)?(t.filterData=l.data,u(l.visibility)):(t.filterData=void 0,u(l))}hasTreeNode(t,s=this.root){if(!t||t.length===0)return!0;const[l,...d]=t;return l<0||l>s.children.length?!1:this.hasTreeNode(d,s.children[l])}getTreeNode(t,s=this.root){if(!t||t.length===0)return s;const[l,...d]=t;if(l<0||l>s.children.length)throw new y.TreeError(this.user,"Invalid tree location");return this.getTreeNode(d,s.children[l])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:s,listIndex:l,revealed:d,visible:a}=this.getParentNodeWithListIndex(t),o=t[t.length-1];if(o<0||o>s.children.length)throw new y.TreeError(this.user,"Invalid tree location");const r=s.children[o];return{node:r,listIndex:l,revealed:d,visible:a&&r.visible}}getParentNodeWithListIndex(t,s=this.root,l=0,d=!0,a=!0){const[o,...r]=t;if(o<0||o>s.children.length)throw new y.TreeError(this.user,"Invalid tree location");for(let c=0;c<o;c++)l+=s.children[c].renderNodeCount;return d=d&&!s.collapsed,a=a&&s.visible,r.length===0?{parentNode:s,listIndex:l,revealed:d,visible:a}:this.getParentNodeWithListIndex(r,s.children[o],l+1,d,a)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const s=[];let l=t;for(;l.parent;)s.push(l.parent.children.indexOf(l)),l=l.parent;return s.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,f.tail2)(t)[0]}getFirstElementChild(t){const s=this.getTreeNode(t);if(s.children.length!==0)return s.children[0].element}}e.IndexTreeModel=i}),define(ne[177],oe([1,0,176,120,55]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(b,v,u={}){this.user=b,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new y.IndexTreeModel(b,v,null,u),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,u.sorter&&(this.sorter={compare(h,i){return u.sorter.compare(h.element,i.element)}}),this.identityProvider=u.identityProvider}setChildren(b,v=N.Iterable.empty(),u={}){const h=this.getElementLocation(b);this._setChildren(h,this.preserveCollapseState(v),u)}_setChildren(b,v=N.Iterable.empty(),u){const h=new Set,i=new Set,n=s=>{var l;if(s.element===null)return;const d=s;if(h.add(d.element),this.nodes.set(d.element,d),this.identityProvider){const a=this.identityProvider.getId(d.element).toString();i.add(a),this.nodesByIdentity.set(a,d)}(l=u.onDidCreateNode)===null||l===void 0||l.call(u,d)},t=s=>{var l;if(s.element===null)return;const d=s;if(h.has(d.element)||this.nodes.delete(d.element),this.identityProvider){const a=this.identityProvider.getId(d.element).toString();i.has(a)||this.nodesByIdentity.delete(a)}(l=u.onDidDeleteNode)===null||l===void 0||l.call(u,d)};this.model.splice([...b,0],Number.MAX_VALUE,v,Object.assign(Object.assign({},u),{onDidCreateNode:n,onDidDeleteNode:t}))}preserveCollapseState(b=N.Iterable.empty()){return this.sorter&&(b=[...b].sort(this.sorter.compare.bind(this.sorter))),N.Iterable.map(b,v=>{let u=this.nodes.get(v.element);if(!u&&this.identityProvider){const n=this.identityProvider.getId(v.element).toString();u=this.nodesByIdentity.get(n)}if(!u)return Object.assign(Object.assign({},v),{children:this.preserveCollapseState(v.children)});const h=typeof v.collapsible=="boolean"?v.collapsible:u.collapsible,i=typeof v.collapsed!="undefined"?v.collapsed:u.collapsed;return Object.assign(Object.assign({},v),{collapsible:h,collapsed:i,children:this.preserveCollapseState(v.children)})})}rerender(b){const v=this.getElementLocation(b);this.model.rerender(v)}getFirstElementChild(b=null){const v=this.getElementLocation(b);return this.model.getFirstElementChild(v)}has(b){return this.nodes.has(b)}getListIndex(b){const v=this.getElementLocation(b);return this.model.getListIndex(v)}getListRenderCount(b){const v=this.getElementLocation(b);return this.model.getListRenderCount(v)}isCollapsible(b){const v=this.getElementLocation(b);return this.model.isCollapsible(v)}setCollapsible(b,v){const u=this.getElementLocation(b);return this.model.setCollapsible(u,v)}isCollapsed(b){const v=this.getElementLocation(b);return this.model.isCollapsed(v)}setCollapsed(b,v,u){const h=this.getElementLocation(b);return this.model.setCollapsed(h,v,u)}expandTo(b){const v=this.getElementLocation(b);this.model.expandTo(v)}refilter(){this.model.refilter()}getNode(b=null){if(b===null)return this.model.getNode(this.model.rootRef);const v=this.nodes.get(b);if(!v)throw new f.TreeError(this.user,`Tree element not found: ${b}`);return v}getNodeLocation(b){return b.element}getParentNodeLocation(b){if(b===null)throw new f.TreeError(this.user,"Invalid getParentNodeLocation call");const v=this.nodes.get(b);if(!v)throw new f.TreeError(this.user,`Tree element not found: ${b}`);const u=this.model.getNodeLocation(v),h=this.model.getParentNodeLocation(u);return this.model.getNode(h).element}getElementLocation(b){if(b===null)return[];const v=this.nodes.get(b);if(!v)throw new f.TreeError(this.user,`Tree element not found: ${b}`);return this.model.getNodeLocation(v)}}e.ObjectTreeModel=D}),define(ne[334],oe([1,0,177,120,4,55]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function w(o){const r=[o.element],c=o.incompressible||!1;return{element:{elements:r,incompressible:c},children:D.Iterable.map(D.Iterable.from(o.children),w),collapsible:o.collapsible,collapsed:o.collapsed}}function b(o){const r=[o.element],c=o.incompressible||!1;let g,m;for(;[m,g]=D.Iterable.consume(D.Iterable.from(o.children),2),!(m.length!==1||m[0].incompressible);)o=m[0],r.push(o.element);return{element:{elements:r,incompressible:c},children:D.Iterable.map(D.Iterable.concat(m,g),b),collapsible:o.collapsible,collapsed:o.collapsed}}e.compress=b;function v(o,r=0){let c;return r<o.element.elements.length-1?c=[v(o,r+1)]:c=D.Iterable.map(D.Iterable.from(o.children),g=>v(g,0)),r===0&&o.element.incompressible?{element:o.element.elements[r],children:c,incompressible:!0,collapsible:o.collapsible,collapsed:o.collapsed}:{element:o.element.elements[r],children:c,collapsible:o.collapsible,collapsed:o.collapsed}}function u(o){return v(o,0)}e.decompress=u;function h(o,r,c){return o.element===r?Object.assign(Object.assign({},o),{children:c}):Object.assign(Object.assign({},o),{children:D.Iterable.map(D.Iterable.from(o.children),g=>h(g,r,c))})}const i=o=>({getId(r){return r.elements.map(c=>o.getId(c).toString()).join("\0")}});class n{constructor(r,c,g={}){this.user=r,this.rootRef=null,this.nodes=new Map,this.model=new y.ObjectTreeModel(r,c,g),this.enabled=typeof g.compressionEnabled=="undefined"?!0:g.compressionEnabled,this.identityProvider=g.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(r,c=D.Iterable.empty(),g){const m=g.diffIdentityProvider&&i(g.diffIdentityProvider);if(r===null){const P=D.Iterable.map(c,this.enabled?b:w);this._setChildren(null,P,{diffIdentityProvider:m,diffDepth:1/0});return}const S=this.nodes.get(r);if(!S)throw new Error("Unknown compressed tree node");const p=this.model.getNode(S),C=this.model.getParentNodeLocation(S),_=this.model.getNode(C),L=u(p),E=h(L,r,c),I=(this.enabled?b:w)(E),T=_.children.map(P=>P===p?I:P);this._setChildren(_.element,T,{diffIdentityProvider:m,diffDepth:p.depth-_.depth})}setCompressionEnabled(r){if(r===this.enabled)return;this.enabled=r;const g=this.model.getNode().children,m=D.Iterable.map(g,u),S=D.Iterable.map(m,r?b:w);this._setChildren(null,S,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(r,c,g){const m=new Set,S=C=>{for(const _ of C.element.elements)m.add(_),this.nodes.set(_,C.element)},p=C=>{for(const _ of C.element.elements)m.has(_)||this.nodes.delete(_)};this.model.setChildren(r,c,Object.assign(Object.assign({},g),{onDidCreateNode:S,onDidDeleteNode:p}))}has(r){return this.nodes.has(r)}getListIndex(r){const c=this.getCompressedNode(r);return this.model.getListIndex(c)}getListRenderCount(r){const c=this.getCompressedNode(r);return this.model.getListRenderCount(c)}getNode(r){if(typeof r=="undefined")return this.model.getNode();const c=this.getCompressedNode(r);return this.model.getNode(c)}getNodeLocation(r){const c=this.model.getNodeLocation(r);return c===null?null:c.elements[c.elements.length-1]}getParentNodeLocation(r){const c=this.getCompressedNode(r),g=this.model.getParentNodeLocation(c);return g===null?null:g.elements[g.elements.length-1]}getFirstElementChild(r){const c=this.getCompressedNode(r);return this.model.getFirstElementChild(c)}isCollapsible(r){const c=this.getCompressedNode(r);return this.model.isCollapsible(c)}setCollapsible(r,c){const g=this.getCompressedNode(r);return this.model.setCollapsible(g,c)}isCollapsed(r){const c=this.getCompressedNode(r);return this.model.isCollapsed(c)}setCollapsed(r,c,g){const m=this.getCompressedNode(r);return this.model.setCollapsed(m,c,g)}expandTo(r){const c=this.getCompressedNode(r);this.model.expandTo(c)}rerender(r){const c=this.getCompressedNode(r);this.model.rerender(c)}refilter(){this.model.refilter()}getCompressedNode(r){if(r===null)return null;const c=this.nodes.get(r);if(!c)throw new f.TreeError(this.user,`Tree element not found: ${r}`);return c}}e.CompressedObjectTreeModel=n;const t=o=>o[o.length-1];e.DefaultElementMapper=t;class s{constructor(r,c){this.unwrapper=r,this.node=c}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(r=>new s(this.unwrapper,r))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function l(o,r){return{splice(c,g,m){r.splice(c,g,m.map(S=>o.map(S)))},updateElementHeight(c,g){r.updateElementHeight(c,g)}}}function d(o,r){return Object.assign(Object.assign({},r),{identityProvider:r.identityProvider&&{getId(c){return r.identityProvider.getId(o(c))}},sorter:r.sorter&&{compare(c,g){return r.sorter.compare(c.elements[0],g.elements[0])}},filter:r.filter&&{filter(c,g){return r.filter.filter(o(c),g)}}})}class a{constructor(r,c,g={}){this.rootRef=null,this.elementMapper=g.elementMapper||e.DefaultElementMapper;const m=S=>this.elementMapper(S.elements);this.nodeMapper=new f.WeakMapper(S=>new s(m,S)),this.model=new n(r,l(this.nodeMapper,c),d(m,g))}get onDidSplice(){return N.Event.map(this.model.onDidSplice,({insertedNodes:r,deletedNodes:c})=>({insertedNodes:r.map(g=>this.nodeMapper.map(g)),deletedNodes:c.map(g=>this.nodeMapper.map(g))}))}get onDidChangeCollapseState(){return N.Event.map(this.model.onDidChangeCollapseState,({node:r,deep:c})=>({node:this.nodeMapper.map(r),deep:c}))}get onDidChangeRenderNodeCount(){return N.Event.map(this.model.onDidChangeRenderNodeCount,r=>this.nodeMapper.map(r))}setChildren(r,c=D.Iterable.empty(),g={}){this.model.setChildren(r,c,g)}setCompressionEnabled(r){this.model.setCompressionEnabled(r)}has(r){return this.model.has(r)}getListIndex(r){return this.model.getListIndex(r)}getListRenderCount(r){return this.model.getListRenderCount(r)}getNode(r){return this.nodeMapper.map(this.model.getNode(r))}getNodeLocation(r){return r.element}getParentNodeLocation(r){return this.model.getParentNodeLocation(r)}getFirstElementChild(r){const c=this.model.getFirstElementChild(r);return c===null||typeof c=="undefined"?c:this.elementMapper(c.elements)}isCollapsible(r){return this.model.isCollapsible(r)}setCollapsible(r,c){return this.model.setCollapsible(r,c)}isCollapsed(r){return this.model.isCollapsed(r)}setCollapsed(r,c,g){return this.model.setCollapsed(r,c,g)}expandTo(r){return this.model.expandTo(r)}rerender(r){return this.model.rerender(r)}refilter(){return this.model.refilter()}getCompressedTreeNode(r=null){return this.model.getNode(r)}}e.CompressibleObjectTreeModel=a}),define(ne[335],oe([1,0,175,17]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function N(w,b=f.isWindows){return(0,y.hasDriveLetter)(w,b)?w.charAt(0).toUpperCase()+w.slice(1):w}e.normalizeDriveLetter=N;let D=Object.create(null)}),define(ne[51],oe([1,0,9]),function(j,e,y){"use strict";var f,N;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class D{constructor(){this._value="",this._pos=0}reset(d){return this._value=d,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(d){const a=d.charCodeAt(0),o=this._value.charCodeAt(this._pos);return a-o}value(){return this._value[this._pos]}}e.StringIterator=D;class w{constructor(d=!0){this._caseSensitive=d}reset(d){return this._value=d,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let d=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(d)this._from++;else break;else d=!1;return this}cmp(d){return this._caseSensitive?(0,y.compareSubstring)(d,this._value,0,d.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=w;class b{constructor(d=!0,a=!0){this._splitOnBackslash=d,this._caseSensitive=a}reset(d){this._from=0,this._to=0,this._value=d,this._valueLen=d.length;for(let a=d.length-1;a>=0;a--,this._valueLen--){const o=this._value.charCodeAt(a);if(!(o===47||this._splitOnBackslash&&o===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let d=!0;for(;this._to<this._valueLen;this._to++){const a=this._value.charCodeAt(this._to);if(a===47||this._splitOnBackslash&&a===92)if(d)this._from++;else break;else d=!1}return this}cmp(d){return this._caseSensitive?(0,y.compareSubstring)(d,this._value,0,d.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=b;class v{constructor(d,a){this._ignorePathCasing=d,this._ignoreQueryAndFragment=a,this._states=[],this._stateIdx=0}reset(d){return this._value=d,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new b(!1,!this._ignorePathCasing(d)),this._pathIterator.reset(d.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(d)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(d){if(this._states[this._stateIdx]===1)return(0,y.compareIgnoreCase)(d,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,y.compareIgnoreCase)(d,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(d);if(this._states[this._stateIdx]===4)return(0,y.compare)(d,this._value.query);if(this._states[this._stateIdx]===5)return(0,y.compare)(d,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=v;class u{constructor(){this.height=1}rotateLeft(){const d=this.right;return this.right=d.left,d.left=this,this.updateHeight(),d.updateHeight(),d}rotateRight(){const d=this.left;return this.left=d.right,d.right=this,this.updateHeight(),d.updateHeight(),d}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var d,a;return(a=(d=this.left)===null||d===void 0?void 0:d.height)!==null&&a!==void 0?a:0}get heightRight(){var d,a;return(a=(d=this.right)===null||d===void 0?void 0:d.height)!==null&&a!==void 0?a:0}}class h{constructor(d){this._iter=d}static forUris(d=()=>!1,a=()=>!1){return new h(new v(d,a))}static forStrings(){return new h(new D)}static forConfigKeys(){return new h(new w)}clear(){this._root=void 0}set(d,a){const o=this._iter.reset(d);let r;this._root||(this._root=new u,this._root.segment=o.value());const c=[];for(r=this._root;;){const m=o.cmp(r.segment);if(m>0)r.left||(r.left=new u,r.left.segment=o.value()),c.push([-1,r]),r=r.left;else if(m<0)r.right||(r.right=new u,r.right.segment=o.value()),c.push([1,r]),r=r.right;else if(o.hasNext())o.next(),r.mid||(r.mid=new u,r.mid.segment=o.value()),c.push([0,r]),r=r.mid;else break}const g=r.value;r.value=a,r.key=d;for(let m=c.length-1;m>=0;m--){const S=c[m][1];S.updateHeight();const p=S.balanceFactor();if(p<-1||p>1){const C=c[m][0],_=c[m+1][0];if(C===1&&_===1)c[m][1]=S.rotateLeft();else if(C===-1&&_===-1)c[m][1]=S.rotateRight();else if(C===1&&_===-1)S.right=c[m+1][1]=c[m+1][1].rotateRight(),c[m][1]=S.rotateLeft();else if(C===-1&&_===1)S.left=c[m+1][1]=c[m+1][1].rotateLeft(),c[m][1]=S.rotateRight();else throw new Error;if(m>0)switch(c[m-1][0]){case-1:c[m-1][1].left=c[m][1];break;case 1:c[m-1][1].right=c[m][1];break;case 0:c[m-1][1].mid=c[m][1];break}else this._root=c[0][1]}}return g}get(d){var a;return(a=this._getNode(d))===null||a===void 0?void 0:a.value}_getNode(d){const a=this._iter.reset(d);let o=this._root;for(;o;){const r=a.cmp(o.segment);if(r>0)o=o.left;else if(r<0)o=o.right;else if(a.hasNext())a.next(),o=o.mid;else break}return o}has(d){const a=this._getNode(d);return!((a==null?void 0:a.value)===void 0&&(a==null?void 0:a.mid)===void 0)}delete(d){return this._delete(d,!1)}deleteSuperstr(d){return this._delete(d,!0)}_delete(d,a){var o;const r=this._iter.reset(d),c=[];let g=this._root;for(;g;){const m=r.cmp(g.segment);if(m>0)c.push([-1,g]),g=g.left;else if(m<0)c.push([1,g]),g=g.right;else if(r.hasNext())r.next(),c.push([0,g]),g=g.mid;else break}if(!!g){if(a?(g.left=void 0,g.mid=void 0,g.right=void 0,g.height=1):(g.key=void 0,g.value=void 0),!g.mid&&!g.value)if(g.left&&g.right){const m=this._min(g.right),{key:S,value:p,segment:C}=m;this._delete(m.key,!1),g.key=S,g.value=p,g.segment=C}else{const m=(o=g.left)!==null&&o!==void 0?o:g.right;if(c.length>0){const[S,p]=c[c.length-1];switch(S){case-1:p.left=m;break;case 0:p.mid=m;break;case 1:p.right=m;break}}else this._root=m}for(let m=c.length-1;m>=0;m--){const S=c[m][1];S.updateHeight();const p=S.balanceFactor();if(p>1?(S.right.balanceFactor()>=0||(S.right=S.right.rotateRight()),c[m][1]=S.rotateLeft()):p<-1&&(S.left.balanceFactor()<=0||(S.left=S.left.rotateLeft()),c[m][1]=S.rotateRight()),m>0)switch(c[m-1][0]){case-1:c[m-1][1].left=c[m][1];break;case 1:c[m-1][1].right=c[m][1];break;case 0:c[m-1][1].mid=c[m][1];break}else this._root=c[0][1]}}}_min(d){for(;d.left;)d=d.left;return d}findSubstr(d){const a=this._iter.reset(d);let o=this._root,r;for(;o;){const c=a.cmp(o.segment);if(c>0)o=o.left;else if(c<0)o=o.right;else if(a.hasNext())a.next(),r=o.value||r,o=o.mid;else break}return o&&o.value||r}findSuperstr(d){const a=this._iter.reset(d);let o=this._root;for(;o;){const r=a.cmp(o.segment);if(r>0)o=o.left;else if(r<0)o=o.right;else if(a.hasNext())a.next(),o=o.mid;else return o.mid?this._entries(o.mid):void 0}}forEach(d){for(const[a,o]of this)d(o,a)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(d){!d||(d.left&&(yield*this._entries(d.left)),d.value&&(yield[d.key,d.value]),d.mid&&(yield*this._entries(d.mid)),d.right&&(yield*this._entries(d.right)))}}e.TernarySearchTree=h;class i{constructor(d,a){this.uri=d,this.value=a}}class n{constructor(d,a){this[f]="ResourceMap",d instanceof n?(this.map=new Map(d.map),this.toKey=a??n.defaultToKey):(this.map=new Map,this.toKey=d??n.defaultToKey)}set(d,a){return this.map.set(this.toKey(d),new i(d,a)),this}get(d){var a;return(a=this.map.get(this.toKey(d)))===null||a===void 0?void 0:a.value}has(d){return this.map.has(this.toKey(d))}get size(){return this.map.size}clear(){this.map.clear()}delete(d){return this.map.delete(this.toKey(d))}forEach(d,a){typeof a!="undefined"&&(d=d.bind(a));for(const[o,r]of this.map)d(r.value,r.uri,this)}*values(){for(const d of this.map.values())yield d.value}*keys(){for(const d of this.map.values())yield d.uri}*entries(){for(const d of this.map.values())yield[d.uri,d.value]}*[(f=Symbol.toStringTag,Symbol.iterator)](){for(const[,d]of this.map)yield[d.uri,d.value]}}e.ResourceMap=n,n.defaultToKey=l=>l.toString();class t{constructor(){this[N]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var d;return(d=this._head)===null||d===void 0?void 0:d.value}get last(){var d;return(d=this._tail)===null||d===void 0?void 0:d.value}has(d){return this._map.has(d)}get(d,a=0){const o=this._map.get(d);if(!!o)return a!==0&&this.touch(o,a),o.value}set(d,a,o=0){let r=this._map.get(d);if(r)r.value=a,o!==0&&this.touch(r,o);else{switch(r={key:d,value:a,next:void 0,previous:void 0},o){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(d,r),this._size++}return this}delete(d){return!!this.remove(d)}remove(d){const a=this._map.get(d);if(!!a)return this._map.delete(d),this.removeItem(a),this._size--,a.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const d=this._head;return this._map.delete(d.key),this.removeItem(d),this._size--,d.value}forEach(d,a){const o=this._state;let r=this._head;for(;r;){if(a?d.bind(a)(r.value,r.key,this):d(r.value,r.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const d=this,a=this._state;let o=this._head;const r={[Symbol.iterator](){return r},next(){if(d._state!==a)throw new Error("LinkedMap got modified during iteration.");if(o){const c={value:o.key,done:!1};return o=o.next,c}else return{value:void 0,done:!0}}};return r}values(){const d=this,a=this._state;let o=this._head;const r={[Symbol.iterator](){return r},next(){if(d._state!==a)throw new Error("LinkedMap got modified during iteration.");if(o){const c={value:o.value,done:!1};return o=o.next,c}else return{value:void 0,done:!0}}};return r}entries(){const d=this,a=this._state;let o=this._head;const r={[Symbol.iterator](){return r},next(){if(d._state!==a)throw new Error("LinkedMap got modified during iteration.");if(o){const c={value:[o.key,o.value],done:!1};return o=o.next,c}else return{value:void 0,done:!0}}};return r}[(N=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(d){if(d>=this.size)return;if(d===0){this.clear();return}let a=this._head,o=this.size;for(;a&&o>d;)this._map.delete(a.key),a=a.next,o--;this._head=a,this._size=o,a&&(a.previous=void 0),this._state++}addItemFirst(d){if(!this._head&&!this._tail)this._tail=d;else if(this._head)d.next=this._head,this._head.previous=d;else throw new Error("Invalid list");this._head=d,this._state++}addItemLast(d){if(!this._head&&!this._tail)this._head=d;else if(this._tail)d.previous=this._tail,this._tail.next=d;else throw new Error("Invalid list");this._tail=d,this._state++}removeItem(d){if(d===this._head&&d===this._tail)this._head=void 0,this._tail=void 0;else if(d===this._head){if(!d.next)throw new Error("Invalid list");d.next.previous=void 0,this._head=d.next}else if(d===this._tail){if(!d.previous)throw new Error("Invalid list");d.previous.next=void 0,this._tail=d.previous}else{const a=d.next,o=d.previous;if(!a||!o)throw new Error("Invalid list");a.previous=o,o.next=a}d.next=void 0,d.previous=void 0,this._state++}touch(d,a){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(a!==1&&a!==2)){if(a===1){if(d===this._head)return;const o=d.next,r=d.previous;d===this._tail?(r.next=void 0,this._tail=r):(o.previous=r,r.next=o),d.previous=void 0,d.next=this._head,this._head.previous=d,this._head=d,this._state++}else if(a===2){if(d===this._tail)return;const o=d.next,r=d.previous;d===this._head?(o.previous=void 0,this._head=o):(o.previous=r,r.next=o),d.next=void 0,d.previous=this._tail,this._tail.next=d,this._tail=d,this._state++}}}toJSON(){const d=[];return this.forEach((a,o)=>{d.push([o,a])}),d}fromJSON(d){this.clear();for(const[a,o]of d)this.set(a,o)}}e.LinkedMap=t;class s extends t{constructor(d,a=1){super();this._limit=d,this._ratio=Math.min(Math.max(0,a),1)}get limit(){return this._limit}set limit(d){this._limit=d,this.checkTrim()}get(d,a=2){return super.get(d,a)}peek(d){return super.get(d,0)}set(d,a){return super.set(d,a,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=s}),define(ne[64],oe([1,0,51,9]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function N(...K){return function(V,Q){for(let ee=0,ae=K.length;ee<ae;ee++){const fe=K[ee](V,Q);if(fe)return fe}return null}}e.or=N,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D(K,V,Q){if(!Q||Q.length<V.length)return null;let ee;return K?ee=f.startsWithIgnoreCase(Q,V):ee=Q.indexOf(V)===0,ee?V.length>0?[{start:0,end:V.length}]:[]:null}function w(K,V){const Q=V.toLowerCase().indexOf(K.toLowerCase());return Q===-1?null:[{start:Q,end:Q+K.length}]}e.matchesContiguousSubString=w;function b(K,V){return v(K.toLowerCase(),V.toLowerCase(),0,0)}e.matchesSubString=b;function v(K,V,Q,ee){if(Q===K.length)return[];if(ee===V.length)return null;if(K[Q]===V[ee]){let ae=null;return(ae=v(K,V,Q+1,ee+1))?a({start:ee,end:ee+1},ae):null}return v(K,V,Q,ee+1)}function u(K){return 97<=K&&K<=122}function h(K){return 65<=K&&K<=90}e.isUpper=h;function i(K){return 48<=K&&K<=57}function n(K){return K===32||K===9||K===10||K===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(K=>t.add(K.charCodeAt(0)));function s(K){return n(K)||t.has(K)}function l(K,V){return K===V||s(K)&&s(V)}function d(K){return u(K)||h(K)||i(K)}function a(K,V){return V.length===0?V=[K]:K.end===V[0].start?V[0].start=K.start:V.unshift(K),V}function o(K,V){for(let Q=V;Q<K.length;Q++){const ee=K.charCodeAt(Q);if(h(ee)||i(ee)||Q>0&&!d(K.charCodeAt(Q-1)))return Q}return K.length}function r(K,V,Q,ee){if(Q===K.length)return[];if(ee===V.length)return null;if(K[Q]!==V[ee].toLowerCase())return null;{let ae=null,fe=ee+1;for(ae=r(K,V,Q+1,ee+1);!ae&&(fe=o(V,fe))<V.length;)ae=r(K,V,Q+1,fe),fe++;return ae===null?null:a({start:ee,end:ee+1},ae)}}function c(K){let V=0,Q=0,ee=0,ae=0,fe=0;for(let me=0;me<K.length;me++)fe=K.charCodeAt(me),h(fe)&&V++,u(fe)&&Q++,d(fe)&&ee++,i(fe)&&ae++;const pe=V/K.length,ve=Q/K.length,ue=ee/K.length,Ce=ae/K.length;return{upperPercent:pe,lowerPercent:ve,alphaPercent:ue,numericPercent:Ce}}function g(K){const{upperPercent:V,lowerPercent:Q}=K;return Q===0&&V>.6}function m(K){const{upperPercent:V,lowerPercent:Q,alphaPercent:ee,numericPercent:ae}=K;return Q>.2&&V<.8&&ee>.6&&ae<.2}function S(K){let V=0,Q=0,ee=0,ae=0;for(let fe=0;fe<K.length;fe++)ee=K.charCodeAt(fe),h(ee)&&V++,u(ee)&&Q++,n(ee)&&ae++;return(V===0||Q===0)&&ae===0?K.length<=30:V<=5}function p(K,V){if(!V||(V=V.trim(),V.length===0)||!S(K)||V.length>60)return null;const Q=c(V);if(!m(Q)){if(!g(Q))return null;V=V.toLowerCase()}let ee=null,ae=0;for(K=K.toLowerCase();ae<V.length&&(ee=r(K,V,0,ae))===null;)ae=o(V,ae+1);return ee}e.matchesCamelCase=p;function C(K,V,Q=!1){if(!V||V.length===0)return null;let ee=null,ae=0;for(K=K.toLowerCase(),V=V.toLowerCase();ae<V.length&&(ee=_(K,V,0,ae,Q))===null;)ae=L(V,ae+1);return ee}e.matchesWords=C;function _(K,V,Q,ee,ae){if(Q===K.length)return[];if(ee===V.length)return null;if(l(K.charCodeAt(Q),V.charCodeAt(ee))){let fe=null,pe=ee+1;if(fe=_(K,V,Q+1,ee+1,ae),!ae)for(;!fe&&(pe=L(V,pe))<V.length;)fe=_(K,V,Q+1,pe,ae),pe++;return fe===null?null:a({start:ee,end:ee+1},fe)}else return null}function L(K,V){for(let Q=V;Q<K.length;Q++)if(s(K.charCodeAt(Q))||Q>0&&s(K.charCodeAt(Q-1)))return Q;return K.length}const E=N(e.matchesPrefix,p,w),I=N(e.matchesPrefix,p,b),T=new y.LRUCache(1e4);function P(K,V,Q=!1){if(typeof K!="string"||typeof V!="string")return null;let ee=T.get(K);ee||(ee=new RegExp(f.convertSimple2RegExpPattern(K),"i"),T.set(K,ee));const ae=ee.exec(V);return ae?[{start:ae.index,end:ae.index+ae[0].length}]:Q?I(K,V):E(K,V)}e.matchesFuzzy=P;function B(K,V,Q,ee,ae,fe){const pe=Math.min(13,K.length);for(;Q<pe;Q++){const ve=le(K,V,Q,ee,ae,fe,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(ve)return ve}return[0,fe]}e.anyScore=B;function R(K){if(typeof K=="undefined")return[];const V=[],Q=K[1];for(let ee=K.length-1;ee>1;ee--){const ae=K[ee]+Q,fe=V[V.length-1];fe&&fe.end===ae?fe.end=ae+1:V.push({start:ae,end:ae+1})}return V}e.createMatches=R;const k=128;function A(){const K=[],V=[];for(let Q=0;Q<=k;Q++)V[Q]=0;for(let Q=0;Q<=k;Q++)K.push(V.slice(0));return K}function O(K){const V=[];for(let Q=0;Q<=K;Q++)V[Q]=0;return V}const F=O(2*k),W=O(2*k),M=A(),z=A(),G=A(),te=!1;function X(K,V,Q,ee,ae){function fe(ve,ue,Ce=" "){for(;ve.length<ue;)ve=Ce+ve;return ve}let pe=` |   |${ee.split("").map(ve=>fe(ve,3)).join("|")}
`;for(let ve=0;ve<=Q;ve++)ve===0?pe+=" |":pe+=`${V[ve-1]}|`,pe+=K[ve].slice(0,ae+1).map(ue=>fe(ue.toString(),3)).join("|")+`
`;return pe}function J(K,V,Q,ee){K=K.substr(V),Q=Q.substr(ee),console.log(X(z,K,K.length,Q,Q.length)),console.log(X(G,K,K.length,Q,Q.length)),console.log(X(M,K,K.length,Q,Q.length))}function ie(K,V){if(V<0||V>=K.length)return!1;const Q=K.codePointAt(V);switch(Q){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!f.isEmojiImprecise(Q)}}function re(K,V){if(V<0||V>=K.length)return!1;switch(K.charCodeAt(V)){case 32:case 9:return!0;default:return!1}}function Z(K,V,Q){return V[K]!==Q[K]}function x(K,V,Q,ee,ae,fe,pe=!1){for(;V<Q&&ae<fe;)K[V]===ee[ae]&&(pe&&(F[V]=ae),V+=1),ae+=1;return V===Q}e.isPatternInWord=x;var U;(function(K){K.Default=[-100,0];function V(Q){return!Q||Q.length===2&&Q[0]===-100&&Q[1]===0}K.isDefault=V})(U=e.FuzzyScore||(e.FuzzyScore={}));class q{constructor(V,Q){this.firstMatchCanBeWeak=V,this.boostFullMatch=Q}}e.FuzzyScoreOptions=q,q.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function le(K,V,Q,ee,ae,fe,pe=q.default){const ve=K.length>k?k:K.length,ue=ee.length>k?k:ee.length;if(Q>=ve||fe>=ue||ve-Q>ue-fe||!x(V,Q,ve,ae,fe,ue,!0))return;se(ve,ue,Q,fe,V,ae);let Ce=1,me=1,be=Q,ce=fe;const he=[!1];for(Ce=1,be=Q;be<ve;Ce++,be++){const Ne=F[be],Oe=W[be],Se=be+1<ve?W[be+1]:ue;for(me=Ne-fe+1,ce=Ne;ce<Se;me++,ce++){let _e=Number.MIN_SAFE_INTEGER,Ee=!1;ce<=Oe&&(_e=Y(K,V,be,Q,ee,ae,ce,ue,fe,M[Ce-1][me-1]===0,he));let Ae=0;_e!==Number.MAX_SAFE_INTEGER&&(Ee=!0,Ae=_e+z[Ce-1][me-1]);const Re=ce>Ne,Ve=Re?z[Ce][me-1]+(M[Ce][me-1]>0?-5:0):0,He=ce>Ne+1&&M[Ce][me-1]>0,ze=He?z[Ce][me-2]+(M[Ce][me-2]>0?-5:0):0;if(He&&(!Re||ze>=Ve)&&(!Ee||ze>=Ae))z[Ce][me]=ze,G[Ce][me]=3,M[Ce][me]=0;else if(Re&&(!Ee||Ve>=Ae))z[Ce][me]=Ve,G[Ce][me]=2,M[Ce][me]=0;else if(Ee)z[Ce][me]=Ae,G[Ce][me]=1,M[Ce][me]=M[Ce-1][me-1]+1;else throw new Error("not possible")}}if(te&&J(K,Q,ee,fe),!he[0]&&!pe.firstMatchCanBeWeak)return;Ce--,me--;const we=[z[Ce][me],fe];let ye=0,Te=0;for(;Ce>=1;){let Ne=me;do{const Oe=G[Ce][Ne];if(Oe===3)Ne=Ne-2;else if(Oe===2)Ne=Ne-1;else break}while(Ne>=1);ye>1&&V[Q+Ce-1]===ae[fe+me-1]&&!Z(Ne+fe-1,ee,ae)&&ye+1>M[Ce][Ne]&&(Ne=me),Ne===me?ye++:ye=1,Te||(Te=Ne),Ce--,me=Ne-1,we.push(me)}ue===ve&&pe.boostFullMatch&&(we[0]+=2);const ke=Te-ve;return we[0]-=ke,we}e.fuzzyScore=le;function se(K,V,Q,ee,ae,fe){let pe=K-1,ve=V-1;for(;pe>=Q&&ve>=ee;)ae[pe]===fe[ve]&&(W[pe]=ve,pe--),ve--}function Y(K,V,Q,ee,ae,fe,pe,ve,ue,Ce,me){if(V[Q]!==fe[pe])return Number.MIN_SAFE_INTEGER;let be=1,ce=!1;return pe===Q-ee?be=K[Q]===ae[pe]?7:5:Z(pe,ae,fe)&&(pe===0||!Z(pe-1,ae,fe))?(be=K[Q]===ae[pe]?7:5,ce=!0):ie(fe,pe)&&(pe===0||!ie(fe,pe-1))?be=5:(ie(fe,pe-1)||re(fe,pe-1))&&(be=5,ce=!0),be>1&&Q===ee&&(me[0]=!0),ce||(ce=Z(pe,ae,fe)||ie(fe,pe-1)||re(fe,pe-1)),Q===ee?pe>ue&&(be-=ce?3:5):Ce?be+=ce?2:0:be+=ce?0:1,pe+1===ve&&(be-=ce?3:5),be}function de(K,V,Q,ee,ae,fe,pe){return H(K,V,Q,ee,ae,fe,!0,pe)}e.fuzzyScoreGracefulAggressive=de;function H(K,V,Q,ee,ae,fe,pe,ve){let ue=le(K,V,Q,ee,ae,fe,ve);if(ue&&!pe)return ue;if(K.length>=3){const Ce=Math.min(7,K.length-1);for(let me=Q+1;me<Ce;me++){const be=$(K,me);if(be){const ce=le(be,be.toLowerCase(),Q,ee,ae,fe,ve);ce&&(ce[0]-=3,(!ue||ce[0]>ue[0])&&(ue=ce))}}}return ue}function $(K,V){if(V+1>=K.length)return;const Q=K[V],ee=K[V+1];if(Q!==ee)return K.slice(0,V)+ee+Q+K.slice(V+2)}}),define(ne[336],oe([1,0,64,80,17,9]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const w=[void 0,[]];function b(o,r,c=0,g=0){const m=r;return m.values&&m.values.length>1?v(o,m.values,c,g):u(o,r,c,g)}e.scoreFuzzy2=b;function v(o,r,c,g){let m=0;const S=[];for(const p of r){const[C,_]=u(o,p,c,g);if(typeof C!="number")return w;m+=C,S.push(..._)}return[m,i(S)]}function u(o,r,c,g){const m=(0,y.fuzzyScore)(r.original,r.originalLowercase,c,o,o.toLowerCase(),g,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return m?[m[0],(0,y.createMatches)(m)]:w}const h=Object.freeze({score:0});function i(o){const r=o.sort((m,S)=>m.start-S.start),c=[];let g;for(const m of r)!g||!n(g,m)?(g=m,c.push(m)):(g.start=Math.min(g.start,m.start),g.end=Math.max(g.end,m.end));return c}function n(o,r){return!(o.end<r.start||r.end<o.start)}function t(o){return o.startsWith('"')&&o.endsWith('"')}const s=" ";function l(o){typeof o!="string"&&(o="");const r=o.toLowerCase(),{pathNormalized:c,normalized:g,normalizedLowercase:m}=d(o),S=c.indexOf(f.sep)>=0,p=t(o);let C;const _=o.split(s);if(_.length>1)for(const L of _){const E=t(L),{pathNormalized:I,normalized:T,normalizedLowercase:P}=d(L);T&&(C||(C=[]),C.push({original:L,originalLowercase:L.toLowerCase(),pathNormalized:I,normalized:T,normalizedLowercase:P,expectContiguousMatch:E}))}return{original:o,originalLowercase:r,pathNormalized:c,normalized:g,normalizedLowercase:m,values:C,containsPathSeparator:S,expectContiguousMatch:p}}e.prepareQuery=l;function d(o){let r;N.isWindows?r=o.replace(/\//g,f.sep):r=o.replace(/\\/g,f.sep);const c=(0,D.stripWildcards)(r).replace(/\s|"/g,"");return{pathNormalized:r,normalized:c,normalizedLowercase:c.toLowerCase()}}function a(o){return Array.isArray(o)?l(o.map(r=>r.original).join(s)):l(o.original)}e.pieceToQuery=a}),define(ne[224],oe([1,0,10,175,51,80,17,9]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const v="[/\\\\]",u="[^/\\\\]",h=/\//g;function i(F,W){switch(F){case 0:return"";case 1:return`${u}*?`;default:return`(?:${v}|${u}+${v}${W?`|${v}${u}+`:""})*?`}}function n(F,W){if(!F)return[];const M=[];let z=!1,G=!1,te="";for(const X of F){switch(X){case W:if(!z&&!G){M.push(te),te="";continue}break;case"{":z=!0;break;case"}":z=!1;break;case"[":G=!0;break;case"]":G=!1;break}te+=X}return te&&M.push(te),M}e.splitGlobAware=n;function t(F){if(!F)return"";let W="";const M=n(F,e.GLOB_SPLIT);if(M.every(z=>z===e.GLOBSTAR))W=".*";else{let z=!1;M.forEach((G,te)=>{if(G===e.GLOBSTAR){if(z)return;W+=i(2,te===M.length-1)}else{let X=!1,J="",ie=!1,re="";for(const Z of G){if(Z!=="}"&&X){J+=Z;continue}if(ie&&(Z!=="]"||!re)){let x;Z==="-"?x=Z:(Z==="^"||Z==="!")&&!re?x="^":Z===e.GLOB_SPLIT?x="":x=(0,b.escapeRegExpCharacters)(Z),re+=x;continue}switch(Z){case"{":X=!0;continue;case"[":ie=!0;continue;case"}":{W+=`(?:${n(J,",").map(q=>t(q)).join("|")})`,X=!1,J="";break}case"]":{W+="["+re+"]",ie=!1,re="";break}case"?":W+=u;continue;case"*":W+=i(1);continue;default:W+=(0,b.escapeRegExpCharacters)(Z)}}te<M.length-1&&(M[te+1]!==e.GLOBSTAR||te+2<M.length)&&(W+=v)}z=G===e.GLOBSTAR})}return W}const s=/^\*\*\/\*\.[\w\.-]+$/,l=/^\*\*\/([\w\.-]+)\/?$/,d=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,a=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,o=/^\*\*((\/[\w\.-]+)+)\/?$/,r=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,c=new N.LRUCache(1e4),g=function(){return!1},m=function(){return null};function S(F,W){if(!F)return m;let M;typeof F!="string"?M=F.pattern:M=F,M=M.trim();const z=`${M}_${!!W.trimForExclusions}`;let G=c.get(z);if(G)return p(G,F);let te;return s.test(M)?G=_(M.substr(4),M):(te=l.exec(C(M,W)))?G=L(te[1],M):(W.trimForExclusions?a:d).test(M)?G=E(M,W):(te=o.exec(C(M,W)))?G=I(te[1].substr(1),M,!0):(te=r.exec(C(M,W)))?G=I(te[1],M,!1):G=T(M),c.set(z,G),p(G,F)}function p(F,W){if(typeof W=="string")return F;const M=function(z,G){return(0,f.isEqualOrParent)(z,W.base,!w.isLinux)?F(z.substr(W.base.length+1),G):null};return M.allBasenames=F.allBasenames,M.allPaths=F.allPaths,M.basenames=F.basenames,M.patterns=F.patterns,M}function C(F,W){return W.trimForExclusions&&F.endsWith("/**")?F.substr(0,F.length-2):F}function _(F,W){return function(M,z){return typeof M=="string"&&M.endsWith(F)?W:null}}function L(F,W){const M=`/${F}`,z=`\\${F}`,G=function(X,J){return typeof X!="string"?null:J?J===F?W:null:X===F||X.endsWith(M)||X.endsWith(z)?W:null},te=[F];return G.basenames=te,G.patterns=[W],G.allBasenames=te,G}function E(F,W){const M=O(F.slice(1,-1).split(",").map(J=>S(J,W)).filter(J=>J!==m),F),z=M.length;if(!z)return m;if(z===1)return M[0];const G=function(J,ie){for(let re=0,Z=M.length;re<Z;re++)if(M[re](J,ie))return F;return null},te=M.find(J=>!!J.allBasenames);te&&(G.allBasenames=te.allBasenames);const X=M.reduce((J,ie)=>ie.allPaths?J.concat(ie.allPaths):J,[]);return X.length&&(G.allPaths=X),G}function I(F,W,M){const z=D.sep===D.posix.sep,G=z?F:F.replace(h,D.sep),te=D.sep+G,X=D.posix.sep+F;let J;return M?J=function(ie,re){return typeof ie=="string"&&(ie===G||ie.endsWith(te)||!z&&(ie===F||ie.endsWith(X)))?W:null}:J=function(ie,re){return typeof ie=="string"&&(ie===G||!z&&ie===F)?W:null},J.allPaths=[(M?"*/":"./")+F],J}function T(F){try{const W=new RegExp(`^${t(F)}$`);return function(M){return W.lastIndex=0,typeof M=="string"&&W.test(M)?F:null}}catch{return m}}function P(F,W,M){return!F||typeof W!="string"?!1:B(F)(W,void 0,M)}e.match=P;function B(F,W={}){if(!F)return g;if(typeof F=="string"||R(F)){const M=S(F,W);if(M===m)return g;const z=function(G,te){return!!M(G,te)};return M.allBasenames&&(z.allBasenames=M.allBasenames),M.allPaths&&(z.allPaths=M.allPaths),z}return k(F,W)}e.parse=B;function R(F){const W=F;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.isRelativePattern=R;function k(F,W){const M=O(Object.getOwnPropertyNames(F).map(J=>A(J,F[J],W)).filter(J=>J!==m)),z=M.length;if(!z)return m;if(!M.some(J=>!!J.requiresSiblings)){if(z===1)return M[0];const J=function(Z,x){let U;for(let q=0,le=M.length;q<le;q++){const se=M[q](Z,x);if(typeof se=="string")return se;(0,y.isThenable)(se)&&(U||(U=[]),U.push(se))}return U?(()=>Le(this,void 0,void 0,function*(){for(const q of U){const le=yield q;if(typeof le=="string")return le}return null}))():null},ie=M.find(Z=>!!Z.allBasenames);ie&&(J.allBasenames=ie.allBasenames);const re=M.reduce((Z,x)=>x.allPaths?Z.concat(x.allPaths):Z,[]);return re.length&&(J.allPaths=re),J}const G=function(J,ie,re){let Z,x;for(let U=0,q=M.length;U<q;U++){const le=M[U];le.requiresSiblings&&re&&(ie||(ie=(0,D.basename)(J)),Z||(Z=ie.substr(0,ie.length-(0,D.extname)(J).length)));const se=le(J,ie,Z,re);if(typeof se=="string")return se;(0,y.isThenable)(se)&&(x||(x=[]),x.push(se))}return x?(()=>Le(this,void 0,void 0,function*(){for(const U of x){const q=yield U;if(typeof q=="string")return q}return null}))():null},te=M.find(J=>!!J.allBasenames);te&&(G.allBasenames=te.allBasenames);const X=M.reduce((J,ie)=>ie.allPaths?J.concat(ie.allPaths):J,[]);return X.length&&(G.allPaths=X),G}function A(F,W,M){if(W===!1)return m;const z=S(F,M);if(z===m)return m;if(typeof W=="boolean")return z;if(W){const G=W.when;if(typeof G=="string"){const te=(X,J,ie,re)=>{if(!re||!z(X,J))return null;const Z=G.replace("$(basename)",ie),x=re(Z);return(0,y.isThenable)(x)?x.then(U=>U?F:null):x?F:null};return te.requiresSiblings=!0,te}}return z}function O(F,W){const M=F.filter(J=>!!J.basenames);if(M.length<2)return F;const z=M.reduce((J,ie)=>{const re=ie.basenames;return re?J.concat(re):J},[]);let G;if(W){G=[];for(let J=0,ie=z.length;J<ie;J++)G.push(W)}else G=M.reduce((J,ie)=>{const re=ie.patterns;return re?J.concat(re):J},[]);const te=function(J,ie){if(typeof J!="string")return null;if(!ie){let Z;for(Z=J.length;Z>0;Z--){const x=J.charCodeAt(Z-1);if(x===47||x===92)break}ie=J.substr(Z)}const re=z.indexOf(ie);return re!==-1?G[re]:null};te.basenames=z,te.patterns=G,te.allBasenames=z;const X=F.filter(J=>!J.basenames);return X.push(te),X}}),define(ne[106],oe([1,0,27,64,9]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const D=new RegExp(`\\$\\(${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?\\)`,"g"),w=new RegExp(y.CSSIcon.iconNameCharacter),b=new RegExp(`(\\\\)?${D.source}`,"g");function v(d){return d.replace(b,(a,o)=>o?a:`\\${a}`)}e.escapeIcons=v;const u=new RegExp(`\\\\${D.source}`,"g");function h(d){return d.replace(u,a=>`\\${a}`)}e.markdownEscapeEscapedIcons=h;const i=new RegExp(`(\\s)?(\\\\)?${D.source}(\\s)?`,"g");function n(d){return d.indexOf(e.iconStartMarker)===-1?d:d.replace(i,(a,o,r,c)=>r?a:o||c||"")}e.stripIcons=n;function t(d){const a=d.indexOf(e.iconStartMarker);return a===-1?{text:d}:s(d,a)}e.parseLabelWithIcons=t;function s(d,a){const o=[];let r="";function c(E){if(E){r+=E;for(const I of E)o.push(S)}}let g=-1,m="",S=0,p,C,_=a;const L=d.length;for(c(d.substr(0,a));_<L;)p=d[_],C=d[_+1],p===e.iconStartMarker[0]&&C===e.iconStartMarker[1]?(g=_,c(m),m=e.iconStartMarker,_++):p===")"&&g!==-1?(S+=_-g+1,g=-1,m=""):g!==-1?w.test(p)?m+=p:(c(m),g=-1,m=""):c(p),_++;return c(m),{text:r,iconOffsets:o}}function l(d,a,o=!1){const{text:r,iconOffsets:c}=a;if(!c||c.length===0)return(0,f.matchesFuzzy)(d,r,o);const g=(0,N.ltrim)(r," "),m=r.length-g.length,S=(0,f.matchesFuzzy)(d,g,o);if(S)for(const p of S){const C=c[p.start+m]+m;p.start+=C,p.end+=C}return S}e.matchesFuzzyIconAware=l}),define(ne[65],oe([1,0,13,106,9]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class D{constructor(t="",s=!1){var l,d,a;if(this.value=t,typeof this.value!="string")throw(0,y.illegalArgument)("value");typeof s=="boolean"?(this.isTrusted=s,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(l=s.isTrusted)!==null&&l!==void 0?l:void 0,this.supportThemeIcons=(d=s.supportThemeIcons)!==null&&d!==void 0?d:!1,this.supportHtml=(a=s.supportHtml)!==null&&a!==void 0?a:!1)}appendText(t,s=0){return this.value+=v(this.supportThemeIcons?(0,f.escapeIcons)(t):t).replace(/([ \t]+)/g,(l,d)=>"&nbsp;".repeat(d.length)).replace(/\>/gm,"\\>").replace(/\n/g,s===1?`\\
`:`

`),this}appendMarkdown(t){return this.value+=t,this}appendCodeblock(t,s){return this.value+="\n```",this.value+=t,this.value+=`
`,this.value+=s,this.value+="\n```\n",this}appendLink(t,s,l){return this.value+="[",this.value+=this._escape(s,"]"),this.value+="](",this.value+=this._escape(String(t),")"),l&&(this.value+=` "${this._escape(this._escape(l,'"'),")")}"`),this.value+=")",this}_escape(t,s){const l=new RegExp((0,N.escapeRegExpCharacters)(s),"g");return t.replace(l,(d,a)=>t.charAt(a-1)!=="\\"?`\\${d}`:d)}}e.MarkdownString=D;function w(n){return b(n)?!n.value:Array.isArray(n)?n.every(w):!0}e.isEmptyMarkdownString=w;function b(n){return n instanceof D?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}e.isMarkdownString=b;function v(n){return n.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=v;function u(n){return n.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=u;function h(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=h;function i(n){const t=[],s=n.split("|").map(d=>d.trim());n=s[0];const l=s[1];if(l){const d=/height=(\d+)/.exec(l),a=/width=(\d+)/.exec(l),o=d?d[1]:"",r=a?a[1]:"",c=isFinite(parseInt(r)),g=isFinite(parseInt(o));c&&t.push(`width="${r}"`),g&&t.push(`height="${o}"`)}return{href:n,dimensions:t}}e.parseHrefAndDimensions=i}),define(ne[337],oe([1,0,9]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function f(w,b){if(w&&w[0]!==""){const v=N(w,b,"-"),u=N(w,b,"_");return v&&!u?D(w,b,"-"):!v&&u?D(w,b,"_"):w[0].toUpperCase()===w[0]?b.toUpperCase():w[0].toLowerCase()===w[0]?b.toLowerCase():y.containsUppercaseCharacter(w[0][0])&&b.length>0?b[0].toUpperCase()+b.substr(1):w[0][0].toUpperCase()!==w[0][0]&&b.length>0?b[0].toLowerCase()+b.substr(1):b}else return b}e.buildReplaceStringWithCasePreserved=f;function N(w,b,v){return w[0].indexOf(v)!==-1&&b.indexOf(v)!==-1&&w[0].split(v).length===b.split(v).length}function D(w,b,v){const u=b.split(v),h=w[0].split(v);let i="";return u.forEach((n,t)=>{i+=f([h[t]],n)+v}),i.slice(0,-1)}}),define(ne[73],oe([1,0,9]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f;(function(N){N[N.Ignore=0]="Ignore",N[N.Info=1]="Info",N[N.Warning=2]="Warning",N[N.Error=3]="Error"})(f||(f={})),function(N){const D="error",w="warning",b="warn",v="info",u="ignore";function h(n){return n?y.equalsIgnoreCase(D,n)?N.Error:y.equalsIgnoreCase(w,n)||y.equalsIgnoreCase(b,n)?N.Warning:y.equalsIgnoreCase(v,n)?N.Info:N.Ignore:N.Ignore}N.fromValue=h;function i(n){switch(n){case N.Error:return D;case N.Warning:return w;case N.Info:return v;default:return u}}N.toString=i}(f||(f={})),e.default=f}),define(ne[19],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=e.isArray=void 0;function y(m){return Array.isArray(m)}e.isArray=y;function f(m){return typeof m=="string"}e.isString=f;function N(m){return typeof m=="object"&&m!==null&&!Array.isArray(m)&&!(m instanceof RegExp)&&!(m instanceof Date)}e.isObject=N;function D(m){return typeof m=="object"&&(m instanceof Uint8Array||m instanceof Uint16Array||m instanceof Uint32Array||m instanceof Float32Array||m instanceof Float64Array||m instanceof Int8Array||m instanceof Int16Array||m instanceof Int32Array||m instanceof BigInt64Array||m instanceof BigUint64Array||m instanceof Uint8ClampedArray)}e.isTypedArray=D;function w(m){return typeof m=="number"&&!isNaN(m)}e.isNumber=w;function b(m){return!!m&&typeof m[Symbol.iterator]=="function"}e.isIterable=b;function v(m){return m===!0||m===!1}e.isBoolean=v;function u(m){return typeof m=="undefined"}e.isUndefined=u;function h(m){return!i(m)}e.isDefined=h;function i(m){return u(m)||m===null}e.isUndefinedOrNull=i;function n(m,S){if(!m)throw new Error(S?`Unexpected type, expected '${S}'`:"Unexpected type")}e.assertType=n;function t(m){if(i(m))throw new Error("Assertion Failed: argument is undefined or null");return m}e.assertIsDefined=t;function s(m){return typeof m=="function"}e.isFunction=s;function l(m,S){const p=Math.min(m.length,S.length);for(let C=0;C<p;C++)d(m[C],S[C])}e.validateConstraints=l;function d(m,S){if(f(S)){if(typeof m!==S)throw new Error(`argument does not match constraint: typeof ${S}`)}else if(s(S)){try{if(m instanceof S)return}catch{}if(!i(m)&&m.constructor===S||S.length===1&&S.call(void 0,m)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=d;function a(m){let S=[],p=Object.getPrototypeOf(m);for(;Object.prototype!==p;)S=S.concat(Object.getOwnPropertyNames(p)),p=Object.getPrototypeOf(p);return S}e.getAllPropertyNames=a;function o(m){const S=[];for(const p of a(m))typeof m[p]=="function"&&S.push(p);return S}e.getAllMethodNames=o;function r(m,S){const p=_=>function(){const L=Array.prototype.slice.call(arguments,0);return S(_,L)},C={};for(const _ of m)C[_]=p(_);return C}e.createProxyObject=r;function c(m){return m===null?void 0:m}e.withNullAsUndefined=c;function g(m,S="Unreachable"){throw new Error(S)}e.assertNever=g}),define(ne[39],oe([1,0,19]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function f(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const n=Array.isArray(i)?[]:{};return Object.keys(i).forEach(t=>{i[t]&&typeof i[t]=="object"?n[t]=f(i[t]):n[t]=i[t]}),n}e.deepClone=f;function N(i){if(!i||typeof i!="object")return i;const n=[i];for(;n.length>0;){const t=n.shift();Object.freeze(t);for(const s in t)if(D.call(t,s)){const l=t[s];typeof l=="object"&&!Object.isFrozen(l)&&!(0,y.isTypedArray)(l)&&n.push(l)}}return i}e.deepFreeze=N;const D=Object.prototype.hasOwnProperty;function w(i,n){return b(i,n,new Set)}e.cloneAndChange=w;function b(i,n,t){if((0,y.isUndefinedOrNull)(i))return i;const s=n(i);if(typeof s!="undefined")return s;if((0,y.isArray)(i)){const l=[];for(const d of i)l.push(b(d,n,t));return l}if((0,y.isObject)(i)){if(t.has(i))throw new Error("Cannot clone recursive data-structure");t.add(i);const l={};for(const d in i)D.call(i,d)&&(l[d]=b(i[d],n,t));return t.delete(i),l}return i}function v(i,n,t=!0){return(0,y.isObject)(i)?((0,y.isObject)(n)&&Object.keys(n).forEach(s=>{s in i?t&&((0,y.isObject)(i[s])&&(0,y.isObject)(n[s])?v(i[s],n[s],t):i[s]=n[s]):i[s]=n[s]}),i):n}e.mixin=v;function u(i,n){if(i===n)return!0;if(i==null||n===null||n===void 0||typeof i!=typeof n||typeof i!="object"||Array.isArray(i)!==Array.isArray(n))return!1;let t,s;if(Array.isArray(i)){if(i.length!==n.length)return!1;for(t=0;t<i.length;t++)if(!u(i[t],n[t]))return!1}else{const l=[];for(s in i)l.push(s);l.sort();const d=[];for(s in n)d.push(s);if(d.sort(),!u(l,d))return!1;for(t=0;t<l.length;t++)if(!u(i[l[t]],n[l[t]]))return!1}return!0}e.equals=u;function h(i,n,t){const s=n(i);return typeof s=="undefined"?t:s}e.getOrDefault=h}),define(ne[146],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function y(N){return N<0?0:N>255?255:N|0}e.toUint8=y;function f(N){return N<0?0:N>4294967295?4294967295:N|0}e.toUint32=f}),define(ne[22],oe([1,0,80,17]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const N=/^\w[\w\d+.-]*$/,D=/^\//,w=/^\/\//;function b(p,C){if(!p.scheme&&C)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${p.authority}", path: "${p.path}", query: "${p.query}", fragment: "${p.fragment}"}`);if(p.scheme&&!N.test(p.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(p.path){if(p.authority){if(!D.test(p.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(w.test(p.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function v(p,C){return!p&&!C?"file":p}function u(p,C){switch(p){case"https":case"http":case"file":C?C[0]!==i&&(C=i+C):C=i;break}return C}const h="",i="/",n=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class t{constructor(C,_,L,E,I,T=!1){typeof C=="object"?(this.scheme=C.scheme||h,this.authority=C.authority||h,this.path=C.path||h,this.query=C.query||h,this.fragment=C.fragment||h):(this.scheme=v(C,T),this.authority=_||h,this.path=u(this.scheme,L||h),this.query=E||h,this.fragment=I||h,b(this,T))}static isUri(C){return C instanceof t?!0:C?typeof C.authority=="string"&&typeof C.fragment=="string"&&typeof C.path=="string"&&typeof C.query=="string"&&typeof C.scheme=="string"&&typeof C.fsPath=="string"&&typeof C.with=="function"&&typeof C.toString=="function":!1}get fsPath(){return r(this,!1)}with(C){if(!C)return this;let{scheme:_,authority:L,path:E,query:I,fragment:T}=C;return _===void 0?_=this.scheme:_===null&&(_=h),L===void 0?L=this.authority:L===null&&(L=h),E===void 0?E=this.path:E===null&&(E=h),I===void 0?I=this.query:I===null&&(I=h),T===void 0?T=this.fragment:T===null&&(T=h),_===this.scheme&&L===this.authority&&E===this.path&&I===this.query&&T===this.fragment?this:new l(_,L,E,I,T)}static parse(C,_=!1){const L=n.exec(C);return L?new l(L[2]||h,S(L[4]||h),S(L[5]||h),S(L[7]||h),S(L[9]||h),_):new l(h,h,h,h,h)}static file(C){let _=h;if(f.isWindows&&(C=C.replace(/\\/g,i)),C[0]===i&&C[1]===i){const L=C.indexOf(i,2);L===-1?(_=C.substring(2),C=i):(_=C.substring(2,L),C=C.substring(L)||i)}return new l("file",_,C,h,h)}static from(C){const _=new l(C.scheme,C.authority,C.path,C.query,C.fragment);return b(_,!0),_}static joinPath(C,..._){if(!C.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return f.isWindows&&C.scheme==="file"?L=t.file(y.win32.join(r(C,!0),..._)).path:L=y.posix.join(C.path,..._),C.with({path:L})}toString(C=!1){return c(this,C)}toJSON(){return this}static revive(C){if(C){if(C instanceof t)return C;{const _=new l(C);return _._formatted=C.external,_._fsPath=C._sep===s?C.fsPath:null,_}}else return C}}e.URI=t;const s=f.isWindows?1:void 0;class l extends t{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=r(this,!1)),this._fsPath}toString(C=!1){return C?c(this,!0):(this._formatted||(this._formatted=c(this,!1)),this._formatted)}toJSON(){const C={$mid:1};return this._fsPath&&(C.fsPath=this._fsPath,C._sep=s),this._formatted&&(C.external=this._formatted),this.path&&(C.path=this.path),this.scheme&&(C.scheme=this.scheme),this.authority&&(C.authority=this.authority),this.query&&(C.query=this.query),this.fragment&&(C.fragment=this.fragment),C}}const d={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function a(p,C){let _,L=-1;for(let E=0;E<p.length;E++){const I=p.charCodeAt(E);if(I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===45||I===46||I===95||I===126||C&&I===47)L!==-1&&(_+=encodeURIComponent(p.substring(L,E)),L=-1),_!==void 0&&(_+=p.charAt(E));else{_===void 0&&(_=p.substr(0,E));const T=d[I];T!==void 0?(L!==-1&&(_+=encodeURIComponent(p.substring(L,E)),L=-1),_+=T):L===-1&&(L=E)}}return L!==-1&&(_+=encodeURIComponent(p.substring(L))),_!==void 0?_:p}function o(p){let C;for(let _=0;_<p.length;_++){const L=p.charCodeAt(_);L===35||L===63?(C===void 0&&(C=p.substr(0,_)),C+=d[L]):C!==void 0&&(C+=p[_])}return C!==void 0?C:p}function r(p,C){let _;return p.authority&&p.path.length>1&&p.scheme==="file"?_=`//${p.authority}${p.path}`:p.path.charCodeAt(0)===47&&(p.path.charCodeAt(1)>=65&&p.path.charCodeAt(1)<=90||p.path.charCodeAt(1)>=97&&p.path.charCodeAt(1)<=122)&&p.path.charCodeAt(2)===58?C?_=p.path.substr(1):_=p.path[1].toLowerCase()+p.path.substr(2):_=p.path,f.isWindows&&(_=_.replace(/\//g,"\\")),_}e.uriToFsPath=r;function c(p,C){const _=C?o:a;let L="",{scheme:E,authority:I,path:T,query:P,fragment:B}=p;if(E&&(L+=E,L+=":"),(I||E==="file")&&(L+=i,L+=i),I){let R=I.indexOf("@");if(R!==-1){const k=I.substr(0,R);I=I.substr(R+1),R=k.indexOf(":"),R===-1?L+=_(k,!1):(L+=_(k.substr(0,R),!1),L+=":",L+=_(k.substr(R+1),!1)),L+="@"}I=I.toLowerCase(),R=I.indexOf(":"),R===-1?L+=_(I,!1):(L+=_(I.substr(0,R),!1),L+=I.substr(R))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const R=T.charCodeAt(1);R>=65&&R<=90&&(T=`/${String.fromCharCode(R+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const R=T.charCodeAt(0);R>=65&&R<=90&&(T=`${String.fromCharCode(R+32)}:${T.substr(2)}`)}L+=_(T,!0)}return P&&(L+="?",L+=_(P,!1)),B&&(L+="#",L+=C?B:a(B,!1)),L}function g(p){try{return decodeURIComponent(p)}catch{return p.length>3?p.substr(0,3)+g(p.substr(3)):p}}const m=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(p){return p.match(m)?p.replace(m,C=>g(C)):p}}),define(ne[178],oe([1,0,102,22]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function N(w){let b=JSON.parse(w);return b=D(b),b}e.parse=N;function D(w,b=0){if(!w||b>200)return w;if(typeof w=="object"){switch(w.$mid){case 1:return f.URI.revive(w);case 2:return new RegExp(w.source,w.flags);case 14:return new Date(w.source)}if(w instanceof y.VSBuffer||w instanceof Uint8Array)return w;if(Array.isArray(w))for(let v=0;v<w.length;++v)w[v]=D(w[v],b+1);else for(const v in w)Object.hasOwnProperty.call(w,v)&&(w[v]=D(w[v],b+1))}return w}e.revive=D}),define(ne[44],oe([1,0,17,22]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var N;(function(b){b.inMemory="inmemory",b.vscode="vscode",b.internal="private",b.walkThrough="walkThrough",b.walkThroughSnippet="walkThroughSnippet",b.http="http",b.https="https",b.file="file",b.mailto="mailto",b.untitled="untitled",b.data="data",b.command="command",b.vscodeRemote="vscode-remote",b.vscodeRemoteResource="vscode-remote-resource",b.vscodeUserData="vscode-userdata",b.vscodeCustomEditor="vscode-custom-editor",b.vscodeNotebook="vscode-notebook",b.vscodeNotebookCell="vscode-notebook-cell",b.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",b.vscodeNotebookCellOutput="vscode-notebook-cell-output",b.vscodeInteractive="vscode-interactive",b.vscodeInteractiveInput="vscode-interactive-input",b.vscodeSettings="vscode-settings",b.vscodeWorkspaceTrust="vscode-workspace-trust",b.vscodeTerminal="vscode-terminal",b.webviewPanel="webview-panel",b.vscodeWebview="vscode-webview",b.extension="extension",b.vscodeFileResource="vscode-file",b.tmp="tmp",b.vsls="vsls"})(N=e.Schemas||(e.Schemas={})),e.connectionTokenQueryName="tkn";class D{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${N.vscodeRemoteResource}`}setPreferredWebSchema(v){this._preferredWebSchema=v}rewrite(v){if(this._delegate)return this._delegate(v);const u=v.authority;let h=this._hosts[u];h&&h.indexOf(":")!==-1&&(h=`[${h}]`);const i=this._ports[u],n=this._connectionTokens[u];let t=`path=${encodeURIComponent(v.path)}`;return typeof n=="string"&&(t+=`&${e.connectionTokenQueryName}=${encodeURIComponent(n)}`),f.URI.from({scheme:y.isWeb?this._preferredWebSchema:N.vscodeRemoteResource,authority:`${h}:${i}`,path:this._remoteResourcesPath,query:t})}}e.RemoteAuthorities=new D;class w{asBrowserUri(v,u){const h=this.toUri(v,u);return h.scheme===N.vscodeRemote?e.RemoteAuthorities.rewrite(h):h.scheme===N.file&&(y.isNative||y.isWebWorker&&y.globals.origin===`${N.vscodeFileResource}://${w.FALLBACK_AUTHORITY}`)?h.with({scheme:N.vscodeFileResource,authority:h.authority||w.FALLBACK_AUTHORITY,query:null,fragment:null}):h}toUri(v,u){return f.URI.isUri(v)?v:f.URI.parse(u.toUrl(v))}}w.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new w}),define(ne[7],oe([1,0,36,174,46,63,13,4,338,2,44,17]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropObserver=e.ModifierKeyEmitter=e.hookDomPurifyHrefAndSrcSanitizer=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.createEventEmitter=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function n(Se){for(;Se.firstChild;)Se.firstChild.remove()}e.clearNode=n;function t(Se){var _e;return(_e=Se==null?void 0:Se.isConnected)!==null&&_e!==void 0?_e:!1}e.isInDOM=t;class s{constructor(_e,Ee,Ae,Re){this._node=_e,this._type=Ee,this._handler=Ae,this._options=Re||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function l(Se,_e,Ee,Ae){return new s(Se,_e,Ee,Ae)}e.addDisposableListener=l;function d(Se){return function(_e){return Se(new D.StandardMouseEvent(_e))}}function a(Se){return function(_e){return Se(new N.StandardKeyboardEvent(_e))}}const o=function(_e,Ee,Ae,Re){let Ve=Ae;return Ee==="click"||Ee==="mousedown"?Ve=d(Ae):(Ee==="keydown"||Ee==="keypress"||Ee==="keyup")&&(Ve=a(Ae)),l(_e,Ee,Ve,Re)};e.addStandardDisposableListener=o;const r=function(_e,Ee,Ae){const Re=d(Ee);return g(_e,Re,Ae)};e.addStandardDisposableGenericMouseDownListener=r;const c=function(_e,Ee,Ae){const Re=d(Ee);return m(_e,Re,Ae)};e.addStandardDisposableGenericMouseUpListener=c;function g(Se,_e,Ee){return l(Se,i.isIOS&&f.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,_e,Ee)}e.addDisposableGenericMouseDownListener=g;function m(Se,_e,Ee){return l(Se,i.isIOS&&f.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,_e,Ee)}e.addDisposableGenericMouseUpListener=m;function S(Se,_e){return l(Se,"mouseout",Ee=>{let Ae=Ee.relatedTarget;for(;Ae&&Ae!==Se;)Ae=Ae.parentNode;Ae!==Se&&_e(Ee)})}e.addDisposableNonBubblingMouseOutListener=S;function p(Se,_e){return l(Se,"pointerout",Ee=>{let Ae=Ee.relatedTarget;for(;Ae&&Ae!==Se;)Ae=Ae.parentNode;Ae!==Se&&_e(Ee)})}e.addDisposableNonBubblingPointerOutListener=p;function C(Se,_e,Ee){let Ae=null;const Re=Ye=>ze.fire(Ye),Ve=()=>{Ae||(Ae=new s(Se,_e,Re,Ee))},He=()=>{Ae&&(Ae.dispose(),Ae=null)},ze=new b.Emitter({onFirstListenerAdd:Ve,onLastListenerRemove:He});return ze}e.createEventEmitter=C;let _=null;function L(Se){if(!_){const _e=Ee=>setTimeout(()=>Ee(new Date().getTime()),0);_=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||_e}return _.call(self,Se)}class E{constructor(_e,Ee=0){this._runner=_e,this.priority=Ee,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(_e){(0,w.onUnexpectedError)(_e)}}static sort(_e,Ee){return Ee.priority-_e.priority}}(function(){let Se=[],_e=null,Ee=!1,Ae=!1;const Re=()=>{for(Ee=!1,_e=Se,Se=[],Ae=!0;_e.length>0;)_e.sort(E.sort),_e.shift().execute();Ae=!1};e.scheduleAtNextAnimationFrame=(Ve,He=0)=>{const ze=new E(Ve,He);return Se.push(ze),Ee||(Ee=!0,L(Re)),ze},e.runAtThisOrScheduleAtNextAnimationFrame=(Ve,He)=>{if(Ae){const ze=new E(Ve,He);return _e.push(ze),ze}else return(0,e.scheduleAtNextAnimationFrame)(Ve,He)}})();function I(Se){return document.defaultView.getComputedStyle(Se,null)}e.getComputedStyle=I;function T(Se){if(Se!==document.body)return new B(Se.clientWidth,Se.clientHeight);if(i.isIOS&&window.visualViewport)return new B(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new B(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new B(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new B(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=T;class P{static convertToPixels(_e,Ee){return parseFloat(Ee)||0}static getDimension(_e,Ee,Ae){const Re=I(_e);let Ve="0";return Re&&(Re.getPropertyValue?Ve=Re.getPropertyValue(Ee):Ve=Re.getAttribute(Ae)),P.convertToPixels(_e,Ve)}static getBorderLeftWidth(_e){return P.getDimension(_e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(_e){return P.getDimension(_e,"border-right-width","borderRightWidth")}static getBorderTopWidth(_e){return P.getDimension(_e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(_e){return P.getDimension(_e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(_e){return P.getDimension(_e,"padding-left","paddingLeft")}static getPaddingRight(_e){return P.getDimension(_e,"padding-right","paddingRight")}static getPaddingTop(_e){return P.getDimension(_e,"padding-top","paddingTop")}static getPaddingBottom(_e){return P.getDimension(_e,"padding-bottom","paddingBottom")}static getMarginLeft(_e){return P.getDimension(_e,"margin-left","marginLeft")}static getMarginTop(_e){return P.getDimension(_e,"margin-top","marginTop")}static getMarginRight(_e){return P.getDimension(_e,"margin-right","marginRight")}static getMarginBottom(_e){return P.getDimension(_e,"margin-bottom","marginBottom")}}class B{constructor(_e,Ee){this.width=_e,this.height=Ee}with(_e=this.width,Ee=this.height){return _e!==this.width||Ee!==this.height?new B(_e,Ee):this}static is(_e){return typeof _e=="object"&&typeof _e.height=="number"&&typeof _e.width=="number"}static lift(_e){return _e instanceof B?_e:new B(_e.width,_e.height)}static equals(_e,Ee){return _e===Ee?!0:!_e||!Ee?!1:_e.width===Ee.width&&_e.height===Ee.height}}e.Dimension=B,B.None=new B(0,0);function R(Se){let _e=Se.offsetParent,Ee=Se.offsetTop,Ae=Se.offsetLeft;for(;(Se=Se.parentNode)!==null&&Se!==document.body&&Se!==document.documentElement;){Ee-=Se.scrollTop;const Re=J(Se)?null:I(Se);Re&&(Ae-=Re.direction!=="rtl"?Se.scrollLeft:-Se.scrollLeft),Se===_e&&(Ae+=P.getBorderLeftWidth(Se),Ee+=P.getBorderTopWidth(Se),Ee+=Se.offsetTop,Ae+=Se.offsetLeft,_e=Se.offsetParent)}return{left:Ae,top:Ee}}e.getTopLeftOffset=R;function k(Se,_e,Ee){typeof _e=="number"&&(Se.style.width=`${_e}px`),typeof Ee=="number"&&(Se.style.height=`${Ee}px`)}e.size=k;function A(Se){const _e=Se.getBoundingClientRect();return{left:_e.left+e.StandardWindow.scrollX,top:_e.top+e.StandardWindow.scrollY,width:_e.width,height:_e.height}}e.getDomNodePagePosition=A;function O(Se){let _e=Se,Ee=1;do{const Ae=I(_e).zoom;Ae!=null&&Ae!=="1"&&(Ee*=Ae),_e=_e.parentElement}while(_e!==null&&_e!==document.documentElement);return Ee}e.getDomNodeZoomLevel=O,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function F(Se){const _e=P.getMarginLeft(Se)+P.getMarginRight(Se);return Se.offsetWidth+_e}e.getTotalWidth=F;function W(Se){const _e=P.getBorderLeftWidth(Se)+P.getBorderRightWidth(Se),Ee=P.getPaddingLeft(Se)+P.getPaddingRight(Se);return Se.offsetWidth-_e-Ee}e.getContentWidth=W;function M(Se){const _e=P.getBorderTopWidth(Se)+P.getBorderBottomWidth(Se),Ee=P.getPaddingTop(Se)+P.getPaddingBottom(Se);return Se.offsetHeight-_e-Ee}e.getContentHeight=M;function z(Se){const _e=P.getMarginTop(Se)+P.getMarginBottom(Se);return Se.offsetHeight+_e}e.getTotalHeight=z;function G(Se,_e){for(;Se;){if(Se===_e)return!0;Se=Se.parentNode}return!1}e.isAncestor=G;function te(Se,_e,Ee){for(;Se&&Se.nodeType===Se.ELEMENT_NODE;){if(Se.classList.contains(_e))return Se;if(Ee){if(typeof Ee=="string"){if(Se.classList.contains(Ee))return null}else if(Se===Ee)return null}Se=Se.parentNode}return null}e.findParentWithClass=te;function X(Se,_e,Ee){return!!te(Se,_e,Ee)}e.hasParentWithClass=X;function J(Se){return Se&&!!Se.host&&!!Se.mode}e.isShadowRoot=J;function ie(Se){return!!re(Se)}e.isInShadowDOM=ie;function re(Se){for(;Se.parentNode;){if(Se===document.body)return null;Se=Se.parentNode}return J(Se)?Se:null}e.getShadowRoot=re;function Z(){let Se=document.activeElement;for(;Se==null?void 0:Se.shadowRoot;)Se=Se.shadowRoot.activeElement;return Se}e.getActiveElement=Z;function x(Se=document.getElementsByTagName("head")[0]){const _e=document.createElement("style");return _e.type="text/css",_e.media="screen",Se.appendChild(_e),_e}e.createStyleSheet=x;let U=null;function q(){return U||(U=x()),U}function le(Se){var _e,Ee;return((_e=Se==null?void 0:Se.sheet)===null||_e===void 0?void 0:_e.rules)?Se.sheet.rules:((Ee=Se==null?void 0:Se.sheet)===null||Ee===void 0?void 0:Ee.cssRules)?Se.sheet.cssRules:[]}function se(Se,_e,Ee=q()){!Ee||!_e||Ee.sheet.insertRule(Se+"{"+_e+"}",0)}e.createCSSRule=se;function Y(Se,_e=q()){if(!_e)return;const Ee=le(_e),Ae=[];for(let Re=0;Re<Ee.length;Re++)Ee[Re].selectorText.indexOf(Se)!==-1&&Ae.push(Re);for(let Re=Ae.length-1;Re>=0;Re--)_e.sheet.deleteRule(Ae[Re])}e.removeCSSRulesContainingSelector=Y;function de(Se){return typeof HTMLElement=="object"?Se instanceof HTMLElement:Se&&typeof Se=="object"&&Se.nodeType===1&&typeof Se.nodeName=="string"}e.isHTMLElement=de,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:y.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:y.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:y.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(Se,_e){Se.preventDefault?Se.preventDefault():Se.returnValue=!1,_e&&(Se.stopPropagation?Se.stopPropagation():Se.cancelBubble=!0)}};function H(Se){const _e=[];for(let Ee=0;Se&&Se.nodeType===Se.ELEMENT_NODE;Ee++)_e[Ee]=Se.scrollTop,Se=Se.parentNode;return _e}e.saveParentsScrollTop=H;function $(Se,_e){for(let Ee=0;Se&&Se.nodeType===Se.ELEMENT_NODE;Ee++)Se.scrollTop!==_e[Ee]&&(Se.scrollTop=_e[Ee]),Se=Se.parentNode}e.restoreParentsScrollTop=$;class K extends u.Disposable{constructor(_e){super();this._onDidFocus=this._register(new b.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new b.Emitter),this.onDidBlur=this._onDidBlur.event;let Ee=K.hasFocusWithin(_e),Ae=!1;const Re=()=>{Ae=!1,Ee||(Ee=!0,this._onDidFocus.fire())},Ve=()=>{Ee&&(Ae=!0,window.setTimeout(()=>{Ae&&(Ae=!1,Ee=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{K.hasFocusWithin(_e)!==Ee&&(Ee?Ve():Re())},this._register(l(_e,e.EventType.FOCUS,Re,!0)),this._register(l(_e,e.EventType.BLUR,Ve,!0)),this._register(l(_e,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(l(_e,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(_e){const Ee=re(_e),Ae=Ee?Ee.activeElement:document.activeElement;return G(Ae,_e)}}function V(Se){return new K(Se)}e.trackFocus=V;function Q(Se,..._e){if(Se.append(..._e),_e.length===1&&typeof _e[0]!="string")return _e[0]}e.append=Q;function ee(Se,_e){return Se.insertBefore(_e,Se.firstChild),_e}e.prepend=ee;function ae(Se,..._e){Se.innerText="",Q(Se,..._e)}e.reset=ae;const fe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var pe;(function(Se){Se.HTML="http://www.w3.org/1999/xhtml",Se.SVG="http://www.w3.org/2000/svg"})(pe=e.Namespace||(e.Namespace={}));function ve(Se,_e,Ee,...Ae){const Re=fe.exec(_e);if(!Re)throw new Error("Bad use of emmet");Ee=Object.assign({},Ee||{});const Ve=Re[1]||"div";let He;return Se!==pe.HTML?He=document.createElementNS(Se,Ve):He=document.createElement(Ve),Re[3]&&(He.id=Re[3]),Re[4]&&(He.className=Re[4].replace(/\./g," ").trim()),Object.keys(Ee).forEach(ze=>{const Ye=Ee[ze];typeof Ye!="undefined"&&(/^on\w+$/.test(ze)?He[ze]=Ye:ze==="selected"?Ye&&He.setAttribute(ze,"true"):He.setAttribute(ze,Ye))}),He.append(...Ae),He}function ue(Se,_e,...Ee){return ve(pe.HTML,Se,_e,...Ee)}e.$=ue,ue.SVG=function(Se,_e,...Ee){return ve(pe.SVG,Se,_e,...Ee)};function Ce(...Se){for(const _e of Se)_e.style.display="",_e.removeAttribute("aria-hidden")}e.show=Ce;function me(...Se){for(const _e of Se)_e.style.display="none",_e.setAttribute("aria-hidden","true")}e.hide=me;function be(Se){return Array.prototype.slice.call(document.getElementsByTagName(Se),0)}e.getElementsByTagName=be;function ce(Se){const _e=window.devicePixelRatio*Se;return Math.max(1,Math.floor(_e))/window.devicePixelRatio}e.computeScreenAwareSize=ce;function he(Se){window.open(Se,"_blank","noopener")}e.windowOpenNoOpener=he;function we(Se){const _e=()=>{Se(),Ee=(0,e.scheduleAtNextAnimationFrame)(_e)};let Ee=(0,e.scheduleAtNextAnimationFrame)(_e);return(0,u.toDisposable)(()=>Ee.dispose())}e.animate=we,h.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function ye(Se){return Se?`url('${h.FileAccess.asBrowserUri(Se).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=ye;function Te(Se){return`'${Se.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Te;function ke(Se,_e=!1){const Ee=document.createElement("a");return v.addHook("afterSanitizeAttributes",Ae=>{for(const Re of["href","src"])if(Ae.hasAttribute(Re)){const Ve=Ae.getAttribute(Re);if(Re==="href"&&Ve.startsWith("#"))continue;if(Ee.href=Ve,!Se.includes(Ee.protocol.replace(/:$/,""))){if(_e&&Re==="src"&&Ee.href.startsWith("data:"))continue;Ae.removeAttribute(Re)}}}),(0,u.toDisposable)(()=>{v.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=ke;class Ne extends b.Emitter{constructor(){super();this._subscriptions=new u.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(l(window,"keydown",_e=>{if(_e.defaultPrevented)return;const Ee=new N.StandardKeyboardEvent(_e);if(!(Ee.keyCode===6&&_e.repeat)){if(_e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(_e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(_e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(_e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ee.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=_e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(l(window,"keyup",_e=>{_e.defaultPrevented||(!_e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!_e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!_e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!_e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=_e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(l(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mousemove",_e=>{_e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(l(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ne.instance||(Ne.instance=new Ne),Ne.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Ne;class Oe extends u.Disposable{constructor(_e,Ee){super();this.element=_e,this.callbacks=Ee,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(l(this.element,e.EventType.DRAG_ENTER,_e=>{this.counter++,this.dragStartTime=_e.timeStamp,this.callbacks.onDragEnter(_e)})),this._register(l(this.element,e.EventType.DRAG_OVER,_e=>{var Ee,Ae;_e.preventDefault(),(Ae=(Ee=this.callbacks).onDragOver)===null||Ae===void 0||Ae.call(Ee,_e,_e.timeStamp-this.dragStartTime)})),this._register(l(this.element,e.EventType.DRAG_LEAVE,_e=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(_e))})),this._register(l(this.element,e.EventType.DRAG_END,_e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(_e)})),this._register(l(this.element,e.EventType.DROP,_e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(_e)}))}}e.DragAndDropObserver=Oe}),define(ne[179],oe([1,0,7]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function f(i,n={}){const t=D(n);return t.textContent=i,t}e.renderText=f;function N(i,n={}){const t=D(n);return b(t,v(i,!!n.renderCodeSegments),n.actionHandler,n.renderCodeSegments),t}e.renderFormattedText=N;function D(i){const n=i.inline?"span":"div",t=document.createElement(n);return i.className&&(t.className=i.className),t}e.createElement=D;class w{constructor(n){this.source=n,this.index=0}eos(){return this.index>=this.source.length}next(){const n=this.peek();return this.advance(),n}peek(){return this.source[this.index]}advance(){this.index++}}function b(i,n,t,s){let l;if(n.type===2)l=document.createTextNode(n.content||"");else if(n.type===3)l=document.createElement("b");else if(n.type===4)l=document.createElement("i");else if(n.type===7&&s)l=document.createElement("code");else if(n.type===5&&t){const d=document.createElement("a");t.disposables.add(y.addStandardDisposableListener(d,"click",a=>{t.callback(String(n.index),a)})),l=d}else n.type===8?l=document.createElement("br"):n.type===1&&(l=i);l&&i!==l&&i.appendChild(l),l&&Array.isArray(n.children)&&n.children.forEach(d=>{b(l,d,t,s)})}function v(i,n){const t={type:1,children:[]};let s=0,l=t;const d=[],a=new w(i);for(;!a.eos();){let o=a.next();const r=o==="\\"&&h(a.peek(),n)!==0;if(r&&(o=a.next()),!r&&u(o,n)&&o===a.peek()){a.advance(),l.type===2&&(l=d.pop());const c=h(o,n);if(l.type===c||l.type===5&&c===6)l=d.pop();else{const g={type:c,children:[]};c===5&&(g.index=s,s++),l.children.push(g),d.push(l),l=g}}else if(o===`
`)l.type===2&&(l=d.pop()),l.children.push({type:8});else if(l.type!==2){const c={type:2,content:o};l.children.push(c),d.push(l),l=c}else l.content+=o}return l.type===2&&(l=d.pop()),d.length,t}function u(i,n){return h(i,n)!==0}function h(i,n){switch(i){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return n?7:0;default:return 0}}}),define(ne[124],oe([1,0,7,2]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class N{constructor(){this._hooks=new f.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(w,b){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const v=this._onStopCallback;this._onStopCallback=null,w&&v&&v(b)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(w,b,v,u,h){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=u,this._onStopCallback=h;let i=w;try{w.setPointerCapture(b),this._hooks.add((0,f.toDisposable)(()=>{w.releasePointerCapture(b)}))}catch{i=window}this._hooks.add(y.addDisposableListener(i,y.EventType.POINTER_MOVE,n=>{if(n.buttons!==v){this.stopMonitoring(!0);return}n.preventDefault(),this._pointerMoveCallback(n)})),this._hooks.add(y.addDisposableListener(i,y.EventType.POINTER_UP,n=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=N});var De=this&&this.__decorate||function(j,e,y,f){var N=arguments.length,D=N<3?e:f===null?f=Object.getOwnPropertyDescriptor(e,y):f,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(j,e,y,f);else for(var b=j.length-1;b>=0;b--)(w=j[b])&&(D=(N<3?w(D):N>3?w(e,y,D):w(e,y))||D);return N>3&&D&&Object.defineProperty(e,y,D),D};define(ne[60],oe([1,0,7,18,103,2]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var w;(function(v){v.Tap="-monaco-gesturetap",v.Change="-monaco-gesturechange",v.Start="-monaco-gesturestart",v.End="-monaco-gesturesend",v.Contextmenu="-monaco-gesturecontextmenu"})(w=e.EventType||(e.EventType={}));class b extends D.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(y.addDisposableListener(document,"touchstart",u=>this.onTouchStart(u),{passive:!1})),this._register(y.addDisposableListener(document,"touchend",u=>this.onTouchEnd(u))),this._register(y.addDisposableListener(document,"touchmove",u=>this.onTouchMove(u),{passive:!1}))}static addTarget(u){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.targets.push(u),{dispose:()=>{b.INSTANCE.targets=b.INSTANCE.targets.filter(h=>h!==u)}}):D.Disposable.None}static ignoreTarget(u){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.ignoreTargets.push(u),{dispose:()=>{b.INSTANCE.ignoreTargets=b.INSTANCE.ignoreTargets.filter(h=>h!==u)}}):D.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(u){const h=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=u.targetTouches.length;i<n;i++){const t=u.targetTouches.item(i);this.activeTouches[t.identifier]={id:t.identifier,initialTarget:t.target,initialTimeStamp:h,initialPageX:t.pageX,initialPageY:t.pageY,rollingTimestamps:[h],rollingPageX:[t.pageX],rollingPageY:[t.pageY]};const s=this.newGestureEvent(w.Start,t.target);s.pageX=t.pageX,s.pageY=t.pageY,this.dispatchEvent(s)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}onTouchEnd(u){const h=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,t=u.changedTouches.length;n<t;n++){const s=u.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}const l=this.activeTouches[s.identifier],d=Date.now()-l.initialTimeStamp;if(d<b.HOLD_DELAY&&Math.abs(l.initialPageX-f.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-f.tail(l.rollingPageY))<30){const a=this.newGestureEvent(w.Tap,l.initialTarget);a.pageX=f.tail(l.rollingPageX),a.pageY=f.tail(l.rollingPageY),this.dispatchEvent(a)}else if(d>=b.HOLD_DELAY&&Math.abs(l.initialPageX-f.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-f.tail(l.rollingPageY))<30){const a=this.newGestureEvent(w.Contextmenu,l.initialTarget);a.pageX=f.tail(l.rollingPageX),a.pageY=f.tail(l.rollingPageY),this.dispatchEvent(a)}else if(i===1){const a=f.tail(l.rollingPageX),o=f.tail(l.rollingPageY),r=f.tail(l.rollingTimestamps)-l.rollingTimestamps[0],c=a-l.rollingPageX[0],g=o-l.rollingPageY[0],m=this.targets.filter(S=>l.initialTarget instanceof Node&&S.contains(l.initialTarget));this.inertia(m,h,Math.abs(c)/r,c>0?1:-1,a,Math.abs(g)/r,g>0?1:-1,o)}this.dispatchEvent(this.newGestureEvent(w.End,l.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}newGestureEvent(u,h){const i=document.createEvent("CustomEvent");return i.initEvent(u,!1,!0),i.initialTarget=h,i.tapCount=0,i}dispatchEvent(u){if(u.type===w.Tap){const h=new Date().getTime();let i=0;h-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=h,u.tapCount=i}else(u.type===w.Change||u.type===w.Contextmenu)&&(this._lastSetTapCountTime=0);for(let h=0;h<this.ignoreTargets.length;h++)if(u.initialTarget instanceof Node&&this.ignoreTargets[h].contains(u.initialTarget))return;this.targets.forEach(h=>{u.initialTarget instanceof Node&&h.contains(u.initialTarget)&&(h.dispatchEvent(u),this.dispatched=!0)})}inertia(u,h,i,n,t,s,l,d){this.handle=y.scheduleAtNextAnimationFrame(()=>{const a=Date.now(),o=a-h;let r=0,c=0,g=!0;i+=b.SCROLL_FRICTION*o,s+=b.SCROLL_FRICTION*o,i>0&&(g=!1,r=n*i*o),s>0&&(g=!1,c=l*s*o);const m=this.newGestureEvent(w.Change);m.translationX=r,m.translationY=c,u.forEach(S=>S.dispatchEvent(m)),g||this.inertia(u,a,i,n,t+r,s,l,d+c)})}onTouchMove(u){const h=Date.now();for(let i=0,n=u.changedTouches.length;i<n;i++){const t=u.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(t.identifier))){console.warn("end of an UNKNOWN touch",t);continue}const s=this.activeTouches[t.identifier],l=this.newGestureEvent(w.Change,s.initialTarget);l.translationX=t.pageX-f.tail(s.rollingPageX),l.translationY=t.pageY-f.tail(s.rollingPageY),l.pageX=t.pageX,l.pageY=t.pageY,this.dispatchEvent(l),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(t.pageX),s.rollingPageY.push(t.pageY),s.rollingTimestamps.push(h)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}}b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,De([N.memoize],b,"isTouchDevice",null),e.Gesture=b}),define(ne[125],oe([1,0,7,27]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const N=new RegExp(`(\\\\)?\\$\\((${f.CSSIcon.iconNameExpression}(?:${f.CSSIcon.iconModifierExpression})?)\\)`,"g");function D(b){const v=new Array;let u,h=0,i=0;for(;(u=N.exec(b))!==null;){i=u.index||0,v.push(b.substring(h,i)),h=(u.index||0)+u[0].length;const[,n,t]=u;v.push(n?`$(${t})`:w({id:t}))}return h<b.length&&v.push(b.substring(h)),v}e.renderLabelWithIcons=D;function w(b){const v=y.$("span");return v.classList.add(...f.CSSIcon.asClassNameArray(b)),v}e.renderIcon=w}),define(ne[225],oe([1,0,7,125,39]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(b,v){var u;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(u=v==null?void 0:v.supportIcons)!==null&&u!==void 0?u:!1,this.domNode=y.append(b,y.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(b,v=[],u="",h){b||(b=""),h&&(b=D.escapeNewLines(b,v)),!(this.didEverRender&&this.text===b&&this.title===u&&N.equals(this.highlights,v))&&(this.text=b,this.title=u,this.highlights=v,this.render())}render(){const b=[];let v=0;for(const u of this.highlights){if(u.end===u.start)continue;if(v<u.start){const n=this.text.substring(v,u.start);b.push(y.$("span",void 0,...this.supportIcons?(0,f.renderLabelWithIcons)(n):[n])),v=u.end}const h=this.text.substring(u.start,u.end),i=y.$("span.highlight",void 0,...this.supportIcons?(0,f.renderLabelWithIcons)(h):[h]);u.extraClasses&&i.classList.add(...u.extraClasses),b.push(i),v=u.end}if(v<this.text.length){const u=this.text.substring(v);b.push(y.$("span",void 0,...this.supportIcons?(0,f.renderLabelWithIcons)(u):[u]))}y.reset(this.domNode,...b),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(b,v){let u=0,h=0;return b.replace(/\r\n|\r|\n/g,(i,n)=>{h=i===`\r
`?-1:0,n+=u;for(const t of v)t.end<=n||(t.start>=n&&(t.start+=h),t.end>=n&&(t.end+=h));return u+=h,"\u23CE"})}}e.HighlightedLabel=D}),define(ne[339],oe([1,0,7]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function f(D){try{D.parentElement&&D.parentElement.removeChild(D)}catch{}}class N{constructor(w){this.renderers=w,this.cache=new Map}alloc(w){let b=this.getTemplateCache(w).pop();if(!b){const v=(0,y.$)(".monaco-list-row"),h=this.getRenderer(w).renderTemplate(v);b={domNode:v,templateId:w,templateData:h}}return b}release(w){!w||this.releaseRow(w)}releaseRow(w){const{domNode:b,templateId:v}=w;b&&(b.classList.remove("scrolling"),f(b)),this.getTemplateCache(v).push(w)}getTemplateCache(w){let b=this.cache.get(w);return b||(b=[],this.cache.set(w,b)),b}dispose(){this.cache.forEach((w,b)=>{for(const v of w)this.getRenderer(b).disposeTemplate(v.templateData),v.templateData=null}),this.cache.clear()}getRenderer(w){const b=this.renderers.get(w);if(!b)throw new Error(`No renderer found for ${w}`);return b}}e.RowCache=N}),define(ne[66],oe([1,0,7,46,63,60,2]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class b extends w.Disposable{onclick(u,h){this._register(y.addDisposableListener(u,y.EventType.CLICK,i=>h(new N.StandardMouseEvent(i))))}onmousedown(u,h){this._register(y.addDisposableListener(u,y.EventType.MOUSE_DOWN,i=>h(new N.StandardMouseEvent(i))))}onmouseover(u,h){this._register(y.addDisposableListener(u,y.EventType.MOUSE_OVER,i=>h(new N.StandardMouseEvent(i))))}onnonbubblingmouseout(u,h){this._register(y.addDisposableNonBubblingMouseOutListener(u,i=>h(new N.StandardMouseEvent(i))))}onkeydown(u,h){this._register(y.addDisposableListener(u,y.EventType.KEY_DOWN,i=>h(new f.StandardKeyboardEvent(i))))}onkeyup(u,h){this._register(y.addDisposableListener(u,y.EventType.KEY_UP,i=>h(new f.StandardKeyboardEvent(i))))}oninput(u,h){this._register(y.addDisposableListener(u,y.EventType.INPUT,h))}onblur(u,h){this._register(y.addDisposableListener(u,y.EventType.BLUR,h))}onfocus(u,h){this._register(y.addDisposableListener(u,y.EventType.FOCUS,h))}ignoreGesture(u){D.Gesture.ignoreTarget(u)}}e.Widget=b}),define(ne[180],oe([1,0,124,66,10,7]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class w extends f.Widget{constructor(v){super();this._onActivate=v.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=v.bgWidth+"px",this.bgDomNode.style.height=v.bgHeight+"px",typeof v.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof v.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof v.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof v.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=v.className,this.domNode.classList.add(...v.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof v.top!="undefined"&&(this.domNode.style.top=v.top+"px"),typeof v.left!="undefined"&&(this.domNode.style.left=v.left+"px"),typeof v.bottom!="undefined"&&(this.domNode.style.bottom=v.bottom+"px"),typeof v.right!="undefined"&&(this.domNode.style.right=v.right+"px"),this._pointerMoveMonitor=this._register(new y.GlobalPointerMoveMonitor),this._register(D.addStandardDisposableListener(this.bgDomNode,D.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._register(D.addStandardDisposableListener(this.domNode,D.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._pointerdownRepeatTimer=this._register(new N.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new N.TimeoutTimer)}_arrowPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const u=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(u,200),this._pointerMoveMonitor.startMonitoring(v.target,v.pointerId,v.buttons,h=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),v.preventDefault()}}e.ScrollbarArrow=w}),define(ne[226],oe([1,0,7,33,124,180,332,66,17]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const u=140;class h extends b.Widget{constructor(n){super();this._lazyRender=n.lazyRender,this._host=n.host,this._scrollable=n.scrollable,this._scrollByPage=n.scrollByPage,this._scrollbarState=n.scrollbarState,this._visibilityController=this._register(new w.ScrollbarVisibilityController(n.visibility,"visible scrollbar "+n.extraScrollbarClassName,"invisible scrollbar "+n.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new N.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(y.addDisposableListener(this.domNode.domNode,y.EventType.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(n){const t=this._register(new D.ScrollbarArrow(n));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(n,t,s,l){this.slider=(0,f.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(n),this.slider.setLeft(t),typeof s=="number"&&this.slider.setWidth(s),typeof l=="number"&&this.slider.setHeight(l),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(y.addDisposableListener(this.slider.domNode,y.EventType.POINTER_DOWN,d=>{d.button===0&&(d.preventDefault(),this._sliderPointerDown(d))})),this.onclick(this.slider.domNode,d=>{d.leftButton&&d.stopPropagation()})}_onElementSize(n){return this._scrollbarState.setVisibleSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(n){return this._scrollbarState.setScrollSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(n){return this._scrollbarState.setScrollPosition(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(n){n.target===this.domNode.domNode&&this._onPointerDown(n)}delegatePointerDown(n){const t=this.domNode.domNode.getClientRects()[0].top,s=t+this._scrollbarState.getSliderPosition(),l=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),d=this._sliderPointerPosition(n);s<=d&&d<=l?n.button===0&&(n.preventDefault(),this._sliderPointerDown(n)):this._onPointerDown(n)}_onPointerDown(n){let t,s;if(n.target===this.domNode.domNode&&typeof n.offsetX=="number"&&typeof n.offsetY=="number")t=n.offsetX,s=n.offsetY;else{const d=y.getDomNodePagePosition(this.domNode.domNode);t=n.pageX-d.left,s=n.pageY-d.top}const l=this._pointerDownRelativePosition(t,s);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(l):this._scrollbarState.getDesiredScrollPositionFromOffset(l)),n.button===0&&(n.preventDefault(),this._sliderPointerDown(n))}_sliderPointerDown(n){if(!n.target||!(n.target instanceof Element))return;const t=this._sliderPointerPosition(n),s=this._sliderOrthogonalPointerPosition(n),l=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(n.target,n.pointerId,n.buttons,d=>{const a=this._sliderOrthogonalPointerPosition(d),o=Math.abs(a-s);if(v.isWindows&&o>u){this._setDesiredScrollPositionNow(l.getScrollPosition());return}const c=this._sliderPointerPosition(d)-t;this._setDesiredScrollPositionNow(l.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(n){const t={};this.writeScrollPosition(t,n),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(n){this._updateScrollbarSize(n),this._scrollbarState.setScrollbarSize(n),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=h}),define(ne[340],oe([1,0,63,226,180,220,27]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class b extends f.AbstractScrollbar{constructor(u,h,i){const n=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:h.lazyRender,host:i,scrollbarState:new D.ScrollbarState(h.horizontalHasArrows?h.arrowSize:0,h.horizontal===2?0:h.horizontalScrollbarSize,h.vertical===2?0:h.verticalScrollbarSize,n.width,n.scrollWidth,t.scrollLeft),visibility:h.horizontal,extraScrollbarClassName:"horizontal",scrollable:u,scrollByPage:h.scrollByPage});if(h.horizontalHasArrows){const s=(h.arrowSize-N.ARROW_IMG_SIZE)/2,l=(h.horizontalScrollbarSize-N.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:w.Codicon.scrollbarButtonLeft,top:l,left:s,bottom:void 0,right:void 0,bgWidth:h.arrowSize,bgHeight:h.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:w.Codicon.scrollbarButtonRight,top:l,left:void 0,bottom:void 0,right:s,bgWidth:h.arrowSize,bgHeight:h.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((h.horizontalScrollbarSize-h.horizontalSliderSize)/2),0,void 0,h.horizontalSliderSize)}_updateSlider(u,h){this.slider.setWidth(u),this.slider.setLeft(h)}_renderDomNode(u,h){this.domNode.setWidth(u),this.domNode.setHeight(h),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(u.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,h){return u}_sliderPointerPosition(u){return u.pageX}_sliderOrthogonalPointerPosition(u){return u.pageY}_updateScrollbarSize(u){this.slider.setHeight(u)}writeScrollPosition(u,h){u.scrollLeft=h}updateOptions(u){this.updateScrollbarSize(u.horizontal===2?0:u.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._visibilityController.setVisibility(u.horizontal),this._scrollByPage=u.scrollByPage}}e.HorizontalScrollbar=b}),define(ne[341],oe([1,0,63,226,180,220,27]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class b extends f.AbstractScrollbar{constructor(u,h,i){const n=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:h.lazyRender,host:i,scrollbarState:new D.ScrollbarState(h.verticalHasArrows?h.arrowSize:0,h.vertical===2?0:h.verticalScrollbarSize,0,n.height,n.scrollHeight,t.scrollTop),visibility:h.vertical,extraScrollbarClassName:"vertical",scrollable:u,scrollByPage:h.scrollByPage});if(h.verticalHasArrows){const s=(h.arrowSize-N.ARROW_IMG_SIZE)/2,l=(h.verticalScrollbarSize-N.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:w.Codicon.scrollbarButtonUp,top:s,left:l,bottom:void 0,right:void 0,bgWidth:h.verticalScrollbarSize,bgHeight:h.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:w.Codicon.scrollbarButtonDown,top:void 0,left:l,bottom:s,right:void 0,bgWidth:h.verticalScrollbarSize,bgHeight:h.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((h.verticalScrollbarSize-h.verticalSliderSize)/2),h.verticalSliderSize,void 0)}_updateSlider(u,h){this.slider.setHeight(u),this.slider.setTop(h)}_renderDomNode(u,h){this.domNode.setWidth(h),this.domNode.setHeight(u),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(u.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,h){return h}_sliderPointerPosition(u){return u.pageY}_sliderOrthogonalPointerPosition(u){return u.pageX}_updateScrollbarSize(u){this.slider.setWidth(u)}writeScrollPosition(u,h){u.scrollTop=h}updateOptions(u){this.updateScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(u.vertical),this._scrollByPage=u.scrollByPage}}e.VerticalScrollbar=b}),define(ne[42],oe([1,0,175,44,80,17,9,22]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function v(i){return(0,b.uriToFsPath)(i,!0)}e.originalFSPath=v;class u{constructor(n){this._ignorePathCasing=n}compare(n,t,s=!1){return n===t?0:(0,w.compare)(this.getComparisonKey(n,s),this.getComparisonKey(t,s))}isEqual(n,t,s=!1){return n===t?!0:!n||!t?!1:this.getComparisonKey(n,s)===this.getComparisonKey(t,s)}getComparisonKey(n,t=!1){return n.with({path:this._ignorePathCasing(n)?n.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(n,t,s=!1){if(n.scheme===t.scheme){if(n.scheme===f.Schemas.file)return y.isEqualOrParent(v(n),v(t),this._ignorePathCasing(n))&&n.query===t.query&&(s||n.fragment===t.fragment);if((0,e.isEqualAuthority)(n.authority,t.authority))return y.isEqualOrParent(n.path,t.path,this._ignorePathCasing(n),"/")&&n.query===t.query&&(s||n.fragment===t.fragment)}return!1}joinPath(n,...t){return b.URI.joinPath(n,...t)}basenameOrAuthority(n){return(0,e.basename)(n)||n.authority}basename(n){return N.posix.basename(n.path)}extname(n){return N.posix.extname(n.path)}dirname(n){if(n.path.length===0)return n;let t;return n.scheme===f.Schemas.file?t=b.URI.file(N.dirname(v(n))).path:(t=N.posix.dirname(n.path),n.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${n.toString})) resulted in a relative path`),t="/")),n.with({path:t})}normalizePath(n){if(!n.path.length)return n;let t;return n.scheme===f.Schemas.file?t=b.URI.file(N.normalize(v(n))).path:t=N.posix.normalize(n.path),n.with({path:t})}relativePath(n,t){if(n.scheme!==t.scheme||!(0,e.isEqualAuthority)(n.authority,t.authority))return;if(n.scheme===f.Schemas.file){const d=N.relative(v(n),v(t));return D.isWindows?y.toSlashes(d):d}let s=n.path||"/";const l=t.path||"/";if(this._ignorePathCasing(n)){let d=0;for(const a=Math.min(s.length,l.length);d<a&&!(s.charCodeAt(d)!==l.charCodeAt(d)&&s.charAt(d).toLowerCase()!==l.charAt(d).toLowerCase());d++);s=l.substr(0,d)+s.substr(d)}return N.posix.relative(s,l)}resolvePath(n,t){if(n.scheme===f.Schemas.file){const s=b.URI.file(N.resolve(v(n),t));return n.with({authority:s.authority,path:s.path})}return t=y.toPosixPath(t),n.with({path:N.posix.resolve(n.path,t)})}isAbsolutePath(n){return!!n.path&&n.path[0]==="/"}isEqualAuthority(n,t){return n===t||n!==void 0&&t!==void 0&&(0,w.equalsIgnoreCase)(n,t)}hasTrailingPathSeparator(n,t=N.sep){if(n.scheme===f.Schemas.file){const s=v(n);return s.length>y.getRoot(s).length&&s[s.length-1]===t}else{const s=n.path;return s.length>1&&s.charCodeAt(s.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(n.fsPath)}}removeTrailingPathSeparator(n,t=N.sep){return(0,e.hasTrailingPathSeparator)(n,t)?n.with({path:n.path.substr(0,n.path.length-1)}):n}addTrailingPathSeparator(n,t=N.sep){let s=!1;if(n.scheme===f.Schemas.file){const l=v(n);s=l!==void 0&&l.length===y.getRoot(l).length&&l[l.length-1]===t}else{t="/";const l=n.path;s=l.length===1&&l.charCodeAt(l.length-1)===47}return!s&&!(0,e.hasTrailingPathSeparator)(n,t)?n.with({path:n.path+"/"}):n}}e.ExtUri=u,e.extUri=new u(()=>!1),e.extUriBiasedIgnorePathCase=new u(i=>i.scheme===f.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new u(i=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var h;(function(i){i.META_DATA_LABEL="label",i.META_DATA_DESCRIPTION="description",i.META_DATA_SIZE="size",i.META_DATA_MIME="mime";function n(t){const s=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(a=>{const[o,r]=a.split(":");o&&r&&s.set(o,r)});const d=t.path.substring(0,t.path.indexOf(";"));return d&&s.set(i.META_DATA_MIME,d),s}i.parseMetaData=n})(h=e.DataUri||(e.DataUri={}))}),define(ne[342],oe([1,0,7,338,95,179,63,125,10,21,13,4,65,106,141,2,327,178,44,39,42,9,22]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;function S(L,E={},I={}){var T;const P=new l.DisposableStore;let B=!1;const R=P.add(new u.CancellationTokenSource),k=(0,D.createElement)(E),A=function(J){let ie;try{ie=(0,a.parse)(decodeURIComponent(J))}catch{}return ie?(ie=(0,r.cloneAndChange)(ie,re=>{if(L.uris&&L.uris[re])return m.URI.revive(L.uris[re])}),encodeURIComponent(JSON.stringify(ie))):J},O=function(J,ie){const re=L.uris&&L.uris[J];let Z=m.URI.revive(re);return ie?J.startsWith(o.Schemas.data+":")?J:(Z||(Z=m.URI.parse(J)),o.FileAccess.asBrowserUri(Z).toString(!0)):!Z||m.URI.parse(J).toString()===Z.toString()?J:(Z.query&&(Z=Z.with({query:A(Z.query)})),Z.toString())};let F;const W=new Promise(J=>F=J),M=new d.marked.Renderer;if(M.image=(J,ie,re)=>{let Z=[],x=[];return J&&({href:J,dimensions:Z}=(0,n.parseHrefAndDimensions)(J),x.push(`src="${(0,n.escapeDoubleQuotes)(J)}"`)),re&&x.push(`alt="${(0,n.escapeDoubleQuotes)(re)}"`),ie&&x.push(`title="${(0,n.escapeDoubleQuotes)(ie)}"`),Z.length&&(x=x.concat(Z)),"<img "+x.join(" ")+">"},M.link=(J,ie,re)=>typeof J!="string"?"":(J===re&&(re=(0,n.removeMarkdownEscapes)(re)),ie=typeof ie=="string"?(0,n.escapeDoubleQuotes)((0,n.removeMarkdownEscapes)(ie)):"",J=(0,n.removeMarkdownEscapes)(J),J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${J}" title="${ie||J}">${re}</a>`),M.paragraph=J=>`<p>${J}</p>`,E.codeBlockRenderer&&(M.code=(J,ie)=>{const re=E.codeBlockRenderer(ie??"",J),Z=s.defaultGenerator.nextId();return(0,v.raceCancellation)(Promise.all([re,W]),R.token).then(x=>{var U;if(!B&&x){const q=k.querySelector(`div[data-code="${Z}"]`);q&&y.reset(q,x[0]),(U=E.asyncRenderCallback)===null||U===void 0||U.call(E)}}).catch(()=>{}),`<div class="code" data-code="${Z}">${(0,g.escape)(J)}</div>`}),E.actionHandler){const J=E.actionHandler.disposables.add(new N.DomEmitter(k,"click")),ie=E.actionHandler.disposables.add(new N.DomEmitter(k,"auxclick"));E.actionHandler.disposables.add(i.Event.any(J.event,ie.event)(re=>{const Z=new w.StandardMouseEvent(re);if(!Z.leftButton&&!Z.middleButton)return;let x=Z.target;if(!(x.tagName!=="A"&&(x=x.parentElement,!x||x.tagName!=="A")))try{let U=x.dataset.href;U&&(L.baseUri&&(U=p(m.URI.from(L.baseUri),U)),E.actionHandler.callback(U,Z))}catch(U){(0,h.onUnexpectedError)(U)}finally{Z.preventDefault()}}))}L.supportHtml||(I.sanitizer=J=>(L.isTrusted?J.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?J:"",I.sanitize=!0,I.silent=!0),I.renderer=M;let z=(T=L.value)!==null&&T!==void 0?T:"";z.length>1e5&&(z=`${z.substr(0,1e5)}\u2026`),L.supportThemeIcons&&(z=(0,t.markdownEscapeEscapedIcons)(z));let G=d.marked.parse(z,I);L.supportThemeIcons&&(G=(0,b.renderLabelWithIcons)(G).map(ie=>typeof ie=="string"?ie:ie.outerHTML).join(""));const X=new DOMParser().parseFromString(C(L,G),"text/html");if(X.body.querySelectorAll("img").forEach(J=>{const ie=J.getAttribute("src");if(ie){let re=ie;try{L.baseUri&&(re=p(m.URI.from(L.baseUri),re))}catch{}J.src=O(re,!0)}}),X.body.querySelectorAll("a").forEach(J=>{var ie;const re=J.getAttribute("href");if(J.setAttribute("href",""),!re||/^data:|javascript:/i.test(re)||/^command:/i.test(re)&&!L.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(re))J.replaceWith((ie=J.textContent)!==null&&ie!==void 0?ie:"");else{let Z=O(re,!1);L.baseUri&&(Z=p(m.URI.from(L.baseUri),re)),J.dataset.href=Z}}),k.innerHTML=C(L,X.body.innerHTML),F(),E.asyncRenderCallback)for(const J of k.getElementsByTagName("img")){const ie=P.add(y.addDisposableListener(J,"load",()=>{ie.dispose(),E.asyncRenderCallback()}))}return{element:k,dispose:()=>{B=!0,R.cancel(),P.dispose()}}}e.renderMarkdown=S;function p(L,E){return/^\w[\w\d+.-]*:/.test(E)?E:L.path.endsWith("/")?(0,c.resolvePath)(L,E).toString():(0,c.resolvePath)((0,c.dirname)(L),E).toString()}function C(L,E){const{config:I,allowedSchemes:T}=_(L);f.addHook("uponSanitizeAttribute",(B,R)=>{if(R.attrName==="style"||R.attrName==="class"){if(B.tagName==="SPAN"){if(R.attrName==="style"){R.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(R.attrValue);return}else if(R.attrName==="class"){R.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(R.attrValue);return}}R.keepAttr=!1;return}});const P=y.hookDomPurifyHrefAndSrcSanitizer(T);try{return f.sanitize(E,Object.assign(Object.assign({},I),{RETURN_TRUSTED_TYPE:!0}))}finally{f.removeHook("uponSanitizeAttribute"),P.dispose()}}function _(L){const E=[o.Schemas.http,o.Schemas.https,o.Schemas.mailto,o.Schemas.data,o.Schemas.file,o.Schemas.vscodeFileResource,o.Schemas.vscodeRemote,o.Schemas.vscodeRemoteResource];return L.isTrusted&&E.push(o.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:E}}}),define(ne[227],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let y;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?y=crypto.getRandomValues.bind(crypto):y=function(D){for(let w=0;w<D.length;w++)D[w]=Math.floor(Math.random()*256);return D};const f=new Uint8Array(16),N=[];for(let D=0;D<256;D++)N.push(D.toString(16).padStart(2,"0"));return function(){y(f),f[6]=f[6]&15|64,f[8]=f[8]&63|128;let w=0,b="";return b+=N[f[w++]],b+=N[f[w++]],b+=N[f[w++]],b+=N[f[w++]],b+="-",b+=N[f[w++]],b+=N[f[w++]],b+="-",b+=N[f[w++]],b+=N[f[w++]],b+="-",b+=N[f[w++]],b+=N[f[w++]],b+="-",b+=N[f[w++]],b+=N[f[w++]],b+=N[f[w++]],b+=N[f[w++]],b+=N[f[w++]],b+=N[f[w++]],b}}()}),define(ne[228],oe([1,0,13,4,2,17,19,9]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const v="$initialize";let u=!1;function h(S){!D.isWeb||(u||(u=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(S.message))}e.logOnceWebWorkerWarning=h;class i{constructor(p,C,_,L){this.vsWorker=p,this.req=C,this.method=_,this.args=L,this.type=0}}class n{constructor(p,C,_,L){this.vsWorker=p,this.seq=C,this.res=_,this.err=L,this.type=1}}class t{constructor(p,C,_,L){this.vsWorker=p,this.req=C,this.eventName=_,this.arg=L,this.type=2}}class s{constructor(p,C,_){this.vsWorker=p,this.req=C,this.event=_,this.type=3}}class l{constructor(p,C){this.vsWorker=p,this.req=C,this.type=4}}class d{constructor(p){this._workerId=-1,this._handler=p,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(p){this._workerId=p}sendMessage(p,C){const _=String(++this._lastSentReq);return new Promise((L,E)=>{this._pendingReplies[_]={resolve:L,reject:E},this._send(new i(this._workerId,_,p,C))})}listen(p,C){let _=null;const L=new f.Emitter({onFirstListenerAdd:()=>{_=String(++this._lastSentReq),this._pendingEmitters.set(_,L),this._send(new t(this._workerId,_,p,C))},onLastListenerRemove:()=>{this._pendingEmitters.delete(_),this._send(new l(this._workerId,_)),_=null}});return L.event}handleMessage(p){!p||!p.vsWorker||this._workerId!==-1&&p.vsWorker!==this._workerId||this._handleMessage(p)}_handleMessage(p){switch(p.type){case 1:return this._handleReplyMessage(p);case 0:return this._handleRequestMessage(p);case 2:return this._handleSubscribeEventMessage(p);case 3:return this._handleEventMessage(p);case 4:return this._handleUnsubscribeEventMessage(p)}}_handleReplyMessage(p){if(!this._pendingReplies[p.seq]){console.warn("Got reply to unknown seq");return}const C=this._pendingReplies[p.seq];if(delete this._pendingReplies[p.seq],p.err){let _=p.err;p.err.$isError&&(_=new Error,_.name=p.err.name,_.message=p.err.message,_.stack=p.err.stack),C.reject(_);return}C.resolve(p.res)}_handleRequestMessage(p){const C=p.req;this._handler.handleMessage(p.method,p.args).then(L=>{this._send(new n(this._workerId,C,L,void 0))},L=>{L.detail instanceof Error&&(L.detail=(0,y.transformErrorForSerialization)(L.detail)),this._send(new n(this._workerId,C,void 0,(0,y.transformErrorForSerialization)(L)))})}_handleSubscribeEventMessage(p){const C=p.req,_=this._handler.handleEvent(p.eventName,p.arg)(L=>{this._send(new s(this._workerId,C,L))});this._pendingEvents.set(C,_)}_handleEventMessage(p){if(!this._pendingEmitters.has(p.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(p.req).fire(p.event)}_handleUnsubscribeEventMessage(p){if(!this._pendingEvents.has(p.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(p.req).dispose(),this._pendingEvents.delete(p.req)}_send(p){const C=[];if(p.type===0)for(let _=0;_<p.args.length;_++)p.args[_]instanceof ArrayBuffer&&C.push(p.args[_]);else p.type===1&&p.res instanceof ArrayBuffer&&C.push(p.res);this._handler.sendMessage(p,C)}}class a extends N.Disposable{constructor(p,C,_){super();let L=null;this._worker=this._register(p.create("vs/base/common/worker/simpleWorker",B=>{this._protocol.handleMessage(B)},B=>{L==null||L(B)})),this._protocol=new d({sendMessage:(B,R)=>{this._worker.postMessage(B,R)},handleMessage:(B,R)=>{if(typeof _[B]!="function")return Promise.reject(new Error("Missing method "+B+" on main thread host."));try{return Promise.resolve(_[B].apply(_,R))}catch(k){return Promise.reject(k)}},handleEvent:(B,R)=>{if(r(B)){const k=_[B].call(_,R);if(typeof k!="function")throw new Error(`Missing dynamic event ${B} on main thread host.`);return k}if(o(B)){const k=_[B];if(typeof k!="function")throw new Error(`Missing event ${B} on main thread host.`);return k}throw new Error(`Malformed event name ${B}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;typeof D.globals.require!="undefined"&&typeof D.globals.require.getConfig=="function"?E=D.globals.require.getConfig():typeof D.globals.requirejs!="undefined"&&(E=D.globals.requirejs.s.contexts._.config);const I=w.getAllMethodNames(_);this._onModuleLoaded=this._protocol.sendMessage(v,[this._worker.getId(),JSON.parse(JSON.stringify(E)),C,I]);const T=(B,R)=>this._request(B,R),P=(B,R)=>this._protocol.listen(B,R);this._lazyProxy=new Promise((B,R)=>{L=R,this._onModuleLoaded.then(k=>{B(c(k,T,P))},k=>{R(k),this._onError("Worker failed to load "+C,k)})})}getProxyObject(){return this._lazyProxy}_request(p,C){return new Promise((_,L)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(p,C).then(_,L)},L)})}_onError(p,C){console.error(p),console.info(C)}}e.SimpleWorkerClient=a;function o(S){return S[0]==="o"&&S[1]==="n"&&b.isUpperAsciiLetter(S.charCodeAt(2))}function r(S){return/^onDynamic/.test(S)&&b.isUpperAsciiLetter(S.charCodeAt(9))}function c(S,p,C){const _=I=>function(){const T=Array.prototype.slice.call(arguments,0);return p(I,T)},L=I=>function(T){return C(I,T)},E={};for(const I of S){if(r(I)){E[I]=L(I);continue}if(o(I)){E[I]=C(I,void 0);continue}E[I]=_(I)}return E}class g{constructor(p,C){this._requestHandlerFactory=C,this._requestHandler=null,this._protocol=new d({sendMessage:(_,L)=>{p(_,L)},handleMessage:(_,L)=>this._handleMessage(_,L),handleEvent:(_,L)=>this._handleEvent(_,L)})}onmessage(p){this._protocol.handleMessage(p)}_handleMessage(p,C){if(p===v)return this.initialize(C[0],C[1],C[2],C[3]);if(!this._requestHandler||typeof this._requestHandler[p]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+p));try{return Promise.resolve(this._requestHandler[p].apply(this._requestHandler,C))}catch(_){return Promise.reject(_)}}_handleEvent(p,C){if(!this._requestHandler)throw new Error("Missing requestHandler");if(r(p)){const _=this._requestHandler[p].call(this._requestHandler,C);if(typeof _!="function")throw new Error(`Missing dynamic event ${p} on request handler.`);return _}if(o(p)){const _=this._requestHandler[p];if(typeof _!="function")throw new Error(`Missing event ${p} on request handler.`);return _}throw new Error(`Malformed event name ${p}`)}initialize(p,C,_,L){this._protocol.setWorkerId(p);const T=c(L,(P,B)=>this._protocol.sendMessage(P,B),(P,B)=>this._protocol.listen(P,B));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve(w.getAllMethodNames(this._requestHandler))):(C&&(typeof C.baseUrl!="undefined"&&delete C.baseUrl,typeof C.paths!="undefined"&&typeof C.paths.vs!="undefined"&&delete C.paths.vs,typeof C.trustedTypesPolicy!==void 0&&delete C.trustedTypesPolicy,C.catchError=!0,D.globals.require.config(C)),new Promise((P,B)=>{(D.globals.require||j)([_],k=>{if(this._requestHandler=k.create(T),!this._requestHandler){B(new Error("No RequestHandler!"));return}P(w.getAllMethodNames(this._requestHandler))},B)}))}}e.SimpleWorkerServer=g;function m(S){return new g(S,null)}e.create=m}),define(ne[343],oe([1,0,17,228]),function(j,e,y,f){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const D=(N=window.trustedTypes)===null||N===void 0?void 0:N.createPolicy("defaultWorkerFactory",{createScriptURL:i=>i});function w(i){if(y.globals.MonacoEnvironment){if(typeof y.globals.MonacoEnvironment.getWorker=="function")return y.globals.MonacoEnvironment.getWorker("workerMain.js",i);if(typeof y.globals.MonacoEnvironment.getWorkerUrl=="function"){const n=y.globals.MonacoEnvironment.getWorkerUrl("workerMain.js",i);return new Worker(D?D.createScriptURL(n):n,{name:i})}}if(typeof j=="function"){const n=j.toUrl("vs/base/worker/workerMain.js"),t=b(n,i);return new Worker(D?D.createScriptURL(t):t,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function b(i,n){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,self.origin.length)!==self.origin){const t="vs/base/worker/defaultWorkerFactory.js",s=j.toUrl(t).slice(0,-t.length),l=`/*${n}*/self.MonacoEnvironment={baseUrl: '${s}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${n}*/`,d=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(d)}return i+"#"+n}e.getWorkerBootstrapUrl=b;function v(i){return typeof i.then=="function"}class u{constructor(n,t,s,l,d){this.id=t;const a=w(s);v(a)?this.worker=a:this.worker=Promise.resolve(a),this.postMessage(n,[]),this.worker.then(o=>{o.onmessage=function(r){l(r.data)},o.onmessageerror=d,typeof o.addEventListener=="function"&&o.addEventListener("error",d)})}getId(){return this.id}postMessage(n,t){this.worker&&this.worker.then(s=>s.postMessage(n,t))}dispose(){this.worker&&this.worker.then(n=>n.terminate()),this.worker=null}}class h{constructor(n){this._label=n,this._webWorkerFailedBeforeError=!1}create(n,t,s){const l=++h.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new u(n,l,this._label||"anonymous"+l,t,d=>{(0,f.logOnceWebWorkerWarning)(d),this._webWorkerFailedBeforeError=d,s(d)})}}e.DefaultWorkerFactory=h,h.LAST_WORKER_ID=0}),define(ne[229],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var y;(function(D){D[D.Blur=1]="Blur",D[D.Gesture=2]="Gesture",D[D.Other=3]="Other"})(y=e.QuickInputHideReason||(e.QuickInputHideReason={}));var f;(function(D){D[D.NONE=0]="NONE",D[D.FIRST=1]="FIRST",D[D.SECOND=2]="SECOND",D[D.LAST=3]="LAST"})(f=e.ItemActivation||(e.ItemActivation={}));class N{constructor(w){this.options=w}}e.QuickPickItemScorerAccessor=N,e.quickPickItemScorerAccessor=new N}),define(ne[344],oe([1,0,10,4,2,19]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=void 0;var w;(function(u){u[u.None=0]="None",u[u.Initialized=1]="Initialized",u[u.Closed=2]="Closed"})(w=e.StorageState||(e.StorageState={}));class b extends N.Disposable{constructor(h,i=Object.create(null)){super();this.database=h,this.options=i,this._onDidChangeStorage=this._register(new f.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=w.None,this.cache=new Map,this.flushDelayer=new y.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(h=>this.onDidChangeItemsExternal(h)))}onDidChangeItemsExternal(h){var i,n;(i=h.changed)===null||i===void 0||i.forEach((t,s)=>this.accept(s,t)),(n=h.deleted)===null||n===void 0||n.forEach(t=>this.accept(t,void 0))}accept(h,i){if(this.state===w.Closed)return;let n=!1;(0,D.isUndefinedOrNull)(i)?n=this.cache.delete(h):this.cache.get(h)!==i&&(this.cache.set(h,i),n=!0),n&&this._onDidChangeStorage.fire(h)}get(h,i){const n=this.cache.get(h);return(0,D.isUndefinedOrNull)(n)?i:n}getBoolean(h,i){const n=this.get(h);return(0,D.isUndefinedOrNull)(n)?i:n==="true"}getNumber(h,i){const n=this.get(h);return(0,D.isUndefinedOrNull)(n)?i:parseInt(n,10)}set(h,i){return Le(this,void 0,void 0,function*(){if(this.state===w.Closed)return;if((0,D.isUndefinedOrNull)(i))return this.delete(h);const n=String(i);if(this.cache.get(h)!==n)return this.cache.set(h,n),this.pendingInserts.set(h,n),this.pendingDeletes.delete(h),this._onDidChangeStorage.fire(h),this.doFlush()})}delete(h){return Le(this,void 0,void 0,function*(){if(!(this.state===w.Closed||!this.cache.delete(h)))return this.pendingDeletes.has(h)||this.pendingDeletes.add(h),this.pendingInserts.delete(h),this._onDidChangeStorage.fire(h),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Le(this,void 0,void 0,function*(){if(!this.hasPending)return;const h={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(h).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})})}doFlush(h){return Le(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),h)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=b,b.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=f.Event.None,this.items=new Map}updateItems(h){return Le(this,void 0,void 0,function*(){h.insert&&h.insert.forEach((i,n)=>this.items.set(n,i)),h.delete&&h.delete.forEach(i=>this.items.delete(i))})}}e.InMemoryStorageDatabase=v}),define(ne[230],oe([14]),{}),define(ne[345],oe([14]),{}),define(ne[47],oe([1,0,7,17,345]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const N=2e4;let D,w,b,v,u;function h(s){D=document.createElement("div"),D.className="monaco-aria-container";const l=()=>{const a=document.createElement("div");return a.className="monaco-alert",a.setAttribute("role","alert"),a.setAttribute("aria-atomic","true"),D.appendChild(a),a};w=l(),b=l();const d=()=>{const a=document.createElement("div");return a.className="monaco-status",a.setAttribute("role","complementary"),a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true"),D.appendChild(a),a};v=d(),u=d(),s.appendChild(D)}e.setARIAContainer=h;function i(s){!D||(w.textContent!==s?(y.clearNode(b),t(w,s)):(y.clearNode(w),t(b,s)))}e.alert=i;function n(s){!D||(f.isMacintosh?i(s):v.textContent!==s?(y.clearNode(u),t(v,s)):(y.clearNode(v),t(u,s)))}e.status=n;function t(s,l){y.clearNode(s),l.length>N&&(l=l.substr(0,N)),s.textContent=l,s.style.visibility="hidden",s.style.visibility="visible"}}),define(ne[346],oe([14]),{}),define(ne[347],oe([1,0,7,46,60,125,31,4,2,39,346]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const h={buttonBackground:w.Color.fromHex("#0E639C"),buttonHoverBackground:w.Color.fromHex("#006BB3"),buttonForeground:w.Color.white};class i extends v.Disposable{constructor(t,s){super();this._onDidClick=this._register(new b.Emitter),this.options=s||Object.create(null),(0,u.mixin)(this.options,h,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(N.Gesture.addTarget(this._element)),[y.EventType.CLICK,N.EventType.Tap].forEach(l=>{this._register((0,y.addDisposableListener)(this._element,l,d=>{if(!this.enabled){y.EventHelper.stop(d);return}this._onDidClick.fire(d)}))}),this._register((0,y.addDisposableListener)(this._element,y.EventType.KEY_DOWN,l=>{const d=new f.StandardKeyboardEvent(l);let a=!1;this.enabled&&(d.equals(3)||d.equals(10))?(this._onDidClick.fire(l),a=!0):d.equals(9)&&(this._element.blur(),a=!0),a&&y.EventHelper.stop(d,!0)})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OUT,l=>{this.applyStyles()})),this.focusTracker=this._register((0,y.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,s;this.options.secondary?(s=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(s=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const l=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=s,this._element.style.backgroundColor=t,this._element.style.borderWidth=l?"1px":"",this._element.style.borderStyle=l?"solid":"",this._element.style.borderColor=l}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,y.reset)(this._element,...(0,D.renderLabelWithIcons)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=i}),define(ne[348],oe([14]),{}),define(ne[349],oe([14]),{}),define(ne[147],oe([1,0,27,348,349]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function f(N){let D=N.definition;for(;D instanceof y.Codicon;)D=D.definition;return`.codicon-${N.id}:before { content: '${D.fontCharacter}'; }`}e.formatRule=f}),define(ne[350],oe([14]),{}),define(ne[231],oe([1,0,174,7,2,17,143,350]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var b;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(b=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function v(i,n,t){const s=t.mode===b.ALIGN?t.offset:t.offset+t.size,l=t.mode===b.ALIGN?t.offset+t.size:t.offset;return t.position===0?n<=i-s?s:n<=l?l-n:Math.max(i-n,0):n<=l?l-n:n<=i-s?s:0}e.layout=v;class u extends N.Disposable{constructor(n,t){super();this.container=null,this.delegate=null,this.toDisposeOnClean=N.Disposable.None,this.toDisposeOnSetContainer=N.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=f.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,f.hide(this.view),this.setContainer(n,t),this._register((0,N.toDisposable)(()=>this.setContainer(null,1)))}setContainer(n,t){var s;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(s=this.shadowRootHostElement)===null||s===void 0||s.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),n){if(this.container=n,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=f.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const d=document.createElement("style");d.textContent=h,this.shadowRoot.appendChild(d),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(f.$("slot"))}else this.container.appendChild(this.view);const l=new N.DisposableStore;u.BUBBLE_UP_EVENTS.forEach(d=>{l.add(f.addStandardDisposableListener(this.container,d,a=>{this.onDOMEvent(a,!1)}))}),u.BUBBLE_DOWN_EVENTS.forEach(d=>{l.add(f.addStandardDisposableListener(this.container,d,a=>{this.onDOMEvent(a,!0)},!0))}),this.toDisposeOnSetContainer=l}}show(n){var t,s;this.isVisible()&&this.hide(),f.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",f.show(this.view),this.toDisposeOnClean=n.render(this.view)||N.Disposable.None,this.delegate=n,this.doLayout(),(s=(t=this.delegate).focus)===null||s===void 0||s.call(t)}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&y.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const n=this.delegate.getAnchor();let t;if(f.isHTMLElement(n)){const m=f.getDomNodePagePosition(n),S=f.getDomNodeZoomLevel(n);t={top:m.top*S,left:m.left*S,width:m.width*S,height:m.height*S}}else t={top:n.y,left:n.x,width:n.width||1,height:n.height||2};const s=f.getTotalWidth(this.view),l=f.getTotalHeight(this.view),d=this.delegate.anchorPosition||0,a=this.delegate.anchorAlignment||0,o=this.delegate.anchorAxisAlignment||0;let r,c;if(o===0){const m={offset:t.top-window.pageYOffset,size:t.height,position:d===0?0:1},S={offset:t.left,size:t.width,position:a===0?0:1,mode:b.ALIGN};r=v(window.innerHeight,l,m)+window.pageYOffset,w.Range.intersects({start:r,end:r+l},{start:m.offset,end:m.offset+m.size})&&(S.mode=b.AVOID),c=v(window.innerWidth,s,S)}else{const m={offset:t.left,size:t.width,position:a===0?0:1},S={offset:t.top,size:t.height,position:d===0?0:1,mode:b.ALIGN};c=v(window.innerWidth,s,m),w.Range.intersects({start:c,end:c+s},{start:m.offset,end:m.offset+m.size})&&(S.mode=b.AVOID),r=v(window.innerHeight,l,S)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(d===0?"bottom":"top"),this.view.classList.add(a===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const g=f.getDomNodePagePosition(this.container);this.view.style.top=`${r-(this.useFixedPosition?f.getDomNodePagePosition(this.view).top:g.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?f.getDomNodePagePosition(this.view).left:g.left)}px`,this.view.style.width="initial"}hide(n){const t=this.delegate;this.delegate=null,(t==null?void 0:t.onHide)&&t.onHide(n),this.toDisposeOnClean.dispose(),f.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(n,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(n,document.activeElement):t&&!f.isAncestor(n.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=u,u.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],u.BUBBLE_DOWN_EVENTS=["click"];const h=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ne[351],oe([14]),{}),define(ne[232],oe([1,0,7,31,39,9,351]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const w={badgeBackground:f.Color.fromHex("#4D4D4D"),badgeForeground:f.Color.fromHex("#FFFFFF")};class b{constructor(u,h){this.count=0,this.options=h||Object.create(null),(0,N.mixin)(this.options,w,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,y.append)(u,(0,y.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(u){this.count=u,this.render()}setTitleFormat(u){this.titleFormat=u,this.render()}render(){this.element.textContent=(0,D.format)(this.countFormat,this.count),this.element.title=(0,D.format)(this.titleFormat,this.count),this.applyStyles()}style(u){this.badgeBackground=u.badgeBackground,this.badgeForeground=u.badgeForeground,this.badgeBorder=u.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const u=this.badgeBackground?this.badgeBackground.toString():"",h=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=u,this.element.style.color=h,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}e.CountBadge=b}),define(ne[233],oe([14]),{}),define(ne[234],oe([14]),{}),define(ne[352],oe([14]),{}),define(ne[353],oe([14]),{}),define(ne[354],oe([14]),{}),define(ne[355],oe([14]),{}),define(ne[235],oe([14]),{}),define(ne[356],oe([14]),{}),define(ne[148],oe([1,0,356]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ne[357],oe([14]),{}),define(ne[358],oe([1,0,7,10,31,2,39,357]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const b="done",v="active",u="infinite",h="infinite-long-running",i="discrete",n={progressBarBackground:N.Color.fromHex("#0E70C0")};class t extends D.Disposable{constructor(l,d){super();this.options=d||Object.create(null),(0,w.mixin)(this.options,n,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new f.RunOnceScheduler(()=>(0,y.show)(this.element),0)),this.longRunningScheduler=this._register(new f.RunOnceScheduler(()=>this.infiniteLongRunning(),t.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(l)}create(l){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),l.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(v,u,h,i),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(l){return this.element.classList.add(b),this.element.classList.contains(u)?(this.bit.style.opacity="0",l?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",l?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(i,b,h),this.element.classList.add(v,u),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(h)}getContainer(){return this.element}style(l){this.progressBarBackground=l.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const l=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=l}}}e.ProgressBar=t,t.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(ne[359],oe([14]),{}),define(ne[126],oe([1,0,7,95,60,10,103,4,2,17,359]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const h=!1;var i;(function(g){g.North="north",g.South="south",g.East="east",g.West="west"})(i=e.OrthogonalEdge||(e.OrthogonalEdge={}));let n=4;const t=new b.Emitter;let s=300;const l=new b.Emitter;class d{constructor(){this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new f.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new f.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}De([w.memoize],d.prototype,"onPointerMove",null),De([w.memoize],d.prototype,"onPointerUp",null);class a{constructor(m){this.el=m,this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new f.DomEmitter(this.el,N.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new f.DomEmitter(this.el,N.EventType.End)).event}dispose(){this.disposables.dispose()}}De([w.memoize],a.prototype,"onPointerMove",null),De([w.memoize],a.prototype,"onPointerUp",null);class o{constructor(m){this.factory=m}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}De([w.memoize],o.prototype,"onPointerMove",null),De([w.memoize],o.prototype,"onPointerUp",null);const r="pointer-events-disabled";class c extends v.Disposable{constructor(m,S,p){super();this.hoverDelay=s,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new b.Emitter),this._onDidStart=this._register(new b.Emitter),this._onDidChange=this._register(new b.Emitter),this._onDidReset=this._register(new b.Emitter),this._onDidEnd=this._register(new b.Emitter),this.orthogonalStartSashDisposables=this._register(new v.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new v.DisposableStore),this.orthogonalEndSashDisposables=this._register(new v.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new v.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,y.append)(m,(0,y.$)(".monaco-sash")),p.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${p.orthogonalEdge}`),u.isMacintosh&&this.el.classList.add("mac");const C=this._register(new f.DomEmitter(this.el,"mousedown")).event;this._register(C(B=>this.onPointerStart(B,new d),this));const _=this._register(new f.DomEmitter(this.el,"dblclick")).event;this._register(_(this.onPointerDoublePress,this));const L=this._register(new f.DomEmitter(this.el,"mouseenter")).event;this._register(L(()=>c.onMouseEnter(this)));const E=this._register(new f.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>c.onMouseLeave(this))),this._register(N.Gesture.addTarget(this.el));const I=b.Event.map(this._register(new f.DomEmitter(this.el,N.EventType.Start)).event,B=>{var R;return Object.assign(Object.assign({},B),{target:(R=B.initialTarget)!==null&&R!==void 0?R:null})});this._register(I(B=>this.onPointerStart(B,new a(this.el)),this));const T=this._register(new f.DomEmitter(this.el,N.EventType.Tap)).event,P=b.Event.map(b.Event.filter(b.Event.debounce(T,(B,R)=>{var k;return{event:R,count:((k=B==null?void 0:B.count)!==null&&k!==void 0?k:0)+1}},250),({count:B})=>B===2),({event:B})=>{var R;return Object.assign(Object.assign({},B),{target:(R=B.initialTarget)!==null&&R!==void 0?R:null})});this._register(P(this.onPointerDoublePress,this)),typeof p.size=="number"?(this.size=p.size,p.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=n,this._register(t.event(B=>{this.size=B,this.layout()}))),this._register(l.event(B=>this.hoverDelay=B)),this.layoutProvider=S,this.orthogonalStartSash=p.orthogonalStartSash,this.orthogonalEndSash=p.orthogonalEndSash,this.orientation=p.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",h),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(m){this._state!==m&&(this.el.classList.toggle("disabled",m===0),this.el.classList.toggle("minimum",m===1),this.el.classList.toggle("maximum",m===2),this._state=m,this.onDidEnablementChange.fire(m))}set orthogonalStartSash(m){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),m){const S=p=>{this.orthogonalStartDragHandleDisposables.clear(),p!==0&&(this._orthogonalStartDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new f.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>c.onMouseEnter(m),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new f.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>c.onMouseLeave(m),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(m.onDidEnablementChange.event(S,this)),S(m.state)}this._orthogonalStartSash=m}set orthogonalEndSash(m){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),m){const S=p=>{this.orthogonalEndDragHandleDisposables.clear(),p!==0&&(this._orthogonalEndDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new f.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>c.onMouseEnter(m),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new f.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>c.onMouseLeave(m),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(m.onDidEnablementChange.event(S,this)),S(m.state)}this._orthogonalEndSash=m}onPointerStart(m,S){y.EventHelper.stop(m);let p=!1;if(!m.__orthogonalSashEvent){const A=this.getOrthogonalSash(m);A&&(p=!0,m.__orthogonalSashEvent=!0,A.onPointerStart(m,new o(S)))}if(this.linkedSash&&!m.__linkedSashEvent&&(m.__linkedSashEvent=!0,this.linkedSash.onPointerStart(m,new o(S))),!this.state)return;const C=(0,y.getElementsByTagName)("iframe");for(const A of C)A.classList.add(r);const _=m.pageX,L=m.pageY,E=m.altKey,I={startX:_,currentX:_,startY:L,currentY:L,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(I);const T=(0,y.createStyleSheet)(this.el),P=()=>{let A="";p?A="all-scroll":this.orientation===1?this.state===1?A="s-resize":this.state===2?A="n-resize":A=u.isMacintosh?"row-resize":"ns-resize":this.state===1?A="e-resize":this.state===2?A="w-resize":A=u.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${A} !important; }`},B=new v.DisposableStore;P(),p||this.onDidEnablementChange.event(P,null,B);const R=A=>{y.EventHelper.stop(A,!1);const O={startX:_,currentX:A.pageX,startY:L,currentY:A.pageY,altKey:E};this._onDidChange.fire(O)},k=A=>{y.EventHelper.stop(A,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),B.dispose();for(const O of C)O.classList.remove(r)};S.onPointerMove(R,null,B),S.onPointerUp(k,null,B),B.add(S)}onPointerDoublePress(m){const S=this.getOrthogonalSash(m);S&&S._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(m,S=!1){m.el.classList.contains("active")?(m.hoverDelayer.cancel(),m.el.classList.add("hover")):m.hoverDelayer.trigger(()=>m.el.classList.add("hover"),m.hoverDelay).then(void 0,()=>{}),!S&&m.linkedSash&&c.onMouseEnter(m.linkedSash,!0)}static onMouseLeave(m,S=!1){m.hoverDelayer.cancel(),m.el.classList.remove("hover"),!S&&m.linkedSash&&c.onMouseLeave(m.linkedSash,!0)}clearSashHoverState(){c.onMouseLeave(this)}layout(){if(this.orientation===0){const m=this.layoutProvider;this.el.style.left=m.getVerticalSashLeft(this)-this.size/2+"px",m.getVerticalSashTop&&(this.el.style.top=m.getVerticalSashTop(this)+"px"),m.getVerticalSashHeight&&(this.el.style.height=m.getVerticalSashHeight(this)+"px")}else{const m=this.layoutProvider;this.el.style.top=m.getHorizontalSashTop(this)-this.size/2+"px",m.getHorizontalSashLeft&&(this.el.style.left=m.getHorizontalSashLeft(this)+"px"),m.getHorizontalSashWidth&&(this.el.style.width=m.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(m){if(!(!m.target||!(m.target instanceof HTMLElement))&&m.target.classList.contains("orthogonal-drag-handle"))return m.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=c}),define(ne[360],oe([14]),{}),define(ne[74],oe([1,0,36,7,33,63,340,341,66,10,4,2,17,144,360]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const s=500,l=50,d=!0;class a{constructor(C,_,L){this.timestamp=C,this.deltaX=_,this.deltaY=L,this.score=0}}class o{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let C=1,_=0,L=1,E=this._rear;do{const I=E===this._front?C:Math.pow(2,-L);if(C-=I,_+=this._memory[E].score*I,E===this._front)break;E=(this._capacity+E-1)%this._capacity,L++}while(!0);return _<=.5}accept(C,_,L){const E=new a(C,_,L);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(C){if(Math.abs(C.deltaX)>0&&Math.abs(C.deltaY)>0)return 1;let _=.5;const L=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(C.deltaX)||!this._isAlmostInt(C.deltaY))&&(_+=.25),Math.min(Math.max(_,0),1)}_isAlmostInt(C){return Math.abs(Math.round(C)-C)<.01}}e.MouseWheelClassifier=o,o.INSTANCE=new o;class r extends v.Widget{constructor(C,_,L){super();this._onScroll=this._register(new h.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new h.Emitter),C.style.overflow="hidden",this._options=S(_),this._scrollable=L,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const E={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new w.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(C),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onnonbubblingmouseout(this._listenOnDomNode,I=>this._onMouseOut(I)),this._hideTimeout=this._register(new u.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(C){this._verticalScrollbar.delegatePointerDown(C)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(C){this._scrollable.setScrollDimensions(C,!1)}updateClassName(C){this._options.className=C,n.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(C){typeof C.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=C.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof C.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=C.mouseWheelScrollSensitivity),typeof C.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=C.fastScrollSensitivity),typeof C.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=C.scrollPredominantAxis),typeof C.horizontal!="undefined"&&(this._options.horizontal=C.horizontal),typeof C.vertical!="undefined"&&(this._options.vertical=C.vertical),typeof C.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=C.horizontalScrollbarSize),typeof C.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=C.verticalScrollbarSize),typeof C.scrollByPage!="undefined"&&(this._options.scrollByPage=C.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(C){if(this._mouseWheelToDispose.length>0!==C&&(this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),C)){const L=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(f.addDisposableListener(this._listenOnDomNode,f.EventType.MOUSE_WHEEL,L,{passive:!1}))}}_onMouseWheel(C){const _=o.INSTANCE;if(d){const I=window.devicePixelRatio/(0,y.getZoomFactor)();n.isWindows||n.isLinux?_.accept(Date.now(),C.deltaX/I,C.deltaY/I):_.accept(Date.now(),C.deltaX,C.deltaY)}let L=!1;if(C.deltaY||C.deltaX){let I=C.deltaY*this._options.mouseWheelScrollSensitivity,T=C.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(I)>=Math.abs(T)?T=0:I=0),this._options.flipAxes&&([I,T]=[T,I]);const P=!n.isMacintosh&&C.browserEvent&&C.browserEvent.shiftKey;(this._options.scrollYToX||P)&&!T&&(T=I,I=0),C.browserEvent&&C.browserEvent.altKey&&(T=T*this._options.fastScrollSensitivity,I=I*this._options.fastScrollSensitivity);const B=this._scrollable.getFutureScrollPosition();let R={};if(I){const k=l*I,A=B.scrollTop-(k<0?Math.floor(k):Math.ceil(k));this._verticalScrollbar.writeScrollPosition(R,A)}if(T){const k=l*T,A=B.scrollLeft-(k<0?Math.floor(k):Math.ceil(k));this._horizontalScrollbar.writeScrollPosition(R,A)}R=this._scrollable.validateScrollPosition(R),(B.scrollLeft!==R.scrollLeft||B.scrollTop!==R.scrollTop)&&(d&&this._options.mouseWheelSmoothScroll&&_.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(R):this._scrollable.setScrollPositionNow(R),L=!0)}let E=L;!E&&this._options.alwaysConsumeMouseWheel&&(E=!0),!E&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(E=!0),E&&(C.preventDefault(),C.stopPropagation())}_onDidScroll(C){this._shouldRender=this._horizontalScrollbar.onDidScroll(C)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(C)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const C=this._scrollable.getCurrentScrollPosition(),_=C.scrollTop>0,L=C.scrollLeft>0,E=L?" left":"",I=_?" top":"",T=L||_?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${I}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(C){this._mouseIsOver=!1,this._hide()}_onMouseOver(C){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),s)}}e.AbstractScrollableElement=r;class c extends r{constructor(C,_){_=_||{},_.mouseWheelSmoothScroll=!1;const L=new t.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>f.scheduleAtNextAnimationFrame(E)});super(C,_,L);this._register(L)}setScrollPosition(C){this._scrollable.setScrollPositionNow(C)}}e.ScrollableElement=c;class g extends r{constructor(C,_,L){super(C,_,L)}setScrollPosition(C){C.reuseAnimation?this._scrollable.setScrollPositionSmooth(C,C.reuseAnimation):this._scrollable.setScrollPositionNow(C)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=g;class m extends r{constructor(C,_){_=_||{},_.mouseWheelSmoothScroll=!1;const L=new t.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>f.scheduleAtNextAnimationFrame(E)});super(C,_,L);this._register(L),this._element=C,this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)}),this.scanDomNode()}setScrollPosition(C){this._scrollable.setScrollPositionNow(C)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=m;function S(p){const C={lazyRender:typeof p.lazyRender!="undefined"?p.lazyRender:!1,className:typeof p.className!="undefined"?p.className:"",useShadows:typeof p.useShadows!="undefined"?p.useShadows:!0,handleMouseWheel:typeof p.handleMouseWheel!="undefined"?p.handleMouseWheel:!0,flipAxes:typeof p.flipAxes!="undefined"?p.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof p.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?p.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof p.alwaysConsumeMouseWheel!="undefined"?p.alwaysConsumeMouseWheel:!1,scrollYToX:typeof p.scrollYToX!="undefined"?p.scrollYToX:!1,mouseWheelScrollSensitivity:typeof p.mouseWheelScrollSensitivity!="undefined"?p.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof p.fastScrollSensitivity!="undefined"?p.fastScrollSensitivity:5,scrollPredominantAxis:typeof p.scrollPredominantAxis!="undefined"?p.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof p.mouseWheelSmoothScroll!="undefined"?p.mouseWheelSmoothScroll:!0,arrowSize:typeof p.arrowSize!="undefined"?p.arrowSize:11,listenOnDomNode:typeof p.listenOnDomNode!="undefined"?p.listenOnDomNode:null,horizontal:typeof p.horizontal!="undefined"?p.horizontal:1,horizontalScrollbarSize:typeof p.horizontalScrollbarSize!="undefined"?p.horizontalScrollbarSize:10,horizontalSliderSize:typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:0,horizontalHasArrows:typeof p.horizontalHasArrows!="undefined"?p.horizontalHasArrows:!1,vertical:typeof p.vertical!="undefined"?p.vertical:1,verticalScrollbarSize:typeof p.verticalScrollbarSize!="undefined"?p.verticalScrollbarSize:10,verticalHasArrows:typeof p.verticalHasArrows!="undefined"?p.verticalHasArrows:!1,verticalSliderSize:typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:0,scrollByPage:typeof p.scrollByPage!="undefined"?p.scrollByPage:!1};return C.horizontalSliderSize=typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:C.horizontalScrollbarSize,C.verticalSliderSize=typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:C.verticalScrollbarSize,n.isMacintosh&&(C.className+=" mac"),C}}),define(ne[236],oe([1,0,7,46,74,2,352]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const w=y.$;class b extends D.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new N.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=b;class v extends D.Disposable{constructor(h,i,n){super();this.actionContainer=y.append(h,w("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=y.append(this.actionContainer,w("a.action")),this.action.setAttribute("role","button"),i.iconClass&&y.append(this.action,w(`span.icon.${i.iconClass}`));const t=y.append(this.action,w("span"));t.textContent=n?`${i.label} (${n})`:i.label,this._register(y.addDisposableListener(this.actionContainer,y.EventType.CLICK,s=>{s.stopPropagation(),s.preventDefault(),i.run(this.actionContainer)})),this._register(y.addDisposableListener(this.actionContainer,y.EventType.KEY_UP,s=>{new f.StandardKeyboardEvent(s).equals(3)&&(s.stopPropagation(),s.preventDefault(),i.run(this.actionContainer))})),this.setEnabled(!0)}static render(h,i,n){return new v(h,i,n)}setEnabled(h){h?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=v}),define(ne[181],oe([1,0,36,121,7,95,60,74,18,10,103,4,2,39,143,144,331,339]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const o={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(C){return[C]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class r{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=r;class c{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=c;class g{constructor(){this.types=[],this.files=[]}update(_){if(_.types&&this.types.splice(0,this.types.length,..._.types),_.files){this.files.splice(0,this.files.length);for(let L=0;L<_.files.length;L++){const E=_.files.item(L);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=g;function m(C,_){return Array.isArray(C)&&Array.isArray(_)?(0,v.equals)(C,_):C===_}class S{constructor(_){(_==null?void 0:_.getSetSize)?this.getSetSize=_.getSetSize.bind(_):this.getSetSize=(L,E,I)=>I,(_==null?void 0:_.getPosInSet)?this.getPosInSet=_.getPosInSet.bind(_):this.getPosInSet=(L,E)=>E+1,(_==null?void 0:_.getRole)?this.getRole=_.getRole.bind(_):this.getRole=L=>"listitem",(_==null?void 0:_.isChecked)?this.isChecked=_.isChecked.bind(_):this.isChecked=L=>{}}}class p{constructor(_,L,E,I=o){if(this.virtualDelegate=L,this.domId=`list_id_${++p.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new u.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=n.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=n.Disposable.None,this.onDragLeaveTimeout=n.Disposable.None,this.disposables=new n.DisposableStore,this._onDidChangeContentHeight=new i.Emitter,this._horizontalScrolling=!1,I.horizontalScrolling&&I.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new d.RangeMap;for(const P of E)this.renderers.set(P.templateId,P);this.cache=this.disposables.add(new a.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof I.mouseSupport=="boolean"?I.mouseSupport:!0),this._horizontalScrolling=(0,t.getOrDefault)(I,P=>P.horizontalScrolling,o.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof I.additionalScrollHeight=="undefined"?0:I.additionalScrollHeight,this.accessibilityProvider=new S(I.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,t.getOrDefault)(I,P=>P.transformOptimization,o.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(w.Gesture.addTarget(this.rowsContainer)),this.scrollable=new l.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(0,t.getOrDefault)(I,P=>P.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:P=>(0,N.scheduleAtNextAnimationFrame)(P)}),this.scrollableElement=this.disposables.add(new b.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,t.getOrDefault)(I,P=>P.alwaysConsumeMouseWheel,o.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,t.getOrDefault)(I,P=>P.verticalScrollMode,o.verticalScrollMode),useShadows:(0,t.getOrDefault)(I,P=>P.useShadows,o.useShadows),mouseWheelScrollSensitivity:I.mouseWheelScrollSensitivity,fastScrollSensitivity:I.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),_.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,N.addDisposableListener)(this.rowsContainer,w.EventType.Change,P=>this.onTouchChange(P))),this.disposables.add((0,N.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",P=>P.target.scrollTop=0)),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragover",P=>this.onDragOver(this.toDragEvent(P)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"drop",P=>this.onDrop(this.toDragEvent(P)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragleave",P=>this.onDragLeave(this.toDragEvent(P)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragend",P=>this.onDragEnd(P))),this.setRowLineHeight=(0,t.getOrDefault)(I,P=>P.setRowLineHeight,o.setRowLineHeight),this.setRowHeight=(0,t.getOrDefault)(I,P=>P.setRowHeight,o.setRowHeight),this.supportDynamicHeights=(0,t.getOrDefault)(I,P=>P.supportDynamicHeights,o.supportDynamicHeights),this.dnd=(0,t.getOrDefault)(I,P=>P.dnd,o.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(_){if(_!==this._horizontalScrolling){if(_&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=_,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,N.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(_){_.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=_.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),_.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(_.smoothScrolling?125:0),_.horizontalScrolling!==void 0&&(this.horizontalScrolling=_.horizontalScrolling),_.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:_.mouseWheelScrollSensitivity}),_.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:_.fastScrollSensitivity})}splice(_,L,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(_,L,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(_,L,E=[]){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T={start:_,end:_+L},P=s.Range.intersect(I,T),B=new Map;for(let Z=P.end-1;Z>=P.start;Z--){const x=this.items[Z];if(x.dragStartDisposable.dispose(),x.checkedDisposable.dispose(),x.row){let U=B.get(x.templateId);U||(U=[],B.set(x.templateId,U));const q=this.renderers.get(x.templateId);q&&q.disposeElement&&q.disposeElement(x.element,Z,x.row.templateData,x.size),U.push(x.row)}x.row=null}const R={start:_+L,end:this.items.length},k=s.Range.intersect(R,I),A=s.Range.relativeComplement(R,I),O=E.map(Z=>({id:String(this.itemId++),element:Z,templateId:this.virtualDelegate.getTemplateId(Z),size:this.virtualDelegate.getHeight(Z),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Z),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:n.Disposable.None,checkedDisposable:n.Disposable.None}));let F;_===0&&L>=this.items.length?(this.rangeMap=new d.RangeMap,this.rangeMap.splice(0,0,O),F=this.items,this.items=O):(this.rangeMap.splice(_,L,O),F=this.items.splice(_,L,...O));const W=E.length-L,M=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),z=(0,d.shift)(k,W),G=s.Range.intersect(M,z);for(let Z=G.start;Z<G.end;Z++)this.updateItemInDOM(this.items[Z],Z);const te=s.Range.relativeComplement(z,M);for(const Z of te)for(let x=Z.start;x<Z.end;x++)this.removeItemFromDOM(x);const X=A.map(Z=>(0,d.shift)(Z,W)),ie=[{start:_,end:_+E.length},...X].map(Z=>s.Range.intersect(M,Z)),re=this.getNextToLastElement(ie);for(const Z of ie)for(let x=Z.start;x<Z.end;x++){const U=this.items[x],q=B.get(U.templateId),le=q==null?void 0:q.pop();this.insertItemInDOM(x,re,le)}for(const Z of B.values())for(const x of Z)this.cache.release(x);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),F.map(Z=>Z.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,N.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let _=0;for(const L of this.items)typeof L.width!="undefined"&&(_=Math.max(_,L.width));this.scrollWidth=_,this.scrollableElement.setScrollDimensions({scrollWidth:_===0?0:_+10})}rerender(){if(!!this.supportDynamicHeights){for(const _ of this.items)_.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(_){return this.items[_].element}domElement(_){const L=this.items[_].row;return L&&L.domNode}elementHeight(_){return this.items[_].size}elementTop(_){return this.rangeMap.positionAt(_)}indexAt(_){return this.rangeMap.indexAt(_)}indexAfter(_){return this.rangeMap.indexAfter(_)}layout(_,L){const E={height:typeof _=="number"?_:(0,N.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof L!="undefined"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:(0,N.getContentWidth)(this.domNode)})}render(_,L,E,I,T,P=!1){const B=this.getRenderRange(L,E),R=s.Range.relativeComplement(B,_),k=s.Range.relativeComplement(_,B),A=this.getNextToLastElement(R);if(P){const O=s.Range.intersect(_,B);for(let F=O.start;F<O.end;F++)this.updateItemInDOM(this.items[F],F)}for(const O of R)for(let F=O.start;F<O.end;F++)this.insertItemInDOM(F,A);for(const O of k)for(let F=O.start;F<O.end;F++)this.removeItemFromDOM(F);I!==void 0&&(this.rowsContainer.style.left=`-${I}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&T!==void 0&&(this.rowsContainer.style.width=`${Math.max(T,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=E}insertItemInDOM(_,L,E){const I=this.items[_];I.row||(I.row=E??this.cache.alloc(I.templateId));const T=this.accessibilityProvider.getRole(I.element)||"listitem";I.row.domNode.setAttribute("role",T);const P=this.accessibilityProvider.isChecked(I.element);if(typeof P=="boolean")I.row.domNode.setAttribute("aria-checked",String(!!P));else if(P){const k=A=>I.row.domNode.setAttribute("aria-checked",String(!!A));k(P.value),I.checkedDisposable=P.onDidChange(k)}I.row.domNode.parentElement||(L?this.rowsContainer.insertBefore(I.row.domNode,L):this.rowsContainer.appendChild(I.row.domNode)),this.updateItemInDOM(I,_);const B=this.renderers.get(I.templateId);if(!B)throw new Error(`No renderer found for template id ${I.templateId}`);B&&B.renderElement(I.element,_,I.row.templateData,I.size);const R=this.dnd.getDragURI(I.element);I.dragStartDisposable.dispose(),I.row.domNode.draggable=!!R,R&&(I.dragStartDisposable=(0,N.addDisposableListener)(I.row.domNode,"dragstart",k=>this.onDragStart(I.element,R,k))),this.horizontalScrolling&&(this.measureItemWidth(I),this.eventuallyUpdateScrollWidth())}measureItemWidth(_){if(!_.row||!_.row.domNode)return;_.row.domNode.style.width=y.isFirefox?"-moz-fit-content":"fit-content",_.width=(0,N.getContentWidth)(_.row.domNode);const L=window.getComputedStyle(_.row.domNode);L.paddingLeft&&(_.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(_.width+=parseFloat(L.paddingRight)),_.row.domNode.style.width=""}updateItemInDOM(_,L){_.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(_.row.domNode.style.height=`${_.size}px`),this.setRowLineHeight&&(_.row.domNode.style.lineHeight=`${_.size}px`),_.row.domNode.setAttribute("data-index",`${L}`),_.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),_.row.domNode.setAttribute("data-parity",L%2==0?"even":"odd"),_.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(_.element,L,this.length))),_.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(_.element,L))),_.row.domNode.setAttribute("id",this.getElementDomId(L)),_.row.domNode.classList.toggle("drop-target",_.dropTarget)}removeItemFromDOM(_){const L=this.items[_];if(L.dragStartDisposable.dispose(),L.checkedDisposable.dispose(),L.row){const E=this.renderers.get(L.templateId);E&&E.disposeElement&&E.disposeElement(L.element,_,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(_,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:_,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(_){this.setScrollTop(_)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"click")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseDblClick(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"dblclick")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseMiddleClick(){return i.Event.filter(i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"auxclick")).event,_=>this.toMouseEvent(_),this.disposables),_=>_.browserEvent.button===1,this.disposables)}get onMouseDown(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"mousedown")).event,_=>this.toMouseEvent(_),this.disposables)}get onContextMenu(){return i.Event.any(i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"contextmenu")).event,_=>this.toMouseEvent(_),this.disposables),i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,w.EventType.Contextmenu)).event,_=>this.toGestureEvent(_),this.disposables))}get onTouchStart(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"touchstart")).event,_=>this.toTouchEvent(_),this.disposables)}get onTap(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.rowsContainer,w.EventType.Tap)).event,_=>this.toGestureEvent(_),this.disposables)}toMouseEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),E=typeof L=="undefined"?void 0:this.items[L],I=E&&E.element;return{browserEvent:_,index:L,element:I}}toTouchEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),E=typeof L=="undefined"?void 0:this.items[L],I=E&&E.element;return{browserEvent:_,index:L,element:I}}toGestureEvent(_){const L=this.getItemIndexFromEventTarget(_.initialTarget||null),E=typeof L=="undefined"?void 0:this.items[L],I=E&&E.element;return{browserEvent:_,index:L,element:I}}toDragEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),E=typeof L=="undefined"?void 0:this.items[L],I=E&&E.element;return{browserEvent:_,index:L,element:I}}onScroll(_){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,_.scrollTop,_.height,_.scrollLeft,_.scrollWidth),this.supportDynamicHeights&&this._rerender(_.scrollTop,_.height,_.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",_),L}}onTouchChange(_){_.preventDefault(),_.stopPropagation(),this.scrollTop-=_.translationY}onDragStart(_,L,E){var I,T;if(!E.dataTransfer)return;const P=this.dnd.getDragElements(_);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(f.DataTransfers.TEXT,L),E.dataTransfer.setDragImage){let B;this.dnd.getDragLabel&&(B=this.dnd.getDragLabel(P,E)),typeof B=="undefined"&&(B=String(P.length));const R=(0,N.$)(".monaco-drag-image");R.textContent=B,document.body.appendChild(R),E.dataTransfer.setDragImage(R,-10,-10),setTimeout(()=>document.body.removeChild(R),0)}this.currentDragData=new r(P),f.StaticDND.CurrentDragAndDropData=new c(P),(T=(I=this.dnd).onDragStart)===null||T===void 0||T.call(I,this.currentDragData,E)}onDragOver(_){if(_.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),f.StaticDND.CurrentDragAndDropData&&f.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(_.browserEvent),!_.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(f.StaticDND.CurrentDragAndDropData)this.currentDragData=f.StaticDND.CurrentDragAndDropData;else{if(!_.browserEvent.dataTransfer.types)return!1;this.currentDragData=new g}const L=this.dnd.onDragOver(this.currentDragData,_.element,_.index,_.browserEvent);if(this.canDrop=typeof L=="boolean"?L:L.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;_.browserEvent.dataTransfer.dropEffect=typeof L!="boolean"&&L.effect===0?"copy":"move";let E;if(typeof L!="boolean"&&L.feedback?E=L.feedback:typeof _.index=="undefined"?E=[-1]:E=[_.index],E=(0,v.distinct)(E).filter(I=>I>=-1&&I<this.length).sort((I,T)=>I-T),E=E[0]===-1?[-1]:E,m(this.currentDragFeedback,E))return!0;if(this.currentDragFeedback=E,this.currentDragFeedbackDisposable.dispose(),E[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,n.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const I of E){const T=this.items[I];T.dropTarget=!0,T.row&&T.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,n.toDisposable)(()=>{for(const I of E){const T=this.items[I];T.dropTarget=!1,T.row&&T.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(_){var L,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,u.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(L=this.dnd).onDragLeave)===null||E===void 0||E.call(L,this.currentDragData,_.element,_.index,_.browserEvent))}onDrop(_){if(!this.canDrop)return;const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,f.StaticDND.CurrentDragAndDropData=void 0,!(!L||!_.browserEvent.dataTransfer)&&(_.browserEvent.preventDefault(),L.update(_.browserEvent.dataTransfer),this.dnd.drop(L,_.element,_.index,_.browserEvent))}onDragEnd(_){var L,E;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,f.StaticDND.CurrentDragAndDropData=void 0,(E=(L=this.dnd).onDragEnd)===null||E===void 0||E.call(L,_)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=n.Disposable.None}setupDragAndDropScrollTopAnimation(_){if(!this.dragOverAnimationDisposable){const L=(0,N.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,N.animate)(this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,u.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=_.pageY}animateDragAndDropScrollTop(_){if(this.dragOverMouseY===void 0)return;const L=this.dragOverMouseY-_,E=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(_){const L=this.scrollableElement.getDomNode();let E=_;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&L.contains(E);){const I=E.getAttribute("data-index");if(I){const T=Number(I);if(!isNaN(T))return T}E=E.parentElement}}getRenderRange(_,L){return{start:this.rangeMap.indexAt(_),end:this.rangeMap.indexAfter(_+L-1)}}_rerender(_,L,E){const I=this.getRenderRange(_,L);let T,P;_===this.elementTop(I.start)?(T=I.start,P=0):I.end-I.start>1&&(T=I.start+1,P=this.elementTop(T)-_);let B=0;for(;;){const R=this.getRenderRange(_,L);let k=!1;for(let A=R.start;A<R.end;A++){const O=this.probeDynamicHeight(A);O!==0&&this.rangeMap.splice(A,1,[this.items[A]]),B+=O,k=k||O!==0}if(!k){B!==0&&this.eventuallyUpdateScrollDimensions();const A=s.Range.relativeComplement(I,R);for(const F of A)for(let W=F.start;W<F.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const O=s.Range.relativeComplement(R,I);for(const F of O)for(let W=F.start;W<F.end;W++){const M=W+1,z=M<this.items.length?this.items[M].row:null,G=z?z.domNode:null;this.insertItemInDOM(W,G)}for(let F=R.start;F<R.end;F++)this.items[F].row&&this.updateItemInDOM(this.items[F],F);if(typeof T=="number"){const F=this.scrollable.getFutureScrollPosition().scrollTop-_,W=this.elementTop(T)-P+F;this.setScrollTop(W,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(_){var L,E,I;const T=this.items[_];if(this.virtualDelegate.getDynamicHeight){const k=this.virtualDelegate.getDynamicHeight(T.element);if(k!==null){const A=T.size;return T.size=k,T.lastDynamicHeightWidth=this.renderWidth,k-A}}if(!T.hasDynamicHeight||T.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(T.element))return 0;const P=T.size;if(!this.setRowHeight&&T.row){const k=T.row.domNode.offsetHeight;return T.size=k,T.lastDynamicHeightWidth=this.renderWidth,k-P}const B=this.cache.alloc(T.templateId);B.domNode.style.height="",this.rowsContainer.appendChild(B.domNode);const R=this.renderers.get(T.templateId);return R&&(R.renderElement(T.element,_,B.templateData,void 0),(L=R.disposeElement)===null||L===void 0||L.call(R,T.element,_,B.templateData,void 0)),T.size=B.domNode.offsetHeight,(I=(E=this.virtualDelegate).setDynamicHeight)===null||I===void 0||I.call(E,T.element,T.size),T.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(B.domNode),this.cache.release(B),T.size-P}getNextToLastElement(_){const L=_[_.length-1];if(!L)return null;const E=this.items[L.end];return!E||!E.row?null:E.row.domNode}getElementDomId(_){return`${this.domId}_${_}`}dispose(){var _;if(this.items){for(const L of this.items)if(L.row){const E=this.renderers.get(L.row.templateId);E&&((_=E.disposeElement)===null||_===void 0||_.call(E,L.element,-1,L.row.templateData,void 0),E.disposeTemplate(L.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,n.dispose)(this.disposables)}}p.InstanceCount=0,De([h.memoize],p.prototype,"onMouseClick",null),De([h.memoize],p.prototype,"onMouseDblClick",null),De([h.memoize],p.prototype,"onMouseMiddleClick",null),De([h.memoize],p.prototype,"onMouseDown",null),De([h.memoize],p.prototype,"onContextMenu",null),De([h.memoize],p.prototype,"onTouchStart",null),De([h.memoize],p.prototype,"onTap",null),e.ListView=p}),define(ne[127],oe([1,0,7,95,46,60,47,325,18,10,31,103,4,64,2,122,39,17,19,324,181,235]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class g{constructor(x){this.trait=x,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(x){return x}renderElement(x,U,q){const le=this.renderedElements.findIndex(se=>se.templateData===q);if(le>=0){const se=this.renderedElements[le];this.trait.unrender(q),se.index=U}else{const se={index:U,templateData:q};this.renderedElements.push(se)}this.trait.renderIndex(U,q)}splice(x,U,q){const le=[];for(const se of this.renderedElements)se.index<x?le.push(se):se.index>=x+U&&le.push({index:se.index+q-U,templateData:se.templateData});this.renderedElements=le}renderIndexes(x){for(const{index:U,templateData:q}of this.renderedElements)x.indexOf(U)>-1&&this.trait.renderIndex(U,q)}disposeTemplate(x){const U=this.renderedElements.findIndex(q=>q.templateData===x);U<0||this.renderedElements.splice(U,1)}}class m{constructor(x){this._trait=x,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new n.Emitter,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new g(this)}splice(x,U,q){var le;U=Math.max(0,Math.min(U,this.length-x));const se=q.length-U,Y=x+U,de=[...this.sortedIndexes.filter($=>$<x),...q.map(($,K)=>$?K+x:-1).filter($=>$!==-1),...this.sortedIndexes.filter($=>$>=Y).map($=>$+se)],H=this.length+se;if(this.sortedIndexes.length>0&&de.length===0&&H>0){const $=(le=this.sortedIndexes.find(K=>K>=x))!==null&&le!==void 0?le:H-1;de.push(Math.min($,H-1))}this.renderer.splice(x,U,q.length),this._set(de,de),this.length=H}renderIndex(x,U){U.classList.toggle(this._trait,this.contains(x))}unrender(x){x.classList.remove(this._trait)}set(x,U){return this._set(x,[...x].sort(te),U)}_set(x,U,q){const le=this.indexes,se=this.sortedIndexes;this.indexes=x,this.sortedIndexes=U;const Y=z(se,x);return this.renderer.renderIndexes(Y),this._onChange.fire({indexes:x,browserEvent:q}),le}get(){return this.indexes}contains(x){return(0,v.binarySearch)(this.sortedIndexes,x,te)>=0}dispose(){(0,s.dispose)(this._onChange)}}De([i.memoize],m.prototype,"renderer",null);class S extends m{constructor(x){super("selected");this.setAriaSelected=x}renderIndex(x,U){super.renderIndex(x,U),this.setAriaSelected&&(this.contains(x)?U.setAttribute("aria-selected","true"):U.setAttribute("aria-selected","false"))}}class p{constructor(x,U,q){this.trait=x,this.view=U,this.identityProvider=q}splice(x,U,q){if(!this.identityProvider)return this.trait.splice(x,U,q.map(()=>!1));const le=this.trait.get().map(Y=>this.identityProvider.getId(this.view.element(Y)).toString()),se=q.map(Y=>le.indexOf(this.identityProvider.getId(Y).toString())>-1);this.trait.splice(x,U,se)}}function C(Z){return Z.tagName==="INPUT"||Z.tagName==="TEXTAREA"}e.isInputElement=C;function _(Z){return Z.classList.contains("monaco-editor")?!0:Z.classList.contains("monaco-list")||!Z.parentElement?!1:_(Z.parentElement)}e.isMonacoEditor=_;class L{constructor(x,U,q){this.list=x,this.view=U,this.disposables=new s.DisposableStore,this.multipleSelectionDisposables=new s.DisposableStore,this.onKeyDown.filter(le=>le.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===9).on(this.onEscape,this,this.disposables),q.multipleSelectionSupport!==!1&&this.onKeyDown.filter(le=>(a.isMacintosh?le.metaKey:le.ctrlKey)&&le.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(n.Event.chain(this.disposables.add(new f.DomEmitter(this.view.domNode,"keydown")).event).filter(x=>!C(x.target)).map(x=>new N.StandardKeyboardEvent(x)))}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),x.multipleSelectionSupport&&this.onKeyDown.filter(U=>(a.isMacintosh?U.metaKey:U.ctrlKey)&&U.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection(this.list.getFocus(),x.browserEvent)}onUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPrevious(1,!1,x.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNext(1,!1,x.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onPageUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPreviousPage(x.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onPageDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNextPage(x.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onCtrlA(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection((0,v.range)(this.list.length),x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(x){this.list.getSelection().length&&(x.preventDefault(),x.stopPropagation(),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}De([i.memoize],L.prototype,"onKeyDown",null);var E;(function(Z){Z[Z.Idle=0]="Idle",Z[Z.Typing=1]="Typing"})(E||(E={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(Z){return Z.ctrlKey||Z.metaKey||Z.altKey?!1:Z.keyCode>=31&&Z.keyCode<=56||Z.keyCode>=21&&Z.keyCode<=30||Z.keyCode>=93&&Z.keyCode<=102||Z.keyCode>=80&&Z.keyCode<=90}};class I{constructor(x,U,q,le){this.list=x,this.view=U,this.keyboardNavigationLabelProvider=q,this.delegate=le,this.enabled=!1,this.state=E.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new s.DisposableStore,this.disposables=new s.DisposableStore,this.updateOptions(x.options)}updateOptions(x){(typeof x.enableKeyboardNavigation=="undefined"?!0:!!x.enableKeyboardNavigation)?this.enable():this.disable(),typeof x.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=x.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const x=this.enabledDisposables.add(n.Event.chain(this.enabledDisposables.add(new f.DomEmitter(this.view.domNode,"keydown")).event)).filter(le=>!C(le.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(le=>new N.StandardKeyboardEvent(le)).filter(le=>this.delegate.mightProducePrintableCharacter(le)).forEach(le=>le.preventDefault()).map(le=>le.browserEvent.key).event,U=n.Event.debounce(x,()=>null,800,void 0,void 0,this.enabledDisposables);n.Event.reduce(n.Event.any(x,U),(le,se)=>se===null?null:(le||"")+se,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),U(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var x;const U=this.list.getFocus();if(U.length>0&&U[0]===this.previouslyFocused){const q=(x=this.list.options.accessibilityProvider)===null||x===void 0?void 0:x.getAriaLabel(this.list.element(U[0]));q&&(0,w.alert)(q)}this.previouslyFocused=-1}onInput(x){if(!x){this.state=E.Idle,this.triggered=!1;return}const U=this.list.getFocus(),q=U.length>0?U[0]:0,le=this.state===E.Idle?1:0;this.state=E.Typing;for(let se=0;se<this.list.length;se++){const Y=(q+se+le)%this.list.length,de=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Y)),H=de&&de.toString();if(typeof H=="undefined"||(0,t.matchesPrefix)(x,H)){this.previouslyFocused=q,this.list.setFocus([Y]),this.list.reveal(Y);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class T{constructor(x,U){this.list=x,this.view=U,this.disposables=new s.DisposableStore,this.disposables.add(n.Event.chain(this.disposables.add(new f.DomEmitter(U.domNode,"keydown")).event)).filter(le=>!C(le.target)).map(le=>new N.StandardKeyboardEvent(le)).filter(le=>le.keyCode===2&&!le.ctrlKey&&!le.metaKey&&!le.shiftKey&&!le.altKey).on(this.onTab,this,this.disposables)}onTab(x){if(x.target!==this.view.domNode)return;const U=this.list.getFocus();if(U.length===0)return;const q=this.view.domElement(U[0]);if(!q)return;const le=q.querySelector("[tabIndex]");if(!le||!(le instanceof HTMLElement)||le.tabIndex===-1)return;const se=window.getComputedStyle(le);se.visibility==="hidden"||se.display==="none"||(x.preventDefault(),x.stopPropagation(),le.focus())}dispose(){this.disposables.dispose()}}function P(Z){return a.isMacintosh?Z.browserEvent.metaKey:Z.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=P;function B(Z){return Z.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=B;function R(Z){return Z instanceof MouseEvent&&Z.button===2}const k={isSelectionSingleChangeEvent:P,isSelectionRangeChangeEvent:B};class A{constructor(x){this.list=x,this.disposables=new s.DisposableStore,this._onPointer=new n.Emitter,this.onPointer=this._onPointer.event,x.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||k),this.mouseSupport=typeof x.options.mouseSupport=="undefined"||!!x.options.mouseSupport,this.mouseSupport&&(x.onMouseDown(this.onMouseDown,this,this.disposables),x.onContextMenu(this.onContextMenu,this,this.disposables),x.onMouseDblClick(this.onDoubleClick,this,this.disposables),x.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(x.getHTMLElement()))),n.Event.any(x.onMouseClick,x.onMouseMiddleClick,x.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,x.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||k))}isSelectionSingleChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(x):!1}isSelectionRangeChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(x):!1}isSelectionChangeEvent(x){return this.isSelectionSingleChangeEvent(x)||this.isSelectionRangeChangeEvent(x)}onMouseDown(x){_(x.browserEvent.target)||document.activeElement!==x.browserEvent.target&&this.list.domFocus()}onContextMenu(x){if(_(x.browserEvent.target))return;const U=typeof x.index=="undefined"?[]:[x.index];this.list.setFocus(U,x.browserEvent)}onViewPointer(x){if(!this.mouseSupport||C(x.browserEvent.target)||_(x.browserEvent.target))return;const U=x.index;if(typeof U=="undefined"){this.list.setFocus([],x.browserEvent),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(x))return this.changeSelection(x);if(this.isSelectionChangeEvent(x))return this.changeSelection(x);this.list.setFocus([U],x.browserEvent),this.list.setAnchor(U),R(x.browserEvent)||this.list.setSelection([U],x.browserEvent),this._onPointer.fire(x)}onDoubleClick(x){if(C(x.browserEvent.target)||_(x.browserEvent.target)||this.isSelectionChangeEvent(x))return;const U=this.list.getFocus();this.list.setSelection(U,x.browserEvent)}changeSelection(x){const U=x.index;let q=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(x)){if(typeof q=="undefined"){const K=this.list.getFocus()[0];q=K??U,this.list.setAnchor(q)}const le=Math.min(q,U),se=Math.max(q,U),Y=(0,v.range)(le,se+1),de=this.list.getSelection(),H=M(z(de,[q]),q);if(H.length===0)return;const $=z(Y,G(de,H));this.list.setSelection($,x.browserEvent),this.list.setFocus([U],x.browserEvent)}else if(this.isSelectionSingleChangeEvent(x)){const le=this.list.getSelection(),se=le.filter(Y=>Y!==U);this.list.setFocus([U]),this.list.setAnchor(U),le.length===se.length?this.list.setSelection([...se,U],x.browserEvent):this.list.setSelection(se,x.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=A;class O{constructor(x,U){this.styleElement=x,this.selectorSuffix=U}style(x){const U=this.selectorSuffix&&`.${this.selectorSuffix}`,q=[];x.listBackground&&(x.listBackground.isOpaque()?q.push(`.monaco-list${U} .monaco-list-rows { background: ${x.listBackground}; }`):a.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),x.listFocusBackground&&(q.push(`.monaco-list${U}:focus .monaco-list-row.focused { background-color: ${x.listFocusBackground}; }`),q.push(`.monaco-list${U}:focus .monaco-list-row.focused:hover { background-color: ${x.listFocusBackground}; }`)),x.listFocusForeground&&q.push(`.monaco-list${U}:focus .monaco-list-row.focused { color: ${x.listFocusForeground}; }`),x.listActiveSelectionBackground&&(q.push(`.monaco-list${U}:focus .monaco-list-row.selected { background-color: ${x.listActiveSelectionBackground}; }`),q.push(`.monaco-list${U}:focus .monaco-list-row.selected:hover { background-color: ${x.listActiveSelectionBackground}; }`)),x.listActiveSelectionForeground&&q.push(`.monaco-list${U}:focus .monaco-list-row.selected { color: ${x.listActiveSelectionForeground}; }`),x.listActiveSelectionIconForeground&&q.push(`.monaco-list${U}:focus .monaco-list-row.selected .codicon { color: ${x.listActiveSelectionIconForeground}; }`),x.listFocusAndSelectionBackground&&q.push(`
				.monaco-drag-image,
				.monaco-list${U}:focus .monaco-list-row.selected.focused { background-color: ${x.listFocusAndSelectionBackground}; }
			`),x.listFocusAndSelectionForeground&&q.push(`
				.monaco-drag-image,
				.monaco-list${U}:focus .monaco-list-row.selected.focused { color: ${x.listFocusAndSelectionForeground}; }
			`),x.listInactiveFocusForeground&&(q.push(`.monaco-list${U} .monaco-list-row.focused { color:  ${x.listInactiveFocusForeground}; }`),q.push(`.monaco-list${U} .monaco-list-row.focused:hover { color:  ${x.listInactiveFocusForeground}; }`)),x.listInactiveSelectionIconForeground&&q.push(`.monaco-list${U} .monaco-list-row.focused .codicon { color:  ${x.listInactiveSelectionIconForeground}; }`),x.listInactiveFocusBackground&&(q.push(`.monaco-list${U} .monaco-list-row.focused { background-color:  ${x.listInactiveFocusBackground}; }`),q.push(`.monaco-list${U} .monaco-list-row.focused:hover { background-color:  ${x.listInactiveFocusBackground}; }`)),x.listInactiveSelectionBackground&&(q.push(`.monaco-list${U} .monaco-list-row.selected { background-color:  ${x.listInactiveSelectionBackground}; }`),q.push(`.monaco-list${U} .monaco-list-row.selected:hover { background-color:  ${x.listInactiveSelectionBackground}; }`)),x.listInactiveSelectionForeground&&q.push(`.monaco-list${U} .monaco-list-row.selected { color: ${x.listInactiveSelectionForeground}; }`),x.listHoverBackground&&q.push(`.monaco-list${U}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${x.listHoverBackground}; }`),x.listHoverForeground&&q.push(`.monaco-list${U} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${x.listHoverForeground}; }`),x.listSelectionOutline&&q.push(`.monaco-list${U} .monaco-list-row.selected { outline: 1px dotted ${x.listSelectionOutline}; outline-offset: -1px; }`),x.listFocusOutline&&q.push(`
				.monaco-drag-image,
				.monaco-list${U}:focus .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${U}.last-focused .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
			`),x.listInactiveFocusOutline&&q.push(`.monaco-list${U} .monaco-list-row.focused { outline: 1px dotted ${x.listInactiveFocusOutline}; outline-offset: -1px; }`),x.listHoverOutline&&q.push(`.monaco-list${U} .monaco-list-row:hover { outline: 1px dashed ${x.listHoverOutline}; outline-offset: -1px; }`),x.listDropBackground&&q.push(`
				.monaco-list${U}.drop-target,
				.monaco-list${U} .monaco-list-rows.drop-target,
				.monaco-list${U} .monaco-list-row.drop-target { background-color: ${x.listDropBackground} !important; color: inherit !important; }
			`),x.listFilterWidgetBackground&&q.push(`.monaco-list-type-filter { background-color: ${x.listFilterWidgetBackground} }`),x.listFilterWidgetOutline&&q.push(`.monaco-list-type-filter { border: 1px solid ${x.listFilterWidgetOutline}; }`),x.listFilterWidgetNoMatchesOutline&&q.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${x.listFilterWidgetNoMatchesOutline}; }`),x.listMatchesShadow&&q.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${x.listMatchesShadow}; }`),x.tableColumnsBorder&&q.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${x.tableColumnsBorder};
			}`),x.tableOddRowsBackgroundColor&&q.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${x.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=q.join(`
`)}}e.DefaultStyleController=O;const F={listFocusBackground:h.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:h.Color.fromHex("#0E639C"),listActiveSelectionForeground:h.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:h.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:h.Color.fromHex("#094771"),listFocusAndSelectionForeground:h.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:h.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:h.Color.fromHex("#FFFFFF"),listHoverBackground:h.Color.fromHex("#2A2D2E"),listDropBackground:h.Color.fromHex("#383B3D"),treeIndentGuidesStroke:h.Color.fromHex("#a9a9a9"),tableColumnsBorder:h.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:h.Color.fromHex("#cccccc").transparent(.04)},W={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function M(Z,x){const U=Z.indexOf(x);if(U===-1)return[];const q=[];let le=U-1;for(;le>=0&&Z[le]===x-(U-le);)q.push(Z[le--]);for(q.reverse(),le=U;le<Z.length&&Z[le]===x+(le-U);)q.push(Z[le++]);return q}function z(Z,x){const U=[];let q=0,le=0;for(;q<Z.length||le<x.length;)if(q>=Z.length)U.push(x[le++]);else if(le>=x.length)U.push(Z[q++]);else if(Z[q]===x[le]){U.push(Z[q]),q++,le++;continue}else Z[q]<x[le]?U.push(Z[q++]):U.push(x[le++]);return U}function G(Z,x){const U=[];let q=0,le=0;for(;q<Z.length||le<x.length;)if(q>=Z.length)U.push(x[le++]);else if(le>=x.length)U.push(Z[q++]);else if(Z[q]===x[le]){q++,le++;continue}else Z[q]<x[le]?U.push(Z[q++]):le++;return U}const te=(Z,x)=>Z-x;class X{constructor(x,U){this._templateId=x,this.renderers=U}get templateId(){return this._templateId}renderTemplate(x){return this.renderers.map(U=>U.renderTemplate(x))}renderElement(x,U,q,le){let se=0;for(const Y of this.renderers)Y.renderElement(x,U,q[se++],le)}disposeElement(x,U,q,le){var se;let Y=0;for(const de of this.renderers)(se=de.disposeElement)===null||se===void 0||se.call(de,x,U,q[Y],le),Y+=1}disposeTemplate(x){let U=0;for(const q of this.renderers)q.disposeTemplate(x[U++])}}class J{constructor(x){this.accessibilityProvider=x,this.templateId="a18n"}renderTemplate(x){return x}renderElement(x,U,q){const le=this.accessibilityProvider.getAriaLabel(x);le?q.setAttribute("aria-label",le):q.removeAttribute("aria-label");const se=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(x);typeof se=="number"?q.setAttribute("aria-level",`${se}`):q.removeAttribute("aria-level")}disposeTemplate(x){}}class ie{constructor(x,U){this.list=x,this.dnd=U}getDragElements(x){const U=this.list.getSelectedElements();return U.indexOf(x)>-1?U:[x]}getDragURI(x){return this.dnd.getDragURI(x)}getDragLabel(x,U){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(x,U)}onDragStart(x,U){var q,le;(le=(q=this.dnd).onDragStart)===null||le===void 0||le.call(q,x,U)}onDragOver(x,U,q,le){return this.dnd.onDragOver(x,U,q,le)}onDragLeave(x,U,q,le){var se,Y;(Y=(se=this.dnd).onDragLeave)===null||Y===void 0||Y.call(se,x,U,q,le)}onDragEnd(x){var U,q;(q=(U=this.dnd).onDragEnd)===null||q===void 0||q.call(U,x)}drop(x,U,q,le){this.dnd.drop(x,U,q,le)}}class re{constructor(x,U,q,le,se=W){var Y,de,H;this.user=x,this._options=se,this.focus=new m("focused"),this.anchor=new m("anchor"),this.eventBufferer=new n.EventBufferer,this._ariaLabel="",this.disposables=new s.DisposableStore,this._onDidDispose=new n.Emitter,this.onDidDispose=this._onDidDispose.event;const $=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Y=this._options.accessibilityProvider)===null||Y===void 0?void 0:Y.getWidgetRole():"list";this.selection=new S($!=="listbox"),(0,d.mixin)(se,F,!1);const K=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=se.accessibilityProvider,this.accessibilityProvider&&(K.push(new J(this.accessibilityProvider)),(H=(de=this.accessibilityProvider).onDidChangeActiveDescendant)===null||H===void 0||H.call(de,this.onDidChangeActiveDescendant,this,this.disposables)),le=le.map(Q=>new X(Q.templateId,[...K,Q]));const V=Object.assign(Object.assign({},se),{dnd:se.dnd&&new ie(this,se.dnd)});if(this.view=new c.ListView(U,q,le,V),this.view.domNode.setAttribute("role",$),se.styleController)this.styleController=se.styleController(this.view.domId);else{const Q=(0,y.createStyleSheet)(this.view.domNode);this.styleController=new O(Q,this.view.domId)}if(this.spliceable=new b.CombinedSpliceable([new p(this.focus,this.view,se.identityProvider),new p(this.selection,this.view,se.identityProvider),new p(this.anchor,this.view,se.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new T(this,this.view)),(typeof se.keyboardSupport!="boolean"||se.keyboardSupport)&&(this.keyboardController=new L(this,this.view,se),this.disposables.add(this.keyboardController)),se.keyboardNavigationLabelProvider){const Q=se.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new I(this,this.view,se.keyboardNavigationLabelProvider,Q),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(se),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return n.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),x=>this.toListEvent(x),this.disposables)}get onDidChangeSelection(){return n.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),x=>this.toListEvent(x),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let x=!1;const U=this.disposables.add(n.Event.chain(this.disposables.add(new f.DomEmitter(this.view.domNode,"keydown")).event)).map(se=>new N.StandardKeyboardEvent(se)).filter(se=>x=se.keyCode===58||se.shiftKey&&se.keyCode===68).map(f.stopEvent).filter(()=>!1).event,q=this.disposables.add(n.Event.chain(this.disposables.add(new f.DomEmitter(this.view.domNode,"keyup")).event)).forEach(()=>x=!1).map(se=>new N.StandardKeyboardEvent(se)).filter(se=>se.keyCode===58||se.shiftKey&&se.keyCode===68).map(f.stopEvent).map(({browserEvent:se})=>{const Y=this.getFocus(),de=Y.length?Y[0]:void 0,H=typeof de!="undefined"?this.view.element(de):void 0,$=typeof de!="undefined"?this.view.domElement(de):this.view.domNode;return{index:de,element:H,anchor:$,browserEvent:se}}).event,le=this.disposables.add(n.Event.chain(this.view.onContextMenu)).filter(se=>!x).map(({element:se,index:Y,browserEvent:de})=>({element:se,index:Y,anchor:{x:de.pageX+1,y:de.pageY},browserEvent:de})).event;return n.Event.any(U,q,le)}get onKeyDown(){return this.disposables.add(new f.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return n.Event.signal(this.disposables.add(new f.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(x){return new A(this)}updateOptions(x={}){var U;this._options=Object.assign(Object.assign({},this._options),x),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(x),(U=this.keyboardController)===null||U===void 0||U.updateOptions(x),this.view.updateOptions(x)}get options(){return this._options}splice(x,U,q=[]){if(x<0||x>this.view.length)throw new r.ListError(this.user,`Invalid start index: ${x}`);if(U<0)throw new r.ListError(this.user,`Invalid delete count: ${U}`);U===0&&q.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(x,U,q))}rerender(){this.view.rerender()}element(x){return this.view.element(x)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(x){this.view.setScrollTop(x)}get ariaLabel(){return this._ariaLabel}set ariaLabel(x){this._ariaLabel=x,this.view.domNode.setAttribute("aria-label",x)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(x,U){this.view.layout(x,U)}setSelection(x,U){for(const q of x)if(q<0||q>=this.length)throw new r.ListError(this.user,`Invalid index ${q}`);this.selection.set(x,U)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(x=>this.view.element(x))}setAnchor(x){if(typeof x=="undefined"){this.anchor.set([]);return}if(x<0||x>=this.length)throw new r.ListError(this.user,`Invalid index ${x}`);this.anchor.set([x])}getAnchor(){return(0,v.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const x=this.getAnchor();return typeof x=="undefined"?void 0:this.element(x)}setFocus(x,U){for(const q of x)if(q<0||q>=this.length)throw new r.ListError(this.user,`Invalid index ${q}`);this.focus.set(x,U)}focusNext(x=1,U=!1,q,le){if(this.length===0)return;const se=this.focus.get(),Y=this.findNextIndex(se.length>0?se[0]+x:0,U,le);Y>-1&&this.setFocus([Y],q)}focusPrevious(x=1,U=!1,q,le){if(this.length===0)return;const se=this.focus.get(),Y=this.findPreviousIndex(se.length>0?se[0]-x:0,U,le);Y>-1&&this.setFocus([Y],q)}focusNextPage(x,U){return Le(this,void 0,void 0,function*(){let q=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);q=q===0?0:q-1;const le=this.getFocus()[0];if(le!==q&&(le===void 0||q>le)){const se=this.findPreviousIndex(q,!1,U);se>-1&&le!==se?this.setFocus([se],x):this.setFocus([q],x)}else{const se=this.view.getScrollTop();let Y=se+this.view.renderHeight;q>le&&(Y-=this.view.elementHeight(q)),this.view.setScrollTop(Y),this.view.getScrollTop()!==se&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusNextPage(x,U))}})}focusPreviousPage(x,U){return Le(this,void 0,void 0,function*(){let q;const le=this.view.getScrollTop();le===0?q=this.view.indexAt(le):q=this.view.indexAfter(le-1);const se=this.getFocus()[0];if(se!==q&&(se===void 0||se>=q)){const Y=this.findNextIndex(q,!1,U);Y>-1&&se!==Y?this.setFocus([Y],x):this.setFocus([q],x)}else{const Y=le;this.view.setScrollTop(le-this.view.renderHeight),this.view.getScrollTop()!==Y&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusPreviousPage(x,U))}})}focusLast(x,U){if(this.length===0)return;const q=this.findPreviousIndex(this.length-1,!1,U);q>-1&&this.setFocus([q],x)}focusFirst(x,U){this.focusNth(0,x,U)}focusNth(x,U,q){if(this.length===0)return;const le=this.findNextIndex(x,!1,q);le>-1&&this.setFocus([le],U)}findNextIndex(x,U=!1,q){for(let le=0;le<this.length;le++){if(x>=this.length&&!U)return-1;if(x=x%this.length,!q||q(this.element(x)))return x;x++}return-1}findPreviousIndex(x,U=!1,q){for(let le=0;le<this.length;le++){if(x<0&&!U)return-1;if(x=(this.length+x%this.length)%this.length,!q||q(this.element(x)))return x;x--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(x=>this.view.element(x))}reveal(x,U){if(x<0||x>=this.length)throw new r.ListError(this.user,`Invalid index ${x}`);const q=this.view.getScrollTop(),le=this.view.elementTop(x),se=this.view.elementHeight(x);if((0,o.isNumber)(U)){const Y=se-this.view.renderHeight;this.view.setScrollTop(Y*(0,l.clamp)(U,0,1)+le)}else{const Y=le+se,de=q+this.view.renderHeight;le<q&&Y>=de||(le<q||Y>=de&&se>=this.view.renderHeight?this.view.setScrollTop(le):Y>=de&&this.view.setScrollTop(Y-this.view.renderHeight))}}getRelativeTop(x){if(x<0||x>=this.length)throw new r.ListError(this.user,`Invalid index ${x}`);const U=this.view.getScrollTop(),q=this.view.elementTop(x),le=this.view.elementHeight(x);if(q<U||q+le>U+this.view.renderHeight)return null;const se=le-this.view.renderHeight;return Math.abs((U-q)/se)}getHTMLElement(){return this.view.domNode}style(x){this.styleController.style(x)}toListEvent({indexes:x,browserEvent:U}){return{indexes:x,elements:x.map(q=>this.view.element(q)),browserEvent:U}}_onFocusChange(){const x=this.focus.get();this.view.domNode.classList.toggle("element-focused",x.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var x;const U=this.focus.get();if(U.length>0){let q;((x=this.accessibilityProvider)===null||x===void 0?void 0:x.getActiveDescendantId)&&(q=this.accessibilityProvider.getActiveDescendantId(this.view.element(U[0]))),this.view.domNode.setAttribute("aria-activedescendant",q||this.view.getElementDomId(U[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const x=this.selection.get();this.view.domNode.classList.toggle("selection-none",x.length===0),this.view.domNode.classList.toggle("selection-single",x.length===1),this.view.domNode.classList.toggle("selection-multiple",x.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}De([i.memoize],re.prototype,"onDidChangeFocus",null),De([i.memoize],re.prototype,"onDidChangeSelection",null),De([i.memoize],re.prototype,"onContextMenu",null),De([i.memoize],re.prototype,"onKeyDown",null),De([i.memoize],re.prototype,"onDidFocus",null),e.List=re}),define(ne[361],oe([1,0,18,21,4,2,127,235]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class b{constructor(n,t){this.renderer=n,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(n){return{data:this.renderer.renderTemplate(n),disposable:D.Disposable.None}}renderElement(n,t,s,l){if(s.disposable&&s.disposable.dispose(),!s.data)return;const d=this.modelProvider();if(d.isResolved(n))return this.renderer.renderElement(d.get(n),n,s.data,l);const a=new f.CancellationTokenSource,o=d.resolve(n,a.token);s.disposable={dispose:()=>a.cancel()},this.renderer.renderPlaceholder(n,s.data),o.then(r=>this.renderer.renderElement(r,n,s.data,l))}disposeTemplate(n){n.disposable&&(n.disposable.dispose(),n.disposable=void 0),n.data&&(this.renderer.disposeTemplate(n.data),n.data=void 0)}}class v{constructor(n,t){this.modelProvider=n,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(n){const t=this.modelProvider();return t.isResolved(n)?this.accessibilityProvider.getAriaLabel(t.get(n)):null}}function u(i,n){return Object.assign(Object.assign({},n),{accessibilityProvider:n.accessibilityProvider&&new v(i,n.accessibilityProvider)})}class h{constructor(n,t,s,l,d={}){const a=()=>this.model,o=l.map(r=>new b(r,a));this.list=new w.List(n,t,s,o,u(a,d))}updateOptions(n){this.list.updateOptions(n)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return N.Event.map(this.list.onMouseDblClick,({element:n,index:t,browserEvent:s})=>({element:n===void 0?void 0:this._model.get(n),index:t,browserEvent:s}))}get onPointer(){return N.Event.map(this.list.onPointer,({element:n,index:t,browserEvent:s})=>({element:n===void 0?void 0:this._model.get(n),index:t,browserEvent:s}))}get onDidChangeSelection(){return N.Event.map(this.list.onDidChangeSelection,({elements:n,indexes:t,browserEvent:s})=>({elements:n.map(l=>this._model.get(l)),indexes:t,browserEvent:s}))}get model(){return this._model}set model(n){this._model=n,this.list.splice(0,this.list.length,(0,y.range)(n.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(n=>this.model.get(n))}style(n){this.list.style(n)}dispose(){this.list.dispose()}}e.PagedList=h}),define(ne[362],oe([14]),{}),define(ne[237],oe([1,0,7,126,74,18,31,4,2,122,144,19,362]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const n={separatorBorder:w.Color.transparent};class t{constructor(c,g,m,S){this.container=c,this.view=g,this.disposable=S,this._cachedVisibleSize=void 0,typeof m=="number"?(this._size=m,this._cachedVisibleSize=void 0,c.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(c){this._size=c}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(c,g){var m,S;c!==this.visible&&(c?(this.size=(0,u.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof g=="number"?g:this.size,this.size=0),this.container.classList.toggle("visible",c),(S=(m=this.view).setVisible)===null||S===void 0||S.call(m,c))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(c){this.container.style.pointerEvents=c?"":"none"}layout(c,g){this.layoutContainer(c),this.view.layout(this.size,c,g)}dispose(){return this.disposable.dispose(),this.view}}class s extends t{layoutContainer(c){this.container.style.top=`${c}px`,this.container.style.height=`${this.size}px`}}class l extends t{layoutContainer(c){this.container.style.left=`${c}px`,this.container.style.width=`${this.size}px`}}var d;(function(r){r[r.Idle=0]="Idle",r[r.Busy=1]="Busy"})(d||(d={}));var a;(function(r){r.Distribute={type:"distribute"};function c(m){return{type:"split",index:m}}r.Split=c;function g(m){return{type:"invisible",cachedVisibleSize:m}}r.Invisible=g})(a=e.Sizing||(e.Sizing={}));class o extends v.Disposable{constructor(c,g={}){var m,S,p,C,_;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=d.Idle,this._onDidSashChange=this._register(new b.Emitter),this._onDidSashReset=this._register(new b.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(m=g.orientation)!==null&&m!==void 0?m:0,this.inverseAltBehavior=(S=g.inverseAltBehavior)!==null&&S!==void 0?S:!1,this.proportionalLayout=(p=g.proportionalLayout)!==null&&p!==void 0?p:!0,this.getSashOrthogonalSize=g.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),c.appendChild(this.el),this.sashContainer=(0,y.append)(this.el,(0,y.$)(".sash-container")),this.viewContainer=(0,y.$)(".split-view-container"),this.scrollable=new h.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:y.scheduleAtNextAnimationFrame}),this.scrollableElement=this._register(new N.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(C=g.scrollbarVisibility)!==null&&C!==void 0?C:1:2,horizontal:this.orientation===1?(_=g.scrollbarVisibility)!==null&&_!==void 0?_:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(L=>{this.viewContainer.scrollTop=L.scrollTop,this.viewContainer.scrollLeft=L.scrollLeft})),(0,y.append)(this.el,this.scrollableElement.getDomNode()),this.style(g.styles||n),g.descriptor&&(this.size=g.descriptor.size,g.descriptor.views.forEach((L,E)=>{const I=i.isUndefined(L.visible)||L.visible?L.size:{type:"invisible",cachedVisibleSize:L.size},T=L.view;this.doAddView(T,I,E,!0)}),this.contentSize=this.viewItems.reduce((L,E)=>L+E.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(c){for(const g of this.sashItems)g.sash.orthogonalStartSash=c;this._orthogonalStartSash=c}set orthogonalEndSash(c){for(const g of this.sashItems)g.sash.orthogonalEndSash=c;this._orthogonalEndSash=c}set startSnappingEnabled(c){this._startSnappingEnabled!==c&&(this._startSnappingEnabled=c,this.updateSashEnablement())}set endSnappingEnabled(c){this._endSnappingEnabled!==c&&(this._endSnappingEnabled=c,this.updateSashEnablement())}style(c){c.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",c.separatorBorder.toString()))}addView(c,g,m=this.viewItems.length,S){this.doAddView(c,g,m,S)}layout(c,g){const m=Math.max(this.size,this.contentSize);if(this.size=c,this.layoutContext=g,this.proportions)for(let S=0;S<this.viewItems.length;S++){const p=this.viewItems[S];p.size=(0,u.clamp)(Math.round(this.proportions[S]*c),p.minimumSize,p.maximumSize)}else{const S=(0,D.range)(this.viewItems.length),p=S.filter(_=>this.viewItems[_].priority===1),C=S.filter(_=>this.viewItems[_].priority===2);this.resize(this.viewItems.length-1,c-m,void 0,p,C)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(c=>c.size/this.contentSize))}onSashStart({sash:c,start:g,alt:m}){for(const _ of this.viewItems)_.enabled=!1;const S=this.sashItems.findIndex(_=>_.sash===c),p=(0,v.combinedDisposable)((0,y.addDisposableListener)(document.body,"keydown",_=>C(this.sashDragState.current,_.altKey)),(0,y.addDisposableListener)(document.body,"keyup",()=>C(this.sashDragState.current,!1))),C=(_,L)=>{const E=this.viewItems.map(R=>R.size);let I=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(L=!L),L)if(S===this.sashItems.length-1){const k=this.viewItems[S];I=(k.minimumSize-k.size)/2,T=(k.maximumSize-k.size)/2}else{const k=this.viewItems[S+1];I=(k.size-k.maximumSize)/2,T=(k.size-k.minimumSize)/2}let P,B;if(!L){const R=(0,D.range)(S,-1),k=(0,D.range)(S+1,this.viewItems.length),A=R.reduce((X,J)=>X+(this.viewItems[J].minimumSize-E[J]),0),O=R.reduce((X,J)=>X+(this.viewItems[J].viewMaximumSize-E[J]),0),F=k.length===0?Number.POSITIVE_INFINITY:k.reduce((X,J)=>X+(E[J]-this.viewItems[J].minimumSize),0),W=k.length===0?Number.NEGATIVE_INFINITY:k.reduce((X,J)=>X+(E[J]-this.viewItems[J].viewMaximumSize),0),M=Math.max(A,W),z=Math.min(F,O),G=this.findFirstSnapIndex(R),te=this.findFirstSnapIndex(k);if(typeof G=="number"){const X=this.viewItems[G],J=Math.floor(X.viewMinimumSize/2);P={index:G,limitDelta:X.visible?M-J:M+J,size:X.size}}if(typeof te=="number"){const X=this.viewItems[te],J=Math.floor(X.viewMinimumSize/2);B={index:te,limitDelta:X.visible?z+J:z-J,size:X.size}}}this.sashDragState={start:_,current:_,index:S,sizes:E,minDelta:I,maxDelta:T,alt:L,snapBefore:P,snapAfter:B,disposable:p}};C(g,m)}onSashChange({current:c}){const{index:g,start:m,sizes:S,alt:p,minDelta:C,maxDelta:_,snapBefore:L,snapAfter:E}=this.sashDragState;this.sashDragState.current=c;const I=c-m,T=this.resize(g,I,S,void 0,void 0,C,_,L,E);if(p){const P=g===this.sashItems.length-1,B=this.viewItems.map(W=>W.size),R=P?g:g+1,k=this.viewItems[R],A=k.size-k.maximumSize,O=k.size-k.minimumSize,F=P?g-1:g+1;this.resize(F,-T,B,void 0,void 0,A,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(c){this._onDidSashChange.fire(c),this.sashDragState.disposable.dispose(),this.saveProportions();for(const g of this.viewItems)g.enabled=!0}onViewChange(c,g){const m=this.viewItems.indexOf(c);m<0||m>=this.viewItems.length||(g=typeof g=="number"?g:c.size,g=(0,u.clamp)(g,c.minimumSize,c.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((c.size-g)/2)),this.distributeEmptySpace(),this.layoutViews()):(c.size=g,this.relayout([m],void 0)))}resizeView(c,g){if(this.state!==d.Idle)throw new Error("Cant modify splitview");if(this.state=d.Busy,c<0||c>=this.viewItems.length)return;const m=(0,D.range)(this.viewItems.length).filter(_=>_!==c),S=[...m.filter(_=>this.viewItems[_].priority===1),c],p=m.filter(_=>this.viewItems[_].priority===2),C=this.viewItems[c];g=Math.round(g),g=(0,u.clamp)(g,C.minimumSize,Math.min(C.maximumSize,this.size)),C.size=g,this.relayout(S,p),this.state=d.Idle}distributeViewSizes(){const c=[];let g=0;for(const _ of this.viewItems)_.maximumSize-_.minimumSize>0&&(c.push(_),g+=_.size);const m=Math.floor(g/c.length);for(const _ of c)_.size=(0,u.clamp)(m,_.minimumSize,_.maximumSize);const S=(0,D.range)(this.viewItems.length),p=S.filter(_=>this.viewItems[_].priority===1),C=S.filter(_=>this.viewItems[_].priority===2);this.relayout(p,C)}getViewSize(c){return c<0||c>=this.viewItems.length?-1:this.viewItems[c].size}doAddView(c,g,m=this.viewItems.length,S){if(this.state!==d.Idle)throw new Error("Cant modify splitview");this.state=d.Busy;const p=(0,y.$)(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(p):this.viewContainer.insertBefore(p,this.viewContainer.children.item(m));const C=c.onDidChange(P=>this.onViewChange(I,P)),_=(0,v.toDisposable)(()=>this.viewContainer.removeChild(p)),L=(0,v.combinedDisposable)(C,_);let E;typeof g=="number"?E=g:g.type==="split"?E=this.getViewSize(g.index)/2:g.type==="invisible"?E={cachedVisibleSize:g.cachedVisibleSize}:E=c.minimumSize;const I=this.orientation===0?new s(p,c,E,L):new l(p,c,E,L);if(this.viewItems.splice(m,0,I),this.viewItems.length>1){const P={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},B=this.orientation===0?new f.Sash(this.sashContainer,{getHorizontalSashTop:X=>this.getSashPosition(X),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},P),{orientation:1})):new f.Sash(this.sashContainer,{getVerticalSashLeft:X=>this.getSashPosition(X),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},P),{orientation:0})),R=this.orientation===0?X=>({sash:B,start:X.startY,current:X.currentY,alt:X.altKey}):X=>({sash:B,start:X.startX,current:X.currentX,alt:X.altKey}),A=b.Event.map(B.onDidStart,R)(this.onSashStart,this),F=b.Event.map(B.onDidChange,R)(this.onSashChange,this),M=b.Event.map(B.onDidEnd,()=>this.sashItems.findIndex(X=>X.sash===B))(this.onSashEnd,this),z=B.onDidReset(()=>{const X=this.sashItems.findIndex(x=>x.sash===B),J=(0,D.range)(X,-1),ie=(0,D.range)(X+1,this.viewItems.length),re=this.findFirstSnapIndex(J),Z=this.findFirstSnapIndex(ie);typeof re=="number"&&!this.viewItems[re].visible||typeof Z=="number"&&!this.viewItems[Z].visible||this._onDidSashReset.fire(X)}),G=(0,v.combinedDisposable)(A,F,M,z,B),te={sash:B,disposable:G};this.sashItems.splice(m-1,0,te)}p.appendChild(c.element);let T;typeof g!="number"&&g.type==="split"&&(T=[g.index]),S||this.relayout([m],T),this.state=d.Idle,!S&&typeof g!="number"&&g.type==="distribute"&&this.distributeViewSizes()}relayout(c,g){const m=this.viewItems.reduce((S,p)=>S+p.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,c,g),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(c,g,m=this.viewItems.map(I=>I.size),S,p,C=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY,L,E){if(c<0||c>=this.viewItems.length)return 0;const I=(0,D.range)(c,-1),T=(0,D.range)(c+1,this.viewItems.length);if(p)for(const te of p)(0,D.pushToStart)(I,te),(0,D.pushToStart)(T,te);if(S)for(const te of S)(0,D.pushToEnd)(I,te),(0,D.pushToEnd)(T,te);const P=I.map(te=>this.viewItems[te]),B=I.map(te=>m[te]),R=T.map(te=>this.viewItems[te]),k=T.map(te=>m[te]),A=I.reduce((te,X)=>te+(this.viewItems[X].minimumSize-m[X]),0),O=I.reduce((te,X)=>te+(this.viewItems[X].maximumSize-m[X]),0),F=T.length===0?Number.POSITIVE_INFINITY:T.reduce((te,X)=>te+(m[X]-this.viewItems[X].minimumSize),0),W=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((te,X)=>te+(m[X]-this.viewItems[X].maximumSize),0),M=Math.max(A,W,C),z=Math.min(F,O,_);let G=!1;if(L){const te=this.viewItems[L.index],X=g>=L.limitDelta;G=X!==te.visible,te.setVisible(X,L.size)}if(!G&&E){const te=this.viewItems[E.index],X=g<E.limitDelta;G=X!==te.visible,te.setVisible(X,E.size)}if(G)return this.resize(c,g,m,S,p,C,_);g=(0,u.clamp)(g,M,z);for(let te=0,X=g;te<P.length;te++){const J=P[te],ie=(0,u.clamp)(B[te]+X,J.minimumSize,J.maximumSize);X-=ie-B[te],J.size=ie}for(let te=0,X=g;te<R.length;te++){const J=R[te],ie=(0,u.clamp)(k[te]-X,J.minimumSize,J.maximumSize);X+=ie-k[te],J.size=ie}return g}distributeEmptySpace(c){const g=this.viewItems.reduce((_,L)=>_+L.size,0);let m=this.size-g;const S=(0,D.range)(this.viewItems.length-1,-1),p=S.filter(_=>this.viewItems[_].priority===1),C=S.filter(_=>this.viewItems[_].priority===2);for(const _ of C)(0,D.pushToStart)(S,_);for(const _ of p)(0,D.pushToEnd)(S,_);typeof c=="number"&&(0,D.pushToEnd)(S,c);for(let _=0;m!==0&&_<S.length;_++){const L=this.viewItems[S[_]],E=(0,u.clamp)(L.size+m,L.minimumSize,L.maximumSize);m-=E-L.size,L.size=E}}layoutViews(){this.contentSize=this.viewItems.reduce((g,m)=>g+m.size,0);let c=0;for(const g of this.viewItems)g.layout(c,this.layoutContext),c+=g.size;this.sashItems.forEach(g=>g.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let c=!1;const g=this.viewItems.map(L=>c=L.size-L.minimumSize>0||c);c=!1;const m=this.viewItems.map(L=>c=L.maximumSize-L.size>0||c),S=[...this.viewItems].reverse();c=!1;const p=S.map(L=>c=L.size-L.minimumSize>0||c).reverse();c=!1;const C=S.map(L=>c=L.maximumSize-L.size>0||c).reverse();let _=0;for(let L=0;L<this.sashItems.length;L++){const{sash:E}=this.sashItems[L];_+=this.viewItems[L].size;const T=!(g[L]&&C[L+1]),P=!(m[L]&&p[L+1]);if(T&&P){const B=(0,D.range)(L,-1),R=(0,D.range)(L+1,this.viewItems.length),k=this.findFirstSnapIndex(B),A=this.findFirstSnapIndex(R),O=typeof k=="number"&&!this.viewItems[k].visible,F=typeof A=="number"&&!this.viewItems[A].visible;O&&p[L]&&(_>0||this.startSnappingEnabled)?E.state=1:F&&g[L]&&(_<this.contentSize||this.endSnappingEnabled)?E.state=2:E.state=0}else T&&!P?E.state=1:!T&&P?E.state=2:E.state=3}}getSashPosition(c){let g=0;for(let m=0;m<this.sashItems.length;m++)if(g+=this.viewItems[m].size,this.sashItems[m].sash===c)return g;return 0}findFirstSnapIndex(c){for(const g of c){const m=this.viewItems[g];if(!!m.visible&&m.snap)return g}for(const g of c){const m=this.viewItems[g];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return g}}dispose(){super.dispose(),(0,v.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(c=>c.disposable.dispose()),this.sashItems=[]}}e.SplitView=o}),define(ne[363],oe([14]),{}),define(ne[364],oe([1,0,7,127,237,4,2,363]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class b{constructor(n,t,s){this.columns=n,this.getColumnSize=s,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const l=new Map(t.map(d=>[d.templateId,d]));this.renderers=[];for(const d of n){const a=l.get(d.templateId);if(!a)throw new Error(`Table cell renderer for template id ${d.templateId} not found.`);this.renderers.push(a)}}renderTemplate(n){const t=(0,y.append)(n,(0,y.$)(".monaco-table-tr")),s=[],l=[];for(let a=0;a<this.columns.length;a++){const o=this.renderers[a],r=(0,y.append)(t,(0,y.$)(".monaco-table-td",{"data-col-index":a}));r.style.width=`${this.getColumnSize(a)}px`,s.push(r),l.push(o.renderTemplate(r))}const d={container:n,cellContainers:s,cellTemplateData:l};return this.renderedTemplates.add(d),d}renderElement(n,t,s,l){for(let d=0;d<this.columns.length;d++){const o=this.columns[d].project(n);this.renderers[d].renderElement(o,t,s.cellTemplateData[d],l)}}disposeElement(n,t,s,l){for(let d=0;d<this.columns.length;d++){const a=this.renderers[d];if(a.disposeElement){const r=this.columns[d].project(n);a.disposeElement(r,t,s.cellTemplateData[d],l)}}}disposeTemplate(n){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(n.cellTemplateData[t]);(0,y.clearNode)(n.container),this.renderedTemplates.delete(n)}layoutColumn(n,t){for(const{cellContainers:s}of this.renderedTemplates)s[n].style.width=`${t}px`}}b.TemplateId="row";function v(i){return{getHeight(n){return i.getHeight(n)},getTemplateId(){return b.TemplateId}}}class u{constructor(n,t){this.column=n,this.index=t,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,y.$)(".monaco-table-th",{"data-col-index":t,title:n.tooltip},n.label)}get minimumSize(){var n;return(n=this.column.minimumWidth)!==null&&n!==void 0?n:120}get maximumSize(){var n;return(n=this.column.maximumWidth)!==null&&n!==void 0?n:Number.POSITIVE_INFINITY}get onDidChange(){var n;return(n=this.column.onDidChangeWidthConstraints)!==null&&n!==void 0?n:D.Event.None}layout(n){this._onDidLayout.fire([this.index,n])}}class h{constructor(n,t,s,l,d,a){this.virtualDelegate=s,this.domId=`table_id_${++h.InstanceCount}`,this.disposables=new w.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,y.append)(t,(0,y.$)(`.monaco-table.${this.domId}`));const o=l.map((g,m)=>new u(g,m)),r={size:o.reduce((g,m)=>g+m.column.weight,0),views:o.map(g=>({size:g.column.weight,view:g}))};this.splitview=this.disposables.add(new N.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:r})),this.splitview.el.style.height=`${s.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${s.headerRowHeight}px`;const c=new b(l,d,g=>this.splitview.getViewSize(g));this.list=this.disposables.add(new f.List(n,this.domNode,v(s),[c],a)),D.Event.any(...o.map(g=>g.onDidLayout))(([g,m])=>c.layoutColumn(g,m),null,this.disposables),this.splitview.onDidSashReset(g=>{const m=l.reduce((p,C)=>p+C.weight,0),S=l[g].weight/m*this.cachedWidth;this.splitview.resizeView(g,S)},null,this.disposables),this.styleElement=(0,y.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(n){this.list.updateOptions(n)}splice(n,t,s=[]){this.list.splice(n,t,s)}getHTMLElement(){return this.domNode}style(n){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(n)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=h,h.InstanceCount=0}),define(ne[365],oe([14]),{}),define(ne[182],oe([1,0,66,27,31,4,365]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=void 0;const w={inputActiveOptionBorder:N.Color.fromHex("#007ACC00"),inputActiveOptionForeground:N.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:N.Color.fromHex("#0E639C50")};class b extends y.Widget{constructor(u){super();this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new D.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},w),u),this._checked=this._opts.isChecked;const h=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,h.push(...f.CSSIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&h.push(...this._opts.actionClassName.split(" ")),this._checked&&h.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...h),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(u){this._checked=u,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(u){u.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=u.inputActiveOptionBorder),u.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=u.inputActiveOptionForeground),u.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=u.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=b}),define(ne[366],oe([14]),{}),define(ne[149],oe([14]),{}),define(ne[238],oe([1,0,7,141,149]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const N={},D=new f.IdGenerator("quick-input-button-icon-");function w(b){if(!b)return;let v;const u=b.dark.toString();return N[u]?v=N[u]:(v=D.nextId(),y.createCSSRule(`.${v}, .hc-light .${v}`,`background-image: ${y.asCSSUrl(b.light||b.dark)}`),y.createCSSRule(`.vs-dark .${v}, .hc-black .${v}`,`background-image: ${y.asCSSUrl(b.dark)}`),N[u]=v),v}e.getIconClass=w}),define(ne[367],oe([14]),{}),define(ne[368],oe([14]),{}),define(ne[369],oe([14]),{}),define(ne[370],oe([14]),{}),define(ne[371],oe([14]),{}),define(ne[372],oe([14]),{}),define(ne[373],oe([14]),{}),define(ne[374],oe([14]),{}),define(ne[375],oe([14]),{}),define(ne[376],oe([14]),{}),define(ne[377],oe([14]),{}),define(ne[378],oe([14]),{}),define(ne[379],oe([14]),{}),define(ne[380],oe([14]),{}),define(ne[381],oe([14]),{}),define(ne[382],oe([14]),{}),define(ne[383],oe([14]),{}),define(ne[384],oe([14]),{}),define(ne[385],oe([14]),{}),define(ne[386],oe([14]),{}),define(ne[387],oe([14]),{}),define(ne[388],oe([14]),{}),define(ne[389],oe([14]),{}),define(ne[390],oe([14]),{}),define(ne[391],oe([14]),{}),define(ne[392],oe([14]),{}),define(ne[393],oe([14]),{}),define(ne[394],oe([14]),{}),define(ne[395],oe([14]),{}),define(ne[396],oe([14]),{}),define(ne[397],oe([14]),{}),define(ne[398],oe([14]),{}),define(ne[399],oe([14]),{}),define(ne[400],oe([14]),{}),define(ne[401],oe([14]),{}),define(ne[402],oe([14]),{}),define(ne[403],oe([14]),{}),define(ne[404],oe([14]),{}),define(ne[405],oe([14]),{}),define(ne[406],oe([14]),{}),define(ne[407],oe([14]),{}),define(ne[408],oe([14]),{}),define(ne[409],oe([14]),{}),define(ne[410],oe([14]),{}),define(ne[411],oe([14]),{}),define(ne[412],oe([14]),{}),define(ne[239],oe([1,0,2,4]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class N extends y.Disposable{constructor(w,b){super();this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=w,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,b)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(w=>{w&&w[0]&&w[0].contentRect?this.observe({width:w[0].contentRect.width,height:w[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(w){this.measureReferenceDomElement(!0,w)}measureReferenceDomElement(w,b){let v=0,u=0;b?(v=b.width,u=b.height):this._referenceDomElement&&(v=this._referenceDomElement.clientWidth,u=this._referenceDomElement.clientHeight),v=Math.max(5,v),u=Math.max(5,u),(this._width!==v||this._height!==u)&&(this._width=v,this._height=u,w&&this._onDidChange.fire())}}e.ElementSizeObserver=N}),define(ne[413],oe([1,0,223]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class f{constructor(u,h){this.key=u,this.migrate=h}apply(u){const h=f._read(u,this.key),i=t=>f._read(u,t),n=(t,s)=>f._write(u,t,s);this.migrate(h,i,n)}static _read(u,h){if(typeof u=="undefined")return;const i=h.indexOf(".");if(i>=0){const n=h.substring(0,i);return this._read(u[n],h.substring(i+1))}return u[h]}static _write(u,h,i){const n=h.indexOf(".");if(n>=0){const t=h.substring(0,n);u[t]=u[t]||{},this._write(u[t],h.substring(n+1),i);return}u[h]=i}}e.EditorSettingMigration=f,f.items=[];function N(v,u){f.items.push(new f(v,u))}function D(v,u){N(v,(h,i,n)=>{if(typeof h!="undefined"){for(const[t,s]of u)if(h===t){n(v,s);return}}})}function w(v){f.items.forEach(u=>u.apply(v))}e.migrateOptions=w,D("wordWrap",[[!0,"on"],[!1,"off"]]),D("lineNumbers",[[!0,"on"],[!1,"off"]]),D("cursorBlinking",[["visible","solid"]]),D("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),D("renderLineHighlight",[[!0,"line"],[!1,"none"]]),D("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),D("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),D("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),D("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),D("autoIndent",[[!1,"advanced"],[!0,"full"]]),D("matchBrackets",[[!0,"always"],[!1,"never"]]),N("autoClosingBrackets",(v,u,h)=>{v===!1&&(h("autoClosingBrackets","never"),typeof u("autoClosingQuotes")=="undefined"&&h("autoClosingQuotes","never"),typeof u("autoSurround")=="undefined"&&h("autoSurround","never"))}),N("renderIndentGuides",(v,u,h)=>{typeof v!="undefined"&&(h("renderIndentGuides",void 0),typeof u("guides.indentation")=="undefined"&&h("guides.indentation",!!v))}),N("highlightActiveIndentGuide",(v,u,h)=>{typeof v!="undefined"&&(h("highlightActiveIndentGuide",void 0),typeof u("guides.highlightActiveIndentation")=="undefined"&&h("guides.highlightActiveIndentation",!!v))});const b={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};N("suggest.filteredTypes",(v,u,h)=>{v&&typeof v=="object"&&((0,y.forEach)(b,i=>{v[i.key]===!1&&typeof u(`suggest.${i.value}`)=="undefined"&&h(`suggest.${i.value}`,!1)}),h("suggest.filteredTypes",void 0))}),N("quickSuggestions",(v,u,h)=>{if(typeof v=="boolean"){const i=v?"on":"off";h("quickSuggestions",{comments:i,strings:i,other:i})}})}),define(ne[240],oe([1,0,4]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class f{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new y.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus!==D&&(this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus))}}e.TabFocus=new f}),define(ne[241],oe([1,0,173,22]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFileDataTransferItemFromFile=e.toVSDataTransfer=void 0;function N(w){const b=new y.VSDataTransfer;for(const v of w.items){const u=v.type;if(v.kind==="string"){const h=new Promise(i=>v.getAsString(i));b.append(u,(0,y.createStringDataTransferItem)(h))}else if(v.kind==="file"){const h=v.getAsFile();h&&b.append(u,D(h))}}return b}e.toVSDataTransfer=N;function D(w){const b=w.path?f.URI.parse(w.path):void 0;return(0,y.createFileDataTransferItem)(w.name,b,()=>Le(this,void 0,void 0,function*(){return new Uint8Array(yield w.arrayBuffer())}))}e.createFileDataTransferItemFromFile=D}),define(ne[150],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class y{constructor(N,D,w){this._visiblePosition=N,this._visiblePositionScrollDelta=D,this._cursorPosition=w}static capture(N){let D=null,w=0;if(N.getScrollTop()!==0){const b=N.getVisibleRanges();if(b.length>0){D=b[0].getStartPosition();const v=N.getTopForPosition(D.lineNumber,D.column);w=N.getScrollTop()-v}}return new y(D,w,N.getPosition())}restore(N){if(this._visiblePosition){const D=N.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);N.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(N){const D=N.getPosition();if(!this._cursorPosition||!D)return;const w=N.getTopForLineNumber(D.lineNumber)-N.getTopForLineNumber(this._cursorPosition.lineNumber);N.setScrollTop(N.getScrollTop()+w)}}e.StableEditorScrollState=y}),define(ne[128],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class y{constructor(h,i){this._restrictedRenderingContextBrand=void 0,this._viewLayout=h,this.viewportData=i,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(h){return h-this.scrollTop}getVerticalOffsetForLineNumber(h){return this._viewLayout.getVerticalOffsetForLineNumber(h)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=y;class f extends y{constructor(h,i,n){super(h,i);this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(h,i){return this._viewLines.linesVisibleRangesForRange(h,i)}visibleRangeForPosition(h){return this._viewLines.visibleRangeForPosition(h)}}e.RenderingContext=f;class N{constructor(h,i,n){this.outsideRenderedLine=h,this.lineNumber=i,this.ranges=n}}e.LineVisibleRanges=N;class D{constructor(h,i){this._horizontalRangeBrand=void 0,this.left=Math.round(h),this.width=Math.round(i)}static from(h){const i=new Array(h.length);for(let n=0,t=h.length;n<t;n++){const s=h[n];i[n]=new D(s.left,s.width)}return i}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class w{constructor(h,i){this._floatHorizontalRangeBrand=void 0,this.left=h,this.width=i}toString(){return`[${this.left},${this.width}]`}static compare(h,i){return h.left-i.left}}e.FloatHorizontalRange=w;class b{constructor(h,i){this.outsideRenderedLine=h,this.originalLeft=i,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=b;class v{constructor(h,i){this.outsideRenderedLine=h,this.ranges=i}}e.VisibleRanges=v}),define(ne[242],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class y{constructor(N){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=N}emitKeyDown(N){var D;(D=this.onKeyDown)===null||D===void 0||D.call(this,N)}emitKeyUp(N){var D;(D=this.onKeyUp)===null||D===void 0||D.call(this,N)}emitContextMenu(N){var D;(D=this.onContextMenu)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(N))}emitMouseMove(N){var D;(D=this.onMouseMove)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(N))}emitMouseLeave(N){var D;(D=this.onMouseLeave)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(N))}emitMouseDown(N){var D;(D=this.onMouseDown)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(N))}emitMouseUp(N){var D;(D=this.onMouseUp)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(N))}emitMouseDrag(N){var D;(D=this.onMouseDrag)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(N))}emitMouseDrop(N){var D;(D=this.onMouseDrop)===null||D===void 0||D.call(this,this._convertViewToModelMouseEvent(N))}emitMouseDropCanceled(){var N;(N=this.onMouseDropCanceled)===null||N===void 0||N.call(this)}emitMouseWheel(N){var D;(D=this.onMouseWheel)===null||D===void 0||D.call(this,N)}_convertViewToModelMouseEvent(N){return N.target?{event:N.event,target:this._convertViewToModelMouseTarget(N.target)}:N}_convertViewToModelMouseTarget(N){return y.convertViewToModelMouseTarget(N,this._coordinatesConverter)}static convertViewToModelMouseTarget(N,D){const w=Object.assign({},N);return w.position&&(w.position=D.convertViewPositionToModelPosition(w.position)),w.range&&(w.range=D.convertViewRangeToModelRange(w.range)),w}}e.ViewUserInputEvents=y}),define(ne[414],oe([1,0,128]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class f{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,w){D.selectNodeContents(w)}static _readClientRects(D,w,b,v,u){const h=this._createRange();try{return h.setStart(D,w),h.setEnd(b,v),h.getClientRects()}catch{return null}finally{this._detachRange(h,u)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(y.FloatHorizontalRange.compare);const w=[];let b=0,v=D[0];for(let u=1,h=D.length;u<h;u++){const i=D[u];v.left+v.width+.9>=i.left?v.width=Math.max(v.width,i.left+i.width-v.left):(w[b++]=v,v=i)}return w[b++]=v,w}static _createHorizontalRangesFromClientRects(D,w,b){if(!D||D.length===0)return null;const v=[];for(let u=0,h=D.length;u<h;u++){const i=D[u];v[u]=new y.FloatHorizontalRange(Math.max(0,(i.left-w)/b),i.width/b)}return this._mergeAdjacentRanges(v)}static readHorizontalRanges(D,w,b,v,u,h,i,n){const t=0,s=D.children.length-1;if(t>s)return null;if(w=Math.min(s,Math.max(t,w)),v=Math.min(s,Math.max(t,v)),w===v&&b===u&&b===0&&!D.children[w].firstChild){const o=D.children[w].getClientRects();return this._createHorizontalRangesFromClientRects(o,h,i)}w!==v&&v>0&&u===0&&(v--,u=1073741824);let l=D.children[w].firstChild,d=D.children[v].firstChild;if((!l||!d)&&(!l&&b===0&&w>0&&(l=D.children[w-1].firstChild,b=1073741824),!d&&u===0&&v>0&&(d=D.children[v-1].firstChild,u=1073741824)),!l||!d)return null;b=Math.min(l.textContent.length,Math.max(0,b)),u=Math.min(d.textContent.length,Math.max(0,u));const a=this._readClientRects(l,b,d,u,n);return this._createHorizontalRangesFromClientRects(a,h,i)}}e.RangeUtil=f}),define(ne[243],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const f=[];for(let N=32;N<=126;N++)f.push(N);return f.push(65533),f})();const y=(f,N)=>(f-=32,f<0||f>96?N<=2?(f+96)%96:96-1:f);e.getCharIndex=y}),define(ne[415],oe([1,0,243,146]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class N{constructor(w,b){this.scale=b,this._minimapCharRendererBrand=void 0,this.charDataNormal=N.soften(w,12/15),this.charDataLight=N.soften(w,50/60)}static soften(w,b){const v=new Uint8ClampedArray(w.length);for(let u=0,h=w.length;u<h;u++)v[u]=(0,f.toUint8)(w[u]*b);return v}renderChar(w,b,v,u,h,i,n,t,s,l,d){const a=1*this.scale,o=2*this.scale,r=d?1:o;if(b+a>w.width||v+r>w.height){console.warn("bad render request outside image data");return}const c=l?this.charDataLight:this.charDataNormal,g=(0,y.getCharIndex)(u,s),m=w.width*4,S=n.r,p=n.g,C=n.b,_=h.r-S,L=h.g-p,E=h.b-C,I=Math.max(i,t),T=w.data;let P=g*a*o,B=v*m+b*4;for(let R=0;R<r;R++){let k=B;for(let A=0;A<a;A++){const O=c[P++]/255*(i/255);T[k++]=S+_*O,T[k++]=p+L*O,T[k++]=C+E*O,T[k++]=I}B+=m}}blockRenderChar(w,b,v,u,h,i,n,t){const s=1*this.scale,l=2*this.scale,d=t?1:l;if(b+s>w.width||v+d>w.height){console.warn("bad render request outside image data");return}const a=w.width*4,o=.5*(h/255),r=i.r,c=i.g,g=i.b,m=u.r-r,S=u.g-c,p=u.b-g,C=r+m*o,_=c+S*o,L=g+p*o,E=Math.max(h,n),I=w.data;let T=v*a+b*4;for(let P=0;P<d;P++){let B=T;for(let R=0;R<s;R++)I[B++]=C,I[B++]=_,I[B++]=L,I[B++]=E;T+=a}}}e.MinimapCharRenderer=N}),define(ne[416],oe([1,0,94]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const f={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},N=D=>{const w=new Uint8ClampedArray(D.length/2);for(let b=0;b<D.length;b+=2)w[b>>1]=f[D[b]]<<4|f[D[b+1]]&15;return w};e.prebakedMiniMaps={1:(0,y.once)(()=>N("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,y.once)(()=>N("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ne[417],oe([1,0,415,243,416,146]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class w{static create(v,u){if(this.lastCreated&&v===this.lastCreated.scale&&u===this.lastFontFamily)return this.lastCreated;let h;return N.prebakedMiniMaps[v]?h=new y.MinimapCharRenderer(N.prebakedMiniMaps[v](),v):h=w.createFromSampleData(w.createSampleData(u).data,v),this.lastFontFamily=u,this.lastCreated=h,h}static createSampleData(v){const u=document.createElement("canvas"),h=u.getContext("2d");u.style.height=`${16}px`,u.height=16,u.width=96*10,u.style.width=96*10+"px",h.fillStyle="#ffffff",h.font=`bold ${16}px ${v}`,h.textBaseline="middle";let i=0;for(const n of f.allCharCodes)h.fillText(String.fromCharCode(n),i,16/2),i+=10;return h.getImageData(0,0,96*10,16)}static createFromSampleData(v,u){const h=16*10*4*96;if(v.length!==h)throw new Error("Unexpected source in MinimapCharRenderer");const i=w._downsample(v,u);return new y.MinimapCharRenderer(i,u)}static _downsampleChar(v,u,h,i,n){const t=1*n,s=2*n;let l=i,d=0;for(let a=0;a<s;a++){const o=a/s*16,r=(a+1)/s*16;for(let c=0;c<t;c++){const g=c/t*10,m=(c+1)/t*10;let S=0,p=0;for(let _=o;_<r;_++){const L=u+Math.floor(_)*3840,E=1-(_-Math.floor(_));for(let I=g;I<m;I++){const T=1-(I-Math.floor(I)),P=L+Math.floor(I)*4,B=T*E;p+=B,S+=v[P]*v[P+3]/255*B}}const C=S/p;d=Math.max(d,C),h[l++]=(0,D.toUint8)(C)}}return d}static _downsample(v,u){const h=2*u*1*u,i=h*96,n=new Uint8ClampedArray(i);let t=0,s=0,l=0;for(let d=0;d<96;d++)l=Math.max(l,this._downsampleChar(v,s,n,t,u)),t+=h,s+=10*4;if(l>0){const d=255/l;for(let a=0;a<i;a++)n[a]*=d}return n}}e.MinimapCharRendererFactory=w}),define(ne[151],oe([1,0,4]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new y.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(f){f=Math.min(Math.max(-5,f),20),this._zoomLevel!==f&&(this._zoomLevel=f,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ne[183],oe([1,0,17,151]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const N=y.isMacintosh?1.5:1.35,D=8;class w{constructor(u){this._bareFontInfoBrand=void 0,this.pixelRatio=u.pixelRatio,this.fontFamily=String(u.fontFamily),this.fontWeight=String(u.fontWeight),this.fontSize=u.fontSize,this.fontFeatureSettings=u.fontFeatureSettings,this.lineHeight=u.lineHeight|0,this.letterSpacing=u.letterSpacing}static createFromValidatedSettings(u,h,i){const n=u.get(44),t=u.get(48),s=u.get(47),l=u.get(46),d=u.get(60),a=u.get(57);return w._create(n,t,s,l,d,a,h,i)}static _create(u,h,i,n,t,s,l,d){t===0?t=N*i:t<D&&(t=t*i),t=Math.round(t),t<D&&(t=D);const a=1+(d?0:f.EditorZoom.getZoomLevel()*.1);return i*=a,t*=a,new w({pixelRatio:l,fontFamily:u,fontWeight:h,fontSize:i,fontFeatureSettings:n,lineHeight:t,letterSpacing:s})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(u){const h=w._wrapInQuotes(this.fontFamily);return u&&this.fontFamily!==u?`${h}, ${u}`:h}static _wrapInQuotes(u){return/[,"']/.test(u)?u:/[+ ]/.test(u)?`"${u}"`:u}}e.BareFontInfo=w,e.SERIALIZED_FONT_INFO_VERSION=1;class b extends w{constructor(u,h){super(u);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=h,this.isMonospace=u.isMonospace,this.typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=u.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=u.canUseHalfwidthRightwardsArrow,this.spaceWidth=u.spaceWidth,this.middotWidth=u.middotWidth,this.wsmiddotWidth=u.wsmiddotWidth,this.maxDigitWidth=u.maxDigitWidth}equals(u){return this.fontFamily===u.fontFamily&&this.fontWeight===u.fontWeight&&this.fontSize===u.fontSize&&this.fontFeatureSettings===u.fontFeatureSettings&&this.lineHeight===u.lineHeight&&this.letterSpacing===u.letterSpacing&&this.typicalHalfwidthCharacterWidth===u.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===u.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===u.canUseHalfwidthRightwardsArrow&&this.spaceWidth===u.spaceWidth&&this.middotWidth===u.middotWidth&&this.wsmiddotWidth===u.wsmiddotWidth&&this.maxDigitWidth===u.maxDigitWidth}}e.FontInfo=b}),define(ne[107],oe([1,0,146]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class f{constructor(w){const b=(0,y.toUint8)(w);this._defaultValue=b,this._asciiMap=f._createAsciiMap(b),this._map=new Map}static _createAsciiMap(w){const b=new Uint8Array(256);for(let v=0;v<256;v++)b[v]=w;return b}set(w,b){const v=(0,y.toUint8)(b);w>=0&&w<256?this._asciiMap[w]=v:this._map.set(w,v)}get(w){return w>=0&&w<256?this._asciiMap[w]:this._map.get(w)||this._defaultValue}}e.CharacterClassifier=f;class N{constructor(){this._actual=new f(0)}add(w){this._actual.set(w,1)}has(w){return this._actual.get(w)===1}}e.CharacterSet=N}),define(ne[67],oe([1,0,9]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class f{static _nextVisibleColumn(D,w,b){return D===9?f.nextRenderTabStop(w,b):y.isFullWidthCharacter(D)||y.isEmojiImprecise(D)?w+2:w+1}static visibleColumnFromColumn(D,w,b){const v=Math.min(w-1,D.length),u=D.substring(0,v),h=new y.GraphemeIterator(u);let i=0;for(;!h.eol();){const n=y.getNextCodePoint(u,v,h.offset);h.nextGraphemeLength(),i=this._nextVisibleColumn(n,i,b)}return i}static columnFromVisibleColumn(D,w,b){if(w<=0)return 1;const v=D.length,u=new y.GraphemeIterator(D);let h=0,i=1;for(;!u.eol();){const n=y.getNextCodePoint(D,v,u.offset);u.nextGraphemeLength();const t=this._nextVisibleColumn(n,h,b),s=u.offset+1;if(t>=w){const l=w-h;return t-w<l?s:i}h=t,i=s}return v+1}static nextRenderTabStop(D,w){return D+w-D%w}static nextIndentTabStop(D,w){return D+w-D%w}static prevRenderTabStop(D,w){return Math.max(0,D-1-(D-1)%w)}static prevIndentTabStop(D,w){return Math.max(0,D-1-(D-1)%w)}}e.CursorColumns=f}),define(ne[129],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function y(f){let N=0,D=0,w=0,b=0;for(let v=0,u=f.length;v<u;v++){const h=f.charCodeAt(v);h===13?(N===0&&(D=v),N++,v+1<u&&f.charCodeAt(v+1)===10?(b|=2,v++):b|=3,w=v+1):h===10&&(b|=1,N===0&&(D=v),N++,w=v+1)}return N===0&&(D=f.length),[N,D,f.length-w,b]}e.countEOL=y}),define(ne[184],oe([1,0,9,67]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function N(w,b,v){let u=0;for(let i=0;i<w.length;i++)w.charAt(i)==="	"?u=f.CursorColumns.nextIndentTabStop(u,b):u++;let h="";if(!v){const i=Math.floor(u/b);u=u%b;for(let n=0;n<i;n++)h+="	"}for(let i=0;i<u;i++)h+=" ";return h}function D(w,b,v){let u=y.firstNonWhitespaceIndex(w);return u===-1&&(u=w.length),N(w.substring(0,u),b,v)+w.substring(u)}e.normalizeIndentation=D}),define(ne[11],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class y{constructor(N,D){this.lineNumber=N,this.column=D}with(N=this.lineNumber,D=this.column){return N===this.lineNumber&&D===this.column?this:new y(N,D)}delta(N=0,D=0){return this.with(this.lineNumber+N,this.column+D)}equals(N){return y.equals(this,N)}static equals(N,D){return!N&&!D?!0:!!N&&!!D&&N.lineNumber===D.lineNumber&&N.column===D.column}isBefore(N){return y.isBefore(this,N)}static isBefore(N,D){return N.lineNumber<D.lineNumber?!0:D.lineNumber<N.lineNumber?!1:N.column<D.column}isBeforeOrEqual(N){return y.isBeforeOrEqual(this,N)}static isBeforeOrEqual(N,D){return N.lineNumber<D.lineNumber?!0:D.lineNumber<N.lineNumber?!1:N.column<=D.column}static compare(N,D){const w=N.lineNumber|0,b=D.lineNumber|0;if(w===b){const v=N.column|0,u=D.column|0;return v-u}return w-b}clone(){return new y(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(N){return new y(N.lineNumber,N.column)}static isIPosition(N){return N&&typeof N.lineNumber=="number"&&typeof N.column=="number"}}e.Position=y}),define(ne[3],oe([1,0,11]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class f{constructor(D,w,b,v){D>b||D===b&&w>v?(this.startLineNumber=b,this.startColumn=v,this.endLineNumber=D,this.endColumn=w):(this.startLineNumber=D,this.startColumn=w,this.endLineNumber=b,this.endColumn=v)}isEmpty(){return f.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return f.containsPosition(this,D)}static containsPosition(D,w){return!(w.lineNumber<D.startLineNumber||w.lineNumber>D.endLineNumber||w.lineNumber===D.startLineNumber&&w.column<D.startColumn||w.lineNumber===D.endLineNumber&&w.column>D.endColumn)}static strictContainsPosition(D,w){return!(w.lineNumber<D.startLineNumber||w.lineNumber>D.endLineNumber||w.lineNumber===D.startLineNumber&&w.column<=D.startColumn||w.lineNumber===D.endLineNumber&&w.column>=D.endColumn)}containsRange(D){return f.containsRange(this,D)}static containsRange(D,w){return!(w.startLineNumber<D.startLineNumber||w.endLineNumber<D.startLineNumber||w.startLineNumber>D.endLineNumber||w.endLineNumber>D.endLineNumber||w.startLineNumber===D.startLineNumber&&w.startColumn<D.startColumn||w.endLineNumber===D.endLineNumber&&w.endColumn>D.endColumn)}strictContainsRange(D){return f.strictContainsRange(this,D)}static strictContainsRange(D,w){return!(w.startLineNumber<D.startLineNumber||w.endLineNumber<D.startLineNumber||w.startLineNumber>D.endLineNumber||w.endLineNumber>D.endLineNumber||w.startLineNumber===D.startLineNumber&&w.startColumn<=D.startColumn||w.endLineNumber===D.endLineNumber&&w.endColumn>=D.endColumn)}plusRange(D){return f.plusRange(this,D)}static plusRange(D,w){let b,v,u,h;return w.startLineNumber<D.startLineNumber?(b=w.startLineNumber,v=w.startColumn):w.startLineNumber===D.startLineNumber?(b=w.startLineNumber,v=Math.min(w.startColumn,D.startColumn)):(b=D.startLineNumber,v=D.startColumn),w.endLineNumber>D.endLineNumber?(u=w.endLineNumber,h=w.endColumn):w.endLineNumber===D.endLineNumber?(u=w.endLineNumber,h=Math.max(w.endColumn,D.endColumn)):(u=D.endLineNumber,h=D.endColumn),new f(b,v,u,h)}intersectRanges(D){return f.intersectRanges(this,D)}static intersectRanges(D,w){let b=D.startLineNumber,v=D.startColumn,u=D.endLineNumber,h=D.endColumn;const i=w.startLineNumber,n=w.startColumn,t=w.endLineNumber,s=w.endColumn;return b<i?(b=i,v=n):b===i&&(v=Math.max(v,n)),u>t?(u=t,h=s):u===t&&(h=Math.min(h,s)),b>u||b===u&&v>h?null:new f(b,v,u,h)}equalsRange(D){return f.equalsRange(this,D)}static equalsRange(D,w){return!!D&&!!w&&D.startLineNumber===w.startLineNumber&&D.startColumn===w.startColumn&&D.endLineNumber===w.endLineNumber&&D.endColumn===w.endColumn}getEndPosition(){return f.getEndPosition(this)}static getEndPosition(D){return new y.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return f.getStartPosition(this)}static getStartPosition(D){return new y.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,w){return new f(this.startLineNumber,this.startColumn,D,w)}setStartPosition(D,w){return new f(D,w,this.endLineNumber,this.endColumn)}collapseToStart(){return f.collapseToStart(this)}static collapseToStart(D){return new f(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}static fromPositions(D,w=D){return new f(D.lineNumber,D.column,w.lineNumber,w.column)}static lift(D){return D?new f(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,w){return!(D.endLineNumber<w.startLineNumber||D.endLineNumber===w.startLineNumber&&D.endColumn<w.startColumn||w.endLineNumber<D.startLineNumber||w.endLineNumber===D.startLineNumber&&w.endColumn<D.startColumn)}static areIntersecting(D,w){return!(D.endLineNumber<w.startLineNumber||D.endLineNumber===w.startLineNumber&&D.endColumn<=w.startColumn||w.endLineNumber<D.startLineNumber||w.endLineNumber===D.startLineNumber&&w.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,w){if(D&&w){const u=D.startLineNumber|0,h=w.startLineNumber|0;if(u===h){const i=D.startColumn|0,n=w.startColumn|0;if(i===n){const t=D.endLineNumber|0,s=w.endLineNumber|0;if(t===s){const l=D.endColumn|0,d=w.endColumn|0;return l-d}return t-s}return i-n}return u-h}return(D?1:0)-(w?1:0)}static compareRangesUsingEnds(D,w){return D.endLineNumber===w.endLineNumber?D.endColumn===w.endColumn?D.startLineNumber===w.startLineNumber?D.startColumn-w.startColumn:D.startLineNumber-w.startLineNumber:D.endColumn-w.endColumn:D.endLineNumber-w.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=f}),define(ne[244],oe([1,0,9,11,3]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class D{constructor(v,u,h,i,n){this.value=v,this.selectionStart=u,this.selectionEnd=h,this.selectionStartPosition=i,this.selectionEndPosition=n}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(v){return new D(v.getValue(),v.getSelectionStart(),v.getSelectionEnd(),null,null)}collapseSelection(){return new D(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(v,u,h){e._debugComposition&&console.log(`writeToTextArea ${v}: ${this.toString()}`),u.setValue(v,this.value),h&&u.setSelectionRange(v,this.selectionStart,this.selectionEnd)}deduceEditorPosition(v){if(v<=this.selectionStart){const i=this.value.substring(v,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,i,-1)}if(v>=this.selectionEnd){const i=this.value.substring(this.selectionEnd,v);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,1)}const u=this.value.substring(this.selectionStart,v);if(u.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,u,1);const h=this.value.substring(v,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,h,-1)}_finishDeduceEditorPosition(v,u,h){let i=0,n=-1;for(;(n=u.indexOf(`
`,n+1))!==-1;)i++;return[v,h*u.length,i]}static deduceInput(v,u,h){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`));const i=Math.min(y.commonPrefixLength(v.value,u.value),v.selectionStart,u.selectionStart),n=Math.min(y.commonSuffixLength(v.value,u.value),v.value.length-v.selectionEnd,u.value.length-u.selectionEnd),t=v.value.substring(i,v.value.length-n),s=u.value.substring(i,u.value.length-n),l=v.selectionStart-i,d=v.selectionEnd-i,a=u.selectionStart-i,o=u.selectionEnd-i;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${t}>, selectionStart: ${l}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${s}>, selectionStart: ${a}, selectionEnd: ${o}`)),a===o){const c=v.selectionStart-i;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${c} chars`),{text:s,replacePrevCharCnt:c,replaceNextCharCnt:0,positionDelta:0}}const r=d-l;return{text:s,replacePrevCharCnt:r,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(v,u){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`)),v.value===u.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:u.selectionEnd-v.selectionEnd};const h=Math.min(y.commonPrefixLength(v.value,u.value),v.selectionEnd),i=Math.min(y.commonSuffixLength(v.value,u.value),v.value.length-v.selectionEnd),n=v.value.substring(h,v.value.length-i),t=u.value.substring(h,u.value.length-i),s=v.selectionStart-h,l=v.selectionEnd-h,d=u.selectionStart-h,a=u.selectionEnd-h;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${n}>, selectionStart: ${s}, selectionEnd: ${l}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${d}, selectionEnd: ${a}`)),{text:t,replacePrevCharCnt:l,replaceNextCharCnt:n.length-l,positionDelta:a-t.length}}}e.TextAreaState=D,D.EMPTY=new D("",0,0,null,null);class w{static _getPageOfLine(v,u){return Math.floor((v-1)/u)}static _getRangeForPage(v,u){const h=v*u,i=h+1,n=h+u;return new N.Range(i,1,n+1,1)}static fromEditorSelection(v,u,h,i,n){const t=w._getPageOfLine(h.startLineNumber,i),s=w._getRangeForPage(t,i),l=w._getPageOfLine(h.endLineNumber,i),d=w._getRangeForPage(l,i),a=s.intersectRanges(new N.Range(1,1,h.startLineNumber,h.startColumn));let o=u.getValueInRange(a,1);const r=u.getLineCount(),c=u.getLineMaxColumn(r),g=d.intersectRanges(new N.Range(h.endLineNumber,h.endColumn,r,c));let m=u.getValueInRange(g,1),S;if(t===l||t+1===l)S=u.getValueInRange(h,1);else{const p=s.intersectRanges(h),C=d.intersectRanges(h);S=u.getValueInRange(p,1)+String.fromCharCode(8230)+u.getValueInRange(C,1)}if(n){const p=500;o.length>p&&(o=o.substring(o.length-p,o.length)),m.length>p&&(m=m.substring(0,p)),S.length>2*p&&(S=S.substring(0,p)+String.fromCharCode(8230)+S.substring(S.length-p,S.length))}return new D(o+S+m,o.length,o.length+S.length,new f.Position(h.startLineNumber,h.startColumn),new f.Position(h.endLineNumber,h.endColumn))}}e.PagedScreenReaderStrategy=w}),define(ne[245],oe([1,0,221,4,2,39,3]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const b={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class v extends N.Disposable{constructor(h,i={}){super();this._onDidUpdate=this._register(new f.Emitter),this._editor=h,this._options=D.mixin(i,b,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(n=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(n=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(h){this.ranges=[],h&&h.forEach(i=>{!this._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(n=>{this.ranges.push({rhs:!0,range:new w.Range(n.modifiedStartLineNumber,n.modifiedStartColumn,n.modifiedEndLineNumber,n.modifiedEndColumn)})}):i.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new w.Range(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new w.Range(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber+1,1)})}),this.ranges.sort((i,n)=>w.Range.compareRangesUsingStarts(i.range,n.range)),this._onDidUpdate.fire(this)}_initIdx(h){let i=!1;const n=this._editor.getPosition();if(!n){this.nextIdx=0;return}for(let t=0,s=this.ranges.length;t<s&&!i;t++){const l=this.ranges[t].range;n.isBeforeOrEqual(l.getStartPosition())&&(this.nextIdx=t+(h?0:-1),i=!0)}i||(this.nextIdx=h?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(h,i){if(y.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(h):h?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const n=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const t=n.range.getStartPosition();this._editor.setPosition(t),this._editor.revealRangeInCenter(n.range,i)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(h=0){this._move(!0,h)}previous(h=0){this._move(!1,h)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=v}),define(ne[61],oe([1,0,3]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class f{static insert(D,w){return{range:new y.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:w,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,w){return{range:D,text:w}}static replaceMove(D,w){return{range:D,text:w,forceMoveMarkers:!0}}}e.EditOperation=f}),define(ne[418],oe([1,0,9,61,3]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(v,u){this._selection=v,this._cursors=u,this._selectionId=null}getEditOperations(v,u){const h=w(v,this._cursors);for(let i=0,n=h.length;i<n;i++){const t=h[i];u.addEditOperation(t.range,t.text)}this._selectionId=u.trackSelection(this._selection)}computeCursorState(v,u){return u.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function w(b,v){v.sort((t,s)=>t.lineNumber===s.lineNumber?t.column-s.column:t.lineNumber-s.lineNumber);for(let t=v.length-2;t>=0;t--)v[t].lineNumber===v[t+1].lineNumber&&v.splice(t,1);const u=[];let h=0,i=0;const n=v.length;for(let t=1,s=b.getLineCount();t<=s;t++){const l=b.getLineContent(t),d=l.length+1;let a=0;if(i<n&&v[i].lineNumber===t&&(a=v[i].column,i++,a===d)||l.length===0)continue;const o=y.lastNonWhitespaceIndex(l);let r=0;if(o===-1)r=1;else if(o!==l.length-1)r=o+2;else continue;r=Math.max(a,r),u[h++]=f.EditOperation.delete(new N.Range(t,r,t,d))}return u}e.trimTrailingWhitespace=w}),define(ne[246],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class y{constructor(N,D,w,b){this._rgba8Brand=void 0,this.r=y._clamp(N),this.g=y._clamp(D),this.b=y._clamp(w),this.a=y._clamp(b)}equals(N){return this.r===N.r&&this.g===N.g&&this.b===N.b&&this.a===N.a}static _clamp(N){return N<0?0:N>255?255:N|0}}e.RGBA8=y,y.Empty=new y(0,0,0,0)}),define(ne[23],oe([1,0,11,3]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class N extends f.Range{constructor(w,b,v,u){super(w,b,v,u);this.selectionStartLineNumber=w,this.selectionStartColumn=b,this.positionLineNumber=v,this.positionColumn=u}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(w){return N.selectionsEqual(this,w)}static selectionsEqual(w,b){return w.selectionStartLineNumber===b.selectionStartLineNumber&&w.selectionStartColumn===b.selectionStartColumn&&w.positionLineNumber===b.positionLineNumber&&w.positionColumn===b.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(w,b){return this.getDirection()===0?new N(this.startLineNumber,this.startColumn,w,b):new N(w,b,this.startLineNumber,this.startColumn)}getPosition(){return new y.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new y.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(w,b){return this.getDirection()===0?new N(w,b,this.endLineNumber,this.endColumn):new N(this.endLineNumber,this.endColumn,w,b)}static fromPositions(w,b=w){return new N(w.lineNumber,w.column,b.lineNumber,b.column)}static fromRange(w,b){return b===0?new N(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn):new N(w.endLineNumber,w.endColumn,w.startLineNumber,w.startColumn)}static liftSelection(w){return new N(w.selectionStartLineNumber,w.selectionStartColumn,w.positionLineNumber,w.positionColumn)}static selectionsArrEqual(w,b){if(w&&!b||!w&&b)return!1;if(!w&&!b)return!0;if(w.length!==b.length)return!1;for(let v=0,u=w.length;v<u;v++)if(!this.selectionsEqual(w[v],b[v]))return!1;return!0}static isISelection(w){return w&&typeof w.selectionStartLineNumber=="number"&&typeof w.selectionStartColumn=="number"&&typeof w.positionLineNumber=="number"&&typeof w.positionColumn=="number"}static createWithDirection(w,b,v,u,h){return h===0?new N(w,b,v,u):new N(v,u,w,b)}}e.Selection=N}),define(ne[185],oe([1,0,36,7,46,10,4,2,105,9,244,23]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var n;(function(o){o.Tap="-monaco-textarea-synthetic-tap"})(n=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class t{constructor(){this._lastState=null}set(r,c){this._lastState={lastCopiedValue:r,data:c}}get(r){return this._lastState&&this._lastState.lastCopiedValue===r?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=t,t.INSTANCE=new t;class s{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(r){r=r||"";const c={text:r,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=r.length,c}}class l extends b.Disposable{constructor(r,c,g,m){super();this._host=r,this._textArea=c,this._OS=g,this._browser=m,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new D.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new D.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=h.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let S=null;this._register(this._textArea.onKeyDown(p=>{const C=new N.StandardKeyboardEvent(p);(C.keyCode===109||this._currentComposition&&C.keyCode===1)&&C.stopPropagation(),C.equals(9)&&C.preventDefault(),S=C,this._onKeyDown.fire(C)})),this._register(this._textArea.onKeyUp(p=>{const C=new N.StandardKeyboardEvent(p);this._onKeyUp.fire(C)})),this._register(this._textArea.onCompositionStart(p=>{h._debugComposition&&console.log("[compositionstart]",p);const C=new s;if(this._currentComposition){this._currentComposition=C;return}if(this._currentComposition=C,this._OS===2&&S&&S.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===p.data&&(S.code==="ArrowRight"||S.code==="ArrowLeft")){h._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",p),C.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:p.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:p.data});return}this._onCompositionStart.fire({data:p.data})})),this._register(this._textArea.onCompositionUpdate(p=>{h._debugComposition&&console.log("[compositionupdate]",p);const C=this._currentComposition;if(!C)return;if(this._browser.isAndroid){const L=h.TextAreaState.readFromTextArea(this._textArea),E=h.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,L);this._textAreaState=L,this._onType.fire(E),this._onCompositionUpdate.fire(p);return}const _=C.handleCompositionUpdate(p.data);this._textAreaState=h.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionUpdate.fire(p)})),this._register(this._textArea.onCompositionEnd(p=>{h._debugComposition&&console.log("[compositionend]",p);const C=this._currentComposition;if(!C)return;if(this._currentComposition=null,this._browser.isAndroid){const L=h.TextAreaState.readFromTextArea(this._textArea),E=h.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,L);this._textAreaState=L,this._onType.fire(E),this._onCompositionEnd.fire();return}const _=C.handleCompositionUpdate(p.data);this._textAreaState=h.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(p=>{if(h._debugComposition&&console.log("[input]",p),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const C=h.TextAreaState.readFromTextArea(this._textArea),_=h.TextAreaState.deduceInput(this._textAreaState,C,this._OS===2);_.replacePrevCharCnt===0&&_.text.length===1&&u.isHighSurrogate(_.text.charCodeAt(0))||(this._textAreaState=C,(_.text!==""||_.replacePrevCharCnt!==0||_.replaceNextCharCnt!==0||_.positionDelta!==0)&&this._onType.fire(_))})),this._register(this._textArea.onCut(p=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(p),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(p=>{this._ensureClipboardGetsEditorSelection(p)})),this._register(this._textArea.onPaste(p=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),p.preventDefault(),!p.clipboardData)return;let[C,_]=d.getTextData(p.clipboardData);!C||(_=_||t.INSTANCE.get(C),this._onPaste.fire({text:C,metadata:_}))})),this._register(this._textArea.onFocus(()=>{const p=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!p&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let r=0;return f.addDisposableListener(document,"selectionchange",c=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const g=Date.now(),m=g-r;if(r=g,m<5)return;const S=g-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),S<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const p=this._textArea.getValue();if(this._textAreaState.value!==p)return;const C=this._textArea.getSelectionStart(),_=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===C&&this._textAreaState.selectionEnd===_)return;const L=this._textAreaState.deduceEditorPosition(C),E=this._host.deduceModelPosition(L[0],L[1],L[2]),I=this._textAreaState.deduceEditorPosition(_),T=this._host.deduceModelPosition(I[0],I[1],I[2]),P=new i.Selection(E.lineNumber,E.column,T.lineNumber,T.column);this._onSelectionChangeRequest.fire(P)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(r){this._hasFocus!==r&&(this._hasFocus=r,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(r,c){this._hasFocus||(c=c.collapseSelection()),c.writeToTextArea(r,this._textArea,this._hasFocus),this._textAreaState=c}writeScreenReaderContent(r){this._currentComposition||this._setAndWriteTextAreaState(r,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(r){const c=this._host.getDataToCopy(),g={version:1,isFromEmptySelection:c.isFromEmptySelection,multicursorText:c.multicursorText,mode:c.mode};t.INSTANCE.set(this._browser.isFirefox?c.text.replace(/\r\n/g,`
`):c.text,g),r.preventDefault(),r.clipboardData&&d.setTextData(r.clipboardData,c.text,c.html,g)}}e.TextAreaInput=l;class d{static getTextData(r){const c=r.getData(v.Mimes.text);let g=null;const m=r.getData("vscode-editor-data");if(typeof m=="string")try{g=JSON.parse(m),g.version!==1&&(g=null)}catch{}return c.length===0&&g===null&&r.files.length>0?[Array.prototype.slice.call(r.files,0).map(p=>p.name).join(`
`),null]:[c,g]}static setTextData(r,c,g,m){r.setData(v.Mimes.text,c),typeof g=="string"&&r.setData("text/html",g),r.setData("vscode-editor-data",JSON.stringify(m))}}class a extends b.Disposable{constructor(r){super();this._actual=r,this.onKeyDown=this._register(f.createEventEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(f.createEventEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(f.createEventEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(f.createEventEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(f.createEventEmitter(this._actual,"compositionend")).event,this.onInput=this._register(f.createEventEmitter(this._actual,"input")).event,this.onCut=this._register(f.createEventEmitter(this._actual,"cut")).event,this.onCopy=this._register(f.createEventEmitter(this._actual,"copy")).event,this.onPaste=this._register(f.createEventEmitter(this._actual,"paste")).event,this.onFocus=this._register(f.createEventEmitter(this._actual,"focus")).event,this.onBlur=this._register(f.createEventEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new w.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(f.addDisposableListener(this._actual,n.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const r=f.getShadowRoot(this._actual);return r?r.activeElement===this._actual:f.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(r){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(r,c){const g=this._actual;g.value!==c&&(this.setIgnoreSelectionChangeTime("setValue"),g.value=c)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(r,c,g){const m=this._actual;let S=null;const p=f.getShadowRoot(m);p?S=p.activeElement:S=document.activeElement;const C=S===m,_=m.selectionStart,L=m.selectionEnd;if(C&&_===c&&L===g){y.isFirefox&&window.parent!==window&&m.focus();return}if(C){this.setIgnoreSelectionChangeTime("setSelectionRange"),m.setSelectionRange(c,g),y.isFirefox&&window.parent!==window&&m.focus();return}try{const E=f.saveParentsScrollTop(m);this.setIgnoreSelectionChangeTime("setSelectionRange"),m.focus(),m.setSelectionRange(c,g),f.restoreParentsScrollTop(m,E)}catch{}}}e.TextAreaWrapper=a}),define(ne[108],oe([1,0,23]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class f{constructor(u,h,i=!1){this._range=u,this._text=h,this.insertsAutoWhitespace=i}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return y.Selection.fromPositions(n.getEndPosition())}}e.ReplaceCommand=f;class N{constructor(u,h){this._range=u,this._text=h}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return y.Selection.fromRange(n,0)}}e.ReplaceCommandThatSelectsText=N;class D{constructor(u,h,i=!1){this._range=u,this._text=h,this.insertsAutoWhitespace=i}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return y.Selection.fromPositions(n.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class w{constructor(u,h,i,n,t=!1){this._range=u,this._text=h,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=t}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return y.Selection.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=w;class b{constructor(u,h,i,n=!1){this._range=u,this._text=h,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=h.trackSelection(this._initialSelection)}computeCursorState(u,h){return h.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=b}),define(ne[419],oe([1,0,3,23]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class N{constructor(b,v,u){this._range=b,this._charBeforeSelection=v,this._charAfterSelection=u}getEditOperations(b,v){v.addTrackedEditOperation(new y.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),v.addTrackedEditOperation(new y.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(b,v){const u=v.getInverseEditOperations(),h=u[0].range,i=u[1].range;return new f.Selection(h.endLineNumber,h.endColumn,i.endLineNumber,i.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=N;class D{constructor(b,v,u){this._position=b,this._text=v,this._charAfter=u}getEditOperations(b,v){v.addTrackedEditOperation(new y.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(b,v){const h=v.getInverseEditOperations()[0].range;return new f.Selection(h.endLineNumber,h.startColumn,h.endLineNumber,h.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(ne[96],oe([1,0,9,17,102]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let D;function w(){return D||(D=new TextDecoder("UTF-16LE")),D}let b;function v(){return b||(b=new TextDecoder("UTF-16BE")),b}let u;function h(){return u||(u=f.isLittleEndian()?w():v()),u}e.getPlatformTextDecoder=h,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=l=>new t(l),e.decodeUTF16LE=i):(e.createStringBuilder=l=>new s,e.decodeUTF16LE=n);function i(l,d,a){const o=new Uint16Array(l.buffer,d,a);return a>0&&(o[0]===65279||o[0]===65534)?n(l,d,a):w().decode(o)}function n(l,d,a){const o=[];let r=0;for(let c=0;c<a;c++){const g=N.readUInt16LE(l,d);d+=2,o[r++]=String.fromCharCode(g)}return o.join("")}class t{constructor(d){this._capacity=d|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const d=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return h().decode(d)}_flushBuffer(){const d=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[d]:this._completedStrings[this._completedStrings.length]=d}write1(d){const a=this._capacity-this._bufferLength;a<=1&&(a===0||y.isHighSurrogate(d))&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCII(d){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCIIString(d){const a=d.length;if(this._bufferLength+a>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=d;return}for(let o=0;o<a;o++)this._buffer[this._bufferLength++]=d.charCodeAt(o)}}class s{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCII(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCIIString(d){this._pieces[this._piecesLen++]=d}}}),define(ne[186],oe([1,0,33,96]),function(j,e,y,f){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class D{constructor(u){this._createLine=u,this._set(1,[])}flush(){this._set(1,[])}_set(u,h){this._lines=h,this._rendLineNumberStart=u}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(u){const h=u-this._rendLineNumberStart;if(h<0||h>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[h]}onLinesDeleted(u,h){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(h<i){const d=h-u+1;return this._rendLineNumberStart-=d,null}if(u>n)return null;let t=0,s=0;for(let d=i;d<=n;d++){const a=d-this._rendLineNumberStart;u<=d&&d<=h&&(s===0?(t=a,s=1):s++)}if(u<i){let d=0;h<i?d=h-u+1:d=i-u,this._rendLineNumberStart-=d}return this._lines.splice(t,s)}onLinesChanged(u,h){const i=u+h-1;if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),t=this.getEndLineNumber();let s=!1;for(let l=u;l<=i;l++)l>=n&&l<=t&&(this._lines[l-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(u,h){if(this.getCount()===0)return null;const i=h-u+1,n=this.getStartLineNumber(),t=this.getEndLineNumber();if(u<=n)return this._rendLineNumberStart+=i,null;if(u>t)return null;if(i+u>t)return this._lines.splice(u-this._rendLineNumberStart,t-u+1);const s=[];for(let r=0;r<i;r++)s[r]=this._createLine();const l=u-this._rendLineNumberStart,d=this._lines.slice(0,l),a=this._lines.slice(l,this._lines.length-i),o=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=d.concat(s).concat(a),o}onTokensChanged(u){if(this.getCount()===0)return!1;const h=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let t=0,s=u.length;t<s;t++){const l=u[t];if(l.toLineNumber<h||l.fromLineNumber>i)continue;const d=Math.max(h,l.fromLineNumber),a=Math.min(i,l.toLineNumber);for(let o=d;o<=a;o++){const r=o-this._rendLineNumberStart;this._lines[r].onTokensChanged(),n=!0}}return n}}e.RenderedLinesCollection=D;class w{constructor(u){this._host=u,this.domNode=this._createDomNode(),this._linesCollection=new D(()=>this._host.createVisibleLine())}_createDomNode(){const u=(0,y.createFastDomNode)(document.createElement("div"));return u.setClassName("view-layer"),u.setPosition("absolute"),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u}onConfigurationChanged(u){return!!u.hasChanged(132)}onFlushed(u){return this._linesCollection.flush(),!0}onLinesChanged(u){return this._linesCollection.onLinesChanged(u.fromLineNumber,u.count)}onLinesDeleted(u){const h=this._linesCollection.onLinesDeleted(u.fromLineNumber,u.toLineNumber);if(h)for(let i=0,n=h.length;i<n;i++){const t=h[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(u){const h=this._linesCollection.onLinesInserted(u.fromLineNumber,u.toLineNumber);if(h)for(let i=0,n=h.length;i<n;i++){const t=h[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(u){return u.scrollTopChanged}onTokensChanged(u){return this._linesCollection.onTokensChanged(u.ranges)}onZonesChanged(u){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(u){return this._linesCollection.getLine(u)}renderLines(u){const h=this._linesCollection._get(),i=new b(this.domNode.domNode,this._host,u),n={rendLineNumberStart:h.rendLineNumberStart,lines:h.lines,linesLength:h.lines.length},t=i.render(n,u.startLineNumber,u.endLineNumber,u.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=w;class b{constructor(u,h,i){this.domNode=u,this.host=h,this.viewportData=i}render(u,h,i,n){const t={rendLineNumberStart:u.rendLineNumberStart,lines:u.lines.slice(0),linesLength:u.linesLength};if(t.rendLineNumberStart+t.linesLength-1<h||i<t.rendLineNumberStart){t.rendLineNumberStart=h,t.linesLength=i-h+1,t.lines=[];for(let s=h;s<=i;s++)t.lines[s-h]=this.host.createVisibleLine();return this._finishRendering(t,!0,n),t}if(this._renderUntouchedLines(t,Math.max(h-t.rendLineNumberStart,0),Math.min(i-t.rendLineNumberStart,t.linesLength-1),n,h),t.rendLineNumberStart>h){const s=h,l=Math.min(i,t.rendLineNumberStart-1);s<=l&&(this._insertLinesBefore(t,s,l,n,h),t.linesLength+=l-s+1)}else if(t.rendLineNumberStart<h){const s=Math.min(t.linesLength,h-t.rendLineNumberStart);s>0&&(this._removeLinesBefore(t,s),t.linesLength-=s)}if(t.rendLineNumberStart=h,t.rendLineNumberStart+t.linesLength-1<i){const s=t.rendLineNumberStart+t.linesLength,l=i;s<=l&&(this._insertLinesAfter(t,s,l,n,h),t.linesLength+=l-s+1)}else if(t.rendLineNumberStart+t.linesLength-1>i){const s=Math.max(0,i-t.rendLineNumberStart+1),d=t.linesLength-1-s+1;d>0&&(this._removeLinesAfter(t,d),t.linesLength-=d)}return this._finishRendering(t,!1,n),t}_renderUntouchedLines(u,h,i,n,t){const s=u.rendLineNumberStart,l=u.lines;for(let d=h;d<=i;d++){const a=s+d;l[d].layoutLine(a,n[a-t])}}_insertLinesBefore(u,h,i,n,t){const s=[];let l=0;for(let d=h;d<=i;d++)s[l++]=this.host.createVisibleLine();u.lines=s.concat(u.lines)}_removeLinesBefore(u,h){for(let i=0;i<h;i++){const n=u.lines[i].getDomNode();n&&this.domNode.removeChild(n)}u.lines.splice(0,h)}_insertLinesAfter(u,h,i,n,t){const s=[];let l=0;for(let d=h;d<=i;d++)s[l++]=this.host.createVisibleLine();u.lines=u.lines.concat(s)}_removeLinesAfter(u,h){const i=u.linesLength-h;for(let n=0;n<h;n++){const t=u.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}u.lines.splice(i,h)}_finishRenderingNewLines(u,h,i,n){b._ttPolicy&&(i=b._ttPolicy.createHTML(i));const t=this.domNode.lastChild;h||!t?this.domNode.innerHTML=i:t.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let l=u.linesLength-1;l>=0;l--){const d=u.lines[l];n[l]&&(d.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(u,h,i){const n=document.createElement("div");b._ttPolicy&&(h=b._ttPolicy.createHTML(h)),n.innerHTML=h;for(let t=0;t<u.linesLength;t++){const s=u.lines[t];if(i[t]){const l=n.firstChild,d=s.getDomNode();d.parentNode.replaceChild(l,d),s.setDomNode(l)}}}_finishRendering(u,h,i){const n=b._sb,t=u.linesLength,s=u.lines,l=u.rendLineNumberStart,d=[];{n.reset();let a=!1;for(let o=0;o<t;o++){const r=s[o];d[o]=!1,!(r.getDomNode()||!r.renderLine(o+l,i[o],this.viewportData,n))&&(d[o]=!0,a=!0)}a&&this._finishRenderingNewLines(u,h,n.build(),d)}{n.reset();let a=!1;const o=[];for(let r=0;r<t;r++){const c=s[r];o[r]=!1,!(d[r]||!c.renderLine(r+l,i[r],this.viewportData,n))&&(o[r]=!0,a=!0)}a&&this._finishRenderingInvalidLines(u,n.build(),o)}}}b._ttPolicy=(N=window.trustedTypes)===null||N===void 0?void 0:N.createPolicy("editorViewLayer",{createHTML:v=>v}),b._sb=(0,f.createStringBuilder)(1e5)}),define(ne[247],oe([1,0,102,96]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function N(v){return v.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{constructor(u,h,i,n){this.oldPosition=u,this.oldText=h,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${N(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${N(this.oldText)}")`:`(replace@${this.oldPosition} "${N(this.oldText)}" with "${N(this.newText)}")`}static _writeStringSize(u){return 4+2*u.length}static _writeString(u,h,i){const n=h.length;y.writeUInt32BE(u,n,i),i+=4;for(let t=0;t<n;t++)y.writeUInt16LE(u,h.charCodeAt(t),i),i+=2;return i}static _readString(u,h){const i=y.readUInt32BE(u,h);return h+=4,(0,f.decodeUTF16LE)(u,h,i)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(u,h){return y.writeUInt32BE(u,this.oldPosition,h),h+=4,y.writeUInt32BE(u,this.newPosition,h),h+=4,h=D._writeString(u,this.oldText,h),h=D._writeString(u,this.newText,h),h}static read(u,h,i){const n=y.readUInt32BE(u,h);h+=4;const t=y.readUInt32BE(u,h);h+=4;const s=D._readString(u,h);h+=D._writeStringSize(s);const l=D._readString(u,h);return h+=D._writeStringSize(l),i.push(new D(n,s,t,l)),h}}e.TextChange=D;function w(v,u){return v===null||v.length===0?u:new b(v,u).compress()}e.compressConsecutiveTextChanges=w;class b{constructor(u,h){this._prevEdits=u,this._currEdits=h,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let u=0,h=0,i=this._getPrev(u),n=this._getCurr(h);for(;u<this._prevLen||h<this._currLen;){if(i===null){this._acceptCurr(n),n=this._getCurr(++h);continue}if(n===null){this._acceptPrev(i),i=this._getPrev(++u);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++h);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++u);continue}if(n.oldPosition<i.newPosition){const[a,o]=b._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(a),n=o;continue}if(i.newPosition<n.oldPosition){const[a,o]=b._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(a),i=o;continue}let l,d;if(n.oldEnd===i.newEnd)l=i,d=n,i=this._getPrev(++u),n=this._getCurr(++h);else if(n.oldEnd<i.newEnd){const[a,o]=b._splitPrev(i,n.oldLength);l=a,d=n,i=o,n=this._getCurr(++h)}else{const[a,o]=b._splitCurr(n,i.newLength);l=i,d=a,i=this._getPrev(++u),n=o}this._result[this._resultLen++]=new D(l.oldPosition,l.oldText,d.newPosition,d.newText),this._prevDeltaOffset+=l.newLength-l.oldLength,this._currDeltaOffset+=d.newLength-d.oldLength}const t=b._merge(this._result);return b._removeNoOps(t)}_acceptCurr(u){this._result[this._resultLen++]=b._rebaseCurr(this._prevDeltaOffset,u),this._currDeltaOffset+=u.newLength-u.oldLength}_getCurr(u){return u<this._currLen?this._currEdits[u]:null}_acceptPrev(u){this._result[this._resultLen++]=b._rebasePrev(this._currDeltaOffset,u),this._prevDeltaOffset+=u.newLength-u.oldLength}_getPrev(u){return u<this._prevLen?this._prevEdits[u]:null}static _rebaseCurr(u,h){return new D(h.oldPosition-u,h.oldText,h.newPosition,h.newText)}static _rebasePrev(u,h){return new D(h.oldPosition,h.oldText,h.newPosition+u,h.newText)}static _splitPrev(u,h){const i=u.newText.substr(0,h),n=u.newText.substr(h);return[new D(u.oldPosition,u.oldText,u.newPosition,i),new D(u.oldEnd,"",u.newPosition+h,n)]}static _splitCurr(u,h){const i=u.oldText.substr(0,h),n=u.oldText.substr(h);return[new D(u.oldPosition,i,u.newPosition,u.newText),new D(u.oldPosition+h,n,u.newEnd,"")]}static _merge(u){if(u.length===0)return u;const h=[];let i=0,n=u[0];for(let t=1;t<u.length;t++){const s=u[t];n.oldEnd===s.oldPosition?n=new D(n.oldPosition,n.oldText+s.oldText,n.newPosition,n.newText+s.newText):(h[i++]=n,n=s)}return h[i++]=n,h}static _removeNoOps(u){if(u.length===0)return u;const h=[];let i=0;for(let n=0;n<u.length;n++){const t=u[n];t.oldText!==t.newText&&(h[i++]=t)}return h}}}),define(ne[152],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(ne[130],oe([1,0,107]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class f extends y.CharacterClassifier{constructor(w){super(0);for(let b=0,v=w.length;b<v;b++)this.set(w.charCodeAt(b),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=f;function N(D){const w={};return b=>(w.hasOwnProperty(b)||(w[b]=D(b)),w[b])}e.getMapForWordSeparators=N(D=>new f(D))}),define(ne[131],oe([1,0,55,79]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function N(u=""){let h="(-?\\d*\\.\\d\\w*)|([^";for(const i of e.USUAL_WORD_SEPARATORS)u.indexOf(i)>=0||(h+="\\"+i);return h+="\\s]+)",new RegExp(h,"g")}e.DEFAULT_WORD_REGEXP=N();function D(u){let h=e.DEFAULT_WORD_REGEXP;if(u&&u instanceof RegExp)if(u.global)h=u;else{let i="g";u.ignoreCase&&(i+="i"),u.multiline&&(i+="m"),u.unicode&&(i+="u"),h=new RegExp(u.source,i)}return h.lastIndex=0,h}e.ensureValidWordDefinition=D;const w=new f.LinkedList;w.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function b(u,h,i,n,t){if(t||(t=y.Iterable.first(w)),i.length>t.maxLen){let o=u-t.maxLen/2;return o<0?o=0:n+=o,i=i.substring(o,u+t.maxLen/2),b(u,h,i,n,t)}const s=Date.now(),l=u-1-n;let d=-1,a=null;for(let o=1;!(Date.now()-s>=t.timeBudget);o++){const r=l-t.windowSize*o;h.lastIndex=Math.max(0,r);const c=v(h,i,l,d);if(!c&&a||(a=c,r<=0))break;d=r}if(a){const o={word:a[0],startColumn:n+1+a.index,endColumn:n+1+a.index+a[0].length};return h.lastIndex=0,o}return null}e.getWordAtText=b;function v(u,h,i,n){let t;for(;t=u.exec(h);){const s=t.index||0;if(s<=i&&u.lastIndex>=i)return t;if(n>0&&s>n)return null}return null}}),define(ne[248],oe([1,0,67]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class f{static whitespaceVisibleColumn(D,w,b){const v=D.length;let u=0,h=-1,i=-1;for(let n=0;n<v;n++){if(n===w)return[h,i,u];switch(u%b==0&&(h=n,i=u),D.charCodeAt(n)){case 32:u+=1;break;case 9:u=y.CursorColumns.nextRenderTabStop(u,b);break;default:return[-1,-1,-1]}}return w===v?[h,i,u]:[-1,-1,-1]}static atomicPosition(D,w,b,v){const u=D.length,[h,i,n]=f.whitespaceVisibleColumn(D,w,b);if(n===-1)return-1;let t;switch(v){case 0:t=!0;break;case 1:t=!1;break;case 2:if(n%b==0)return w;t=n%b<=b/2;break}if(t){if(h===-1)return-1;let d=i;for(let a=h;a<u;++a){if(d===i+b)return h;switch(D.charCodeAt(a)){case 32:d+=1;break;case 9:d=y.CursorColumns.nextRenderTabStop(d,b);break;default:return-1}}return d===i+b?h:-1}const s=y.CursorColumns.nextRenderTabStop(n,b);let l=n;for(let d=w;d<u;d++){if(l===s)return d;switch(D.charCodeAt(d)){case 32:l+=1;break;case 9:l=y.CursorColumns.nextRenderTabStop(l,b);break;default:return-1}}return l===s?u:-1}}e.AtomicTabMoveOperations=f}),define(ne[420],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class y{constructor(N,D,w,b){this._cursorContextBrand=void 0,this.model=N,this.viewModel=D,this.coordinatesConverter=w,this.cursorConfig=b}}e.CursorContext=y}),define(ne[421],oe([1,0,145,9]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const N=3;function D(l,d,a,o){return new y.LcsDiff(l,d,a).ComputeDiff(o)}class w{constructor(d){const a=[],o=[];for(let r=0,c=d.length;r<c;r++)a[r]=n(d[r],1),o[r]=t(d[r],1);this.lines=d,this._startColumns=a,this._endColumns=o}getElements(){const d=[];for(let a=0,o=this.lines.length;a<o;a++)d[a]=this.lines[a].substring(this._startColumns[a]-1,this._endColumns[a]-1);return d}getStrictElement(d){return this.lines[d]}getStartLineNumber(d){return d+1}getEndLineNumber(d){return d+1}createCharSequence(d,a,o){const r=[],c=[],g=[];let m=0;for(let S=a;S<=o;S++){const p=this.lines[S],C=d?this._startColumns[S]:1,_=d?this._endColumns[S]:p.length+1;for(let L=C;L<_;L++)r[m]=p.charCodeAt(L-1),c[m]=S+1,g[m]=L,m++}return new b(r,c,g)}}class b{constructor(d,a,o){this._charCodes=d,this._lineNumbers=a,this._columns=o}getElements(){return this._charCodes}getStartLineNumber(d){return this._lineNumbers[d]}getStartColumn(d){return this._columns[d]}getEndLineNumber(d){return this._lineNumbers[d]}getEndColumn(d){return this._columns[d]+1}}class v{constructor(d,a,o,r,c,g,m,S){this.originalStartLineNumber=d,this.originalStartColumn=a,this.originalEndLineNumber=o,this.originalEndColumn=r,this.modifiedStartLineNumber=c,this.modifiedStartColumn=g,this.modifiedEndLineNumber=m,this.modifiedEndColumn=S}static createFromDiffChange(d,a,o){let r,c,g,m,S,p,C,_;return d.originalLength===0?(r=0,c=0,g=0,m=0):(r=a.getStartLineNumber(d.originalStart),c=a.getStartColumn(d.originalStart),g=a.getEndLineNumber(d.originalStart+d.originalLength-1),m=a.getEndColumn(d.originalStart+d.originalLength-1)),d.modifiedLength===0?(S=0,p=0,C=0,_=0):(S=o.getStartLineNumber(d.modifiedStart),p=o.getStartColumn(d.modifiedStart),C=o.getEndLineNumber(d.modifiedStart+d.modifiedLength-1),_=o.getEndColumn(d.modifiedStart+d.modifiedLength-1)),new v(r,c,g,m,S,p,C,_)}}function u(l){if(l.length<=1)return l;const d=[l[0]];let a=d[0];for(let o=1,r=l.length;o<r;o++){const c=l[o],g=c.originalStart-(a.originalStart+a.originalLength),m=c.modifiedStart-(a.modifiedStart+a.modifiedLength);Math.min(g,m)<N?(a.originalLength=c.originalStart+c.originalLength-a.originalStart,a.modifiedLength=c.modifiedStart+c.modifiedLength-a.modifiedStart):(d.push(c),a=c)}return d}class h{constructor(d,a,o,r,c){this.originalStartLineNumber=d,this.originalEndLineNumber=a,this.modifiedStartLineNumber=o,this.modifiedEndLineNumber=r,this.charChanges=c}static createFromDiffResult(d,a,o,r,c,g,m){let S,p,C,_,L;if(a.originalLength===0?(S=o.getStartLineNumber(a.originalStart)-1,p=0):(S=o.getStartLineNumber(a.originalStart),p=o.getEndLineNumber(a.originalStart+a.originalLength-1)),a.modifiedLength===0?(C=r.getStartLineNumber(a.modifiedStart)-1,_=0):(C=r.getStartLineNumber(a.modifiedStart),_=r.getEndLineNumber(a.modifiedStart+a.modifiedLength-1)),g&&a.originalLength>0&&a.originalLength<20&&a.modifiedLength>0&&a.modifiedLength<20&&c()){const E=o.createCharSequence(d,a.originalStart,a.originalStart+a.originalLength-1),I=r.createCharSequence(d,a.modifiedStart,a.modifiedStart+a.modifiedLength-1);let T=D(E,I,c,!0).changes;m&&(T=u(T)),L=[];for(let P=0,B=T.length;P<B;P++)L.push(v.createFromDiffChange(T[P],E,I))}return new h(S,p,C,_,L)}}class i{constructor(d,a,o){this.shouldComputeCharChanges=o.shouldComputeCharChanges,this.shouldPostProcessCharChanges=o.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=o.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=o.shouldMakePrettyDiff,this.originalLines=d,this.modifiedLines=a,this.original=new w(d),this.modified=new w(a),this.continueLineDiff=s(o.maxComputationTime),this.continueCharDiff=s(o.maxComputationTime===0?0:Math.min(o.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const d=D(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),a=d.changes,o=d.quitEarly;if(this.shouldIgnoreTrimWhitespace){const m=[];for(let S=0,p=a.length;S<p;S++)m.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,a[S],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:o,changes:m}}const r=[];let c=0,g=0;for(let m=-1,S=a.length;m<S;m++){const p=m+1<S?a[m+1]:null,C=p?p.originalStart:this.originalLines.length,_=p?p.modifiedStart:this.modifiedLines.length;for(;c<C&&g<_;){const L=this.originalLines[c],E=this.modifiedLines[g];if(L!==E){{let I=n(L,1),T=n(E,1);for(;I>1&&T>1;){const P=L.charCodeAt(I-2),B=E.charCodeAt(T-2);if(P!==B)break;I--,T--}(I>1||T>1)&&this._pushTrimWhitespaceCharChange(r,c+1,1,I,g+1,1,T)}{let I=t(L,1),T=t(E,1);const P=L.length+1,B=E.length+1;for(;I<P&&T<B;){const R=L.charCodeAt(I-1),k=L.charCodeAt(T-1);if(R!==k)break;I++,T++}(I<P||T<B)&&this._pushTrimWhitespaceCharChange(r,c+1,I,P,g+1,T,B)}}c++,g++}p&&(r.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,p,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),c+=p.originalLength,g+=p.modifiedLength)}return{quitEarly:o,changes:r}}_pushTrimWhitespaceCharChange(d,a,o,r,c,g,m){if(this._mergeTrimWhitespaceCharChange(d,a,o,r,c,g,m))return;let S;this.shouldComputeCharChanges&&(S=[new v(a,o,a,r,c,g,c,m)]),d.push(new h(a,a,c,c,S))}_mergeTrimWhitespaceCharChange(d,a,o,r,c,g,m){const S=d.length;if(S===0)return!1;const p=d[S-1];return p.originalEndLineNumber===0||p.modifiedEndLineNumber===0?!1:p.originalEndLineNumber+1===a&&p.modifiedEndLineNumber+1===c?(p.originalEndLineNumber=a,p.modifiedEndLineNumber=c,this.shouldComputeCharChanges&&p.charChanges&&p.charChanges.push(new v(a,o,a,r,c,g,c,m)),!0):!1}}e.DiffComputer=i;function n(l,d){const a=f.firstNonWhitespaceIndex(l);return a===-1?d:a+1}function t(l,d){const a=f.lastNonWhitespaceIndex(l);return a===-1?d:a+2}function s(l){if(l===0)return()=>!0;const d=Date.now();return()=>Date.now()-d<l}}),define(ne[249],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class y{constructor(N,D,w,b,v,u){this.id=N,this.label=D,this.alias=w,this._precondition=b,this._run=v,this._contextKeyService=u}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=y}),define(ne[153],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ne[154],oe([1,0,153]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function f(w){return w&&typeof w.getEditorType=="function"?w.getEditorType()===y.EditorType.ICodeEditor:!1}e.isCodeEditor=f;function N(w){return w&&typeof w.getEditorType=="function"?w.getEditorType()===y.EditorType.IDiffEditor:!1}e.isDiffEditor=N;function D(w){return f(w)?w:N(w)?w.getModifiedEditor():null}e.getCodeEditor=D}),define(ne[422],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class y{constructor(N){this._theme=N}get type(){return this._theme.type}get value(){return this._theme}update(N){this._theme=N}getColor(N){return this._theme.getColor(N)}}e.EditorTheme=y}),define(ne[109],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class y{static getLanguageId(N){return(N&255)>>>0}static getTokenType(N){return(N&768)>>>8}static containsBalancedBrackets(N){return(N&1024)!=0}static getFontStyle(N){return(N&30720)>>>11}static getForeground(N){return(N&16744448)>>>15}static getBackground(N){return(N&4278190080)>>>24}static getClassNameFromMetadata(N){const D=this.getForeground(N);let w="mtk"+D;const b=this.getFontStyle(N);return b&1&&(w+=" mtki"),b&2&&(w+=" mtkb"),b&4&&(w+=" mtku"),b&8&&(w+=" mtks"),w}static getInlineStyleFromMetadata(N,D){const w=this.getForeground(N),b=this.getFontStyle(N);let v=`color: ${D[w]};`;b&1&&(v+="font-style: italic;"),b&2&&(v+="font-weight: bold;");let u="";return b&4&&(u+=" underline"),b&8&&(u+=" line-through"),u&&(v+=`text-decoration:${u};`),v}static getPresentationFromMetadata(N){const D=this.getForeground(N),w=this.getFontStyle(N);return{foreground:D,italic:Boolean(w&1),bold:Boolean(w&2),underline:Boolean(w&4),strikethrough:Boolean(w&8)}}}e.TokenMetadata=y}),define(ne[423],oe([1,0,224,80]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function N(D,w,b,v,u,h){if(Array.isArray(D)){let i=0;for(const n of D){const t=N(n,w,b,v,u,h);if(t===10)return t;t>i&&(i=t)}return i}else{if(typeof D=="string")return v?D==="*"?5:D===b?10:0:0;if(D){const{language:i,pattern:n,scheme:t,hasAccessToAllModels:s,notebookType:l}=D;if(!v&&!s)return 0;l&&u&&(w=u);let d=0;if(t)if(t===w.scheme)d=10;else if(t==="*")d=5;else return 0;if(i)if(i===b)d=10;else if(i==="*")d=Math.max(d,5);else return 0;if(l)if(l===h)d=10;else if(l==="*"&&h!==void 0)d=Math.max(d,5);else return 0;if(n){let a;if(typeof n=="string"?a=n:a=Object.assign(Object.assign({},n),{base:(0,f.normalize)(n.base)}),a===w.fsPath||(0,y.match)(a,w.fsPath))d=10;else return 0}return d}else return 0}}e.score=N}),define(ne[97],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var y;(function(w){w[w.None=0]="None",w[w.Indent=1]="Indent",w[w.IndentOutdent=2]="IndentOutdent",w[w.Outdent=3]="Outdent"})(y=e.IndentAction||(e.IndentAction={}));class f{constructor(b){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=b.open,this.close=b.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(b.notIn))for(let v=0,u=b.notIn.length;v<u;v++)switch(b.notIn[v]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(b){switch(b){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(b,v){if(b.getTokenCount()===0)return!0;const u=b.findTokenIndexAtOffset(v-2),h=b.getStandardTokenType(u);return this.isOK(h)}_findNeutralCharacterInRange(b,v){for(let u=b;u<=v;u++){const h=String.fromCharCode(u);if(!this.open.includes(h)&&!this.close.includes(h))return h}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=f;class N{constructor(b){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const v of b)D(this.autoClosingPairsOpenByStart,v.open.charAt(0),v),D(this.autoClosingPairsOpenByEnd,v.open.charAt(v.open.length-1),v),D(this.autoClosingPairsCloseByStart,v.close.charAt(0),v),D(this.autoClosingPairsCloseByEnd,v.close.charAt(v.close.length-1),v),v.close.length===1&&v.open.length===1&&D(this.autoClosingPairsCloseSingleChar,v.close,v)}}e.AutoClosingPairs=N;function D(w,b,v){w.has(b)?w.get(b).push(v):w.set(b,[v])}}),define(ne[424],oe([1,0,107]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class f{constructor(n,t,s){const l=new Uint8Array(n*t);for(let d=0,a=n*t;d<a;d++)l[d]=s;this._data=l,this.rows=n,this.cols=t}get(n,t){return this._data[n*this.cols+t]}set(n,t,s){this._data[n*this.cols+t]=s}}e.Uint8Matrix=f;class N{constructor(n){let t=0,s=0;for(let d=0,a=n.length;d<a;d++){const[o,r,c]=n[d];r>t&&(t=r),o>s&&(s=o),c>s&&(s=c)}t++,s++;const l=new f(s,t,0);for(let d=0,a=n.length;d<a;d++){const[o,r,c]=n[d];l.set(o,r,c)}this._states=l,this._maxCharCode=t}nextState(n,t){return t<0||t>=this._maxCharCode?0:this._states.get(n,t)}}e.StateMachine=N;let D=null;function w(){return D===null&&(D=new N([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let b=null;function v(){if(b===null){b=new y.CharacterClassifier(0);const i=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<i.length;t++)b.set(i.charCodeAt(t),1);const n=".,;:";for(let t=0;t<n.length;t++)b.set(n.charCodeAt(t),2)}return b}class u{static _createLink(n,t,s,l,d){let a=d-1;do{const o=t.charCodeAt(a);if(n.get(o)!==2)break;a--}while(a>l);if(l>0){const o=t.charCodeAt(l-1),r=t.charCodeAt(a);(o===40&&r===41||o===91&&r===93||o===123&&r===125)&&a--}return{range:{startLineNumber:s,startColumn:l+1,endLineNumber:s,endColumn:a+2},url:t.substring(l,a+1)}}static computeLinks(n,t=w()){const s=v(),l=[];for(let d=1,a=n.getLineCount();d<=a;d++){const o=n.getLineContent(d),r=o.length;let c=0,g=0,m=0,S=1,p=!1,C=!1,_=!1,L=!1;for(;c<r;){let E=!1;const I=o.charCodeAt(c);if(S===13){let T;switch(I){case 40:p=!0,T=0;break;case 41:T=p?0:1;break;case 91:_=!0,C=!0,T=0;break;case 93:_=!1,T=C?0:1;break;case 123:L=!0,T=0;break;case 125:T=L?0:1;break;case 39:T=m===34||m===96?0:1;break;case 34:T=m===39||m===96?0:1;break;case 96:T=m===39||m===34?0:1;break;case 42:T=m===42?1:0;break;case 124:T=m===124?1:0;break;case 32:T=_?0:1;break;default:T=s.get(I)}T===1&&(l.push(u._createLink(s,o,d,g,c)),E=!0)}else if(S===12){let T;I===91?(C=!0,T=0):T=s.get(I),T===1?E=!0:S=13}else S=t.nextState(S,I),S===0&&(E=!0);E&&(S=1,p=!1,C=!1,L=!1,g=c+1,m=I),c++}S===13&&l.push(u._createLink(s,o,d,g,r))}return l}}e.LinkComputer=u;function h(i){return!i||typeof i.getLineCount!="function"||typeof i.getLineContent!="function"?[]:u.computeLinks(i)}e.computeLinks=h}),define(ne[110],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function y(D,w){const b=D.getCount(),v=D.findTokenIndexAtOffset(w),u=D.getLanguageId(v);let h=v;for(;h+1<b&&D.getLanguageId(h+1)===u;)h++;let i=v;for(;i>0&&D.getLanguageId(i-1)===u;)i--;return new f(D,u,i,h+1,D.getStartOffset(i),D.getEndOffset(h))}e.createScopedLineTokens=y;class f{constructor(w,b,v,u,h,i){this._scopedLineTokensBrand=void 0,this._actual=w,this.languageId=b,this._firstTokenIndex=v,this._lastTokenIndex=u,this.firstCharOffset=h,this._lastCharOffset=i}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(w){return this._actual.getLineContent().substring(0,this.firstCharOffset+w)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(w){return this._actual.findTokenIndexAtOffset(w+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(w){return this._actual.getStandardTokenType(w+this._firstTokenIndex)}}e.ScopedLineTokens=f;function N(D){return(D&3)!=0}e.ignoreBracketsInToken=N}),define(ne[62],oe([1,0,11,3,23,110,67,184]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const v=()=>!0,u=()=>!1,h=o=>o===" "||o==="	";class i{constructor(r,c,g,m){this.languageConfigurationService=m,this._cursorMoveConfigurationBrand=void 0,this._languageId=r;const S=g.options,p=S.get(132);this.readOnly=S.get(82),this.tabSize=c.tabSize,this.indentSize=c.indentSize,this.insertSpaces=c.insertSpaces,this.stickyTabStops=S.get(105),this.lineHeight=S.get(60),this.pageSize=Math.max(1,Math.floor(p.height/this.lineHeight)-2),this.useTabStops=S.get(117),this.wordSeparators=S.get(118),this.emptySelectionClipboard=S.get(33),this.copyWithSyntaxHighlighting=S.get(21),this.multiCursorMergeOverlapping=S.get(70),this.multiCursorPaste=S.get(72),this.autoClosingBrackets=S.get(5),this.autoClosingQuotes=S.get(8),this.autoClosingDelete=S.get(6),this.autoClosingOvertype=S.get(7),this.autoSurround=S.get(11),this.autoIndent=S.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(r,this.autoClosingQuotes),bracket:this._getShouldAutoClose(r,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(r).getAutoClosingPairs();const C=this.languageConfigurationService.getLanguageConfiguration(r).getSurroundingPairs();if(C)for(const _ of C)this.surroundingPairs[_.open]=_.close}static shouldRecreate(r){return r.hasChanged(132)||r.hasChanged(118)||r.hasChanged(33)||r.hasChanged(70)||r.hasChanged(72)||r.hasChanged(5)||r.hasChanged(8)||r.hasChanged(6)||r.hasChanged(7)||r.hasChanged(11)||r.hasChanged(117)||r.hasChanged(60)||r.hasChanged(82)}get electricChars(){var r;if(!this._electricChars){this._electricChars={};const c=(r=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||r===void 0?void 0:r.getElectricCharacters();if(c)for(const g of c)this._electricChars[g]=!0}return this._electricChars}onElectricCharacter(r,c,g){const m=(0,D.createScopedLineTokens)(c,g-1),S=this.languageConfigurationService.getLanguageConfiguration(m.languageId).electricCharacter;return S?S.onElectricCharacter(r,m,g-m.firstCharOffset):null}normalizeIndentation(r){return(0,b.normalizeIndentation)(r,this.indentSize,this.insertSpaces)}_getShouldAutoClose(r,c){switch(c){case"beforeWhitespace":return h;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(r);case"always":return v;case"never":return u}}_getLanguageDefinedShouldAutoClose(r){const c=this.languageConfigurationService.getLanguageConfiguration(r).getAutoCloseBeforeSet();return g=>c.indexOf(g)!==-1}visibleColumnFromColumn(r,c){return w.CursorColumns.visibleColumnFromColumn(r.getLineContent(c.lineNumber),c.column,this.tabSize)}columnFromVisibleColumn(r,c,g){const m=w.CursorColumns.columnFromVisibleColumn(r.getLineContent(c),g,this.tabSize),S=r.getLineMinColumn(c);if(m<S)return S;const p=r.getLineMaxColumn(c);return m>p?p:m}}e.CursorConfiguration=i;class n{constructor(r,c){this._cursorStateBrand=void 0,this.modelState=r,this.viewState=c}static fromModelState(r){return new t(r)}static fromViewState(r){return new s(r)}static fromModelSelection(r){const c=N.Selection.liftSelection(r),g=new l(f.Range.fromPositions(c.getSelectionStart()),0,c.getPosition(),0);return n.fromModelState(g)}static fromModelSelections(r){const c=[];for(let g=0,m=r.length;g<m;g++)c[g]=this.fromModelSelection(r[g]);return c}equals(r){return this.viewState.equals(r.viewState)&&this.modelState.equals(r.modelState)}}e.CursorState=n;class t{constructor(r){this.modelState=r,this.viewState=null}}e.PartialModelCursorState=t;class s{constructor(r){this.modelState=null,this.viewState=r}}e.PartialViewCursorState=s;class l{constructor(r,c,g,m){this._singleCursorStateBrand=void 0,this.selectionStart=r,this.selectionStartLeftoverVisibleColumns=c,this.position=g,this.leftoverVisibleColumns=m,this.selection=l._computeSelection(this.selectionStart,this.position)}equals(r){return this.selectionStartLeftoverVisibleColumns===r.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===r.leftoverVisibleColumns&&this.position.equals(r.position)&&this.selectionStart.equalsRange(r.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(r,c,g,m){return r?new l(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new y.Position(c,g),m):new l(new f.Range(c,g,c,g),m,new y.Position(c,g),m)}static _computeSelection(r,c){return r.isEmpty()||!c.isBeforeOrEqual(r.getStartPosition())?N.Selection.fromPositions(r.getStartPosition(),c):N.Selection.fromPositions(r.getEndPosition(),c)}}e.SingleCursorState=l;class d{constructor(r,c,g){this._editOperationResultBrand=void 0,this.type=r,this.commands=c,this.shouldPushStackElementBefore=g.shouldPushStackElementBefore,this.shouldPushStackElementAfter=g.shouldPushStackElementAfter}}e.EditOperationResult=d;function a(o){return o==="'"||o==='"'||o==="`"}e.isQuote=a}),define(ne[425],oe([1,0,62,11,3]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(b,v,u,h,i,n){const t=Math.abs(i-u)+1,s=u>i,l=h>n,d=h<n,a=[];for(let o=0;o<t;o++){const r=u+(s?-o:o),c=b.columnFromVisibleColumn(v,r,h),g=b.columnFromVisibleColumn(v,r,n),m=b.visibleColumnFromColumn(v,new f.Position(r,c)),S=b.visibleColumnFromColumn(v,new f.Position(r,g));d&&(m>n||S<h)||l&&(S>h||m<n)||a.push(new y.SingleCursorState(new N.Range(r,c,r,c),0,new f.Position(r,g),0))}if(a.length===0)for(let o=0;o<t;o++){const r=u+(s?-o:o),c=v.getLineMaxColumn(r);a.push(new y.SingleCursorState(new N.Range(r,c,r,c),0,new f.Position(r,c),0))}return{viewStates:a,reversed:s,fromLineNumber:u,fromVisualColumn:h,toLineNumber:i,toVisualColumn:n}}static columnSelectLeft(b,v,u){let h=u.toViewVisualColumn;return h>0&&h--,D.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,h)}static columnSelectRight(b,v,u){let h=0;const i=Math.min(u.fromViewLineNumber,u.toViewLineNumber),n=Math.max(u.fromViewLineNumber,u.toViewLineNumber);for(let s=i;s<=n;s++){const l=v.getLineMaxColumn(s),d=b.visibleColumnFromColumn(v,new f.Position(s,l));h=Math.max(h,d)}let t=u.toViewVisualColumn;return t<h&&t++,this.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,t)}static columnSelectUp(b,v,u,h){const i=h?b.pageSize:1,n=Math.max(1,u.toViewLineNumber-i);return this.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,n,u.toViewVisualColumn)}static columnSelectDown(b,v,u,h){const i=h?b.pageSize:1,n=Math.min(v.getLineCount(),u.toViewLineNumber+i);return this.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,n,u.toViewVisualColumn)}}e.ColumnSelection=D}),define(ne[187],oe([1,0,62,67,11,3,9,248]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class v{constructor(i,n,t){this._cursorPositionBrand=void 0,this.lineNumber=i,this.column=n,this.leftoverVisibleColumns=t}}e.CursorPosition=v;class u{static leftPosition(i,n){if(n.column>i.getLineMinColumn(n.lineNumber))return n.delta(void 0,-w.prevCharLength(i.getLineContent(n.lineNumber),n.column-1));if(n.lineNumber>1){const t=n.lineNumber-1;return new N.Position(t,i.getLineMaxColumn(t))}else return n}static leftPositionAtomicSoftTabs(i,n,t){if(n.column<=i.getLineIndentColumn(n.lineNumber)){const s=i.getLineMinColumn(n.lineNumber),l=i.getLineContent(n.lineNumber),d=b.AtomicTabMoveOperations.atomicPosition(l,n.column-1,t,0);if(d!==-1&&d+1>=s)return new N.Position(n.lineNumber,d+1)}return this.leftPosition(i,n)}static left(i,n,t){const s=i.stickyTabStops?u.leftPositionAtomicSoftTabs(n,t,i.tabSize):u.leftPosition(n,t);return new v(s.lineNumber,s.column,0)}static moveLeft(i,n,t,s,l){let d,a;if(t.hasSelection()&&!s)d=t.selection.startLineNumber,a=t.selection.startColumn;else{const o=t.position.delta(void 0,-(l-1)),r=n.normalizePosition(u.clipPositionColumn(o,n),0),c=u.left(i,n,r);d=c.lineNumber,a=c.column}return t.move(s,d,a,0)}static clipPositionColumn(i,n){return new N.Position(i.lineNumber,u.clipRange(i.column,n.getLineMinColumn(i.lineNumber),n.getLineMaxColumn(i.lineNumber)))}static clipRange(i,n,t){return i<n?n:i>t?t:i}static rightPosition(i,n,t){return t<i.getLineMaxColumn(n)?t=t+w.nextCharLength(i.getLineContent(n),t-1):n<i.getLineCount()&&(n=n+1,t=i.getLineMinColumn(n)),new N.Position(n,t)}static rightPositionAtomicSoftTabs(i,n,t,s,l){if(t<i.getLineIndentColumn(n)){const d=i.getLineContent(n),a=b.AtomicTabMoveOperations.atomicPosition(d,t-1,s,1);if(a!==-1)return new N.Position(n,a+1)}return this.rightPosition(i,n,t)}static right(i,n,t){const s=i.stickyTabStops?u.rightPositionAtomicSoftTabs(n,t.lineNumber,t.column,i.tabSize,i.indentSize):u.rightPosition(n,t.lineNumber,t.column);return new v(s.lineNumber,s.column,0)}static moveRight(i,n,t,s,l){let d,a;if(t.hasSelection()&&!s)d=t.selection.endLineNumber,a=t.selection.endColumn;else{const o=t.position.delta(void 0,l-1),r=n.normalizePosition(u.clipPositionColumn(o,n),1),c=u.right(i,n,r);d=c.lineNumber,a=c.column}return t.move(s,d,a,0)}static vertical(i,n,t,s,l,d,a,o){const r=f.CursorColumns.visibleColumnFromColumn(n.getLineContent(t),s,i.tabSize)+l,c=n.getLineCount(),g=t===1&&s===1,m=t===c&&s===n.getLineMaxColumn(t),S=d<t?g:m;if(t=d,t<1?(t=1,a?s=n.getLineMinColumn(t):s=Math.min(n.getLineMaxColumn(t),s)):t>c?(t=c,a?s=n.getLineMaxColumn(t):s=Math.min(n.getLineMaxColumn(t),s)):s=i.columnFromVisibleColumn(n,t,r),S?l=0:l=r-f.CursorColumns.visibleColumnFromColumn(n.getLineContent(t),s,i.tabSize),o!==void 0){const p=new N.Position(t,s),C=n.normalizePosition(p,o);l=l+(s-C.column),t=C.lineNumber,s=C.column}return new v(t,s,l)}static down(i,n,t,s,l,d,a){return this.vertical(i,n,t,s,l,t+d,a,4)}static moveDown(i,n,t,s,l){let d,a;t.hasSelection()&&!s?(d=t.selection.endLineNumber,a=t.selection.endColumn):(d=t.position.lineNumber,a=t.position.column);const o=u.down(i,n,d,a,t.leftoverVisibleColumns,l,!0);return t.move(s,o.lineNumber,o.column,o.leftoverVisibleColumns)}static translateDown(i,n,t){const s=t.selection,l=u.down(i,n,s.selectionStartLineNumber,s.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),d=u.down(i,n,s.positionLineNumber,s.positionColumn,t.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new D.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new N.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(i,n,t,s,l,d,a){return this.vertical(i,n,t,s,l,t-d,a,3)}static moveUp(i,n,t,s,l){let d,a;t.hasSelection()&&!s?(d=t.selection.startLineNumber,a=t.selection.startColumn):(d=t.position.lineNumber,a=t.position.column);const o=u.up(i,n,d,a,t.leftoverVisibleColumns,l,!0);return t.move(s,o.lineNumber,o.column,o.leftoverVisibleColumns)}static translateUp(i,n,t){const s=t.selection,l=u.up(i,n,s.selectionStartLineNumber,s.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),d=u.up(i,n,s.positionLineNumber,s.positionColumn,t.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new D.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new N.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(i,n){return i.getLineFirstNonWhitespaceColumn(n)===0}static moveToPrevBlankLine(i,n,t,s){let l=t.position.lineNumber;for(;l>1&&this._isBlankLine(n,l);)l--;for(;l>1&&!this._isBlankLine(n,l);)l--;return t.move(s,l,n.getLineMinColumn(l),0)}static moveToNextBlankLine(i,n,t,s){const l=n.getLineCount();let d=t.position.lineNumber;for(;d<l&&this._isBlankLine(n,d);)d++;for(;d<l&&!this._isBlankLine(n,d);)d++;return t.move(s,d,n.getLineMinColumn(d),0)}static moveToBeginningOfLine(i,n,t,s){const l=t.position.lineNumber,d=n.getLineMinColumn(l),a=n.getLineFirstNonWhitespaceColumn(l)||d;let o;return t.position.column===a?o=d:o=a,t.move(s,l,o,0)}static moveToEndOfLine(i,n,t,s,l){const d=t.position.lineNumber,a=n.getLineMaxColumn(d);return t.move(s,d,a,l?1073741824-a:0)}static moveToBeginningOfBuffer(i,n,t,s){return t.move(s,1,1,0)}static moveToEndOfBuffer(i,n,t,s){const l=n.getLineCount(),d=n.getLineMaxColumn(l);return t.move(s,l,d,0)}}e.MoveOperations=u}),define(ne[188],oe([1,0,9,108,62,67,187,3,11]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class u{static deleteRight(i,n,t,s){const l=[];let d=i!==3;for(let a=0,o=s.length;a<o;a++){const r=s[a];let c=r;if(c.isEmpty()){const g=r.getPosition(),m=w.MoveOperations.right(n,t,g);c=new b.Range(m.lineNumber,m.column,g.lineNumber,g.column)}if(c.isEmpty()){l[a]=null;continue}c.startLineNumber!==c.endLineNumber&&(d=!0),l[a]=new f.ReplaceCommand(c,"")}return[d,l]}static isAutoClosingPairDelete(i,n,t,s,l,d,a){if(n==="never"&&t==="never"||i==="never")return!1;for(let o=0,r=d.length;o<r;o++){const c=d[o],g=c.getPosition();if(!c.isEmpty())return!1;const m=l.getLineContent(g.lineNumber);if(g.column<2||g.column>=m.length+1)return!1;const S=m.charAt(g.column-2),p=s.get(S);if(!p)return!1;if((0,N.isQuote)(S)){if(t==="never")return!1}else if(n==="never")return!1;const C=m.charAt(g.column-1);let _=!1;for(const L of p)L.open===S&&L.close===C&&(_=!0);if(!_)return!1;if(i==="auto"){let L=!1;for(let E=0,I=a.length;E<I;E++){const T=a[E];if(g.lineNumber===T.startLineNumber&&g.column===T.startColumn){L=!0;break}}if(!L)return!1}}return!0}static _runAutoClosingPairDelete(i,n,t){const s=[];for(let l=0,d=t.length;l<d;l++){const a=t[l].getPosition(),o=new b.Range(a.lineNumber,a.column-1,a.lineNumber,a.column+1);s[l]=new f.ReplaceCommand(o,"")}return[!0,s]}static deleteLeft(i,n,t,s,l){if(this.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,t,s,l))return this._runAutoClosingPairDelete(n,t,s);const d=[];let a=i!==2;for(let o=0,r=s.length;o<r;o++){const c=u.getDeleteRange(s[o],t,n);if(c.isEmpty()){d[o]=null;continue}c.startLineNumber!==c.endLineNumber&&(a=!0),d[o]=new f.ReplaceCommand(c,"")}return[a,d]}static getDeleteRange(i,n,t){if(!i.isEmpty())return i;const s=i.getPosition();if(t.useTabStops&&s.column>1){const l=n.getLineContent(s.lineNumber),d=y.firstNonWhitespaceIndex(l),a=d===-1?l.length+1:d+1;if(s.column<=a){const o=t.visibleColumnFromColumn(n,s),r=D.CursorColumns.prevIndentTabStop(o,t.indentSize),c=t.columnFromVisibleColumn(n,s.lineNumber,r);return new b.Range(s.lineNumber,c,s.lineNumber,s.column)}}return b.Range.fromPositions(u.getPositionAfterDeleteLeft(s,n),s)}static getPositionAfterDeleteLeft(i,n){if(i.column>1){const t=y.getLeftDeleteOffset(i.column-1,n.getLineContent(i.lineNumber));return i.with(void 0,t+1)}else if(i.lineNumber>1){const t=i.lineNumber-1;return new v.Position(t,n.getLineMaxColumn(t))}else return i}static cut(i,n,t){const s=[];let l=null;t.sort((d,a)=>v.Position.compare(d.getStartPosition(),a.getEndPosition()));for(let d=0,a=t.length;d<a;d++){const o=t[d];if(o.isEmpty())if(i.emptySelectionClipboard){const r=o.getPosition();let c,g,m,S;r.lineNumber<n.getLineCount()?(c=r.lineNumber,g=1,m=r.lineNumber+1,S=1):r.lineNumber>1&&(l==null?void 0:l.endLineNumber)!==r.lineNumber?(c=r.lineNumber-1,g=n.getLineMaxColumn(r.lineNumber-1),m=r.lineNumber,S=n.getLineMaxColumn(r.lineNumber)):(c=r.lineNumber,g=1,m=r.lineNumber,S=n.getLineMaxColumn(r.lineNumber));const p=new b.Range(c,g,m,S);l=p,p.isEmpty()?s[d]=null:s[d]=new f.ReplaceCommand(p,"")}else s[d]=null;else s[d]=new f.ReplaceCommand(o,"")}return new N.EditOperationResult(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=u}),define(ne[155],oe([1,0,9,62,188,130,11,3]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class v{static _createWord(n,t,s,l,d){return{start:l,end:d,wordType:t,nextCharClass:s}}static _findPreviousWordOnLine(n,t,s){const l=t.getLineContent(s.lineNumber);return this._doFindPreviousWordOnLine(l,n,s)}static _doFindPreviousWordOnLine(n,t,s){let l=0;for(let d=s.column-2;d>=0;d--){const a=n.charCodeAt(d),o=t.get(a);if(o===0){if(l===2)return this._createWord(n,l,o,d+1,this._findEndOfWord(n,t,l,d+1));l=1}else if(o===2){if(l===1)return this._createWord(n,l,o,d+1,this._findEndOfWord(n,t,l,d+1));l=2}else if(o===1&&l!==0)return this._createWord(n,l,o,d+1,this._findEndOfWord(n,t,l,d+1))}return l!==0?this._createWord(n,l,1,0,this._findEndOfWord(n,t,l,0)):null}static _findEndOfWord(n,t,s,l){const d=n.length;for(let a=l;a<d;a++){const o=n.charCodeAt(a),r=t.get(o);if(r===1||s===1&&r===2||s===2&&r===0)return a}return d}static _findNextWordOnLine(n,t,s){const l=t.getLineContent(s.lineNumber);return this._doFindNextWordOnLine(l,n,s)}static _doFindNextWordOnLine(n,t,s){let l=0;const d=n.length;for(let a=s.column-1;a<d;a++){const o=n.charCodeAt(a),r=t.get(o);if(r===0){if(l===2)return this._createWord(n,l,r,this._findStartOfWord(n,t,l,a-1),a);l=1}else if(r===2){if(l===1)return this._createWord(n,l,r,this._findStartOfWord(n,t,l,a-1),a);l=2}else if(r===1&&l!==0)return this._createWord(n,l,r,this._findStartOfWord(n,t,l,a-1),a)}return l!==0?this._createWord(n,l,1,this._findStartOfWord(n,t,l,d-1),d):null}static _findStartOfWord(n,t,s,l){for(let d=l;d>=0;d--){const a=n.charCodeAt(d),o=t.get(a);if(o===1||s===1&&o===2||s===2&&o===0)return d+1}return 0}static moveWordLeft(n,t,s,l){let d=s.lineNumber,a=s.column;a===1&&d>1&&(d=d-1,a=t.getLineMaxColumn(d));let o=v._findPreviousWordOnLine(n,t,new w.Position(d,a));if(l===0)return new w.Position(d,o?o.start+1:1);if(l===1)return o&&o.wordType===2&&o.end-o.start==1&&o.nextCharClass===0&&(o=v._findPreviousWordOnLine(n,t,new w.Position(d,o.start+1))),new w.Position(d,o?o.start+1:1);if(l===3){for(;o&&o.wordType===2;)o=v._findPreviousWordOnLine(n,t,new w.Position(d,o.start+1));return new w.Position(d,o?o.start+1:1)}return o&&a<=o.end+1&&(o=v._findPreviousWordOnLine(n,t,new w.Position(d,o.start+1))),new w.Position(d,o?o.end+1:1)}static _moveWordPartLeft(n,t){const s=t.lineNumber,l=n.getLineMaxColumn(s);if(t.column===1)return s>1?new w.Position(s-1,n.getLineMaxColumn(s-1)):t;const d=n.getLineContent(s);for(let a=t.column-1;a>1;a--){const o=d.charCodeAt(a-2),r=d.charCodeAt(a-1);if(o===95&&r!==95)return new w.Position(s,a);if(y.isLowerAsciiLetter(o)&&y.isUpperAsciiLetter(r))return new w.Position(s,a);if(y.isUpperAsciiLetter(o)&&y.isUpperAsciiLetter(r)&&a+1<l){const c=d.charCodeAt(a);if(y.isLowerAsciiLetter(c))return new w.Position(s,a)}}return new w.Position(s,1)}static moveWordRight(n,t,s,l){let d=s.lineNumber,a=s.column,o=!1;a===t.getLineMaxColumn(d)&&d<t.getLineCount()&&(o=!0,d=d+1,a=1);let r=v._findNextWordOnLine(n,t,new w.Position(d,a));if(l===2)r&&r.wordType===2&&r.end-r.start==1&&r.nextCharClass===0&&(r=v._findNextWordOnLine(n,t,new w.Position(d,r.end+1))),r?a=r.end+1:a=t.getLineMaxColumn(d);else if(l===3){for(o&&(a=0);r&&(r.wordType===2||r.start+1<=a);)r=v._findNextWordOnLine(n,t,new w.Position(d,r.end+1));r?a=r.start+1:a=t.getLineMaxColumn(d)}else r&&!o&&a>=r.start+1&&(r=v._findNextWordOnLine(n,t,new w.Position(d,r.end+1))),r?a=r.start+1:a=t.getLineMaxColumn(d);return new w.Position(d,a)}static _moveWordPartRight(n,t){const s=t.lineNumber,l=n.getLineMaxColumn(s);if(t.column===l)return s<n.getLineCount()?new w.Position(s+1,1):t;const d=n.getLineContent(s);for(let a=t.column+1;a<l;a++){const o=d.charCodeAt(a-2),r=d.charCodeAt(a-1);if(o!==95&&r===95)return new w.Position(s,a);if(y.isLowerAsciiLetter(o)&&y.isUpperAsciiLetter(r))return new w.Position(s,a);if(y.isUpperAsciiLetter(o)&&y.isUpperAsciiLetter(r)&&a+1<l){const c=d.charCodeAt(a);if(y.isLowerAsciiLetter(c))return new w.Position(s,a)}}return new w.Position(s,l)}static _deleteWordLeftWhitespace(n,t){const s=n.getLineContent(t.lineNumber),l=t.column-2,d=y.lastNonWhitespaceIndex(s,l);return d+1<l?new b.Range(t.lineNumber,d+2,t.lineNumber,t.column):null}static deleteWordLeft(n,t){const s=n.wordSeparators,l=n.model,d=n.selection,a=n.whitespaceHeuristics;if(!d.isEmpty())return d;if(N.DeleteOperations.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,n.model,[n.selection],n.autoClosedCharacters)){const m=n.selection.getPosition();return new b.Range(m.lineNumber,m.column-1,m.lineNumber,m.column+1)}const o=new w.Position(d.positionLineNumber,d.positionColumn);let r=o.lineNumber,c=o.column;if(r===1&&c===1)return null;if(a){const m=this._deleteWordLeftWhitespace(l,o);if(m)return m}let g=v._findPreviousWordOnLine(s,l,o);return t===0?g?c=g.start+1:c>1?c=1:(r--,c=l.getLineMaxColumn(r)):(g&&c<=g.end+1&&(g=v._findPreviousWordOnLine(s,l,new w.Position(r,g.start+1))),g?c=g.end+1:c>1?c=1:(r--,c=l.getLineMaxColumn(r))),new b.Range(r,c,o.lineNumber,o.column)}static deleteInsideWord(n,t,s){if(!s.isEmpty())return s;const l=new w.Position(s.positionLineNumber,s.positionColumn),d=this._deleteInsideWordWhitespace(t,l);return d||this._deleteInsideWordDetermineDeleteRange(n,t,l)}static _charAtIsWhitespace(n,t){const s=n.charCodeAt(t);return s===32||s===9}static _deleteInsideWordWhitespace(n,t){const s=n.getLineContent(t.lineNumber),l=s.length;if(l===0)return null;let d=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(s,d))return null;let a=Math.min(t.column-1,l-1);if(!this._charAtIsWhitespace(s,a))return null;for(;d>0&&this._charAtIsWhitespace(s,d-1);)d--;for(;a+1<l&&this._charAtIsWhitespace(s,a+1);)a++;return new b.Range(t.lineNumber,d+1,t.lineNumber,a+2)}static _deleteInsideWordDetermineDeleteRange(n,t,s){const l=t.getLineContent(s.lineNumber),d=l.length;if(d===0)return s.lineNumber>1?new b.Range(s.lineNumber-1,t.getLineMaxColumn(s.lineNumber-1),s.lineNumber,1):s.lineNumber<t.getLineCount()?new b.Range(s.lineNumber,1,s.lineNumber+1,1):new b.Range(s.lineNumber,1,s.lineNumber,1);const a=m=>m.start+1<=s.column&&s.column<=m.end+1,o=(m,S)=>(m=Math.min(m,s.column),S=Math.max(S,s.column),new b.Range(s.lineNumber,m,s.lineNumber,S)),r=m=>{let S=m.start+1,p=m.end+1,C=!1;for(;p-1<d&&this._charAtIsWhitespace(l,p-1);)C=!0,p++;if(!C)for(;S>1&&this._charAtIsWhitespace(l,S-2);)S--;return o(S,p)},c=v._findPreviousWordOnLine(n,t,s);if(c&&a(c))return r(c);const g=v._findNextWordOnLine(n,t,s);return g&&a(g)?r(g):c&&g?o(c.end+1,g.start+1):c?o(c.start+1,c.end+1):g?o(g.start+1,g.end+1):o(1,d+1)}static _deleteWordPartLeft(n,t){if(!t.isEmpty())return t;const s=t.getPosition(),l=v._moveWordPartLeft(n,s);return new b.Range(s.lineNumber,s.column,l.lineNumber,l.column)}static _findFirstNonWhitespaceChar(n,t){const s=n.length;for(let l=t;l<s;l++){const d=n.charAt(l);if(d!==" "&&d!=="	")return l}return s}static _deleteWordRightWhitespace(n,t){const s=n.getLineContent(t.lineNumber),l=t.column-1,d=this._findFirstNonWhitespaceChar(s,l);return l+1<d?new b.Range(t.lineNumber,t.column,t.lineNumber,d+1):null}static deleteWordRight(n,t){const s=n.wordSeparators,l=n.model,d=n.selection,a=n.whitespaceHeuristics;if(!d.isEmpty())return d;const o=new w.Position(d.positionLineNumber,d.positionColumn);let r=o.lineNumber,c=o.column;const g=l.getLineCount(),m=l.getLineMaxColumn(r);if(r===g&&c===m)return null;if(a){const p=this._deleteWordRightWhitespace(l,o);if(p)return p}let S=v._findNextWordOnLine(s,l,o);return t===2?S?c=S.end+1:c<m||r===g?c=m:(r++,S=v._findNextWordOnLine(s,l,new w.Position(r,1)),S?c=S.start+1:c=l.getLineMaxColumn(r)):(S&&c>=S.start+1&&(S=v._findNextWordOnLine(s,l,new w.Position(r,S.end+1))),S?c=S.start+1:c<m||r===g?c=m:(r++,S=v._findNextWordOnLine(s,l,new w.Position(r,1)),S?c=S.start+1:c=l.getLineMaxColumn(r))),new b.Range(r,c,o.lineNumber,o.column)}static _deleteWordPartRight(n,t){if(!t.isEmpty())return t;const s=t.getPosition(),l=v._moveWordPartRight(n,s);return new b.Range(s.lineNumber,s.column,l.lineNumber,l.column)}static _createWordAtPosition(n,t,s){const l=new b.Range(t,s.start+1,t,s.end+1);return{word:n.getValueInRange(l),startColumn:l.startColumn,endColumn:l.endColumn}}static getWordAtPosition(n,t,s){const l=(0,D.getMapForWordSeparators)(t),d=v._findPreviousWordOnLine(l,n,s);if(d&&d.wordType===1&&d.start<=s.column-1&&s.column-1<=d.end)return v._createWordAtPosition(n,s.lineNumber,d);const a=v._findNextWordOnLine(l,n,s);return a&&a.wordType===1&&a.start<=s.column-1&&s.column-1<=a.end?v._createWordAtPosition(n,s.lineNumber,a):null}static word(n,t,s,l,d){const a=(0,D.getMapForWordSeparators)(n.wordSeparators),o=v._findPreviousWordOnLine(a,t,d),r=v._findNextWordOnLine(a,t,d);if(!l){let p,C;return o&&o.wordType===1&&o.start<=d.column-1&&d.column-1<=o.end?(p=o.start+1,C=o.end+1):r&&r.wordType===1&&r.start<=d.column-1&&d.column-1<=r.end?(p=r.start+1,C=r.end+1):(o?p=o.end+1:p=1,r?C=r.start+1:C=t.getLineMaxColumn(d.lineNumber)),new f.SingleCursorState(new b.Range(d.lineNumber,p,d.lineNumber,C),0,new w.Position(d.lineNumber,C),0)}let c,g;o&&o.wordType===1&&o.start<d.column-1&&d.column-1<o.end?(c=o.start+1,g=o.end+1):r&&r.wordType===1&&r.start<d.column-1&&d.column-1<r.end?(c=r.start+1,g=r.end+1):(c=d.column,g=d.column);const m=d.lineNumber;let S;if(s.selectionStart.containsPosition(d))S=s.selectionStart.endColumn;else if(d.isBeforeOrEqual(s.selectionStart.getStartPosition())){S=c;const p=new w.Position(m,S);s.selectionStart.containsPosition(p)&&(S=s.selectionStart.endColumn)}else{S=g;const p=new w.Position(m,S);s.selectionStart.containsPosition(p)&&(S=s.selectionStart.startColumn)}return s.move(!0,m,S,0)}}e.WordOperations=v;class u extends v{static deleteWordPartLeft(n){const t=h([v.deleteWordLeft(n,0),v.deleteWordLeft(n,2),v._deleteWordPartLeft(n.model,n.selection)]);return t.sort(b.Range.compareRangesUsingEnds),t[2]}static deleteWordPartRight(n){const t=h([v.deleteWordRight(n,0),v.deleteWordRight(n,2),v._deleteWordPartRight(n.model,n.selection)]);return t.sort(b.Range.compareRangesUsingStarts),t[0]}static moveWordPartLeft(n,t,s){const l=h([v.moveWordLeft(n,t,s,0),v.moveWordLeft(n,t,s,2),v._moveWordPartLeft(t,s)]);return l.sort(w.Position.compare),l[2]}static moveWordPartRight(n,t,s){const l=h([v.moveWordRight(n,t,s,0),v.moveWordRight(n,t,s,2),v._moveWordPartRight(t,s)]);return l.sort(w.Position.compare),l[0]}}e.WordPartOperations=u;function h(i){return i.filter(n=>Boolean(n))}}),define(ne[189],oe([1,0,19,62,187,155,11,3]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class v{static addCursorDown(i,n,t){const s=[];let l=0;for(let d=0,a=n.length;d<a;d++){const o=n[d];s[l++]=new f.CursorState(o.modelState,o.viewState),t?s[l++]=f.CursorState.fromModelState(N.MoveOperations.translateDown(i.cursorConfig,i.model,o.modelState)):s[l++]=f.CursorState.fromViewState(N.MoveOperations.translateDown(i.cursorConfig,i,o.viewState))}return s}static addCursorUp(i,n,t){const s=[];let l=0;for(let d=0,a=n.length;d<a;d++){const o=n[d];s[l++]=new f.CursorState(o.modelState,o.viewState),t?s[l++]=f.CursorState.fromModelState(N.MoveOperations.translateUp(i.cursorConfig,i.model,o.modelState)):s[l++]=f.CursorState.fromViewState(N.MoveOperations.translateUp(i.cursorConfig,i,o.viewState))}return s}static moveToBeginningOfLine(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l];s[l]=this._moveToLineStart(i,a,t)}return s}static _moveToLineStart(i,n,t){const s=n.viewState.position.column,l=n.modelState.position.column,d=s===l,a=n.viewState.position.lineNumber,o=i.getLineFirstNonWhitespaceColumn(a);return!d&&!(s===o)?this._moveToLineStartByView(i,n,t):this._moveToLineStartByModel(i,n,t)}static _moveToLineStartByView(i,n,t){return f.CursorState.fromViewState(N.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i,n.viewState,t))}static _moveToLineStartByModel(i,n,t){return f.CursorState.fromModelState(N.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i.model,n.modelState,t))}static moveToEndOfLine(i,n,t,s){const l=[];for(let d=0,a=n.length;d<a;d++){const o=n[d];l[d]=this._moveToLineEnd(i,o,t,s)}return l}static _moveToLineEnd(i,n,t,s){const l=n.viewState.position,d=i.getLineMaxColumn(l.lineNumber),a=l.column===d,o=n.modelState.position,r=i.model.getLineMaxColumn(o.lineNumber),c=d-l.column==r-o.column;return a||c?this._moveToLineEndByModel(i,n,t,s):this._moveToLineEndByView(i,n,t,s)}static _moveToLineEndByView(i,n,t,s){return f.CursorState.fromViewState(N.MoveOperations.moveToEndOfLine(i.cursorConfig,i,n.viewState,t,s))}static _moveToLineEndByModel(i,n,t,s){return f.CursorState.fromModelState(N.MoveOperations.moveToEndOfLine(i.cursorConfig,i.model,n.modelState,t,s))}static expandLineSelection(i,n){const t=[];for(let s=0,l=n.length;s<l;s++){const d=n[s],a=d.modelState.selection.startLineNumber,o=i.model.getLineCount();let r=d.modelState.selection.endLineNumber,c;r===o?c=i.model.getLineMaxColumn(o):(r++,c=1),t[s]=f.CursorState.fromModelState(new f.SingleCursorState(new b.Range(a,1,a,1),0,new w.Position(r,c),0))}return t}static moveToBeginningOfBuffer(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l];s[l]=f.CursorState.fromModelState(N.MoveOperations.moveToBeginningOfBuffer(i.cursorConfig,i.model,a.modelState,t))}return s}static moveToEndOfBuffer(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l];s[l]=f.CursorState.fromModelState(N.MoveOperations.moveToEndOfBuffer(i.cursorConfig,i.model,a.modelState,t))}return s}static selectAll(i,n){const t=i.model.getLineCount(),s=i.model.getLineMaxColumn(t);return f.CursorState.fromModelState(new f.SingleCursorState(new b.Range(1,1,1,1),0,new w.Position(t,s),0))}static line(i,n,t,s,l){const d=i.model.validatePosition(s),a=l?i.coordinatesConverter.validateViewPosition(new w.Position(l.lineNumber,l.column),d):i.coordinatesConverter.convertModelPositionToViewPosition(d);if(!t||!n.modelState.hasSelection()){const r=i.model.getLineCount();let c=d.lineNumber+1,g=1;return c>r&&(c=r,g=i.model.getLineMaxColumn(c)),f.CursorState.fromModelState(new f.SingleCursorState(new b.Range(d.lineNumber,1,c,g),0,new w.Position(c,g),0))}const o=n.modelState.selectionStart.getStartPosition().lineNumber;if(d.lineNumber<o)return f.CursorState.fromViewState(n.viewState.move(n.modelState.hasSelection(),a.lineNumber,1,0));if(d.lineNumber>o){const r=i.getLineCount();let c=a.lineNumber+1,g=1;return c>r&&(c=r,g=i.getLineMaxColumn(c)),f.CursorState.fromViewState(n.viewState.move(n.modelState.hasSelection(),c,g,0))}else{const r=n.modelState.selectionStart.getEndPosition();return f.CursorState.fromModelState(n.modelState.move(n.modelState.hasSelection(),r.lineNumber,r.column,0))}}static word(i,n,t,s){const l=i.model.validatePosition(s);return f.CursorState.fromModelState(D.WordOperations.word(i.cursorConfig,i.model,n.modelState,t,l))}static cancelSelection(i,n){if(!n.modelState.hasSelection())return new f.CursorState(n.modelState,n.viewState);const t=n.viewState.position.lineNumber,s=n.viewState.position.column;return f.CursorState.fromViewState(new f.SingleCursorState(new b.Range(t,s,t,s),0,new w.Position(t,s),0))}static moveTo(i,n,t,s,l){const d=i.model.validatePosition(s),a=l?i.coordinatesConverter.validateViewPosition(new w.Position(l.lineNumber,l.column),d):i.coordinatesConverter.convertModelPositionToViewPosition(d);return f.CursorState.fromViewState(n.viewState.move(t,a.lineNumber,a.column,0))}static simpleMove(i,n,t,s,l,d){switch(t){case 0:return d===4?this._moveHalfLineLeft(i,n,s):this._moveLeft(i,n,s,l);case 1:return d===4?this._moveHalfLineRight(i,n,s):this._moveRight(i,n,s,l);case 2:return d===2?this._moveUpByViewLines(i,n,s,l):this._moveUpByModelLines(i,n,s,l);case 3:return d===2?this._moveDownByViewLines(i,n,s,l):this._moveDownByModelLines(i,n,s,l);case 4:return d===2?n.map(a=>f.CursorState.fromViewState(N.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i,a.viewState,s))):n.map(a=>f.CursorState.fromModelState(N.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i.model,a.modelState,s)));case 5:return d===2?n.map(a=>f.CursorState.fromViewState(N.MoveOperations.moveToNextBlankLine(i.cursorConfig,i,a.viewState,s))):n.map(a=>f.CursorState.fromModelState(N.MoveOperations.moveToNextBlankLine(i.cursorConfig,i.model,a.modelState,s)));case 6:return this._moveToViewMinColumn(i,n,s);case 7:return this._moveToViewFirstNonWhitespaceColumn(i,n,s);case 8:return this._moveToViewCenterColumn(i,n,s);case 9:return this._moveToViewMaxColumn(i,n,s);case 10:return this._moveToViewLastNonWhitespaceColumn(i,n,s);default:return null}}static viewportMove(i,n,t,s,l){const d=i.getCompletelyVisibleViewRange(),a=i.coordinatesConverter.convertViewRangeToModelRange(d);switch(t){case 11:{const o=this._firstLineNumberInRange(i.model,a,l),r=i.model.getLineFirstNonWhitespaceColumn(o);return[this._moveToModelPosition(i,n[0],s,o,r)]}case 13:{const o=this._lastLineNumberInRange(i.model,a,l),r=i.model.getLineFirstNonWhitespaceColumn(o);return[this._moveToModelPosition(i,n[0],s,o,r)]}case 12:{const o=Math.round((a.startLineNumber+a.endLineNumber)/2),r=i.model.getLineFirstNonWhitespaceColumn(o);return[this._moveToModelPosition(i,n[0],s,o,r)]}case 14:{const o=[];for(let r=0,c=n.length;r<c;r++){const g=n[r];o[r]=this.findPositionInViewportIfOutside(i,g,d,s)}return o}default:return null}}static findPositionInViewportIfOutside(i,n,t,s){const l=n.viewState.position.lineNumber;if(t.startLineNumber<=l&&l<=t.endLineNumber-1)return new f.CursorState(n.modelState,n.viewState);{let d;l>t.endLineNumber-1?d=t.endLineNumber-1:l<t.startLineNumber?d=t.startLineNumber:d=l;const a=N.MoveOperations.vertical(i.cursorConfig,i,l,n.viewState.position.column,n.viewState.leftoverVisibleColumns,d,!1);return f.CursorState.fromViewState(n.viewState.move(s,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(i,n,t){let s=n.startLineNumber;return n.startColumn!==i.getLineMinColumn(s)&&s++,Math.min(n.endLineNumber,s+t-1)}static _lastLineNumberInRange(i,n,t){let s=n.startLineNumber;return n.startColumn!==i.getLineMinColumn(s)&&s++,Math.max(s,n.endLineNumber-t+1)}static _moveLeft(i,n,t,s){return n.map(l=>f.CursorState.fromViewState(N.MoveOperations.moveLeft(i.cursorConfig,i,l.viewState,t,s)))}static _moveHalfLineLeft(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l],o=a.viewState.position.lineNumber,r=Math.round(i.getLineContent(o).length/2);s[l]=f.CursorState.fromViewState(N.MoveOperations.moveLeft(i.cursorConfig,i,a.viewState,t,r))}return s}static _moveRight(i,n,t,s){return n.map(l=>f.CursorState.fromViewState(N.MoveOperations.moveRight(i.cursorConfig,i,l.viewState,t,s)))}static _moveHalfLineRight(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l],o=a.viewState.position.lineNumber,r=Math.round(i.getLineContent(o).length/2);s[l]=f.CursorState.fromViewState(N.MoveOperations.moveRight(i.cursorConfig,i,a.viewState,t,r))}return s}static _moveDownByViewLines(i,n,t,s){const l=[];for(let d=0,a=n.length;d<a;d++){const o=n[d];l[d]=f.CursorState.fromViewState(N.MoveOperations.moveDown(i.cursorConfig,i,o.viewState,t,s))}return l}static _moveDownByModelLines(i,n,t,s){const l=[];for(let d=0,a=n.length;d<a;d++){const o=n[d];l[d]=f.CursorState.fromModelState(N.MoveOperations.moveDown(i.cursorConfig,i.model,o.modelState,t,s))}return l}static _moveUpByViewLines(i,n,t,s){const l=[];for(let d=0,a=n.length;d<a;d++){const o=n[d];l[d]=f.CursorState.fromViewState(N.MoveOperations.moveUp(i.cursorConfig,i,o.viewState,t,s))}return l}static _moveUpByModelLines(i,n,t,s){const l=[];for(let d=0,a=n.length;d<a;d++){const o=n[d];l[d]=f.CursorState.fromModelState(N.MoveOperations.moveUp(i.cursorConfig,i.model,o.modelState,t,s))}return l}static _moveToViewPosition(i,n,t,s,l){return f.CursorState.fromViewState(n.viewState.move(t,s,l,0))}static _moveToModelPosition(i,n,t,s,l){return f.CursorState.fromModelState(n.modelState.move(t,s,l,0))}static _moveToViewMinColumn(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l],o=a.viewState.position.lineNumber,r=i.getLineMinColumn(o);s[l]=this._moveToViewPosition(i,a,t,o,r)}return s}static _moveToViewFirstNonWhitespaceColumn(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l],o=a.viewState.position.lineNumber,r=i.getLineFirstNonWhitespaceColumn(o);s[l]=this._moveToViewPosition(i,a,t,o,r)}return s}static _moveToViewCenterColumn(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l],o=a.viewState.position.lineNumber,r=Math.round((i.getLineMaxColumn(o)+i.getLineMinColumn(o))/2);s[l]=this._moveToViewPosition(i,a,t,o,r)}return s}static _moveToViewMaxColumn(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l],o=a.viewState.position.lineNumber,r=i.getLineMaxColumn(o);s[l]=this._moveToViewPosition(i,a,t,o,r)}return s}static _moveToViewLastNonWhitespaceColumn(i,n,t){const s=[];for(let l=0,d=n.length;l<d;l++){const a=n[l],o=a.viewState.position.lineNumber,r=i.getLineLastNonWhitespaceColumn(o);s[l]=this._moveToViewPosition(i,a,t,o,r)}return s}}e.CursorMoveCommands=v;var u;(function(h){const i=function(t){if(!y.isObject(t))return!1;const s=t;return!(!y.isString(s.to)||!y.isUndefined(s.select)&&!y.isBoolean(s.select)||!y.isUndefined(s.by)&&!y.isString(s.by)||!y.isUndefined(s.value)&&!y.isNumber(s.value))};h.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:i,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},h.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},h.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function n(t){if(!t.to)return null;let s;switch(t.to){case h.RawDirection.Left:s=0;break;case h.RawDirection.Right:s=1;break;case h.RawDirection.Up:s=2;break;case h.RawDirection.Down:s=3;break;case h.RawDirection.PrevBlankLine:s=4;break;case h.RawDirection.NextBlankLine:s=5;break;case h.RawDirection.WrappedLineStart:s=6;break;case h.RawDirection.WrappedLineFirstNonWhitespaceCharacter:s=7;break;case h.RawDirection.WrappedLineColumnCenter:s=8;break;case h.RawDirection.WrappedLineEnd:s=9;break;case h.RawDirection.WrappedLineLastNonWhitespaceCharacter:s=10;break;case h.RawDirection.ViewPortTop:s=11;break;case h.RawDirection.ViewPortBottom:s=13;break;case h.RawDirection.ViewPortCenter:s=12;break;case h.RawDirection.ViewPortIfOutside:s=14;break;default:return null}let l=0;switch(t.by){case h.RawUnit.Line:l=1;break;case h.RawUnit.WrappedLine:l=2;break;case h.RawUnit.Character:l=3;break;case h.RawUnit.HalfLine:l=4;break}return{direction:s,unit:l,select:!!t.select,value:t.value||1}}h.parse=n})(u=e.CursorMove||(e.CursorMove={}))}),define(ne[426],oe([1,0,62,11,3,23]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class w{constructor(v){this._selTrackedRange=null,this._trackSelection=!0,this._setState(v,new y.SingleCursorState(new N.Range(1,1,1,1),0,new f.Position(1,1),0),new y.SingleCursorState(new N.Range(1,1,1,1),0,new f.Position(1,1),0))}dispose(v){this._removeTrackedRange(v)}startTrackingSelection(v){this._trackSelection=!0,this._updateTrackedRange(v)}stopTrackingSelection(v){this._trackSelection=!1,this._removeTrackedRange(v)}_updateTrackedRange(v){!this._trackSelection||(this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(v){this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new y.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(v){const u=v.model._getTrackedRange(this._selTrackedRange);return D.Selection.fromRange(u,this.modelState.selection.getDirection())}ensureValidState(v){this._setState(v,this.modelState,this.viewState)}setState(v,u,h){this._setState(v,u,h)}static _validatePositionWithCache(v,u,h,i){return u.equals(h)?i:v.normalizePosition(u,2)}static _validateViewState(v,u){const h=u.position,i=u.selectionStart.getStartPosition(),n=u.selectionStart.getEndPosition(),t=v.normalizePosition(h,2),s=this._validatePositionWithCache(v,i,h,t),l=this._validatePositionWithCache(v,n,i,s);return h.equals(t)&&i.equals(s)&&n.equals(l)?u:new y.SingleCursorState(N.Range.fromPositions(s,l),u.selectionStartLeftoverVisibleColumns+i.column-s.column,t,u.leftoverVisibleColumns+h.column-t.column)}_setState(v,u,h){if(h&&(h=w._validateViewState(v.viewModel,h)),u){const i=v.model.validateRange(u.selectionStart),n=u.selectionStart.equalsRange(i)?u.selectionStartLeftoverVisibleColumns:0,t=v.model.validatePosition(u.position),s=u.position.equals(t)?u.leftoverVisibleColumns:0;u=new y.SingleCursorState(i,n,t,s)}else{if(!h)return;const i=v.model.validateRange(v.coordinatesConverter.convertViewRangeToModelRange(h.selectionStart)),n=v.model.validatePosition(v.coordinatesConverter.convertViewPositionToModelPosition(h.position));u=new y.SingleCursorState(i,h.selectionStartLeftoverVisibleColumns,n,h.leftoverVisibleColumns)}if(h){const i=v.coordinatesConverter.validateViewRange(h.selectionStart,u.selectionStart),n=v.coordinatesConverter.validateViewPosition(h.position,u.position);h=new y.SingleCursorState(i,u.selectionStartLeftoverVisibleColumns,n,u.leftoverVisibleColumns)}else{const i=v.coordinatesConverter.convertModelPositionToViewPosition(new f.Position(u.selectionStart.startLineNumber,u.selectionStart.startColumn)),n=v.coordinatesConverter.convertModelPositionToViewPosition(new f.Position(u.selectionStart.endLineNumber,u.selectionStart.endColumn)),t=new N.Range(i.lineNumber,i.column,n.lineNumber,n.column),s=v.coordinatesConverter.convertModelPositionToViewPosition(u.position);h=new y.SingleCursorState(t,u.selectionStartLeftoverVisibleColumns,s,u.leftoverVisibleColumns)}this.modelState=u,this.viewState=h,this._updateTrackedRange(v)}}e.Cursor=w}),define(ne[427],oe([1,0,18,62,426,11,3,23]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class v{constructor(h){this.context=h,this.cursors=[new N.Cursor(h)],this.lastAddedCursorIndex=0}dispose(){for(const h of this.cursors)h.dispose(this.context)}startTrackingSelections(){for(const h of this.cursors)h.startTrackingSelection(this.context)}stopTrackingSelections(){for(const h of this.cursors)h.stopTrackingSelection(this.context)}updateContext(h){this.context=h}ensureValidState(){for(const h of this.cursors)h.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(h=>h.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(h=>h.asCursorState())}getViewPositions(){return this.cursors.map(h=>h.viewState.position)}getTopMostViewPosition(){return(0,y.findMinBy)(this.cursors,(0,y.compareBy)(h=>h.viewState.position,D.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,y.findLastMaxBy)(this.cursors,(0,y.compareBy)(h=>h.viewState.position,D.Position.compare)).viewState.position}getSelections(){return this.cursors.map(h=>h.modelState.selection)}getViewSelections(){return this.cursors.map(h=>h.viewState.selection)}setSelections(h){this.setStates(f.CursorState.fromModelSelections(h))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(h){h!==null&&(this.cursors[0].setState(this.context,h[0].modelState,h[0].viewState),this._setSecondaryStates(h.slice(1)))}_setSecondaryStates(h){const i=this.cursors.length-1,n=h.length;if(i<n){const t=n-i;for(let s=0;s<t;s++)this._addSecondaryCursor()}else if(i>n){const t=i-n;for(let s=0;s<t;s++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<n;t++)this.cursors[t+1].setState(this.context,h[t].modelState,h[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new N.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(h){this.lastAddedCursorIndex>=h+1&&this.lastAddedCursorIndex--,this.cursors[h+1].dispose(this.context),this.cursors.splice(h+1,1)}normalize(){if(this.cursors.length===1)return;const h=this.cursors.slice(0),i=[];for(let n=0,t=h.length;n<t;n++)i.push({index:n,selection:h[n].modelState.selection});i.sort((0,y.compareBy)(n=>n.selection,w.Range.compareRangesUsingStarts));for(let n=0;n<i.length-1;n++){const t=i[n],s=i[n+1],l=t.selection,d=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(d.isEmpty()||l.isEmpty()?a=d.getStartPosition().isBeforeOrEqual(l.getEndPosition()):a=d.getStartPosition().isBefore(l.getEndPosition()),a){const o=t.index<s.index?n:n+1,r=t.index<s.index?n+1:n,c=i[r].index,g=i[o].index,m=i[r].selection,S=i[o].selection;if(!m.equalsSelection(S)){const p=m.plusRange(S),C=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn,_=S.selectionStartLineNumber===S.startLineNumber&&S.selectionStartColumn===S.startColumn;let L;c===this.lastAddedCursorIndex?(L=C,this.lastAddedCursorIndex=g):L=_;let E;L?E=new b.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):E=new b.Selection(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),i[o].selection=E;const I=f.CursorState.fromModelSelection(E);h[g].setState(this.context,I.modelState,I.viewState)}for(const p of i)p.index>c&&p.index--;h.splice(c,1),i.splice(r,1),this._removeSecondaryCursor(c-1),n--}}}}e.CursorCollection=v}),define(ne[428],oe([1,0,97]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class f{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(w=>new y.StandardAutoClosingPairConditional(w)):D.brackets?this._autoClosingPairs=D.brackets.map(w=>new y.StandardAutoClosingPairConditional({open:w[0],close:w[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const w=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new y.StandardAutoClosingPairConditional({open:w.open,close:w.close||""}))}this._autoCloseBefore=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:f.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=f,f.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(ne[429],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function y(N){return N.global&&(N.lastIndex=0),!0}class f{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&y(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&y(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&y(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&y(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let w=0;return this.shouldIncrease(D)&&(w+=1),this.shouldDecrease(D)&&(w+=2),this.shouldIndentNextLine(D)&&(w+=4),this.shouldIgnore(D)&&(w+=8),w}}e.IndentRulesSupport=f}),define(ne[430],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class y{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(N,D,w,b,v){if(N&&D){const u=this.doNavigateValueSet(D,v);if(u)return{range:N,value:u}}if(w&&b){const u=this.doNavigateValueSet(b,v);if(u)return{range:w,value:u}}return null}doNavigateValueSet(N,D){const w=this.numberReplace(N,D);return w!==null?w:this.textReplace(N,D)}numberReplace(N,D){const w=Math.pow(10,N.length-(N.lastIndexOf(".")+1));let b=Number(N);const v=parseFloat(N);return!isNaN(b)&&!isNaN(v)&&b===v?b===0&&!D?null:(b=Math.floor(b*w),b+=D?w:-w,String(b/w)):null}textReplace(N,D){return this.valueSetsReplace(this._defaultValueSet,N,D)}valueSetsReplace(N,D,w){let b=null;for(let v=0,u=N.length;b===null&&v<u;v++)b=this.valueSetReplace(N[v],D,w);return b}valueSetReplace(N,D,w){let b=N.indexOf(D);return b>=0?(b+=w?1:-1,b<0?b=N.length-1:b%=N.length,N[b]):null}}e.BasicInplaceReplace=y,y.INSTANCE=new y}),define(ne[431],oe([1,0,222,13]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class N{constructor(h,i){this.languageId=h;let n;i.colorizedBracketPairs?n=D(i.colorizedBracketPairs.map(l=>[l[0],l[1]])):i.brackets?n=D(i.brackets.map(l=>[l[0],l[1]]).filter(l=>!(l[0]==="<"&&l[1]===">"))):n=[];const t=new y.CachedFunction(l=>{const d=new Set;return{info:new b(this,l,d),closing:d}}),s=new y.CachedFunction(l=>{const d=new Set;return{info:new v(this,l,d),opening:d}});for(const[l,d]of n){const a=t.get(l),o=s.get(d);a.closing.add(o.info),o.opening.add(a.info)}this._openingBrackets=new Map([...t.cachedValues].map(([l,d])=>[l,d.info])),this._closingBrackets=new Map([...s.cachedValues].map(([l,d])=>[l,d.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(h){return this._openingBrackets.get(h)}getClosingBracketInfo(h){return this._closingBrackets.get(h)}getBracketInfo(h){return this.getOpeningBracketInfo(h)||this.getClosingBracketInfo(h)}}e.LanguageBracketsConfiguration=N;function D(u){return u.filter(([h,i])=>h!==""&&i!=="")}class w{constructor(h,i){this.config=h,this.bracketText=i}get languageId(){return this.config.languageId}}e.BracketKindBase=w;class b extends w{constructor(h,i,n){super(h,i);this.openedBrackets=n,this.isOpeningBracket=!0}}e.OpeningBracketKind=b;class v extends w{constructor(h,i,n){super(h,i);this.closedBrackets=n,this.isOpeningBracket=!1}closes(h){if(h.languageId===this.languageId&&h.config!==this.config)throw new f.BugIndicatingError("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(h)}getClosedBrackets(){return[...this.closedBrackets]}}e.ClosingBracketKind=v}),define(ne[432],oe([1,0,13,9,97]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(b){b=b||{},b.brackets=b.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],b.brackets.forEach(v=>{const u=D._createOpenBracketRegExp(v[0]),h=D._createCloseBracketRegExp(v[1]);u&&h&&this._brackets.push({open:v[0],openRegExp:u,close:v[1],closeRegExp:h})}),this._regExpRules=b.onEnterRules||[]}onEnter(b,v,u,h){if(b>=3)for(let i=0,n=this._regExpRules.length;i<n;i++){const t=this._regExpRules[i];if([{reg:t.beforeText,text:u},{reg:t.afterText,text:h},{reg:t.previousLineText,text:v}].every(l=>l.reg?(l.reg.lastIndex=0,l.reg.test(l.text)):!0))return t.action}if(b>=2&&u.length>0&&h.length>0)for(let i=0,n=this._brackets.length;i<n;i++){const t=this._brackets[i];if(t.openRegExp.test(u)&&t.closeRegExp.test(h))return{indentAction:N.IndentAction.IndentOutdent}}if(b>=2&&u.length>0){for(let i=0,n=this._brackets.length;i<n;i++)if(this._brackets[i].openRegExp.test(u))return{indentAction:N.IndentAction.Indent}}return null}static _createOpenBracketRegExp(b){let v=f.escapeRegExpCharacters(b);return/\B/.test(v.charAt(0))||(v="\\b"+v),v+="\\s*$",D._safeRegExp(v)}static _createCloseBracketRegExp(b){let v=f.escapeRegExpCharacters(b);return/\B/.test(v.charAt(v.length-1))||(v=v+"\\b"),v="^\\s*"+v,D._safeRegExp(v)}static _safeRegExp(b){try{return new RegExp(b)}catch(v){return(0,y.onUnexpectedError)(v),null}}}e.OnEnterSupport=D}),define(ne[190],oe([1,0,9,96,3]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(c,g,m,S,p,C){this._richEditBracketBrand=void 0,this.languageId=c,this.index=g,this.open=m,this.close=S,this.forwardRegex=p,this.reversedRegex=C,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(c){return this._openSet.has(c)}isClose(c){return this._closeSet.has(c)}static _toSet(c){const g=new Set;for(const m of c)g.add(m);return g}}e.RichEditBracket=D;function w(r){const c=r.length;r=r.map(C=>[C[0].toLowerCase(),C[1].toLowerCase()]);const g=[];for(let C=0;C<c;C++)g[C]=C;const m=(C,_)=>{const[L,E]=C,[I,T]=_;return L===I||L===T||E===I||E===T},S=(C,_)=>{const L=Math.min(C,_),E=Math.max(C,_);for(let I=0;I<c;I++)g[I]===E&&(g[I]=L)};for(let C=0;C<c;C++){const _=r[C];for(let L=C+1;L<c;L++){const E=r[L];m(_,E)&&S(g[C],g[L])}}const p=[];for(let C=0;C<c;C++){const _=[],L=[];for(let E=0;E<c;E++)if(g[E]===C){const[I,T]=r[E];_.push(I),L.push(T)}_.length>0&&p.push({open:_,close:L})}return p}class b{constructor(c,g){this._richEditBracketsBrand=void 0;const m=w(g);this.brackets=m.map((S,p)=>new D(c,p,S.open,S.close,i(S.open,S.close,m,p),n(S.open,S.close,m,p))),this.forwardRegex=t(this.brackets),this.reversedRegex=s(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const S of this.brackets){for(const p of S.open)this.textIsBracket[p]=S,this.textIsOpenBracket[p]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,p.length);for(const p of S.close)this.textIsBracket[p]=S,this.textIsOpenBracket[p]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,p.length)}}}e.RichEditBrackets=b;function v(r,c,g,m){for(let S=0,p=c.length;S<p;S++){if(S===g)continue;const C=c[S];for(const _ of C.open)_.indexOf(r)>=0&&m.push(_);for(const _ of C.close)_.indexOf(r)>=0&&m.push(_)}}function u(r,c){return r.length-c.length}function h(r){if(r.length<=1)return r;const c=[],g=new Set;for(const m of r)g.has(m)||(c.push(m),g.add(m));return c}function i(r,c,g,m){let S=[];S=S.concat(r),S=S.concat(c);for(let p=0,C=S.length;p<C;p++)v(S[p],g,m,S);return S=h(S),S.sort(u),S.reverse(),d(S)}function n(r,c,g,m){let S=[];S=S.concat(r),S=S.concat(c);for(let p=0,C=S.length;p<C;p++)v(S[p],g,m,S);return S=h(S),S.sort(u),S.reverse(),d(S.map(a))}function t(r){let c=[];for(const g of r){for(const m of g.open)c.push(m);for(const m of g.close)c.push(m)}return c=h(c),d(c)}function s(r){let c=[];for(const g of r){for(const m of g.open)c.push(m);for(const m of g.close)c.push(m)}return c=h(c),d(c.map(a))}function l(r){const c=/^[\w ]+$/.test(r);return r=y.escapeRegExpCharacters(r),c?`\\b${r}\\b`:r}function d(r){const c=`(${r.map(l).join(")|(")})`;return y.createRegExp(c,!0)}const a=function(){function r(m){if(f.hasTextDecoder){const S=new Uint16Array(m.length);let p=0;for(let C=m.length-1;C>=0;C--)S[p++]=m.charCodeAt(C);return f.getPlatformTextDecoder().decode(S)}else{const S=[];let p=0;for(let C=m.length-1;C>=0;C--)S[p++]=m.charAt(C);return S.join("")}}let c=null,g=null;return function(S){return c!==S&&(c=S,g=r(c)),g}}();class o{static _findPrevBracketInText(c,g,m,S){const p=m.match(c);if(!p)return null;const C=m.length-(p.index||0),_=p[0].length,L=S+C;return new N.Range(g,L-_+1,g,L+1)}static findPrevBracketInRange(c,g,m,S,p){const _=a(m).substring(m.length-p,m.length-S);return this._findPrevBracketInText(c,g,_,S)}static findNextBracketInText(c,g,m,S){const p=m.match(c);if(!p)return null;const C=p.index||0,_=p[0].length;if(_===0)return null;const L=S+C;return new N.Range(g,L+1,g,L+1+_)}static findNextBracketInRange(c,g,m,S,p){const C=m.substring(S,p);return this.findNextBracketInText(c,g,C,S)}}e.BracketsUtils=o}),define(ne[433],oe([1,0,18,110,190]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(b){this._richEditBrackets=b}getElectricCharacters(){const b=[];if(this._richEditBrackets)for(const v of this._richEditBrackets.brackets)for(const u of v.close){const h=u.charAt(u.length-1);b.push(h)}return(0,y.distinct)(b)}onElectricCharacter(b,v,u){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const h=v.findTokenIndexAtOffset(u-1);if((0,f.ignoreBracketsInToken)(v.getStandardTokenType(h)))return null;const i=this._richEditBrackets.reversedRegex,n=v.getLineContent().substring(0,u-1)+b,t=N.BracketsUtils.findPrevBracketInRange(i,1,n,0,n.length);if(!t)return null;const s=n.substring(t.startColumn-1,t.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[s])return null;const d=v.getActualLineContentBefore(t.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:s}:null}}e.BracketElectricCharacterSupport=D}),define(ne[434],oe([1,0,31]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class f{constructor(d,a,o,r,c){this._parsedThemeRuleBrand=void 0,this.token=d,this.index=a,this.fontStyle=o,this.foreground=r,this.background=c}}e.ParsedTokenThemeRule=f;function N(l){if(!l||!Array.isArray(l))return[];const d=[];let a=0;for(let o=0,r=l.length;o<r;o++){const c=l[o];let g=-1;if(typeof c.fontStyle=="string"){g=0;const p=c.fontStyle.split(" ");for(let C=0,_=p.length;C<_;C++)switch(p[C]){case"italic":g=g|1;break;case"bold":g=g|2;break;case"underline":g=g|4;break;case"strikethrough":g=g|8;break}}let m=null;typeof c.foreground=="string"&&(m=c.foreground);let S=null;typeof c.background=="string"&&(S=c.background),d[a++]=new f(c.token||"",o,g,m,S)}return d}e.parseTokenTheme=N;function D(l,d){l.sort((C,_)=>{const L=i(C.token,_.token);return L!==0?L:C.index-_.index});let a=0,o="000000",r="ffffff";for(;l.length>=1&&l[0].token==="";){const C=l.shift();C.fontStyle!==-1&&(a=C.fontStyle),C.foreground!==null&&(o=C.foreground),C.background!==null&&(r=C.background)}const c=new b;for(const C of d)c.getId(C);const g=c.getId(o),m=c.getId(r),S=new n(a,g,m),p=new t(S);for(let C=0,_=l.length;C<_;C++){const L=l[C];p.insert(L.token,L.fontStyle,c.getId(L.foreground),c.getId(L.background))}return new v(c,p)}const w=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class b{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(d){if(d===null)return 0;const a=d.match(w);if(!a)throw new Error("Illegal value for token color: "+d);d=a[1].toUpperCase();let o=this._color2id.get(d);return o||(o=++this._lastColorId,this._color2id.set(d,o),this._id2color[o]=y.Color.fromHex("#"+d),o)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=b;class v{constructor(d,a){this._colorMap=d,this._root=a,this._cache=new Map}static createFromRawTokenTheme(d,a){return this.createFromParsedTokenTheme(N(d),a)}static createFromParsedTokenTheme(d,a){return D(d,a)}getColorMap(){return this._colorMap.getColorMap()}_match(d){return this._root.match(d)}match(d,a){let o=this._cache.get(a);if(typeof o=="undefined"){const r=this._match(a),c=h(a);o=(r.metadata|c<<8)>>>0,this._cache.set(a,o)}return(o|d<<0)>>>0}}e.TokenTheme=v;const u=/\b(comment|string|regex|regexp)\b/;function h(l){const d=l.match(u);if(!d)return 0;switch(d[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=h;function i(l,d){return l<d?-1:l>d?1:0}e.strcmp=i;class n{constructor(d,a,o){this._themeTrieElementRuleBrand=void 0,this._fontStyle=d,this._foreground=a,this._background=o,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new n(this._fontStyle,this._foreground,this._background)}acceptOverwrite(d,a,o){d!==-1&&(this._fontStyle=d),a!==0&&(this._foreground=a),o!==0&&(this._background=o),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=n;class t{constructor(d){this._themeTrieElementBrand=void 0,this._mainRule=d,this._children=new Map}match(d){if(d==="")return this._mainRule;const a=d.indexOf(".");let o,r;a===-1?(o=d,r=""):(o=d.substring(0,a),r=d.substring(a+1));const c=this._children.get(o);return typeof c!="undefined"?c.match(r):this._mainRule}insert(d,a,o,r){if(d===""){this._mainRule.acceptOverwrite(a,o,r);return}const c=d.indexOf(".");let g,m;c===-1?(g=d,m=""):(g=d.substring(0,c),m=d.substring(c+1));let S=this._children.get(g);typeof S=="undefined"&&(S=new t(this._mainRule.clone()),this._children.set(g,S)),S.insert(m,a,o,r)}}e.ThemeTrieElement=t;function s(l){const d=[];for(let a=1,o=l.length;a<o;a++){const r=l[a];d[a]=`.mtk${a} { color: ${r}; }`}return d.push(".mtki { font-style: italic; }"),d.push(".mtkb { font-weight: bold; }"),d.push(".mtku { text-decoration: underline; text-underline-position: under; }"),d.push(".mtks { text-decoration: line-through; }"),d.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),d.join(`
`)}e.generateTokensCSSForColorMap=s}),define(ne[48],oe([1,0,39]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.OverviewRulerLane=void 0;var f;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(f=e.OverviewRulerLane||(e.OverviewRulerLane={}));var N;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(N=e.MinimapPosition||(e.MinimapPosition={}));var D;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(D=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));class w{constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,t.tabSize|0),this.indentSize=t.tabSize|0,this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=t.defaultEOL|0,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,y.equals)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}e.TextModelResolvedOptions=w;class b{constructor(t,s){this._findMatchBrand=void 0,this.range=t,this.matches=s}}e.FindMatch=b;class v{constructor(t,s,l,d,a,o){this.identifier=t,this.range=s,this.text=l,this.forceMoveMarkers=d,this.isAutoWhitespaceEdit=a,this._isTracked=o}}e.ValidAnnotatedEditOperation=v;class u{constructor(t,s,l){this.regex=t,this.wordSeparators=s,this.simpleSearch=l}}e.SearchData=u;class h{constructor(t,s,l){this.reverseEdits=t,this.changes=s,this.trimAutoWhitespaceLineNumbers=l}}e.ApplyEditsResult=h;function i(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}e.shouldSynchronizeModel=i}),define(ne[435],oe([1,0,4,2,48,423]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function w(u){return typeof u=="string"?!1:Array.isArray(u)?u.every(w):!!u.exclusive}class b{constructor(h,i,n,t){this.uri=h,this.languageId=i,this.notebookUri=n,this.notebookType=t}equals(h){var i,n;return this.notebookType===h.notebookType&&this.languageId===h.languageId&&this.uri.toString()===h.uri.toString()&&((i=this.notebookUri)===null||i===void 0?void 0:i.toString())===((n=h.notebookUri)===null||n===void 0?void 0:n.toString())}}class v{constructor(h){this._notebookInfoResolver=h,this._clock=0,this._entries=[],this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event}register(h,i){let n={selector:h,provider:i,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,f.toDisposable)(()=>{if(n){const t=this._entries.indexOf(n);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(h){return this.all(h).length>0}all(h){if(!h)return[];this._updateScores(h);const i=[];for(const n of this._entries)n._score>0&&i.push(n.provider);return i}ordered(h){const i=[];return this._orderedForEach(h,n=>i.push(n.provider)),i}orderedGroups(h){const i=[];let n,t;return this._orderedForEach(h,s=>{n&&t===s._score?n.push(s.provider):(t=s._score,n=[s.provider],i.push(n))}),i}_orderedForEach(h,i){this._updateScores(h);for(const n of this._entries)n._score>0&&i(n)}_updateScores(h){var i,n;const t=(i=this._notebookInfoResolver)===null||i===void 0?void 0:i.call(this,h.uri),s=t?new b(h.uri,h.getLanguageId(),t.uri,t.type):new b(h.uri,h.getLanguageId(),void 0,void 0);if(!((n=this._lastCandidate)===null||n===void 0?void 0:n.equals(s))){this._lastCandidate=s;for(const l of this._entries)if(l._score=(0,D.score)(l.selector,s.uri,s.languageId,(0,N.shouldSynchronizeModel)(h),s.notebookUri,s.notebookType),w(l.selector)&&l._score>0){for(const d of this._entries)d._score=0;l._score=1e3;break}this._entries.sort(v._compareByScoreAndTime)}}static _compareByScoreAndTime(h,i){return h._score<i._score?1:h._score>i._score?-1:h._time<i._time?1:h._time>i._time?-1:0}}e.LanguageFeatureRegistry=v}),define(ne[86],oe([1,0,9,3]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class N{constructor(g,m){this.lineCount=g,this.columnCount=m}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=N,N.zero=new N(0,0);function D(c,g,m,S){return c!==m?v(m-c,S):v(0,S-g)}e.lengthDiff=D,e.lengthZero=0;function w(c){return c===0}e.lengthIsZero=w;const b=Math.pow(2,26);function v(c,g){return c*b+g}e.toLength=v;function u(c){const g=c,m=Math.floor(g/b),S=g-m*b;return new N(m,S)}e.lengthToObj=u;function h(c){return Math.floor(c/b)}e.lengthGetLineCount=h;function i(c){return c}e.lengthGetColumnCountIfZeroLineCount=i;function n(c,g){return g<b?c+g:c-c%b+g}e.lengthAdd=n;function t(c,g){const m=c,S=g;if(S-m<=0)return e.lengthZero;const C=Math.floor(m/b),_=Math.floor(S/b),L=S-_*b;if(C===_){const E=m-C*b;return v(0,L-E)}else return v(_-C,L)}e.lengthDiffNonNegative=t;function s(c,g){return c<g}e.lengthLessThan=s;function l(c,g){return c<=g}e.lengthLessThanEqual=l;function d(c,g){return c>=g}e.lengthGreaterThanEqual=d;function a(c){return v(c.lineNumber-1,c.column-1)}e.positionToLength=a;function o(c,g){const m=c,S=Math.floor(m/b),p=m-S*b,C=g,_=Math.floor(C/b),L=C-_*b;return new f.Range(S+1,p+1,_+1,L+1)}e.lengthsToRange=o;function r(c){const g=(0,y.splitLines)(c);return v(g.length-1,g[g.length-1].length)}e.lengthOfString=r}),define(ne[250],oe([1,0,86]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class f{constructor(b,v,u){this.startOffset=b,this.endOffset=v,this.newLength=u}}e.TextEditInfo=f;class N{constructor(b,v){this.documentLength=v,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=b.map(u=>D.from(u))}getOffsetBeforeChange(b){return this.adjustNextEdit(b),this.translateCurToOld(b)}getDistanceToNextChange(b){this.adjustNextEdit(b);const v=this.edits[this.nextEditIdx],u=v?this.translateOldToCur(v.offsetObj):this.documentLength;return(0,y.lengthDiffNonNegative)(b,u)}translateOldToCur(b){return b.lineCount===this.deltaLineIdxInOld?(0,y.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount+this.deltaOldToNewColumnCount):(0,y.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount)}translateCurToOld(b){const v=(0,y.lengthToObj)(b);return v.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,y.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount-this.deltaOldToNewColumnCount):(0,y.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount)}adjustNextEdit(b){for(;this.nextEditIdx<this.edits.length;){const v=this.edits[this.nextEditIdx],u=this.translateOldToCur(v.endOffsetAfterObj);if((0,y.lengthLessThanEqual)(u,b)){this.nextEditIdx++;const h=(0,y.lengthToObj)(u),i=(0,y.lengthToObj)(this.translateOldToCur(v.endOffsetBeforeObj)),n=h.lineCount-i.lineCount;this.deltaOldToNewLineCount+=n;const t=this.deltaLineIdxInOld===v.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,s=h.columnCount-i.columnCount;this.deltaOldToNewColumnCount=t+s,this.deltaLineIdxInOld=v.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=N;class D{constructor(b,v,u){this.endOffsetBeforeObj=(0,y.lengthToObj)(v),this.endOffsetAfterObj=(0,y.lengthToObj)((0,y.lengthAdd)(b,u)),this.offsetObj=(0,y.lengthToObj)(b)}static from(b){return new D(b.startOffset,b.endOffset,b.newLength)}}}),define(ne[436],oe([1,0,86]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class f{constructor(b){this.lastOffset=y.lengthZero,this.nextNodes=[b],this.offsets=[y.lengthZero],this.idxs=[]}readLongestNodeAt(b,v){if((0,y.lengthLessThan)(b,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=b;;){const u=D(this.nextNodes);if(!u)return;const h=D(this.offsets);if((0,y.lengthLessThan)(b,h))return;if((0,y.lengthLessThan)(h,b))if((0,y.lengthAdd)(h,u.length)<=b)this.nextNodeAfterCurrent();else{const i=N(u);i!==-1?(this.nextNodes.push(u.getChild(i)),this.offsets.push(h),this.idxs.push(i)):this.nextNodeAfterCurrent()}else{if(v(u))return this.nextNodeAfterCurrent(),u;{const i=N(u);if(i===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(u.getChild(i)),this.offsets.push(h),this.idxs.push(i)}}}}nextNodeAfterCurrent(){for(;;){const b=D(this.offsets),v=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const u=D(this.nextNodes),h=N(u,this.idxs[this.idxs.length-1]);if(h!==-1){this.nextNodes.push(u.getChild(h)),this.offsets.push((0,y.lengthAdd)(b,v.length)),this.idxs[this.idxs.length-1]=h;break}else this.idxs.pop()}}}e.NodeReader=f;function N(w,b=-1){for(;;){if(b++,b>=w.childrenLength)return-1;if(w.getChild(b))return b}}function D(w){return w.length>0?w[w.length-1]:void 0}}),define(ne[111],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const y=new Array;class f{constructor(w,b){this.items=w,this.additionalItems=b}static create(w,b){if(w<=128&&b.length===0){let v=f.cache[w];return v||(v=new f(w,b),f.cache[w]=v),v}return new f(w,b)}static getEmpty(){return this.empty}add(w,b){const v=b.getKey(w);let u=v>>5;if(u===0){const i=1<<v|this.items;return i===this.items?this:f.create(i,this.additionalItems)}u--;const h=this.additionalItems.slice(0);for(;h.length<u;)h.push(0);return h[u]|=1<<(v&31),f.create(this.items,h)}merge(w){const b=this.items|w.items;if(this.additionalItems===y&&w.additionalItems===y)return b===this.items?this:b===w.items?w:f.create(b,y);const v=new Array;for(let u=0;u<Math.max(this.additionalItems.length,w.additionalItems.length);u++){const h=this.additionalItems[u]||0,i=w.additionalItems[u]||0;v.push(h|i)}return f.create(b,v)}intersects(w){if((this.items&w.items)!=0)return!0;for(let b=0;b<Math.min(this.additionalItems.length,w.additionalItems.length);b++)if((this.additionalItems[b]&w.additionalItems[b])!=0)return!0;return!1}}e.SmallImmutableSet=f,f.cache=new Array(129),f.empty=f.create(0,y),e.identityKeyProvider={getKey(D){return D}};class N{constructor(){this.items=new Map}getKey(w){let b=this.items.get(w);return b===void 0&&(b=this.items.size,this.items.set(w,b)),b}}e.DenseKeyProvider=N}),define(ne[156],oe([1,0,67,86,111]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class D{constructor(o){this._length=o}get length(){return this._length}}class w extends D{constructor(o,r,c,g,m){super(o);this.openingBracket=r,this.child=c,this.closingBracket=g,this.missingOpeningBracketIds=m}static create(o,r,c){let g=o.length;return r&&(g=(0,f.lengthAdd)(g,r.length)),c&&(g=(0,f.lengthAdd)(g,c.length)),new w(g,o,r,c,r?r.missingOpeningBracketIds:N.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(o){switch(o){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const o=new Array;return o.push(this.openingBracket),this.child&&o.push(this.child),this.closingBracket&&o.push(this.closingBracket),o}canBeReused(o){return!(this.closingBracket===null||o.intersects(this.missingOpeningBracketIds))}deepClone(){return new w(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(o,r){return this.child?this.child.computeMinIndentation((0,f.lengthAdd)(o,this.openingBracket.length),r):Number.MAX_SAFE_INTEGER}}e.PairAstNode=w;class b extends D{constructor(o,r,c){super(o);this.listHeight=r,this._missingOpeningBracketIds=c,this.cachedMinIndentation=-1}static create23(o,r,c,g=!1){let m=o.length,S=o.missingOpeningBracketIds;if(o.listHeight!==r.listHeight)throw new Error("Invalid list heights");if(m=(0,f.lengthAdd)(m,r.length),S=S.merge(r.missingOpeningBracketIds),c){if(o.listHeight!==c.listHeight)throw new Error("Invalid list heights");m=(0,f.lengthAdd)(m,c.length),S=S.merge(c.missingOpeningBracketIds)}return g?new u(m,o.listHeight+1,o,r,c,S):new v(m,o.listHeight+1,o,r,c,S)}static getEmpty(){return new i(f.lengthZero,0,[],N.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const o=this.childrenLength;if(o===0)return;const r=this.getChild(o-1),c=r.kind===4?r.toMutable():r;return r!==c&&this.setChild(o-1,c),c}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const r=this.getChild(0),c=r.kind===4?r.toMutable():r;return r!==c&&this.setChild(0,c),c}canBeReused(o){if(o.intersects(this.missingOpeningBracketIds))return!1;let r=this,c;for(;r.kind===4&&(c=r.childrenLength)>0;)r=r.getChild(c-1);return r.canBeReused(o)}handleChildrenChanged(){this.throwIfImmutable();const o=this.childrenLength;let r=this.getChild(0).length,c=this.getChild(0).missingOpeningBracketIds;for(let g=1;g<o;g++){const m=this.getChild(g);r=(0,f.lengthAdd)(r,m.length),c=c.merge(m.missingOpeningBracketIds)}this._length=r,this._missingOpeningBracketIds=c,this.cachedMinIndentation=-1}computeMinIndentation(o,r){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let c=Number.MAX_SAFE_INTEGER,g=o;for(let m=0;m<this.childrenLength;m++){const S=this.getChild(m);S&&(c=Math.min(c,S.computeMinIndentation(g,r)),g=(0,f.lengthAdd)(g,S.length))}return this.cachedMinIndentation=c,c}}e.ListAstNode=b;class v extends b{constructor(o,r,c,g,m,S){super(o,r,S);this._item1=c,this._item2=g,this._item3=m}get childrenLength(){return this._item3!==null?3:2}getChild(o){switch(o){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(o,r){switch(o){case 0:this._item1=r;return;case 1:this._item2=r;return;case 2:this._item3=r;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new v(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(o){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=o,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const o=this._item3;return this._item3=null,this.handleChildrenChanged(),o}prependChildOfSameHeight(o){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=o,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const o=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),o}toMutable(){return this}}class u extends v{toMutable(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class h extends b{constructor(o,r,c,g){super(o,r,g);this._children=c}get childrenLength(){return this._children.length}getChild(o){return this._children[o]}setChild(o,r){this._children[o]=r}get children(){return this._children}deepClone(){const o=new Array(this._children.length);for(let r=0;r<this._children.length;r++)o[r]=this._children[r].deepClone();return new h(this.length,this.listHeight,o,this.missingOpeningBracketIds)}appendChildOfSameHeight(o){this.throwIfImmutable(),this._children.push(o),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const o=this._children.pop();return this.handleChildrenChanged(),o}prependChildOfSameHeight(o){this.throwIfImmutable(),this._children.unshift(o),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const o=this._children.shift();return this.handleChildrenChanged(),o}toMutable(){return this}}class i extends h{toMutable(){return new h(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const n=[];class t extends D{get listHeight(){return 0}get childrenLength(){return 0}getChild(o){return null}get children(){return n}deepClone(){return this}}class s extends t{get kind(){return 0}get missingOpeningBracketIds(){return N.SmallImmutableSet.getEmpty()}canBeReused(o){return!0}computeMinIndentation(o,r){const c=(0,f.lengthToObj)(o),g=(c.columnCount===0?c.lineCount:c.lineCount+1)+1,m=(0,f.lengthGetLineCount)((0,f.lengthAdd)(o,this.length))+1;let S=Number.MAX_SAFE_INTEGER;for(let p=g;p<=m;p++){const C=r.getLineFirstNonWhitespaceColumn(p),_=r.getLineContent(p);if(C===0)continue;const L=y.CursorColumns.visibleColumnFromColumn(_,C,r.getOptions().tabSize);S=Math.min(S,L)}return S}}e.TextAstNode=s;class l extends t{constructor(o,r,c){super(o);this.bracketInfo=r,this.bracketIds=c}static create(o,r,c){return new l(o,r,c)}get kind(){return 1}get missingOpeningBracketIds(){return N.SmallImmutableSet.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(o){return!1}computeMinIndentation(o,r){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=l;class d extends t{constructor(o,r){super(r);this.missingOpeningBracketIds=o}get kind(){return 3}canBeReused(o){return!o.intersects(this.missingOpeningBracketIds)}computeMinIndentation(o,r){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=d}),define(ne[437],oe([1,0,156]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function f(u){if(u.length===0)return null;if(u.length===1)return u[0];let h=0;function i(){if(h>=u.length)return null;const l=h,d=u[l].listHeight;for(h++;h<u.length&&u[h].listHeight===d;)h++;return h-l>=2?N(l===0&&h===u.length?u:u.slice(l,h),!1):u[l]}let n=i(),t=i();if(!t)return n;for(let l=i();l;l=i())D(n,t)<=D(t,l)?(n=w(n,t),t=l):t=w(t,l);return w(n,t)}e.concat23Trees=f;function N(u,h=!1){if(u.length===0)return null;if(u.length===1)return u[0];let i=u.length;for(;i>3;){const n=i>>1;for(let t=0;t<n;t++){const s=t<<1;u[t]=y.ListAstNode.create23(u[s],u[s+1],s+3===i?u[s+2]:null,h)}i=n}return y.ListAstNode.create23(u[0],u[1],i>=3?u[2]:null,h)}e.concat23TreesOfSameHeight=N;function D(u,h){return Math.abs(u.listHeight-h.listHeight)}function w(u,h){return u.listHeight===h.listHeight?y.ListAstNode.create23(u,h,null,!1):u.listHeight>h.listHeight?b(u,h):v(h,u)}function b(u,h){u=u.toMutable();let i=u;const n=new Array;let t;for(;;){if(h.listHeight===i.listHeight){t=h;break}if(i.kind!==4)throw new Error("unexpected");n.push(i),i=i.makeLastElementMutable()}for(let s=n.length-1;s>=0;s--){const l=n[s];t?l.childrenLength>=3?t=y.ListAstNode.create23(l.unappendChild(),t,null,!1):(l.appendChildOfSameHeight(t),t=void 0):l.handleChildrenChanged()}return t?y.ListAstNode.create23(u,t,null,!1):u}function v(u,h){u=u.toMutable();let i=u;const n=new Array;for(;h.listHeight!==i.listHeight;){if(i.kind!==4)throw new Error("unexpected");n.push(i),i=i.makeFirstElementMutable()}let t=h;for(let s=n.length-1;s>=0;s--){const l=n[s];t?l.childrenLength>=3?t=y.ListAstNode.create23(t,l.unprependChild(),null,!1):(l.prependChildOfSameHeight(t),t=void 0):l.handleChildrenChanged()}return t?y.ListAstNode.create23(t,u,null,!1):u}}),define(ne[251],oe([1,0,156,250,111,86,437,436]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function v(h,i,n,t){return new u(h,i,n,t).parseDocument()}e.parseDocument=v;class u{constructor(i,n,t,s){if(this.tokenizer=i,this.createImmutableLists=s,this._itemsConstructed=0,this._itemsFromCache=0,t&&s)throw new Error("Not supported");this.oldNodeReader=t?new b.NodeReader(t):void 0,this.positionMapper=new f.BeforeEditPositionMapper(n,i.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let i=this.parseList(N.SmallImmutableSet.getEmpty());return i||(i=y.ListAstNode.getEmpty()),i}parseList(i){const n=new Array;for(;;){const s=this.tokenizer.peek();if(!s||s.kind===2&&s.bracketIds.intersects(i))break;const l=this.parseChild(i);l.kind===4&&l.childrenLength===0||n.push(l)}return this.oldNodeReader?(0,w.concat23Trees)(n):(0,w.concat23TreesOfSameHeight)(n,this.createImmutableLists)}parseChild(i){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,D.lengthIsZero)(t)){const s=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),l=>(0,D.lengthLessThan)(l.length,t)?l.canBeReused(i):!1);if(s)return this._itemsFromCache++,this.tokenizer.skip(s.length),s}}this._itemsConstructed++;const n=this.tokenizer.read();switch(n.kind){case 2:return new y.InvalidBracketAstNode(n.bracketIds,n.length);case 0:return n.astNode;case 1:{const t=i.merge(n.bracketIds),s=this.parseList(t),l=this.tokenizer.peek();return l&&l.kind===2&&(l.bracketId===n.bracketId||l.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),y.PairAstNode.create(n.astNode,s,l.astNode)):y.PairAstNode.create(n.astNode,s,null)}default:throw new Error("unexpected")}}}}),define(ne[191],oe([1,0,13,109,156,86,111]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class b{constructor(n,t,s,l,d){this.length=n,this.kind=t,this.bracketId=s,this.bracketIds=l,this.astNode=d}}e.Token=b;class v{constructor(n,t){this.textModel=n,this.bracketTokens=t,this.reader=new u(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(n){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,n);const t=(0,D.lengthToObj)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let n;return this.peeked?(this.didPeek=!1,n=this.peeked):n=this.reader.read(),n&&(this._offset=(0,D.lengthAdd)(this._offset,n.length)),n}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=v;class u{constructor(n,t){this.textModel=n,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}setPosition(n,t){n===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=n,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const d=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(d.length),d}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const n=this.lineIdx,t=this.lineCharOffset;let s=0;for(;;){const d=this.lineTokens,a=d.getCount();let o=null;if(this.lineTokenOffset<a){const r=d.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<a&&r===d.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=f.TokenMetadata.getTokenType(r)===0,g=f.TokenMetadata.containsBalancedBrackets(r),m=d.getEndOffset(this.lineTokenOffset);if(g&&c&&this.lineCharOffset<m){const S=d.getLanguageId(this.lineTokenOffset),p=this.line.substring(this.lineCharOffset,m),C=this.bracketTokens.getSingleLanguageBracketTokens(S),_=C.regExpGlobal;if(_){_.lastIndex=0;const L=_.exec(p);L&&(o=C.getToken(L[0]),o&&(this.lineCharOffset+=L.index))}}if(s+=m-this.lineCharOffset,o)if(n!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=o;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(o.length),o;else this.lineTokenOffset++,this.lineCharOffset=m}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,s+=33,s>1e3))break;if(s>1500)break}const l=(0,D.lengthDiff)(n,t,this.lineIdx,this.lineCharOffset);return new b(l,0,-1,w.SmallImmutableSet.getEmpty(),new N.TextAstNode(l))}}class h{constructor(n,t){this.text=n,this._offset=D.lengthZero,this.idx=0;const s=t.getRegExpStr(),l=s?new RegExp(s+`|
`,"gi"):null,d=[];let a,o=0,r=0,c=0,g=0;const m=new Array;for(let C=0;C<60;C++)m.push(new b((0,D.toLength)(0,C),0,-1,w.SmallImmutableSet.getEmpty(),new N.TextAstNode((0,D.toLength)(0,C))));const S=new Array;for(let C=0;C<60;C++)S.push(new b((0,D.toLength)(1,C),0,-1,w.SmallImmutableSet.getEmpty(),new N.TextAstNode((0,D.toLength)(1,C))));if(l)for(l.lastIndex=0;(a=l.exec(n))!==null;){const C=a.index,_=a[0];if(_===`
`)o++,r=C+1;else{if(c!==C){let L;if(g===o){const E=C-c;if(E<m.length)L=m[E];else{const I=(0,D.toLength)(0,E);L=new b(I,0,-1,w.SmallImmutableSet.getEmpty(),new N.TextAstNode(I))}}else{const E=o-g,I=C-r;if(E===1&&I<S.length)L=S[I];else{const T=(0,D.toLength)(E,I);L=new b(T,0,-1,w.SmallImmutableSet.getEmpty(),new N.TextAstNode(T))}}d.push(L)}d.push(t.getToken(_)),c=C+_.length,g=o}}const p=n.length;if(c!==p){const C=g===o?(0,D.toLength)(0,p-c):(0,D.toLength)(o-g,p-r);d.push(new b(C,0,-1,w.SmallImmutableSet.getEmpty(),new N.TextAstNode(C)))}this.length=(0,D.toLength)(o,p-r),this.tokens=d}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(n){throw new y.NotSupportedError}}e.FastTokenizer=h}),define(ne[252],oe([1,0,9,156,86,111,191]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class b{constructor(i){this.map=i,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(i,n){function t(l){return n.getKey(`${l.languageId}:::${l.bracketText}`)}const s=new Map;for(const l of i.bracketsNew.openingBrackets){const d=(0,N.toLength)(0,l.bracketText.length),a=t(l),o=D.SmallImmutableSet.getEmpty().add(a,D.identityKeyProvider);s.set(l.bracketText,new w.Token(d,1,a,o,f.BracketAstNode.create(d,l,o)))}for(const l of i.bracketsNew.closingBrackets){const d=(0,N.toLength)(0,l.bracketText.length);let a=D.SmallImmutableSet.getEmpty();const o=l.getClosedBrackets();for(const r of o)a=a.add(t(r),D.identityKeyProvider);s.set(l.bracketText,new w.Token(d,2,t(o[0]),a,f.BracketAstNode.create(d,l,a)))}return new b(s)}getRegExpStr(){if(this.isEmpty)return null;{const i=[...this.map.keys()];return i.sort(),i.reverse(),i.map(n=>v(n)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const i=this.getRegExpStr();this._regExpGlobal=i?new RegExp(i,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(i){return this.map.get(i.toLowerCase())}findClosingTokenText(i){for(const[n,t]of this.map)if(t.kind===2&&t.bracketIds.intersects(i))return n}get isEmpty(){return this.map.size===0}}e.BracketTokens=b;function v(h){const i=(0,y.escapeRegExpCharacters)(h);return/^[\w ]+$/.test(h)?`\\b${i}\\b`:i}class u{constructor(i,n){this.denseKeyProvider=i,this.getLanguageConfiguration=n,this.languageIdToBracketTokens=new Map}didLanguageChange(i){return this.languageIdToBracketTokens.has(i)}getSingleLanguageBracketTokens(i){let n=this.languageIdToBracketTokens.get(i);return n||(n=b.createFromLanguage(this.getLanguageConfiguration(i),this.denseKeyProvider),this.languageIdToBracketTokens.set(i,n)),n}}e.LanguageAgnosticBracketTokens=u}),define(ne[438],oe([1,0,252,86,251,111,191]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function b(u,h){const i=new D.DenseKeyProvider,n=new y.LanguageAgnosticBracketTokens(i,o=>h.getLanguageConfiguration(o)),t=new w.TextBufferTokenizer(new v([u]),n),s=(0,N.parseDocument)(t,[],void 0,!0);let l="";const d=u.getLineContent();function a(o,r){if(o.kind===2)a(o.openingBracket,r),r=(0,f.lengthAdd)(r,o.openingBracket.length),o.child&&(a(o.child,r),r=(0,f.lengthAdd)(r,o.child.length)),o.closingBracket?(a(o.closingBracket,r),r=(0,f.lengthAdd)(r,o.closingBracket.length)):l+=n.getSingleLanguageBracketTokens(o.openingBracket.languageId).findClosingTokenText(o.openingBracket.bracketIds);else if(o.kind!==3){if(o.kind===0||o.kind===1)l+=d.substring((0,f.lengthGetColumnCountIfZeroLineCount)(r),(0,f.lengthGetColumnCountIfZeroLineCount)((0,f.lengthAdd)(r,o.length)));else if(o.kind===4)for(const c of o.children)a(c,r),r=(0,f.lengthAdd)(r,c.length)}}return a(s,f.lengthZero),l}e.fixBracketsInLine=b;class v{constructor(h){this.lines=h,this.tokenization={getLineTokens:i=>this.lines[i-1]}}getLineCount(){return this.lines.length}getLineLength(h){return this.lines[h-1].getLineContent().length}}}),define(ne[439],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class y{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function f(D,w,b,v,u){u.spacesDiff=0,u.looksLikeAlignment=!1;let h;for(h=0;h<w&&h<v;h++){const a=D.charCodeAt(h),o=b.charCodeAt(h);if(a!==o)break}let i=0,n=0;for(let a=h;a<w;a++)D.charCodeAt(a)===32?i++:n++;let t=0,s=0;for(let a=h;a<v;a++)b.charCodeAt(a)===32?t++:s++;if(i>0&&n>0||t>0&&s>0)return;const l=Math.abs(n-s),d=Math.abs(i-t);if(l===0){u.spacesDiff=d,d>0&&0<=t-1&&t-1<D.length&&t<b.length&&b.charCodeAt(t)!==32&&D.charCodeAt(t-1)===32&&D.charCodeAt(D.length-1)===44&&(u.looksLikeAlignment=!0);return}if(d%l==0){u.spacesDiff=d/l;return}}function N(D,w,b){const v=Math.min(D.getLineCount(),1e4);let u=0,h=0,i="",n=0;const t=[2,4,6,8,3,5,7],s=8,l=[0,0,0,0,0,0,0,0,0],d=new y;for(let r=1;r<=v;r++){const c=D.getLineLength(r),g=D.getLineContent(r),m=c<=65536;let S=!1,p=0,C=0,_=0;for(let E=0,I=c;E<I;E++){const T=m?g.charCodeAt(E):D.getLineCharCode(r,E);if(T===9)_++;else if(T===32)C++;else{S=!0,p=E;break}}if(!S||(_>0?u++:C>1&&h++,f(i,n,g,p,d),d.looksLikeAlignment&&!(b&&w===d.spacesDiff)))continue;const L=d.spacesDiff;L<=s&&l[L]++,i=g,n=p}let a=b;u!==h&&(a=u<h);let o=w;if(a){let r=a?0:.1*v;t.forEach(c=>{const g=l[c];g>r&&(r=g,o=c)}),o===4&&l[4]>0&&l[2]>0&&l[2]>=l[4]/2&&(o=2)}return{insertSpaces:a,tabSize:o}}e.guessIndentation=N}),define(ne[440],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function y(k){return(k.metadata&1)>>>0}e.getNodeColor=y;function f(k,A){k.metadata=k.metadata&254|A<<0}function N(k){return(k.metadata&2)>>>1==1}function D(k,A){k.metadata=k.metadata&253|(A?1:0)<<1}function w(k){return(k.metadata&4)>>>2==1}function b(k,A){k.metadata=k.metadata&251|(A?1:0)<<2}function v(k){return(k.metadata&24)>>>3}function u(k,A){k.metadata=k.metadata&231|A<<3}function h(k){return(k.metadata&32)>>>5==1}function i(k,A){k.metadata=k.metadata&223|(A?1:0)<<5}class n{constructor(A,O,F){this.metadata=0,this.parent=this,this.left=this,this.right=this,f(this,1),this.start=O,this.end=F,this.delta=0,this.maxEnd=F,this.id=A,this.ownerId=0,this.options=null,b(this,!1),u(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=F,this.range=null,D(this,!1)}reset(A,O,F,W){this.start=O,this.end=F,this.maxEnd=F,this.cachedVersionId=A,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=F,this.range=W}setOptions(A){this.options=A;const O=this.options.className;b(this,O==="squiggly-error"||O==="squiggly-warning"||O==="squiggly-info"),u(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(A,O,F){this.cachedVersionId!==F&&(this.range=null),this.cachedVersionId=F,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=O}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=n,e.SENTINEL=new n(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,f(e.SENTINEL,0);class t{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(A,O,F,W,M){return this.root===e.SENTINEL?[]:m(this,A,O,F,W,M)}search(A,O,F){return this.root===e.SENTINEL?[]:g(this,A,O,F)}collectNodesFromOwner(A){return r(this,A)}collectNodesPostOrder(){return c(this)}insert(A){S(this,A),this._normalizeDeltaIfNecessary()}delete(A){C(this,A),this._normalizeDeltaIfNecessary()}resolveNode(A,O){const F=A;let W=0;for(;A!==this.root;)A===A.parent.right&&(W+=A.parent.delta),A=A.parent;const M=F.start+W,z=F.end+W;F.setCachedOffsets(M,z,O)}acceptReplace(A,O,F,W){const M=a(this,A,A+O);for(let z=0,G=M.length;z<G;z++){const te=M[z];C(this,te)}this._normalizeDeltaIfNecessary(),o(this,A,A+O,F),this._normalizeDeltaIfNecessary();for(let z=0,G=M.length;z<G;z++){const te=M[z];te.start=te.cachedAbsoluteStart,te.end=te.cachedAbsoluteEnd,d(te,A,A+O,F,W),te.maxEnd=te.end,S(this,te)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,s(this))}}e.IntervalTree=t;function s(k){let A=k.root,O=0;for(;A!==e.SENTINEL;){if(A.left!==e.SENTINEL&&!N(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!N(A.right)){O+=A.delta,A=A.right;continue}A.start=O+A.start,A.end=O+A.end,A.delta=0,P(A),D(A,!0),D(A.left,!1),D(A.right,!1),A===A.parent.right&&(O-=A.parent.delta),A=A.parent}D(k.root,!1)}function l(k,A,O,F){return k<O?!0:k>O||F===1?!1:F===2?!0:A}function d(k,A,O,F,W){const M=v(k),z=M===0||M===2,G=M===1||M===2,te=O-A,X=F,J=Math.min(te,X),ie=k.start;let re=!1;const Z=k.end;let x=!1;A<=ie&&Z<=O&&h(k)&&(k.start=A,re=!0,k.end=A,x=!0);{const q=W?1:te>0?2:0;!re&&l(ie,z,A,q)&&(re=!0),!x&&l(Z,G,A,q)&&(x=!0)}if(J>0&&!W){const q=te>X?2:0;!re&&l(ie,z,A+J,q)&&(re=!0),!x&&l(Z,G,A+J,q)&&(x=!0)}{const q=W?1:0;!re&&l(ie,z,O,q)&&(k.start=A+X,re=!0),!x&&l(Z,G,O,q)&&(k.end=A+X,x=!0)}const U=X-te;re||(k.start=Math.max(0,ie+U)),x||(k.end=Math.max(0,Z+U)),k.start>k.end&&(k.end=k.start)}e.nodeAcceptEdit=d;function a(k,A,O){let F=k.root,W=0,M=0,z=0,G=0;const te=[];let X=0;for(;F!==e.SENTINEL;){if(N(F)){D(F.left,!1),D(F.right,!1),F===F.parent.right&&(W-=F.parent.delta),F=F.parent;continue}if(!N(F.left)){if(M=W+F.maxEnd,M<A){D(F,!0);continue}if(F.left!==e.SENTINEL){F=F.left;continue}}if(z=W+F.start,z>O){D(F,!0);continue}if(G=W+F.end,G>=A&&(F.setCachedOffsets(z,G,0),te[X++]=F),D(F,!0),F.right!==e.SENTINEL&&!N(F.right)){W+=F.delta,F=F.right;continue}}return D(k.root,!1),te}function o(k,A,O,F){let W=k.root,M=0,z=0,G=0;const te=F-(O-A);for(;W!==e.SENTINEL;){if(N(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(M-=W.parent.delta),P(W),W=W.parent;continue}if(!N(W.left)){if(z=M+W.maxEnd,z<A){D(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(G=M+W.start,G>O){W.start+=te,W.end+=te,W.delta+=te,(W.delta<-1073741824||W.delta>1073741824)&&(k.requestNormalizeDelta=!0),D(W,!0);continue}if(D(W,!0),W.right!==e.SENTINEL&&!N(W.right)){M+=W.delta,W=W.right;continue}}D(k.root,!1)}function r(k,A){let O=k.root;const F=[];let W=0;for(;O!==e.SENTINEL;){if(N(O)){D(O.left,!1),D(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!N(O.left)){O=O.left;continue}if(O.ownerId===A&&(F[W++]=O),D(O,!0),O.right!==e.SENTINEL&&!N(O.right)){O=O.right;continue}}return D(k.root,!1),F}function c(k){let A=k.root;const O=[];let F=0;for(;A!==e.SENTINEL;){if(N(A)){D(A.left,!1),D(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!N(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!N(A.right)){A=A.right;continue}O[F++]=A,D(A,!0)}return D(k.root,!1),O}function g(k,A,O,F){let W=k.root,M=0,z=0,G=0;const te=[];let X=0;for(;W!==e.SENTINEL;){if(N(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(M-=W.parent.delta),W=W.parent;continue}if(W.left!==e.SENTINEL&&!N(W.left)){W=W.left;continue}z=M+W.start,G=M+W.end,W.setCachedOffsets(z,G,F);let J=!0;if(A&&W.ownerId&&W.ownerId!==A&&(J=!1),O&&w(W)&&(J=!1),J&&(te[X++]=W),D(W,!0),W.right!==e.SENTINEL&&!N(W.right)){M+=W.delta,W=W.right;continue}}return D(k.root,!1),te}function m(k,A,O,F,W,M){let z=k.root,G=0,te=0,X=0,J=0;const ie=[];let re=0;for(;z!==e.SENTINEL;){if(N(z)){D(z.left,!1),D(z.right,!1),z===z.parent.right&&(G-=z.parent.delta),z=z.parent;continue}if(!N(z.left)){if(te=G+z.maxEnd,te<A){D(z,!0);continue}if(z.left!==e.SENTINEL){z=z.left;continue}}if(X=G+z.start,X>O){D(z,!0);continue}if(J=G+z.end,J>=A){z.setCachedOffsets(X,J,M);let Z=!0;F&&z.ownerId&&z.ownerId!==F&&(Z=!1),W&&w(z)&&(Z=!1),Z&&(ie[re++]=z)}if(D(z,!0),z.right!==e.SENTINEL&&!N(z.right)){G+=z.delta,z=z.right;continue}}return D(k.root,!1),ie}function S(k,A){if(k.root===e.SENTINEL)return A.parent=e.SENTINEL,A.left=e.SENTINEL,A.right=e.SENTINEL,f(A,0),k.root=A,k.root;p(k,A),B(A.parent);let O=A;for(;O!==k.root&&y(O.parent)===1;)if(O.parent===O.parent.parent.left){const F=O.parent.parent.right;y(F)===1?(f(O.parent,0),f(F,0),f(O.parent.parent,1),O=O.parent.parent):(O===O.parent.right&&(O=O.parent,E(k,O)),f(O.parent,0),f(O.parent.parent,1),I(k,O.parent.parent))}else{const F=O.parent.parent.left;y(F)===1?(f(O.parent,0),f(F,0),f(O.parent.parent,1),O=O.parent.parent):(O===O.parent.left&&(O=O.parent,I(k,O)),f(O.parent,0),f(O.parent.parent,1),E(k,O.parent.parent))}return f(k.root,0),A}function p(k,A){let O=0,F=k.root;const W=A.start,M=A.end;for(;;)if(R(W,M,F.start+O,F.end+O)<0)if(F.left===e.SENTINEL){A.start-=O,A.end-=O,A.maxEnd-=O,F.left=A;break}else F=F.left;else if(F.right===e.SENTINEL){A.start-=O+F.delta,A.end-=O+F.delta,A.maxEnd-=O+F.delta,F.right=A;break}else O+=F.delta,F=F.right;A.parent=F,A.left=e.SENTINEL,A.right=e.SENTINEL,f(A,1)}function C(k,A){let O,F;if(A.left===e.SENTINEL?(O=A.right,F=A,O.delta+=A.delta,(O.delta<-1073741824||O.delta>1073741824)&&(k.requestNormalizeDelta=!0),O.start+=A.delta,O.end+=A.delta):A.right===e.SENTINEL?(O=A.left,F=A):(F=_(A.right),O=F.right,O.start+=F.delta,O.end+=F.delta,O.delta+=F.delta,(O.delta<-1073741824||O.delta>1073741824)&&(k.requestNormalizeDelta=!0),F.start+=A.delta,F.end+=A.delta,F.delta=A.delta,(F.delta<-1073741824||F.delta>1073741824)&&(k.requestNormalizeDelta=!0)),F===k.root){k.root=O,f(O,0),A.detach(),L(),P(O),k.root.parent=e.SENTINEL;return}const W=y(F)===1;if(F===F.parent.left?F.parent.left=O:F.parent.right=O,F===A?O.parent=F.parent:(F.parent===A?O.parent=F:O.parent=F.parent,F.left=A.left,F.right=A.right,F.parent=A.parent,f(F,y(A)),A===k.root?k.root=F:A===A.parent.left?A.parent.left=F:A.parent.right=F,F.left!==e.SENTINEL&&(F.left.parent=F),F.right!==e.SENTINEL&&(F.right.parent=F)),A.detach(),W){B(O.parent),F!==A&&(B(F),B(F.parent)),L();return}B(O),B(O.parent),F!==A&&(B(F),B(F.parent));let M;for(;O!==k.root&&y(O)===0;)O===O.parent.left?(M=O.parent.right,y(M)===1&&(f(M,0),f(O.parent,1),E(k,O.parent),M=O.parent.right),y(M.left)===0&&y(M.right)===0?(f(M,1),O=O.parent):(y(M.right)===0&&(f(M.left,0),f(M,1),I(k,M),M=O.parent.right),f(M,y(O.parent)),f(O.parent,0),f(M.right,0),E(k,O.parent),O=k.root)):(M=O.parent.left,y(M)===1&&(f(M,0),f(O.parent,1),I(k,O.parent),M=O.parent.left),y(M.left)===0&&y(M.right)===0?(f(M,1),O=O.parent):(y(M.left)===0&&(f(M.right,0),f(M,1),E(k,M),M=O.parent.left),f(M,y(O.parent)),f(O.parent,0),f(M.left,0),I(k,O.parent),O=k.root));f(O,0),L()}function _(k){for(;k.left!==e.SENTINEL;)k=k.left;return k}function L(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function E(k,A){const O=A.right;O.delta+=A.delta,(O.delta<-1073741824||O.delta>1073741824)&&(k.requestNormalizeDelta=!0),O.start+=A.delta,O.end+=A.delta,A.right=O.left,O.left!==e.SENTINEL&&(O.left.parent=A),O.parent=A.parent,A.parent===e.SENTINEL?k.root=O:A===A.parent.left?A.parent.left=O:A.parent.right=O,O.left=A,A.parent=O,P(A),P(O)}function I(k,A){const O=A.left;A.delta-=O.delta,(A.delta<-1073741824||A.delta>1073741824)&&(k.requestNormalizeDelta=!0),A.start-=O.delta,A.end-=O.delta,A.left=O.right,O.right!==e.SENTINEL&&(O.right.parent=A),O.parent=A.parent,A.parent===e.SENTINEL?k.root=O:A===A.parent.right?A.parent.right=O:A.parent.left=O,O.right=A,A.parent=O,P(A),P(O)}function T(k){let A=k.end;if(k.left!==e.SENTINEL){const O=k.left.maxEnd;O>A&&(A=O)}if(k.right!==e.SENTINEL){const O=k.right.maxEnd+k.delta;O>A&&(A=O)}return A}function P(k){k.maxEnd=T(k)}e.recomputeMaxEnd=P;function B(k){for(;k!==e.SENTINEL;){const A=T(k);if(k.maxEnd===A)return;k.maxEnd=A,k=k.parent}}function R(k,A,O,F){return k===O?A-F:k-O}e.intervalCompare=R}),define(ne[441],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class y{constructor(l,d){this.piece=l,this.color=d,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return f(this.right);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.left!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}prev(){if(this.left!==e.SENTINEL)return N(this.left);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.right!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=y,e.SENTINEL=new y(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function f(s){for(;s.left!==e.SENTINEL;)s=s.left;return s}e.leftest=f;function N(s){for(;s.right!==e.SENTINEL;)s=s.right;return s}e.righttest=N;function D(s){return s===e.SENTINEL?0:s.size_left+s.piece.length+D(s.right)}e.calculateSize=D;function w(s){return s===e.SENTINEL?0:s.lf_left+s.piece.lineFeedCnt+w(s.right)}e.calculateLF=w;function b(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=b;function v(s,l){const d=l.right;d.size_left+=l.size_left+(l.piece?l.piece.length:0),d.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=d.left,d.left!==e.SENTINEL&&(d.left.parent=l),d.parent=l.parent,l.parent===e.SENTINEL?s.root=d:l.parent.left===l?l.parent.left=d:l.parent.right=d,d.left=l,l.parent=d}e.leftRotate=v;function u(s,l){const d=l.left;l.left=d.right,d.right!==e.SENTINEL&&(d.right.parent=l),d.parent=l.parent,l.size_left-=d.size_left+(d.piece?d.piece.length:0),l.lf_left-=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),l.parent===e.SENTINEL?s.root=d:l===l.parent.right?l.parent.right=d:l.parent.left=d,d.right=l,l.parent=d}e.rightRotate=u;function h(s,l){let d,a;if(l.left===e.SENTINEL?(a=l,d=a.right):l.right===e.SENTINEL?(a=l,d=a.left):(a=f(l.right),d=a.right),a===s.root){s.root=d,d.color=0,l.detach(),b(),s.root.parent=e.SENTINEL;return}const o=a.color===1;if(a===a.parent.left?a.parent.left=d:a.parent.right=d,a===l?(d.parent=a.parent,t(s,d)):(a.parent===l?d.parent=a:d.parent=a.parent,t(s,d),a.left=l.left,a.right=l.right,a.parent=l.parent,a.color=l.color,l===s.root?s.root=a:l===l.parent.left?l.parent.left=a:l.parent.right=a,a.left!==e.SENTINEL&&(a.left.parent=a),a.right!==e.SENTINEL&&(a.right.parent=a),a.size_left=l.size_left,a.lf_left=l.lf_left,t(s,a)),l.detach(),d.parent.left===d){const c=D(d),g=w(d);if(c!==d.parent.size_left||g!==d.parent.lf_left){const m=c-d.parent.size_left,S=g-d.parent.lf_left;d.parent.size_left=c,d.parent.lf_left=g,n(s,d.parent,m,S)}}if(t(s,d.parent),o){b();return}let r;for(;d!==s.root&&d.color===0;)d===d.parent.left?(r=d.parent.right,r.color===1&&(r.color=0,d.parent.color=1,v(s,d.parent),r=d.parent.right),r.left.color===0&&r.right.color===0?(r.color=1,d=d.parent):(r.right.color===0&&(r.left.color=0,r.color=1,u(s,r),r=d.parent.right),r.color=d.parent.color,d.parent.color=0,r.right.color=0,v(s,d.parent),d=s.root)):(r=d.parent.left,r.color===1&&(r.color=0,d.parent.color=1,u(s,d.parent),r=d.parent.left),r.left.color===0&&r.right.color===0?(r.color=1,d=d.parent):(r.left.color===0&&(r.right.color=0,r.color=1,v(s,r),r=d.parent.left),r.color=d.parent.color,d.parent.color=0,r.left.color=0,u(s,d.parent),d=s.root));d.color=0,b()}e.rbDelete=h;function i(s,l){for(t(s,l);l!==s.root&&l.parent.color===1;)if(l.parent===l.parent.parent.left){const d=l.parent.parent.right;d.color===1?(l.parent.color=0,d.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,v(s,l)),l.parent.color=0,l.parent.parent.color=1,u(s,l.parent.parent))}else{const d=l.parent.parent.left;d.color===1?(l.parent.color=0,d.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,u(s,l)),l.parent.color=0,l.parent.parent.color=1,v(s,l.parent.parent))}s.root.color=0}e.fixInsert=i;function n(s,l,d,a){for(;l!==s.root&&l!==e.SENTINEL;)l.parent.left===l&&(l.parent.size_left+=d,l.parent.lf_left+=a),l=l.parent}e.updateTreeMetadata=n;function t(s,l){let d=0,a=0;if(l!==s.root){for(;l!==s.root&&l===l.parent.right;)l=l.parent;if(l!==s.root)for(l=l.parent,d=D(l.left)-l.size_left,a=w(l.left)-l.lf_left,l.size_left+=d,l.lf_left+=a;l!==s.root&&(d!==0||a!==0);)l.parent.left===l&&(l.parent.size_left+=d,l.parent.lf_left+=a),l=l.parent}}e.recomputeTreeMetadata=t}),define(ne[253],oe([1,0,18,146]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class N{constructor(v){this.values=v,this.prefixSum=new Uint32Array(v.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(v,u){v=(0,f.toUint32)(v);const h=this.values,i=this.prefixSum,n=u.length;return n===0?!1:(this.values=new Uint32Array(h.length+n),this.values.set(h.subarray(0,v),0),this.values.set(h.subarray(v),v+n),this.values.set(u,v),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(v,u){return v=(0,f.toUint32)(v),u=(0,f.toUint32)(u),this.values[v]===u?!1:(this.values[v]=u,v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),!0)}removeValues(v,u){v=(0,f.toUint32)(v),u=(0,f.toUint32)(u);const h=this.values,i=this.prefixSum;if(v>=h.length)return!1;const n=h.length-v;return u>=n&&(u=n),u===0?!1:(this.values=new Uint32Array(h.length-u),this.values.set(h.subarray(0,v),0),this.values.set(h.subarray(v+u),v),this.prefixSum=new Uint32Array(this.values.length),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(v){return v<0?0:(v=(0,f.toUint32)(v),this._getPrefixSum(v))}_getPrefixSum(v){if(v<=this.prefixSumValidIndex[0])return this.prefixSum[v];let u=this.prefixSumValidIndex[0]+1;u===0&&(this.prefixSum[0]=this.values[0],u++),v>=this.values.length&&(v=this.values.length-1);for(let h=u;h<=v;h++)this.prefixSum[h]=this.prefixSum[h-1]+this.values[h];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],v),this.prefixSum[v]}getIndexOf(v){v=Math.floor(v),this.getTotalSum();let u=0,h=this.values.length-1,i=0,n=0,t=0;for(;u<=h;)if(i=u+(h-u)/2|0,n=this.prefixSum[i],t=n-this.values[i],v<t)h=i-1;else if(v>=n)u=i+1;else break;return new w(i,v-t)}}e.PrefixSumComputer=N;class D{constructor(v){this._values=v,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(v){return this._ensureValid(),v===0?0:this._prefixSum[v-1]}getIndexOf(v){this._ensureValid();const u=this._indexBySum[v],h=u>0?this._prefixSum[u-1]:0;return new w(u,v-h)}removeValues(v,u){this._values.splice(v,u),this._invalidate(v)}insertValues(v,u){this._values=(0,y.arrayInsert)(this._values,v,u),this._invalidate(v)}_invalidate(v){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,v-1)}_ensureValid(){if(!this._isValid){for(let v=this._validEndIndex+1,u=this._values.length;v<u;v++){const h=this._values[v],i=v>0?this._prefixSum[v-1]:0;this._prefixSum[v]=i+h;for(let n=0;n<h;n++)this._indexBySum[i+n]=v}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(v,u){this._values[v]!==u&&(this._values[v]=u,this._invalidate(v))}}e.ConstantTimePrefixSumComputer=D;class w{constructor(v,u){this.index=v,this.remainder=u,this._prefixSumIndexOfResultBrand=void 0,this.index=v,this.remainder=u}}e.PrefixSumIndexOfResult=w}),define(ne[442],oe([1,0,9,11,253]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(b,v,u,h){this._uri=b,this._lines=v,this._eol=u,this._versionId=h,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(b){b.eol&&b.eol!==this._eol&&(this._eol=b.eol,this._lineStarts=null);const v=b.changes;for(const u of v)this._acceptDeleteRange(u.range),this._acceptInsertText(new f.Position(u.range.startLineNumber,u.range.startColumn),u.text);this._versionId=b.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const b=this._eol.length,v=this._lines.length,u=new Uint32Array(v);for(let h=0;h<v;h++)u[h]=this._lines[h].length+b;this._lineStarts=new N.PrefixSumComputer(u)}}_setLineText(b,v){this._lines[b]=v,this._lineStarts&&this._lineStarts.setValue(b,this._lines[b].length+this._eol.length)}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber){if(b.startColumn===b.endColumn)return;this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.startLineNumber-1].substring(b.endColumn-1));return}this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.endLineNumber-1].substring(b.endColumn-1)),this._lines.splice(b.startLineNumber,b.endLineNumber-b.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(b.startLineNumber,b.endLineNumber-b.startLineNumber)}_acceptInsertText(b,v){if(v.length===0)return;const u=(0,y.splitLines)(v);if(u.length===1){this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+u[0]+this._lines[b.lineNumber-1].substring(b.column-1));return}u[u.length-1]+=this._lines[b.lineNumber-1].substring(b.column-1),this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+u[0]);const h=new Uint32Array(u.length-1);for(let i=1;i<u.length;i++)this._lines.splice(b.lineNumber+i-1,0,u[i]),h[i-1]=u[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(b.lineNumber,h)}}e.MirrorTextModel=D}),define(ne[254],oe([1,0,2]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class f extends y.Disposable{constructor(){super(...arguments);this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=f}),define(ne[157],oe([1,0,9,130,11,3,48]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const b=999;class v{constructor(o,r,c,g){this.searchString=o,this.isRegex=r,this.matchCase=c,this.wordSeparators=g}parseSearchRequest(){if(this.searchString==="")return null;let o;this.isRegex?o=u(this.searchString):o=this.searchString.indexOf(`
`)>=0;let r=null;try{r=y.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:o,global:!0,unicode:!0})}catch{return null}if(!r)return null;let c=!this.isRegex&&!o;return c&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(c=this.matchCase),new w.SearchData(r,this.wordSeparators?(0,f.getMapForWordSeparators)(this.wordSeparators):null,c?this.searchString:null)}}e.SearchParams=v;function u(a){if(!a||a.length===0)return!1;for(let o=0,r=a.length;o<r;o++)if(a.charCodeAt(o)===92){if(o++,o>=r)break;const g=a.charCodeAt(o);if(g===110||g===114||g===87)return!0}return!1}e.isMultilineRegexSource=u;function h(a,o,r){if(!r)return new w.FindMatch(a,null);const c=[];for(let g=0,m=o.length;g<m;g++)c[g]=o[g];return new w.FindMatch(a,c)}e.createFindMatch=h;class i{constructor(o){const r=[];let c=0;for(let g=0,m=o.length;g<m;g++)o.charCodeAt(g)===10&&(r[c++]=g);this._lineFeedsOffsets=r}findLineFeedCountBeforeOffset(o){const r=this._lineFeedsOffsets;let c=0,g=r.length-1;if(g===-1||o<=r[0])return 0;for(;c<g;){const m=c+((g-c)/2>>0);r[m]>=o?g=m-1:r[m+1]>=o?(c=m,g=m):c=m+1}return c+1}}class n{static findMatches(o,r,c,g,m){const S=r.parseSearchRequest();return S?S.regex.multiline?this._doFindMatchesMultiline(o,c,new d(S.wordSeparators,S.regex),g,m):this._doFindMatchesLineByLine(o,c,S,g,m):[]}static _getMultilineMatchRange(o,r,c,g,m,S){let p,C=0;g?(C=g.findLineFeedCountBeforeOffset(m),p=r+m+C):p=r+m;let _;if(g){const T=g.findLineFeedCountBeforeOffset(m+S.length)-C;_=p+S.length+T}else _=p+S.length;const L=o.getPositionAt(p),E=o.getPositionAt(_);return new D.Range(L.lineNumber,L.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(o,r,c,g,m){const S=o.getOffsetAt(r.getStartPosition()),p=o.getValueInRange(r,1),C=o.getEOL()===`\r
`?new i(p):null,_=[];let L=0,E;for(c.reset(0);E=c.next(p);)if(_[L++]=h(this._getMultilineMatchRange(o,S,p,C,E.index,E[0]),E,g),L>=m)return _;return _}static _doFindMatchesLineByLine(o,r,c,g,m){const S=[];let p=0;if(r.startLineNumber===r.endLineNumber){const _=o.getLineContent(r.startLineNumber).substring(r.startColumn-1,r.endColumn-1);return p=this._findMatchesInLine(c,_,r.startLineNumber,r.startColumn-1,p,S,g,m),S}const C=o.getLineContent(r.startLineNumber).substring(r.startColumn-1);p=this._findMatchesInLine(c,C,r.startLineNumber,r.startColumn-1,p,S,g,m);for(let _=r.startLineNumber+1;_<r.endLineNumber&&p<m;_++)p=this._findMatchesInLine(c,o.getLineContent(_),_,0,p,S,g,m);if(p<m){const _=o.getLineContent(r.endLineNumber).substring(0,r.endColumn-1);p=this._findMatchesInLine(c,_,r.endLineNumber,0,p,S,g,m)}return S}static _findMatchesInLine(o,r,c,g,m,S,p,C){const _=o.wordSeparators;if(!p&&o.simpleSearch){const I=o.simpleSearch,T=I.length,P=r.length;let B=-T;for(;(B=r.indexOf(I,B+T))!==-1;)if((!_||l(_,r,P,B,T))&&(S[m++]=new w.FindMatch(new D.Range(c,B+1+g,c,B+1+T+g),null),m>=C))return m;return m}const L=new d(o.wordSeparators,o.regex);let E;L.reset(0);do if(E=L.next(r),E&&(S[m++]=h(new D.Range(c,E.index+1+g,c,E.index+1+E[0].length+g),E,p),m>=C))return m;while(E);return m}static findNextMatch(o,r,c,g){const m=r.parseSearchRequest();if(!m)return null;const S=new d(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindNextMatchMultiline(o,c,S,g):this._doFindNextMatchLineByLine(o,c,S,g)}static _doFindNextMatchMultiline(o,r,c,g){const m=new N.Position(r.lineNumber,1),S=o.getOffsetAt(m),p=o.getLineCount(),C=o.getValueInRange(new D.Range(m.lineNumber,m.column,p,o.getLineMaxColumn(p)),1),_=o.getEOL()===`\r
`?new i(C):null;c.reset(r.column-1);const L=c.next(C);return L?h(this._getMultilineMatchRange(o,S,C,_,L.index,L[0]),L,g):r.lineNumber!==1||r.column!==1?this._doFindNextMatchMultiline(o,new N.Position(1,1),c,g):null}static _doFindNextMatchLineByLine(o,r,c,g){const m=o.getLineCount(),S=r.lineNumber,p=o.getLineContent(S),C=this._findFirstMatchInLine(c,p,S,r.column,g);if(C)return C;for(let _=1;_<=m;_++){const L=(S+_-1)%m,E=o.getLineContent(L+1),I=this._findFirstMatchInLine(c,E,L+1,1,g);if(I)return I}return null}static _findFirstMatchInLine(o,r,c,g,m){o.reset(g-1);const S=o.next(r);return S?h(new D.Range(c,S.index+1,c,S.index+1+S[0].length),S,m):null}static findPreviousMatch(o,r,c,g){const m=r.parseSearchRequest();if(!m)return null;const S=new d(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindPreviousMatchMultiline(o,c,S,g):this._doFindPreviousMatchLineByLine(o,c,S,g)}static _doFindPreviousMatchMultiline(o,r,c,g){const m=this._doFindMatchesMultiline(o,new D.Range(1,1,r.lineNumber,r.column),c,g,10*b);if(m.length>0)return m[m.length-1];const S=o.getLineCount();return r.lineNumber!==S||r.column!==o.getLineMaxColumn(S)?this._doFindPreviousMatchMultiline(o,new N.Position(S,o.getLineMaxColumn(S)),c,g):null}static _doFindPreviousMatchLineByLine(o,r,c,g){const m=o.getLineCount(),S=r.lineNumber,p=o.getLineContent(S).substring(0,r.column-1),C=this._findLastMatchInLine(c,p,S,g);if(C)return C;for(let _=1;_<=m;_++){const L=(m+S-_-1)%m,E=o.getLineContent(L+1),I=this._findLastMatchInLine(c,E,L+1,g);if(I)return I}return null}static _findLastMatchInLine(o,r,c,g){let m=null,S;for(o.reset(0);S=o.next(r);)m=h(new D.Range(c,S.index+1,c,S.index+1+S[0].length),S,g);return m}}e.TextModelSearch=n;function t(a,o,r,c,g){if(c===0)return!0;const m=o.charCodeAt(c-1);if(a.get(m)!==0||m===13||m===10)return!0;if(g>0){const S=o.charCodeAt(c);if(a.get(S)!==0)return!0}return!1}function s(a,o,r,c,g){if(c+g===r)return!0;const m=o.charCodeAt(c+g);if(a.get(m)!==0||m===13||m===10)return!0;if(g>0){const S=o.charCodeAt(c+g-1);if(a.get(S)!==0)return!0}return!1}function l(a,o,r,c,g){return t(a,o,r,c,g)&&s(a,o,r,c,g)}e.isValidMatch=l;class d{constructor(o,r){this._wordSeparators=o,this._searchRegex=r,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(o){this._searchRegex.lastIndex=o,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(o){const r=o.length;let c;do{if(this._prevMatchStartIndex+this._prevMatchLength===r||(c=this._searchRegex.exec(o),!c))return null;const g=c.index,m=c[0].length;if(g===this._prevMatchStartIndex&&m===this._prevMatchLength){if(m===0){y.getNextCodePoint(o,r,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=g,this._prevMatchLength=m,!this._wordSeparators||l(this._wordSeparators,o,r,g,m))return c}while(c);return null}}e.Searcher=d}),define(ne[255],oe([1,0,11,3,48,441,157]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function b(d){let a;return d[d.length-1]<65536?a=new Uint16Array(d.length):a=new Uint32Array(d.length),a.set(d,0),a}e.createUintArray=b;class v{constructor(a,o,r,c,g){this.lineStarts=a,this.cr=o,this.lf=r,this.crlf=c,this.isBasicASCII=g}}e.LineStarts=v;function u(d,a=!0){const o=[0];let r=1;for(let c=0,g=d.length;c<g;c++){const m=d.charCodeAt(c);m===13?c+1<g&&d.charCodeAt(c+1)===10?(o[r++]=c+2,c++):o[r++]=c+1:m===10&&(o[r++]=c+1)}return a?b(o):o}e.createLineStartsFast=u;function h(d,a){d.length=0,d[0]=0;let o=1,r=0,c=0,g=0,m=!0;for(let p=0,C=a.length;p<C;p++){const _=a.charCodeAt(p);_===13?p+1<C&&a.charCodeAt(p+1)===10?(g++,d[o++]=p+2,p++):(r++,d[o++]=p+1):_===10?(c++,d[o++]=p+1):m&&_!==9&&(_<32||_>126)&&(m=!1)}const S=new v(b(d),r,c,g,m);return d.length=0,S}e.createLineStarts=h;class i{constructor(a,o,r,c,g){this.bufferIndex=a,this.start=o,this.end=r,this.lineFeedCnt=c,this.length=g}}e.Piece=i;class n{constructor(a,o){this.buffer=a,this.lineStarts=o}}e.StringBuffer=n;class t{constructor(a,o){this._pieces=[],this._tree=a,this._BOM=o,this._index=0,a.root!==D.SENTINEL&&a.iterate(a.root,r=>(r!==D.SENTINEL&&this._pieces.push(r.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class s{constructor(a){this._limit=a,this._cache=[]}get(a){for(let o=this._cache.length-1;o>=0;o--){const r=this._cache[o];if(r.nodeStartOffset<=a&&r.nodeStartOffset+r.node.piece.length>=a)return r}return null}get2(a){for(let o=this._cache.length-1;o>=0;o--){const r=this._cache[o];if(r.nodeStartLineNumber&&r.nodeStartLineNumber<a&&r.nodeStartLineNumber+r.node.piece.lineFeedCnt>=a)return r}return null}set(a){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(a)}validate(a){let o=!1;const r=this._cache;for(let c=0;c<r.length;c++){const g=r[c];if(g.node.parent===null||g.nodeStartOffset>=a){r[c]=null,o=!0;continue}}if(o){const c=[];for(const g of r)g!==null&&c.push(g);this._cache=c}}}class l{constructor(a,o,r){this.create(a,o,r)}create(a,o,r){this._buffers=[new n("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=o,this._EOLLength=o.length,this._EOLNormalized=r;let c=null;for(let g=0,m=a.length;g<m;g++)if(a[g].buffer.length>0){a[g].lineStarts||(a[g].lineStarts=u(a[g].buffer));const S=new i(g+1,{line:0,column:0},{line:a[g].lineStarts.length-1,column:a[g].buffer.length-a[g].lineStarts[a[g].lineStarts.length-1]},a[g].lineStarts.length-1,a[g].buffer.length);this._buffers.push(a[g]),c=this.rbInsertRight(c,S)}this._searchCache=new s(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(a){const o=e.AverageBufferSize,r=o-Math.floor(o/3),c=r*2;let g="",m=0;const S=[];if(this.iterate(this.root,p=>{const C=this.getNodeContent(p),_=C.length;if(m<=r||m+_<c)return g+=C,m+=_,!0;const L=g.replace(/\r\n|\r|\n/g,a);return S.push(new n(L,u(L))),g=C,m=_,!0}),m>0){const p=g.replace(/\r\n|\r|\n/g,a);S.push(new n(p,u(p)))}this.create(S,a,!0)}getEOL(){return this._EOL}setEOL(a){this._EOL=a,this._EOLLength=this._EOL.length,this.normalizeEOL(a)}createSnapshot(a){return new t(this,a)}getOffsetAt(a,o){let r=0,c=this.root;for(;c!==D.SENTINEL;)if(c.left!==D.SENTINEL&&c.lf_left+1>=a)c=c.left;else{if(c.lf_left+c.piece.lineFeedCnt+1>=a)return r+=c.size_left,r+=this.getAccumulatedValue(c,a-c.lf_left-2)+o-1;a-=c.lf_left+c.piece.lineFeedCnt,r+=c.size_left+c.piece.length,c=c.right}return r}getPositionAt(a){a=Math.floor(a),a=Math.max(0,a);let o=this.root,r=0;const c=a;for(;o!==D.SENTINEL;)if(o.size_left!==0&&o.size_left>=a)o=o.left;else if(o.size_left+o.piece.length>=a){const g=this.getIndexOf(o,a-o.size_left);if(r+=o.lf_left+g.index,g.index===0){const m=this.getOffsetAt(r+1,1),S=c-m;return new y.Position(r+1,S+1)}return new y.Position(r+1,g.remainder+1)}else if(a-=o.size_left+o.piece.length,r+=o.lf_left+o.piece.lineFeedCnt,o.right===D.SENTINEL){const g=this.getOffsetAt(r+1,1),m=c-a-g;return new y.Position(r+1,m+1)}else o=o.right;return new y.Position(1,1)}getValueInRange(a,o){if(a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn)return"";const r=this.nodeAt2(a.startLineNumber,a.startColumn),c=this.nodeAt2(a.endLineNumber,a.endColumn),g=this.getValueInRange2(r,c);return o?o!==this._EOL||!this._EOLNormalized?g.replace(/\r\n|\r|\n/g,o):o===this.getEOL()&&this._EOLNormalized?g:g.replace(/\r\n|\r|\n/g,o):g}getValueInRange2(a,o){if(a.node===o.node){const S=a.node,p=this._buffers[S.piece.bufferIndex].buffer,C=this.offsetInBuffer(S.piece.bufferIndex,S.piece.start);return p.substring(C+a.remainder,C+o.remainder)}let r=a.node;const c=this._buffers[r.piece.bufferIndex].buffer,g=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);let m=c.substring(g+a.remainder,g+r.piece.length);for(r=r.next();r!==D.SENTINEL;){const S=this._buffers[r.piece.bufferIndex].buffer,p=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(r===o.node){m+=S.substring(p,p+o.remainder);break}else m+=S.substr(p,r.piece.length);r=r.next()}return m}getLinesContent(){const a=[];let o=0,r="",c=!1;return this.iterate(this.root,g=>{if(g===D.SENTINEL)return!0;const m=g.piece;let S=m.length;if(S===0)return!0;const p=this._buffers[m.bufferIndex].buffer,C=this._buffers[m.bufferIndex].lineStarts,_=m.start.line,L=m.end.line;let E=C[_]+m.start.column;if(c&&(p.charCodeAt(E)===10&&(E++,S--),a[o++]=r,r="",c=!1,S===0))return!0;if(_===L)return!this._EOLNormalized&&p.charCodeAt(E+S-1)===13?(c=!0,r+=p.substr(E,S-1)):r+=p.substr(E,S),!0;r+=this._EOLNormalized?p.substring(E,Math.max(E,C[_+1]-this._EOLLength)):p.substring(E,C[_+1]).replace(/(\r\n|\r|\n)$/,""),a[o++]=r;for(let I=_+1;I<L;I++)r=this._EOLNormalized?p.substring(C[I],C[I+1]-this._EOLLength):p.substring(C[I],C[I+1]).replace(/(\r\n|\r|\n)$/,""),a[o++]=r;return!this._EOLNormalized&&p.charCodeAt(C[L]+m.end.column-1)===13?(c=!0,m.end.column===0?o--:r=p.substr(C[L],m.end.column-1)):r=p.substr(C[L],m.end.column),!0}),c&&(a[o++]=r,r=""),a[o++]=r,a}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(a){return this._lastVisitedLine.lineNumber===a?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=a,a===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(a):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(a,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(a).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(a){if(a.remainder===a.node.piece.length){const o=a.node.next();if(!o)return 0;const r=this._buffers[o.piece.bufferIndex],c=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return r.buffer.charCodeAt(c)}else{const o=this._buffers[a.node.piece.bufferIndex],c=this.offsetInBuffer(a.node.piece.bufferIndex,a.node.piece.start)+a.remainder;return o.buffer.charCodeAt(c)}}getLineCharCode(a,o){const r=this.nodeAt2(a,o+1);return this._getCharCode(r)}getLineLength(a){if(a===this.getLineCount()){const o=this.getOffsetAt(a,1);return this.getLength()-o}return this.getOffsetAt(a+1,1)-this.getOffsetAt(a,1)-this._EOLLength}findMatchesInNode(a,o,r,c,g,m,S,p,C,_,L){const E=this._buffers[a.piece.bufferIndex],I=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start),T=this.offsetInBuffer(a.piece.bufferIndex,g),P=this.offsetInBuffer(a.piece.bufferIndex,m);let B;const R={line:0,column:0};let k,A;o._wordSeparators?(k=E.buffer.substring(T,P),A=O=>O+T,o.reset(0)):(k=E.buffer,A=O=>O,o.reset(T));do if(B=o.next(k),B){if(A(B.index)>=P)return _;this.positionInBuffer(a,A(B.index)-I,R);const O=this.getLineFeedCnt(a.piece.bufferIndex,g,R),F=R.line===g.line?R.column-g.column+c:R.column+1,W=F+B[0].length;if(L[_++]=(0,w.createFindMatch)(new f.Range(r+O,F,r+O,W),B,p),A(B.index)+B[0].length>=P||_>=C)return _}while(B);return _}findMatchesLineByLine(a,o,r,c){const g=[];let m=0;const S=new w.Searcher(o.wordSeparators,o.regex);let p=this.nodeAt2(a.startLineNumber,a.startColumn);if(p===null)return[];const C=this.nodeAt2(a.endLineNumber,a.endColumn);if(C===null)return[];let _=this.positionInBuffer(p.node,p.remainder);const L=this.positionInBuffer(C.node,C.remainder);if(p.node===C.node)return this.findMatchesInNode(p.node,S,a.startLineNumber,a.startColumn,_,L,o,r,c,m,g),g;let E=a.startLineNumber,I=p.node;for(;I!==C.node;){const P=this.getLineFeedCnt(I.piece.bufferIndex,_,I.piece.end);if(P>=1){const R=this._buffers[I.piece.bufferIndex].lineStarts,k=this.offsetInBuffer(I.piece.bufferIndex,I.piece.start),A=R[_.line+P],O=E===a.startLineNumber?a.startColumn:1;if(m=this.findMatchesInNode(I,S,E,O,_,this.positionInBuffer(I,A-k),o,r,c,m,g),m>=c)return g;E+=P}const B=E===a.startLineNumber?a.startColumn-1:0;if(E===a.endLineNumber){const R=this.getLineContent(E).substring(B,a.endColumn-1);return m=this._findMatchesInLine(o,S,R,a.endLineNumber,B,m,g,r,c),g}if(m=this._findMatchesInLine(o,S,this.getLineContent(E).substr(B),E,B,m,g,r,c),m>=c)return g;E++,p=this.nodeAt2(E,1),I=p.node,_=this.positionInBuffer(p.node,p.remainder)}if(E===a.endLineNumber){const P=E===a.startLineNumber?a.startColumn-1:0,B=this.getLineContent(E).substring(P,a.endColumn-1);return m=this._findMatchesInLine(o,S,B,a.endLineNumber,P,m,g,r,c),g}const T=E===a.startLineNumber?a.startColumn:1;return m=this.findMatchesInNode(C.node,S,E,T,_,L,o,r,c,m,g),g}_findMatchesInLine(a,o,r,c,g,m,S,p,C){const _=a.wordSeparators;if(!p&&a.simpleSearch){const E=a.simpleSearch,I=E.length,T=r.length;let P=-I;for(;(P=r.indexOf(E,P+I))!==-1;)if((!_||(0,w.isValidMatch)(_,r,T,P,I))&&(S[m++]=new N.FindMatch(new f.Range(c,P+1+g,c,P+1+I+g),null),m>=C))return m;return m}let L;o.reset(0);do if(L=o.next(r),L&&(S[m++]=(0,w.createFindMatch)(new f.Range(c,L.index+1+g,c,L.index+1+L[0].length+g),L,p),m>=C))return m;while(L);return m}insert(a,o,r=!1){if(this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:c,remainder:g,nodeStartOffset:m}=this.nodeAt(a),S=c.piece,p=S.bufferIndex,C=this.positionInBuffer(c,g);if(c.piece.bufferIndex===0&&S.end.line===this._lastChangeBufferPos.line&&S.end.column===this._lastChangeBufferPos.column&&m+S.length===a&&o.length<e.AverageBufferSize){this.appendToNode(c,o),this.computeBufferMetadata();return}if(m===a)this.insertContentToNodeLeft(o,c),this._searchCache.validate(a);else if(m+c.piece.length>a){const _=[];let L=new i(S.bufferIndex,C,S.end,this.getLineFeedCnt(S.bufferIndex,C,S.end),this.offsetInBuffer(p,S.end)-this.offsetInBuffer(p,C));if(this.shouldCheckCRLF()&&this.endWithCR(o)&&this.nodeCharCodeAt(c,g)===10){const P={line:L.start.line+1,column:0};L=new i(L.bufferIndex,P,L.end,this.getLineFeedCnt(L.bufferIndex,P,L.end),L.length-1),o+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(o))if(this.nodeCharCodeAt(c,g-1)===13){const P=this.positionInBuffer(c,g-1);this.deleteNodeTail(c,P),o="\r"+o,c.piece.length===0&&_.push(c)}else this.deleteNodeTail(c,C);else this.deleteNodeTail(c,C);const E=this.createNewPieces(o);L.length>0&&this.rbInsertRight(c,L);let I=c;for(let T=0;T<E.length;T++)I=this.rbInsertRight(I,E[T]);this.deleteNodes(_)}else this.insertContentToNodeRight(o,c)}else{const c=this.createNewPieces(o);let g=this.rbInsertLeft(null,c[0]);for(let m=1;m<c.length;m++)g=this.rbInsertRight(g,c[m])}this.computeBufferMetadata()}delete(a,o){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",o<=0||this.root===D.SENTINEL)return;const r=this.nodeAt(a),c=this.nodeAt(a+o),g=r.node,m=c.node;if(g===m){const E=this.positionInBuffer(g,r.remainder),I=this.positionInBuffer(g,c.remainder);if(r.nodeStartOffset===a){if(o===g.piece.length){const T=g.next();(0,D.rbDelete)(this,g),this.validateCRLFWithPrevNode(T),this.computeBufferMetadata();return}this.deleteNodeHead(g,I),this._searchCache.validate(a),this.validateCRLFWithPrevNode(g),this.computeBufferMetadata();return}if(r.nodeStartOffset+g.piece.length===a+o){this.deleteNodeTail(g,E),this.validateCRLFWithNextNode(g),this.computeBufferMetadata();return}this.shrinkNode(g,E,I),this.computeBufferMetadata();return}const S=[],p=this.positionInBuffer(g,r.remainder);this.deleteNodeTail(g,p),this._searchCache.validate(a),g.piece.length===0&&S.push(g);const C=this.positionInBuffer(m,c.remainder);this.deleteNodeHead(m,C),m.piece.length===0&&S.push(m);const _=g.next();for(let E=_;E!==D.SENTINEL&&E!==m;E=E.next())S.push(E);const L=g.piece.length===0?g.prev():g;this.deleteNodes(S),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}insertContentToNodeLeft(a,o){const r=[];if(this.shouldCheckCRLF()&&this.endWithCR(a)&&this.startWithLF(o)){const m=o.piece,S={line:m.start.line+1,column:0},p=new i(m.bufferIndex,S,m.end,this.getLineFeedCnt(m.bufferIndex,S,m.end),m.length-1);o.piece=p,a+=`
`,(0,D.updateTreeMetadata)(this,o,-1,-1),o.piece.length===0&&r.push(o)}const c=this.createNewPieces(a);let g=this.rbInsertLeft(o,c[c.length-1]);for(let m=c.length-2;m>=0;m--)g=this.rbInsertLeft(g,c[m]);this.validateCRLFWithPrevNode(g),this.deleteNodes(r)}insertContentToNodeRight(a,o){this.adjustCarriageReturnFromNext(a,o)&&(a+=`
`);const r=this.createNewPieces(a),c=this.rbInsertRight(o,r[0]);let g=c;for(let m=1;m<r.length;m++)g=this.rbInsertRight(g,r[m]);this.validateCRLFWithPrevNode(c)}positionInBuffer(a,o,r){const c=a.piece,g=a.piece.bufferIndex,m=this._buffers[g].lineStarts,p=m[c.start.line]+c.start.column+o;let C=c.start.line,_=c.end.line,L=0,E=0,I=0;for(;C<=_&&(L=C+(_-C)/2|0,I=m[L],L!==_);)if(E=m[L+1],p<I)_=L-1;else if(p>=E)C=L+1;else break;return r?(r.line=L,r.column=p-I,null):{line:L,column:p-I}}getLineFeedCnt(a,o,r){if(r.column===0)return r.line-o.line;const c=this._buffers[a].lineStarts;if(r.line===c.length-1)return r.line-o.line;const g=c[r.line+1],m=c[r.line]+r.column;if(g>m+1)return r.line-o.line;const S=m-1;return this._buffers[a].buffer.charCodeAt(S)===13?r.line-o.line+1:r.line-o.line}offsetInBuffer(a,o){return this._buffers[a].lineStarts[o.line]+o.column}deleteNodes(a){for(let o=0;o<a.length;o++)(0,D.rbDelete)(this,a[o])}createNewPieces(a){if(a.length>e.AverageBufferSize){const _=[];for(;a.length>e.AverageBufferSize;){const E=a.charCodeAt(e.AverageBufferSize-1);let I;E===13||E>=55296&&E<=56319?(I=a.substring(0,e.AverageBufferSize-1),a=a.substring(e.AverageBufferSize-1)):(I=a.substring(0,e.AverageBufferSize),a=a.substring(e.AverageBufferSize));const T=u(I);_.push(new i(this._buffers.length,{line:0,column:0},{line:T.length-1,column:I.length-T[T.length-1]},T.length-1,I.length)),this._buffers.push(new n(I,T))}const L=u(a);return _.push(new i(this._buffers.length,{line:0,column:0},{line:L.length-1,column:a.length-L[L.length-1]},L.length-1,a.length)),this._buffers.push(new n(a,L)),_}let o=this._buffers[0].buffer.length;const r=u(a,!1);let c=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===o&&o!==0&&this.startWithLF(a)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},c=this._lastChangeBufferPos;for(let _=0;_<r.length;_++)r[_]+=o+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+="_"+a,o+=1}else{if(o!==0)for(let _=0;_<r.length;_++)r[_]+=o;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+=a}const g=this._buffers[0].buffer.length,m=this._buffers[0].lineStarts.length-1,S=g-this._buffers[0].lineStarts[m],p={line:m,column:S},C=new i(0,c,p,this.getLineFeedCnt(0,c,p),g-o);return this._lastChangeBufferPos=p,[C]}getLineRawContent(a,o=0){let r=this.root,c="";const g=this._searchCache.get2(a);if(g){r=g.node;const m=this.getAccumulatedValue(r,a-g.nodeStartLineNumber-1),S=this._buffers[r.piece.bufferIndex].buffer,p=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(g.nodeStartLineNumber+r.piece.lineFeedCnt===a)c=S.substring(p+m,p+r.piece.length);else{const C=this.getAccumulatedValue(r,a-g.nodeStartLineNumber);return S.substring(p+m,p+C-o)}}else{let m=0;const S=a;for(;r!==D.SENTINEL;)if(r.left!==D.SENTINEL&&r.lf_left>=a-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>a-1){const p=this.getAccumulatedValue(r,a-r.lf_left-2),C=this.getAccumulatedValue(r,a-r.lf_left-1),_=this._buffers[r.piece.bufferIndex].buffer,L=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return m+=r.size_left,this._searchCache.set({node:r,nodeStartOffset:m,nodeStartLineNumber:S-(a-1-r.lf_left)}),_.substring(L+p,L+C-o)}else if(r.lf_left+r.piece.lineFeedCnt===a-1){const p=this.getAccumulatedValue(r,a-r.lf_left-2),C=this._buffers[r.piece.bufferIndex].buffer,_=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);c=C.substring(_+p,_+r.piece.length);break}else a-=r.lf_left+r.piece.lineFeedCnt,m+=r.size_left+r.piece.length,r=r.right}for(r=r.next();r!==D.SENTINEL;){const m=this._buffers[r.piece.bufferIndex].buffer;if(r.piece.lineFeedCnt>0){const S=this.getAccumulatedValue(r,0),p=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return c+=m.substring(p,p+S-o),c}else{const S=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);c+=m.substr(S,r.piece.length)}r=r.next()}return c}computeBufferMetadata(){let a=this.root,o=1,r=0;for(;a!==D.SENTINEL;)o+=a.lf_left+a.piece.lineFeedCnt,r+=a.size_left+a.piece.length,a=a.right;this._lineCnt=o,this._length=r,this._searchCache.validate(this._length)}getIndexOf(a,o){const r=a.piece,c=this.positionInBuffer(a,o),g=c.line-r.start.line;if(this.offsetInBuffer(r.bufferIndex,r.end)-this.offsetInBuffer(r.bufferIndex,r.start)===o){const m=this.getLineFeedCnt(a.piece.bufferIndex,r.start,c);if(m!==g)return{index:m,remainder:0}}return{index:g,remainder:c.column}}getAccumulatedValue(a,o){if(o<0)return 0;const r=a.piece,c=this._buffers[r.bufferIndex].lineStarts,g=r.start.line+o+1;return g>r.end.line?c[r.end.line]+r.end.column-c[r.start.line]-r.start.column:c[g]-c[r.start.line]-r.start.column}deleteNodeTail(a,o){const r=a.piece,c=r.lineFeedCnt,g=this.offsetInBuffer(r.bufferIndex,r.end),m=o,S=this.offsetInBuffer(r.bufferIndex,m),p=this.getLineFeedCnt(r.bufferIndex,r.start,m),C=p-c,_=S-g,L=r.length+_;a.piece=new i(r.bufferIndex,r.start,m,p,L),(0,D.updateTreeMetadata)(this,a,_,C)}deleteNodeHead(a,o){const r=a.piece,c=r.lineFeedCnt,g=this.offsetInBuffer(r.bufferIndex,r.start),m=o,S=this.getLineFeedCnt(r.bufferIndex,m,r.end),p=this.offsetInBuffer(r.bufferIndex,m),C=S-c,_=g-p,L=r.length+_;a.piece=new i(r.bufferIndex,m,r.end,S,L),(0,D.updateTreeMetadata)(this,a,_,C)}shrinkNode(a,o,r){const c=a.piece,g=c.start,m=c.end,S=c.length,p=c.lineFeedCnt,C=o,_=this.getLineFeedCnt(c.bufferIndex,c.start,C),L=this.offsetInBuffer(c.bufferIndex,o)-this.offsetInBuffer(c.bufferIndex,g);a.piece=new i(c.bufferIndex,c.start,C,_,L),(0,D.updateTreeMetadata)(this,a,L-S,_-p);const E=new i(c.bufferIndex,r,m,this.getLineFeedCnt(c.bufferIndex,r,m),this.offsetInBuffer(c.bufferIndex,m)-this.offsetInBuffer(c.bufferIndex,r)),I=this.rbInsertRight(a,E);this.validateCRLFWithPrevNode(I)}appendToNode(a,o){this.adjustCarriageReturnFromNext(o,a)&&(o+=`
`);const r=this.shouldCheckCRLF()&&this.startWithLF(o)&&this.endWithCR(a),c=this._buffers[0].buffer.length;this._buffers[0].buffer+=o;const g=u(o,!1);for(let I=0;I<g.length;I++)g[I]+=c;if(r){const I=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:c-I}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(g.slice(1));const m=this._buffers[0].lineStarts.length-1,S=this._buffers[0].buffer.length-this._buffers[0].lineStarts[m],p={line:m,column:S},C=a.piece.length+o.length,_=a.piece.lineFeedCnt,L=this.getLineFeedCnt(0,a.piece.start,p),E=L-_;a.piece=new i(a.piece.bufferIndex,a.piece.start,p,L,C),this._lastChangeBufferPos=p,(0,D.updateTreeMetadata)(this,a,o.length,E)}nodeAt(a){let o=this.root;const r=this._searchCache.get(a);if(r)return{node:r.node,nodeStartOffset:r.nodeStartOffset,remainder:a-r.nodeStartOffset};let c=0;for(;o!==D.SENTINEL;)if(o.size_left>a)o=o.left;else if(o.size_left+o.piece.length>=a){c+=o.size_left;const g={node:o,remainder:a-o.size_left,nodeStartOffset:c};return this._searchCache.set(g),g}else a-=o.size_left+o.piece.length,c+=o.size_left+o.piece.length,o=o.right;return null}nodeAt2(a,o){let r=this.root,c=0;for(;r!==D.SENTINEL;)if(r.left!==D.SENTINEL&&r.lf_left>=a-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>a-1){const g=this.getAccumulatedValue(r,a-r.lf_left-2),m=this.getAccumulatedValue(r,a-r.lf_left-1);return c+=r.size_left,{node:r,remainder:Math.min(g+o-1,m),nodeStartOffset:c}}else if(r.lf_left+r.piece.lineFeedCnt===a-1){const g=this.getAccumulatedValue(r,a-r.lf_left-2);if(g+o-1<=r.piece.length)return{node:r,remainder:g+o-1,nodeStartOffset:c};o-=r.piece.length-g;break}else a-=r.lf_left+r.piece.lineFeedCnt,c+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==D.SENTINEL;){if(r.piece.lineFeedCnt>0){const g=this.getAccumulatedValue(r,0),m=this.offsetOfNode(r);return{node:r,remainder:Math.min(o-1,g),nodeStartOffset:m}}else if(r.piece.length>=o-1){const g=this.offsetOfNode(r);return{node:r,remainder:o-1,nodeStartOffset:g}}else o-=r.piece.length;r=r.next()}return null}nodeCharCodeAt(a,o){if(a.piece.lineFeedCnt<1)return-1;const r=this._buffers[a.piece.bufferIndex],c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start)+o;return r.buffer.charCodeAt(c)}offsetOfNode(a){if(!a)return 0;let o=a.size_left;for(;a!==this.root;)a.parent.right===a&&(o+=a.parent.size_left+a.parent.piece.length),a=a.parent;return o}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(a){if(typeof a=="string")return a.charCodeAt(0)===10;if(a===D.SENTINEL||a.piece.lineFeedCnt===0)return!1;const o=a.piece,r=this._buffers[o.bufferIndex].lineStarts,c=o.start.line,g=r[c]+o.start.column;return c===r.length-1||r[c+1]>g+1?!1:this._buffers[o.bufferIndex].buffer.charCodeAt(g)===10}endWithCR(a){return typeof a=="string"?a.charCodeAt(a.length-1)===13:a===D.SENTINEL||a.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(a,a.piece.length-1)===13}validateCRLFWithPrevNode(a){if(this.shouldCheckCRLF()&&this.startWithLF(a)){const o=a.prev();this.endWithCR(o)&&this.fixCRLF(o,a)}}validateCRLFWithNextNode(a){if(this.shouldCheckCRLF()&&this.endWithCR(a)){const o=a.next();this.startWithLF(o)&&this.fixCRLF(a,o)}}fixCRLF(a,o){const r=[],c=this._buffers[a.piece.bufferIndex].lineStarts;let g;a.piece.end.column===0?g={line:a.piece.end.line-1,column:c[a.piece.end.line]-c[a.piece.end.line-1]-1}:g={line:a.piece.end.line,column:a.piece.end.column-1};const m=a.piece.length-1,S=a.piece.lineFeedCnt-1;a.piece=new i(a.piece.bufferIndex,a.piece.start,g,S,m),(0,D.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&r.push(a);const p={line:o.piece.start.line+1,column:0},C=o.piece.length-1,_=this.getLineFeedCnt(o.piece.bufferIndex,p,o.piece.end);o.piece=new i(o.piece.bufferIndex,p,o.piece.end,_,C),(0,D.updateTreeMetadata)(this,o,-1,-1),o.piece.length===0&&r.push(o);const L=this.createNewPieces(`\r
`);this.rbInsertRight(a,L[0]);for(let E=0;E<r.length;E++)(0,D.rbDelete)(this,r[E])}adjustCarriageReturnFromNext(a,o){if(this.shouldCheckCRLF()&&this.endWithCR(a)){const r=o.next();if(this.startWithLF(r)){if(a+=`
`,r.piece.length===1)(0,D.rbDelete)(this,r);else{const c=r.piece,g={line:c.start.line+1,column:0},m=c.length-1,S=this.getLineFeedCnt(c.bufferIndex,g,c.end);r.piece=new i(c.bufferIndex,g,c.end,S,m),(0,D.updateTreeMetadata)(this,r,-1,-1)}return!0}}return!1}iterate(a,o){if(a===D.SENTINEL)return o(D.SENTINEL);const r=this.iterate(a.left,o);return r&&o(a)&&this.iterate(a.right,o)}getNodeContent(a){if(a===D.SENTINEL)return"";const o=this._buffers[a.piece.bufferIndex],r=a.piece,c=this.offsetInBuffer(r.bufferIndex,r.start),g=this.offsetInBuffer(r.bufferIndex,r.end);return o.buffer.substring(c,g)}getPieceContent(a){const o=this._buffers[a.bufferIndex],r=this.offsetInBuffer(a.bufferIndex,a.start),c=this.offsetInBuffer(a.bufferIndex,a.end);return o.buffer.substring(r,c)}rbInsertRight(a,o){const r=new D.TreeNode(o,1);if(r.left=D.SENTINEL,r.right=D.SENTINEL,r.parent=D.SENTINEL,r.size_left=0,r.lf_left=0,this.root===D.SENTINEL)this.root=r,r.color=0;else if(a.right===D.SENTINEL)a.right=r,r.parent=a;else{const g=(0,D.leftest)(a.right);g.left=r,r.parent=g}return(0,D.fixInsert)(this,r),r}rbInsertLeft(a,o){const r=new D.TreeNode(o,1);if(r.left=D.SENTINEL,r.right=D.SENTINEL,r.parent=D.SENTINEL,r.size_left=0,r.lf_left=0,this.root===D.SENTINEL)this.root=r,r.color=0;else if(a.left===D.SENTINEL)a.left=r,r.parent=a;else{const c=(0,D.righttest)(a.left);c.right=r,r.parent=c}return(0,D.fixInsert)(this,r),r}}e.PieceTreeBase=l}),define(ne[256],oe([1,0,4,9,3,48,255,129,247,2]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class h extends u.Disposable{constructor(n,t,s,l,d,a,o){super();this._onDidChangeContent=this._register(new y.Emitter),this._BOM=t,this._mightContainNonBasicASCII=!a,this._mightContainRTL=l,this._mightContainUnusualLineTerminators=d,this._pieceTree=new w.PieceTreeBase(n,s,o)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(n){return this._pieceTree.createSnapshot(n?this._BOM:"")}getOffsetAt(n,t){return this._pieceTree.getOffsetAt(n,t)}getPositionAt(n){return this._pieceTree.getPositionAt(n)}getRangeAt(n,t){const s=n+t,l=this.getPositionAt(n),d=this.getPositionAt(s);return new N.Range(l.lineNumber,l.column,d.lineNumber,d.column)}getValueInRange(n,t=0){if(n.isEmpty())return"";const s=this._getEndOfLine(t);return this._pieceTree.getValueInRange(n,s)}getValueLengthInRange(n,t=0){if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;const s=this.getOffsetAt(n.startLineNumber,n.startColumn);return this.getOffsetAt(n.endLineNumber,n.endColumn)-s}getCharacterCountInRange(n,t=0){if(this._mightContainNonBasicASCII){let s=0;const l=n.startLineNumber,d=n.endLineNumber;for(let a=l;a<=d;a++){const o=this.getLineContent(a),r=a===l?n.startColumn-1:0,c=a===d?n.endColumn-1:o.length;for(let g=r;g<c;g++)f.isHighSurrogate(o.charCodeAt(g))?(s=s+1,g=g+1):s=s+1}return s+=this._getEndOfLine(t).length*(d-l),s}return this.getValueLengthInRange(n,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(n){return this._pieceTree.getLineContent(n)}getLineCharCode(n,t){return this._pieceTree.getLineCharCode(n,t)}getLineLength(n){return this._pieceTree.getLineLength(n)}getLineFirstNonWhitespaceColumn(n){const t=f.firstNonWhitespaceIndex(this.getLineContent(n));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(n){const t=f.lastNonWhitespaceIndex(this.getLineContent(n));return t===-1?0:t+2}_getEndOfLine(n){switch(n){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(n){this._pieceTree.setEOL(n)}applyEdits(n,t,s){let l=this._mightContainRTL,d=this._mightContainUnusualLineTerminators,a=this._mightContainNonBasicASCII,o=!0,r=[];for(let _=0;_<n.length;_++){const L=n[_];o&&L._isTracked&&(o=!1);const E=L.range;if(L.text){let R=!0;a||(R=!f.isBasicASCII(L.text),a=R),!l&&R&&(l=f.containsRTL(L.text)),!d&&R&&(d=f.containsUnusualLineTerminators(L.text))}let I="",T=0,P=0,B=0;if(L.text){let R;[T,P,B,R]=(0,b.countEOL)(L.text);const k=this.getEOL();R===0||R===(k===`\r
`?2:1)?I=L.text:I=L.text.replace(/\r\n|\r|\n/g,k)}r[_]={sortIndex:_,identifier:L.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:I,eolCount:T,firstLineLength:P,lastLineLength:B,forceMoveMarkers:Boolean(L.forceMoveMarkers),isAutoWhitespaceEdit:L.isAutoWhitespaceEdit||!1}}r.sort(h._sortOpsAscending);let c=!1;for(let _=0,L=r.length-1;_<L;_++){const E=r[_].range.getEndPosition(),I=r[_+1].range.getStartPosition();if(I.isBeforeOrEqual(E)){if(I.isBefore(E))throw new Error("Overlapping ranges are not allowed!");c=!0}}o&&(r=this._reduceOperations(r));const g=s||t?h._getInverseEditRanges(r):[],m=[];if(t)for(let _=0;_<r.length;_++){const L=r[_],E=g[_];if(L.isAutoWhitespaceEdit&&L.range.isEmpty())for(let I=E.startLineNumber;I<=E.endLineNumber;I++){let T="";I===E.startLineNumber&&(T=this.getLineContent(L.range.startLineNumber),f.firstNonWhitespaceIndex(T)!==-1)||m.push({lineNumber:I,oldContent:T})}}let S=null;if(s){let _=0;S=[];for(let L=0;L<r.length;L++){const E=r[L],I=g[L],T=this.getValueInRange(E.range),P=E.rangeOffset+_;_+=E.text.length-T.length,S[L]={sortIndex:E.sortIndex,identifier:E.identifier,range:I,text:T,textChange:new v.TextChange(E.rangeOffset,T,P,E.text)}}c||S.sort((L,E)=>L.sortIndex-E.sortIndex)}this._mightContainRTL=l,this._mightContainUnusualLineTerminators=d,this._mightContainNonBasicASCII=a;const p=this._doApplyEdits(r);let C=null;if(t&&m.length>0){m.sort((_,L)=>L.lineNumber-_.lineNumber),C=[];for(let _=0,L=m.length;_<L;_++){const E=m[_].lineNumber;if(_>0&&m[_-1].lineNumber===E)continue;const I=m[_].oldContent,T=this.getLineContent(E);T.length===0||T===I||f.firstNonWhitespaceIndex(T)!==-1||C.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(S,p,C)}_reduceOperations(n){return n.length<1e3?n:[this._toSingleEditOperation(n)]}_toSingleEditOperation(n){let t=!1;const s=n[0].range,l=n[n.length-1].range,d=new N.Range(s.startLineNumber,s.startColumn,l.endLineNumber,l.endColumn);let a=s.startLineNumber,o=s.startColumn;const r=[];for(let p=0,C=n.length;p<C;p++){const _=n[p],L=_.range;t=t||_.forceMoveMarkers,r.push(this.getValueInRange(new N.Range(a,o,L.startLineNumber,L.startColumn))),_.text.length>0&&r.push(_.text),a=L.endLineNumber,o=L.endColumn}const c=r.join(""),[g,m,S]=(0,b.countEOL)(c);return{sortIndex:0,identifier:n[0].identifier,range:d,rangeOffset:this.getOffsetAt(d.startLineNumber,d.startColumn),rangeLength:this.getValueLengthInRange(d,0),text:c,eolCount:g,firstLineLength:m,lastLineLength:S,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(n){n.sort(h._sortOpsDescending);const t=[];for(let s=0;s<n.length;s++){const l=n[s],d=l.range.startLineNumber,a=l.range.startColumn,o=l.range.endLineNumber,r=l.range.endColumn;if(d===o&&a===r&&l.text.length===0)continue;l.text?(this._pieceTree.delete(l.rangeOffset,l.rangeLength),this._pieceTree.insert(l.rangeOffset,l.text,!0)):this._pieceTree.delete(l.rangeOffset,l.rangeLength);const c=new N.Range(d,a,o,r);t.push({range:c,rangeLength:l.rangeLength,text:l.text,rangeOffset:l.rangeOffset,forceMoveMarkers:l.forceMoveMarkers})}return t}findMatchesLineByLine(n,t,s,l){return this._pieceTree.findMatchesLineByLine(n,t,s,l)}static _getInverseEditRanges(n){const t=[];let s=0,l=0,d=null;for(let a=0,o=n.length;a<o;a++){const r=n[a];let c,g;d?d.range.endLineNumber===r.range.startLineNumber?(c=s,g=l+(r.range.startColumn-d.range.endColumn)):(c=s+(r.range.startLineNumber-d.range.endLineNumber),g=r.range.startColumn):(c=r.range.startLineNumber,g=r.range.startColumn);let m;if(r.text.length>0){const S=r.eolCount+1;S===1?m=new N.Range(c,g,c,g+r.firstLineLength):m=new N.Range(c,g,c+S-1,r.lastLineLength+1)}else m=new N.Range(c,g,c,g);s=m.endLineNumber,l=m.endColumn,t.push(m),d=r}return t}static _sortOpsAscending(n,t){const s=N.Range.compareRangesUsingEnds(n.range,t.range);return s===0?n.sortIndex-t.sortIndex:s}static _sortOpsDescending(n,t){const s=N.Range.compareRangesUsingEnds(n.range,t.range);return s===0?t.sortIndex-n.sortIndex:-s}}e.PieceTreeTextBuffer=h}),define(ne[443],oe([1,0,9,255,256]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class D{constructor(v,u,h,i,n,t,s,l,d){this._chunks=v,this._bom=u,this._cr=h,this._lf=i,this._crlf=n,this._containsRTL=t,this._containsUnusualLineTerminators=s,this._isBasicASCII=l,this._normalizeEOL=d}_getEOL(v){const u=this._cr+this._lf+this._crlf,h=this._cr+this._crlf;return u===0?v===1?`
`:`\r
`:h>u/2?`\r
`:`
`}create(v){const u=this._getEOL(v),h=this._chunks;if(this._normalizeEOL&&(u===`\r
`&&(this._cr>0||this._lf>0)||u===`
`&&(this._cr>0||this._crlf>0)))for(let n=0,t=h.length;n<t;n++){const s=h[n].buffer.replace(/\r\n|\r|\n/g,u),l=(0,f.createLineStartsFast)(s);h[n]=new f.StringBuffer(s,l)}const i=new N.PieceTreeTextBuffer(h,this._bom,u,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}}e.PieceTreeTextBufferFactory=D;class w{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(v){if(v.length===0)return;this.chunks.length===0&&y.startsWithUTF8BOM(v)&&(this.BOM=y.UTF8_BOM_CHARACTER,v=v.substr(1));const u=v.charCodeAt(v.length-1);u===13||u>=55296&&u<=56319?(this._acceptChunk1(v.substr(0,v.length-1),!1),this._hasPreviousChar=!0,this._previousChar=u):(this._acceptChunk1(v,!1),this._hasPreviousChar=!1,this._previousChar=u)}_acceptChunk1(v,u){!u&&v.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+v):this._acceptChunk2(v))}_acceptChunk2(v){const u=(0,f.createLineStarts)(this._tmpLineStarts,v);this.chunks.push(new f.StringBuffer(v,u.lineStarts)),this.cr+=u.cr,this.lf+=u.lf,this.crlf+=u.crlf,this.isBasicASCII&&(this.isBasicASCII=u.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=y.containsRTL(v)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=y.containsUnusualLineTerminators(v))}finish(v=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,v)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const v=this.chunks[this.chunks.length-1];v.buffer+=String.fromCharCode(this._previousChar);const u=(0,f.createLineStartsFast)(v.buffer);v.lineStarts=u,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=w}),define(ne[192],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function y(f,N){let D=0,w=0;const b=f.length;for(;w<b;){const v=f.charCodeAt(w);if(v===32)D++;else if(v===9)D=D-D%N+N;else break;w++}return w===b?-1:D}e.computeIndentLevel=y}),define(ne[257],oe([1,0,19,11,48]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(i,n,t,s,l){this.injectionOffsets=i,this.injectionOptions=n,this.breakOffsets=t,this.breakOffsetsVisibleColumn=s,this.wrappedTextIndentLength=l}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){const n=i>0?this.breakOffsets[i-1]:0;let s=this.breakOffsets[i]-n;return i>0&&(s+=this.wrappedTextIndentLength),s}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,n){i>0&&(n=Math.max(0,n-this.wrappedTextIndentLength));let s=i===0?n:this.breakOffsets[i-1]+n;if(this.injectionOffsets!==null)for(let l=0;l<this.injectionOffsets.length&&s>this.injectionOffsets[l];l++)s<this.injectionOffsets[l]+this.injectionOptions[l].content.length?s=this.injectionOffsets[l]:s-=this.injectionOptions[l].content.length;return s}translateToOutputPosition(i,n=2){let t=i;if(this.injectionOffsets!==null)for(let s=0;s<this.injectionOffsets.length&&!(i<this.injectionOffsets[s]||n!==1&&i===this.injectionOffsets[s]);s++)t+=this.injectionOptions[s].content.length;return this.offsetInInputWithInjectionsToOutputPosition(t,n)}offsetInInputWithInjectionsToOutputPosition(i,n=2){let t=0,s=this.breakOffsets.length-1,l=0,d=0;for(;t<=s;){l=t+(s-t)/2|0;const o=this.breakOffsets[l];if(d=l>0?this.breakOffsets[l-1]:0,n===0)if(i<=d)s=l-1;else if(i>o)t=l+1;else break;else if(i<d)s=l-1;else if(i>=o)t=l+1;else break}let a=i-d;return l>0&&(a+=this.wrappedTextIndentLength),new u(l,a)}normalizeOutputPosition(i,n,t){if(this.injectionOffsets!==null){const s=this.outputPositionToOffsetInInputWithInjections(i,n),l=this.normalizeOffsetInInputWithInjectionsAroundInjections(s,t);if(l!==s)return this.offsetInInputWithInjectionsToOutputPosition(l,t)}if(t===0){if(i>0&&n===this.getMinOutputOffset(i))return new u(i-1,this.getMaxOutputOffset(i-1))}else if(t===1){const s=this.getOutputLineCount()-1;if(i<s&&n===this.getMaxOutputOffset(i))return new u(i+1,this.getMinOutputOffset(i+1))}return new u(i,n)}outputPositionToOffsetInInputWithInjections(i,n){return i>0&&(n=Math.max(0,n-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+n}normalizeOffsetInInputWithInjectionsAroundInjections(i,n){const t=this.getInjectedTextAtOffset(i);if(!t)return i;if(n===2){if(i===t.offsetInInputWithInjections+t.length&&w(this.injectionOptions[t.injectedTextIndex].cursorStops))return t.offsetInInputWithInjections+t.length;{let s=t.offsetInInputWithInjections;if(b(this.injectionOptions[t.injectedTextIndex].cursorStops))return s;let l=t.injectedTextIndex-1;for(;l>=0&&this.injectionOffsets[l]===this.injectionOffsets[t.injectedTextIndex]&&!(w(this.injectionOptions[l].cursorStops)||(s-=this.injectionOptions[l].content.length,b(this.injectionOptions[l].cursorStops)));)l--;return s}}else if(n===1||n===4){let s=t.offsetInInputWithInjections+t.length,l=t.injectedTextIndex;for(;l+1<this.injectionOffsets.length&&this.injectionOffsets[l+1]===this.injectionOffsets[l];)s+=this.injectionOptions[l+1].content.length,l++;return s}else if(n===0||n===3){let s=t.offsetInInputWithInjections,l=t.injectedTextIndex;for(;l-1>=0&&this.injectionOffsets[l-1]===this.injectionOffsets[l];)s-=this.injectionOptions[l-1].content.length,l--;return s}(0,y.assertNever)(n)}getInjectedText(i,n){const t=this.outputPositionToOffsetInInputWithInjections(i,n),s=this.getInjectedTextAtOffset(t);return s?{options:this.injectionOptions[s.injectedTextIndex]}:null}getInjectedTextAtOffset(i){const n=this.injectionOffsets,t=this.injectionOptions;if(n!==null){let s=0;for(let l=0;l<n.length;l++){const d=t[l].content.length,a=n[l]+s,o=n[l]+s+d;if(a>i)break;if(i<=o)return{injectedTextIndex:l,offsetInInputWithInjections:a,length:d};s+=d}}}}e.ModelLineProjectionData=D;function w(h){return h==null?!0:h===N.InjectedTextCursorStops.Right||h===N.InjectedTextCursorStops.Both}function b(h){return h==null?!0:h===N.InjectedTextCursorStops.Left||h===N.InjectedTextCursorStops.Both}class v{constructor(i){this.options=i}}e.InjectedText=v;class u{constructor(i,n){this.outputLineIndex=i,this.outputOffset=n}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new f.Position(i+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=u}),define(ne[444],oe([1,0,102,17]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function N(v){for(let u=0,h=v.length;u<h;u+=4){const i=v[u+0],n=v[u+1],t=v[u+2],s=v[u+3];v[u+0]=s,v[u+1]=t,v[u+2]=n,v[u+3]=i}}function D(v){const u=new Uint8Array(v.buffer,v.byteOffset,v.length*4);return f.isLittleEndian()||N(u),y.VSBuffer.wrap(u)}function w(v){const u=new Uint32Array(b(v));let h=0;if(u[h++]=v.id,v.type==="full")u[h++]=1,u[h++]=v.data.length,u.set(v.data,h),h+=v.data.length;else{u[h++]=2,u[h++]=v.deltas.length;for(const i of v.deltas)u[h++]=i.start,u[h++]=i.deleteCount,i.data?(u[h++]=i.data.length,u.set(i.data,h),h+=i.data.length):u[h++]=0}return D(u)}e.encodeSemanticTokensDto=w;function b(v){let u=0;if(u+=1+1,v.type==="full")u+=1+v.data.length;else{u+=1,u+=(1+1+1)*v.deltas.length;for(const h of v.deltas)h.data&&(u+=h.data.length)}return u}}),define(ne[258],oe([1,0,3,157,9,19,131]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class b{static computeUnicodeHighlights(n,t,s){const l=s?s.startLineNumber:1,d=s?s.endLineNumber:n.getLineCount(),a=new u(t),o=a.getCandidateCodePoints();let r;o==="allNonBasicAscii"?r=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):r=new RegExp(`${v(Array.from(o))}`,"g");const c=new f.Searcher(null,r),g=[];let m=!1,S,p=0,C=0,_=0;e:for(let L=l,E=d;L<=E;L++){const I=n.getLineContent(L),T=I.length;c.reset(0);do if(S=c.next(I),S){let P=S.index,B=S.index+S[0].length;if(P>0){const O=I.charCodeAt(P-1);N.isHighSurrogate(O)&&P--}if(B+1<T){const O=I.charCodeAt(B-1);N.isHighSurrogate(O)&&B++}const R=I.substring(P,B),k=(0,w.getWordAtText)(P+1,w.DEFAULT_WORD_REGEXP,I,0),A=a.shouldHighlightNonBasicASCII(R,k?k.word:null);if(A!==0){A===3?p++:A===2?C++:A===1?_++:(0,D.assertNever)(A);const O=1e3;if(g.length>=O){m=!0;break e}g.push(new y.Range(L,P+1,L,B+1))}}while(S)}return{ranges:g,hasMore:m,ambiguousCharacterCount:p,invisibleCharacterCount:C,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(n,t){const s=new u(t);switch(s.shouldHighlightNonBasicASCII(n,null)){case 0:return null;case 2:return{kind:1};case 3:{const d=n.codePointAt(0),a=s.ambiguousCharacters.getPrimaryConfusable(d),o=N.AmbiguousCharacters.getLocales().filter(r=>!N.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,r])).isAmbiguous(d));return{kind:0,confusableWith:String.fromCodePoint(a),notAmbiguousInLocales:o}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=b;function v(i,n){return`[${N.escapeRegExpCharacters(i.map(s=>String.fromCodePoint(s)).join(""))}]`}class u{constructor(n){this.options=n,this.allowedCodePoints=new Set(n.allowedCodePoints),this.ambiguousCharacters=N.AmbiguousCharacters.getInstance(new Set(n.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const n=new Set;if(this.options.invisibleCharacters)for(const t of N.InvisibleCharacters.codePoints)h(String.fromCodePoint(t))||n.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())n.add(t);for(const t of this.allowedCodePoints)n.delete(t);return n}shouldHighlightNonBasicASCII(n,t){const s=n.codePointAt(0);if(this.allowedCodePoints.has(s))return 0;if(this.options.nonBasicASCII)return 1;let l=!1,d=!1;if(t)for(const a of t){const o=a.codePointAt(0),r=N.isBasicASCII(a);l=l||r,!r&&!this.ambiguousCharacters.isAmbiguous(o)&&!N.InvisibleCharacters.isInvisibleCharacter(o)&&(d=!0)}return!l&&d?0:this.options.invisibleCharacters&&!h(n)&&N.InvisibleCharacters.isInvisibleCharacter(s)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(s)?3:0}}function h(i){return i===" "||i===`
`||i==="	"}}),define(ne[158],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var y;(function(M){M[M.Unknown=0]="Unknown",M[M.Disabled=1]="Disabled",M[M.Enabled=2]="Enabled"})(y=e.AccessibilitySupport||(e.AccessibilitySupport={}));var f;(function(M){M[M.KeepWhitespace=1]="KeepWhitespace",M[M.InsertAsSnippet=4]="InsertAsSnippet"})(f=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var N;(function(M){M[M.Method=0]="Method",M[M.Function=1]="Function",M[M.Constructor=2]="Constructor",M[M.Field=3]="Field",M[M.Variable=4]="Variable",M[M.Class=5]="Class",M[M.Struct=6]="Struct",M[M.Interface=7]="Interface",M[M.Module=8]="Module",M[M.Property=9]="Property",M[M.Event=10]="Event",M[M.Operator=11]="Operator",M[M.Unit=12]="Unit",M[M.Value=13]="Value",M[M.Constant=14]="Constant",M[M.Enum=15]="Enum",M[M.EnumMember=16]="EnumMember",M[M.Keyword=17]="Keyword",M[M.Text=18]="Text",M[M.Color=19]="Color",M[M.File=20]="File",M[M.Reference=21]="Reference",M[M.Customcolor=22]="Customcolor",M[M.Folder=23]="Folder",M[M.TypeParameter=24]="TypeParameter",M[M.User=25]="User",M[M.Issue=26]="Issue",M[M.Snippet=27]="Snippet"})(N=e.CompletionItemKind||(e.CompletionItemKind={}));var D;(function(M){M[M.Deprecated=1]="Deprecated"})(D=e.CompletionItemTag||(e.CompletionItemTag={}));var w;(function(M){M[M.Invoke=0]="Invoke",M[M.TriggerCharacter=1]="TriggerCharacter",M[M.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(w=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var b;(function(M){M[M.EXACT=0]="EXACT",M[M.ABOVE=1]="ABOVE",M[M.BELOW=2]="BELOW"})(b=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var v;(function(M){M[M.NotSet=0]="NotSet",M[M.ContentFlush=1]="ContentFlush",M[M.RecoverFromMarkers=2]="RecoverFromMarkers",M[M.Explicit=3]="Explicit",M[M.Paste=4]="Paste",M[M.Undo=5]="Undo",M[M.Redo=6]="Redo"})(v=e.CursorChangeReason||(e.CursorChangeReason={}));var u;(function(M){M[M.LF=1]="LF",M[M.CRLF=2]="CRLF"})(u=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var h;(function(M){M[M.Text=0]="Text",M[M.Read=1]="Read",M[M.Write=2]="Write"})(h=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var i;(function(M){M[M.None=0]="None",M[M.Keep=1]="Keep",M[M.Brackets=2]="Brackets",M[M.Advanced=3]="Advanced",M[M.Full=4]="Full"})(i=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var n;(function(M){M[M.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",M[M.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",M[M.accessibilitySupport=2]="accessibilitySupport",M[M.accessibilityPageSize=3]="accessibilityPageSize",M[M.ariaLabel=4]="ariaLabel",M[M.autoClosingBrackets=5]="autoClosingBrackets",M[M.autoClosingDelete=6]="autoClosingDelete",M[M.autoClosingOvertype=7]="autoClosingOvertype",M[M.autoClosingQuotes=8]="autoClosingQuotes",M[M.autoIndent=9]="autoIndent",M[M.automaticLayout=10]="automaticLayout",M[M.autoSurround=11]="autoSurround",M[M.bracketPairColorization=12]="bracketPairColorization",M[M.guides=13]="guides",M[M.codeLens=14]="codeLens",M[M.codeLensFontFamily=15]="codeLensFontFamily",M[M.codeLensFontSize=16]="codeLensFontSize",M[M.colorDecorators=17]="colorDecorators",M[M.columnSelection=18]="columnSelection",M[M.comments=19]="comments",M[M.contextmenu=20]="contextmenu",M[M.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",M[M.cursorBlinking=22]="cursorBlinking",M[M.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",M[M.cursorStyle=24]="cursorStyle",M[M.cursorSurroundingLines=25]="cursorSurroundingLines",M[M.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",M[M.cursorWidth=27]="cursorWidth",M[M.disableLayerHinting=28]="disableLayerHinting",M[M.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",M[M.domReadOnly=30]="domReadOnly",M[M.dragAndDrop=31]="dragAndDrop",M[M.enableDropIntoEditor=32]="enableDropIntoEditor",M[M.emptySelectionClipboard=33]="emptySelectionClipboard",M[M.extraEditorClassName=34]="extraEditorClassName",M[M.fastScrollSensitivity=35]="fastScrollSensitivity",M[M.find=36]="find",M[M.fixedOverflowWidgets=37]="fixedOverflowWidgets",M[M.folding=38]="folding",M[M.foldingStrategy=39]="foldingStrategy",M[M.foldingHighlight=40]="foldingHighlight",M[M.foldingImportsByDefault=41]="foldingImportsByDefault",M[M.foldingMaximumRegions=42]="foldingMaximumRegions",M[M.unfoldOnClickAfterEndOfLine=43]="unfoldOnClickAfterEndOfLine",M[M.fontFamily=44]="fontFamily",M[M.fontInfo=45]="fontInfo",M[M.fontLigatures=46]="fontLigatures",M[M.fontSize=47]="fontSize",M[M.fontWeight=48]="fontWeight",M[M.formatOnPaste=49]="formatOnPaste",M[M.formatOnType=50]="formatOnType",M[M.glyphMargin=51]="glyphMargin",M[M.gotoLocation=52]="gotoLocation",M[M.hideCursorInOverviewRuler=53]="hideCursorInOverviewRuler",M[M.hover=54]="hover",M[M.inDiffEditor=55]="inDiffEditor",M[M.inlineSuggest=56]="inlineSuggest",M[M.letterSpacing=57]="letterSpacing",M[M.lightbulb=58]="lightbulb",M[M.lineDecorationsWidth=59]="lineDecorationsWidth",M[M.lineHeight=60]="lineHeight",M[M.lineNumbers=61]="lineNumbers",M[M.lineNumbersMinChars=62]="lineNumbersMinChars",M[M.linkedEditing=63]="linkedEditing",M[M.links=64]="links",M[M.matchBrackets=65]="matchBrackets",M[M.minimap=66]="minimap",M[M.mouseStyle=67]="mouseStyle",M[M.mouseWheelScrollSensitivity=68]="mouseWheelScrollSensitivity",M[M.mouseWheelZoom=69]="mouseWheelZoom",M[M.multiCursorMergeOverlapping=70]="multiCursorMergeOverlapping",M[M.multiCursorModifier=71]="multiCursorModifier",M[M.multiCursorPaste=72]="multiCursorPaste",M[M.occurrencesHighlight=73]="occurrencesHighlight",M[M.overviewRulerBorder=74]="overviewRulerBorder",M[M.overviewRulerLanes=75]="overviewRulerLanes",M[M.padding=76]="padding",M[M.parameterHints=77]="parameterHints",M[M.peekWidgetDefaultFocus=78]="peekWidgetDefaultFocus",M[M.definitionLinkOpensInPeek=79]="definitionLinkOpensInPeek",M[M.quickSuggestions=80]="quickSuggestions",M[M.quickSuggestionsDelay=81]="quickSuggestionsDelay",M[M.readOnly=82]="readOnly",M[M.renameOnType=83]="renameOnType",M[M.renderControlCharacters=84]="renderControlCharacters",M[M.renderFinalNewline=85]="renderFinalNewline",M[M.renderLineHighlight=86]="renderLineHighlight",M[M.renderLineHighlightOnlyWhenFocus=87]="renderLineHighlightOnlyWhenFocus",M[M.renderValidationDecorations=88]="renderValidationDecorations",M[M.renderWhitespace=89]="renderWhitespace",M[M.revealHorizontalRightPadding=90]="revealHorizontalRightPadding",M[M.roundedSelection=91]="roundedSelection",M[M.rulers=92]="rulers",M[M.scrollbar=93]="scrollbar",M[M.scrollBeyondLastColumn=94]="scrollBeyondLastColumn",M[M.scrollBeyondLastLine=95]="scrollBeyondLastLine",M[M.scrollPredominantAxis=96]="scrollPredominantAxis",M[M.selectionClipboard=97]="selectionClipboard",M[M.selectionHighlight=98]="selectionHighlight",M[M.selectOnLineNumbers=99]="selectOnLineNumbers",M[M.showFoldingControls=100]="showFoldingControls",M[M.showUnused=101]="showUnused",M[M.snippetSuggestions=102]="snippetSuggestions",M[M.smartSelect=103]="smartSelect",M[M.smoothScrolling=104]="smoothScrolling",M[M.stickyTabStops=105]="stickyTabStops",M[M.stopRenderingLineAfter=106]="stopRenderingLineAfter",M[M.suggest=107]="suggest",M[M.suggestFontSize=108]="suggestFontSize",M[M.suggestLineHeight=109]="suggestLineHeight",M[M.suggestOnTriggerCharacters=110]="suggestOnTriggerCharacters",M[M.suggestSelection=111]="suggestSelection",M[M.tabCompletion=112]="tabCompletion",M[M.tabIndex=113]="tabIndex",M[M.unicodeHighlighting=114]="unicodeHighlighting",M[M.unusualLineTerminators=115]="unusualLineTerminators",M[M.useShadowDOM=116]="useShadowDOM",M[M.useTabStops=117]="useTabStops",M[M.wordSeparators=118]="wordSeparators",M[M.wordWrap=119]="wordWrap",M[M.wordWrapBreakAfterCharacters=120]="wordWrapBreakAfterCharacters",M[M.wordWrapBreakBeforeCharacters=121]="wordWrapBreakBeforeCharacters",M[M.wordWrapColumn=122]="wordWrapColumn",M[M.wordWrapOverride1=123]="wordWrapOverride1",M[M.wordWrapOverride2=124]="wordWrapOverride2",M[M.wrappingIndent=125]="wrappingIndent",M[M.wrappingStrategy=126]="wrappingStrategy",M[M.showDeprecated=127]="showDeprecated",M[M.inlayHints=128]="inlayHints",M[M.editorClassName=129]="editorClassName",M[M.pixelRatio=130]="pixelRatio",M[M.tabFocusMode=131]="tabFocusMode",M[M.layoutInfo=132]="layoutInfo",M[M.wrappingInfo=133]="wrappingInfo"})(n=e.EditorOption||(e.EditorOption={}));var t;(function(M){M[M.TextDefined=0]="TextDefined",M[M.LF=1]="LF",M[M.CRLF=2]="CRLF"})(t=e.EndOfLinePreference||(e.EndOfLinePreference={}));var s;(function(M){M[M.LF=0]="LF",M[M.CRLF=1]="CRLF"})(s=e.EndOfLineSequence||(e.EndOfLineSequence={}));var l;(function(M){M[M.None=0]="None",M[M.Indent=1]="Indent",M[M.IndentOutdent=2]="IndentOutdent",M[M.Outdent=3]="Outdent"})(l=e.IndentAction||(e.IndentAction={}));var d;(function(M){M[M.Both=0]="Both",M[M.Right=1]="Right",M[M.Left=2]="Left",M[M.None=3]="None"})(d=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));var a;(function(M){M[M.Type=1]="Type",M[M.Parameter=2]="Parameter"})(a=e.InlayHintKind||(e.InlayHintKind={}));var o;(function(M){M[M.Automatic=0]="Automatic",M[M.Explicit=1]="Explicit"})(o=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var r;(function(M){M[M.DependsOnKbLayout=-1]="DependsOnKbLayout",M[M.Unknown=0]="Unknown",M[M.Backspace=1]="Backspace",M[M.Tab=2]="Tab",M[M.Enter=3]="Enter",M[M.Shift=4]="Shift",M[M.Ctrl=5]="Ctrl",M[M.Alt=6]="Alt",M[M.PauseBreak=7]="PauseBreak",M[M.CapsLock=8]="CapsLock",M[M.Escape=9]="Escape",M[M.Space=10]="Space",M[M.PageUp=11]="PageUp",M[M.PageDown=12]="PageDown",M[M.End=13]="End",M[M.Home=14]="Home",M[M.LeftArrow=15]="LeftArrow",M[M.UpArrow=16]="UpArrow",M[M.RightArrow=17]="RightArrow",M[M.DownArrow=18]="DownArrow",M[M.Insert=19]="Insert",M[M.Delete=20]="Delete",M[M.Digit0=21]="Digit0",M[M.Digit1=22]="Digit1",M[M.Digit2=23]="Digit2",M[M.Digit3=24]="Digit3",M[M.Digit4=25]="Digit4",M[M.Digit5=26]="Digit5",M[M.Digit6=27]="Digit6",M[M.Digit7=28]="Digit7",M[M.Digit8=29]="Digit8",M[M.Digit9=30]="Digit9",M[M.KeyA=31]="KeyA",M[M.KeyB=32]="KeyB",M[M.KeyC=33]="KeyC",M[M.KeyD=34]="KeyD",M[M.KeyE=35]="KeyE",M[M.KeyF=36]="KeyF",M[M.KeyG=37]="KeyG",M[M.KeyH=38]="KeyH",M[M.KeyI=39]="KeyI",M[M.KeyJ=40]="KeyJ",M[M.KeyK=41]="KeyK",M[M.KeyL=42]="KeyL",M[M.KeyM=43]="KeyM",M[M.KeyN=44]="KeyN",M[M.KeyO=45]="KeyO",M[M.KeyP=46]="KeyP",M[M.KeyQ=47]="KeyQ",M[M.KeyR=48]="KeyR",M[M.KeyS=49]="KeyS",M[M.KeyT=50]="KeyT",M[M.KeyU=51]="KeyU",M[M.KeyV=52]="KeyV",M[M.KeyW=53]="KeyW",M[M.KeyX=54]="KeyX",M[M.KeyY=55]="KeyY",M[M.KeyZ=56]="KeyZ",M[M.Meta=57]="Meta",M[M.ContextMenu=58]="ContextMenu",M[M.F1=59]="F1",M[M.F2=60]="F2",M[M.F3=61]="F3",M[M.F4=62]="F4",M[M.F5=63]="F5",M[M.F6=64]="F6",M[M.F7=65]="F7",M[M.F8=66]="F8",M[M.F9=67]="F9",M[M.F10=68]="F10",M[M.F11=69]="F11",M[M.F12=70]="F12",M[M.F13=71]="F13",M[M.F14=72]="F14",M[M.F15=73]="F15",M[M.F16=74]="F16",M[M.F17=75]="F17",M[M.F18=76]="F18",M[M.F19=77]="F19",M[M.NumLock=78]="NumLock",M[M.ScrollLock=79]="ScrollLock",M[M.Semicolon=80]="Semicolon",M[M.Equal=81]="Equal",M[M.Comma=82]="Comma",M[M.Minus=83]="Minus",M[M.Period=84]="Period",M[M.Slash=85]="Slash",M[M.Backquote=86]="Backquote",M[M.BracketLeft=87]="BracketLeft",M[M.Backslash=88]="Backslash",M[M.BracketRight=89]="BracketRight",M[M.Quote=90]="Quote",M[M.OEM_8=91]="OEM_8",M[M.IntlBackslash=92]="IntlBackslash",M[M.Numpad0=93]="Numpad0",M[M.Numpad1=94]="Numpad1",M[M.Numpad2=95]="Numpad2",M[M.Numpad3=96]="Numpad3",M[M.Numpad4=97]="Numpad4",M[M.Numpad5=98]="Numpad5",M[M.Numpad6=99]="Numpad6",M[M.Numpad7=100]="Numpad7",M[M.Numpad8=101]="Numpad8",M[M.Numpad9=102]="Numpad9",M[M.NumpadMultiply=103]="NumpadMultiply",M[M.NumpadAdd=104]="NumpadAdd",M[M.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",M[M.NumpadSubtract=106]="NumpadSubtract",M[M.NumpadDecimal=107]="NumpadDecimal",M[M.NumpadDivide=108]="NumpadDivide",M[M.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",M[M.ABNT_C1=110]="ABNT_C1",M[M.ABNT_C2=111]="ABNT_C2",M[M.AudioVolumeMute=112]="AudioVolumeMute",M[M.AudioVolumeUp=113]="AudioVolumeUp",M[M.AudioVolumeDown=114]="AudioVolumeDown",M[M.BrowserSearch=115]="BrowserSearch",M[M.BrowserHome=116]="BrowserHome",M[M.BrowserBack=117]="BrowserBack",M[M.BrowserForward=118]="BrowserForward",M[M.MediaTrackNext=119]="MediaTrackNext",M[M.MediaTrackPrevious=120]="MediaTrackPrevious",M[M.MediaStop=121]="MediaStop",M[M.MediaPlayPause=122]="MediaPlayPause",M[M.LaunchMediaPlayer=123]="LaunchMediaPlayer",M[M.LaunchMail=124]="LaunchMail",M[M.LaunchApp2=125]="LaunchApp2",M[M.Clear=126]="Clear",M[M.MAX_VALUE=127]="MAX_VALUE"})(r=e.KeyCode||(e.KeyCode={}));var c;(function(M){M[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error"})(c=e.MarkerSeverity||(e.MarkerSeverity={}));var g;(function(M){M[M.Unnecessary=1]="Unnecessary",M[M.Deprecated=2]="Deprecated"})(g=e.MarkerTag||(e.MarkerTag={}));var m;(function(M){M[M.Inline=1]="Inline",M[M.Gutter=2]="Gutter"})(m=e.MinimapPosition||(e.MinimapPosition={}));var S;(function(M){M[M.UNKNOWN=0]="UNKNOWN",M[M.TEXTAREA=1]="TEXTAREA",M[M.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",M[M.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",M[M.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",M[M.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",M[M.CONTENT_TEXT=6]="CONTENT_TEXT",M[M.CONTENT_EMPTY=7]="CONTENT_EMPTY",M[M.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",M[M.CONTENT_WIDGET=9]="CONTENT_WIDGET",M[M.OVERVIEW_RULER=10]="OVERVIEW_RULER",M[M.SCROLLBAR=11]="SCROLLBAR",M[M.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",M[M.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(S=e.MouseTargetType||(e.MouseTargetType={}));var p;(function(M){M[M.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",M[M.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",M[M.TOP_CENTER=2]="TOP_CENTER"})(p=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var C;(function(M){M[M.Left=1]="Left",M[M.Center=2]="Center",M[M.Right=4]="Right",M[M.Full=7]="Full"})(C=e.OverviewRulerLane||(e.OverviewRulerLane={}));var _;(function(M){M[M.Left=0]="Left",M[M.Right=1]="Right",M[M.None=2]="None",M[M.LeftOfInjectedText=3]="LeftOfInjectedText",M[M.RightOfInjectedText=4]="RightOfInjectedText"})(_=e.PositionAffinity||(e.PositionAffinity={}));var L;(function(M){M[M.Off=0]="Off",M[M.On=1]="On",M[M.Relative=2]="Relative",M[M.Interval=3]="Interval",M[M.Custom=4]="Custom"})(L=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var E;(function(M){M[M.None=0]="None",M[M.Text=1]="Text",M[M.Blocks=2]="Blocks"})(E=e.RenderMinimap||(e.RenderMinimap={}));var I;(function(M){M[M.Smooth=0]="Smooth",M[M.Immediate=1]="Immediate"})(I=e.ScrollType||(e.ScrollType={}));var T;(function(M){M[M.Auto=1]="Auto",M[M.Hidden=2]="Hidden",M[M.Visible=3]="Visible"})(T=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var P;(function(M){M[M.LTR=0]="LTR",M[M.RTL=1]="RTL"})(P=e.SelectionDirection||(e.SelectionDirection={}));var B;(function(M){M[M.Invoke=1]="Invoke",M[M.TriggerCharacter=2]="TriggerCharacter",M[M.ContentChange=3]="ContentChange"})(B=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var R;(function(M){M[M.File=0]="File",M[M.Module=1]="Module",M[M.Namespace=2]="Namespace",M[M.Package=3]="Package",M[M.Class=4]="Class",M[M.Method=5]="Method",M[M.Property=6]="Property",M[M.Field=7]="Field",M[M.Constructor=8]="Constructor",M[M.Enum=9]="Enum",M[M.Interface=10]="Interface",M[M.Function=11]="Function",M[M.Variable=12]="Variable",M[M.Constant=13]="Constant",M[M.String=14]="String",M[M.Number=15]="Number",M[M.Boolean=16]="Boolean",M[M.Array=17]="Array",M[M.Object=18]="Object",M[M.Key=19]="Key",M[M.Null=20]="Null",M[M.EnumMember=21]="EnumMember",M[M.Struct=22]="Struct",M[M.Event=23]="Event",M[M.Operator=24]="Operator",M[M.TypeParameter=25]="TypeParameter"})(R=e.SymbolKind||(e.SymbolKind={}));var k;(function(M){M[M.Deprecated=1]="Deprecated"})(k=e.SymbolTag||(e.SymbolTag={}));var A;(function(M){M[M.Hidden=0]="Hidden",M[M.Blink=1]="Blink",M[M.Smooth=2]="Smooth",M[M.Phase=3]="Phase",M[M.Expand=4]="Expand",M[M.Solid=5]="Solid"})(A=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var O;(function(M){M[M.Line=1]="Line",M[M.Block=2]="Block",M[M.Underline=3]="Underline",M[M.LineThin=4]="LineThin",M[M.BlockOutline=5]="BlockOutline",M[M.UnderlineThin=6]="UnderlineThin"})(O=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var F;(function(M){M[M.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",M[M.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",M[M.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",M[M.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(F=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var W;(function(M){M[M.None=0]="None",M[M.Same=1]="Same",M[M.Indent=2]="Indent",M[M.DeepIndent=3]="DeepIndent"})(W=e.WrappingIndent||(e.WrappingIndent={}))}),define(ne[445],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class y{constructor(w,b,v,u){this.range=w,this.nestingLevel=b,this.nestingLevelOfEqualBracketType=v,this.isInvalid=u}}e.BracketInfo=y;class f{constructor(w,b,v,u,h,i){this.range=w,this.openingBracketRange=b,this.closingBracketRange=v,this.nestingLevel=u,this.nestingLevelOfEqualBracketType=h,this.bracketPairNode=i}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=f;class N extends f{constructor(w,b,v,u,h,i,n){super(w,b,v,u,h,i);this.minVisibleColumnIndentation=n}}e.BracketPairWithMinIndentationInfo=N}),define(ne[446],oe([1,0,4,2,3,445,250,252,86,251,111,191]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class n extends f.Disposable{constructor(r,c){super();if(this.textModel=r,this.getLanguageConfiguration=c,this.didChangeEmitter=new y.Emitter,this.denseKeyProvider=new h.DenseKeyProvider,this.brackets=new b.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,r.tokenization.backgroundTokenizationState===0){const g=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),m=new i.FastTokenizer(this.textModel.getValue(),g);this.initialAstWithoutTokens=(0,u.parseDocument)(m,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else r.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):r.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(r){return this.brackets.didLanguageChange(r)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const r=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,r||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:r}){const c=r.map(g=>new w.TextEditInfo((0,v.toLength)(g.fromLineNumber-1,0),(0,v.toLength)(g.toLineNumber,0),(0,v.toLength)(g.toLineNumber-g.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(c,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(r){const c=r.changes.map(g=>{const m=N.Range.lift(g.range);return new w.TextEditInfo((0,v.positionToLength)(m.getStartPosition()),(0,v.positionToLength)(m.getEndPosition()),(0,v.lengthOfString)(g.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(c,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(c,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(r,c,g){const S=!1?c==null?void 0:c.deepClone():c,p=new i.TextBufferTokenizer(this.textModel,this.brackets);return(0,u.parseDocument)(p,r,S,g)}getBracketsInRange(r){const c=(0,v.toLength)(r.startLineNumber-1,r.startColumn-1),g=(0,v.toLength)(r.endLineNumber-1,r.endColumn-1),m=new Array,S=this.initialAstWithoutTokens||this.astWithTokens;return l(S,v.lengthZero,S.length,c,g,m,0,new Map),m}getBracketPairsInRange(r,c){const g=new Array,m=(0,v.positionToLength)(r.getStartPosition()),S=(0,v.positionToLength)(r.getEndPosition()),p=this.initialAstWithoutTokens||this.astWithTokens,C=new d(g,c,this.textModel);return a(p,v.lengthZero,p.length,m,S,C,0,new Map),g}getFirstBracketAfter(r){const c=this.initialAstWithoutTokens||this.astWithTokens;return s(c,v.lengthZero,c.length,(0,v.positionToLength)(r))}getFirstBracketBefore(r){const c=this.initialAstWithoutTokens||this.astWithTokens;return t(c,v.lengthZero,c.length,(0,v.positionToLength)(r))}}e.BracketPairsTree=n;function t(o,r,c,g){if(o.kind===4||o.kind===2){const m=[];for(const S of o.children)c=(0,v.lengthAdd)(r,S.length),m.push({nodeOffsetStart:r,nodeOffsetEnd:c}),r=c;for(let S=m.length-1;S>=0;S--){const{nodeOffsetStart:p,nodeOffsetEnd:C}=m[S];if((0,v.lengthLessThan)(p,g)){const _=t(o.children[S],p,C,g);if(_)return _}}return null}else{if(o.kind===3)return null;if(o.kind===1){const m=(0,v.lengthsToRange)(r,c);return{bracketInfo:o.bracketInfo,range:m}}}return null}function s(o,r,c,g){if(o.kind===4||o.kind===2){for(const m of o.children){if(c=(0,v.lengthAdd)(r,m.length),(0,v.lengthLessThan)(g,c)){const S=s(m,r,c,g);if(S)return S}r=c}return null}else{if(o.kind===3)return null;if(o.kind===1){const m=(0,v.lengthsToRange)(r,c);return{bracketInfo:o.bracketInfo,range:m}}}return null}function l(o,r,c,g,m,S,p,C){if(o.kind===4)for(const _ of o.children)c=(0,v.lengthAdd)(r,_.length),(0,v.lengthLessThanEqual)(r,m)&&(0,v.lengthGreaterThanEqual)(c,g)&&l(_,r,c,g,m,S,p,C),r=c;else if(o.kind===2){let _=0;if(C){let L=C.get(o.openingBracket.text);L===void 0&&(L=0),_=L,L++,C.set(o.openingBracket.text,L)}{const L=o.openingBracket;if(c=(0,v.lengthAdd)(r,L.length),(0,v.lengthLessThanEqual)(r,m)&&(0,v.lengthGreaterThanEqual)(c,g)){const E=(0,v.lengthsToRange)(r,c);S.push(new D.BracketInfo(E,p,_,!o.closingBracket))}r=c}if(o.child){const L=o.child;c=(0,v.lengthAdd)(r,L.length),(0,v.lengthLessThanEqual)(r,m)&&(0,v.lengthGreaterThanEqual)(c,g)&&l(L,r,c,g,m,S,p+1,C),r=c}if(o.closingBracket){const L=o.closingBracket;if(c=(0,v.lengthAdd)(r,L.length),(0,v.lengthLessThanEqual)(r,m)&&(0,v.lengthGreaterThanEqual)(c,g)){const E=(0,v.lengthsToRange)(r,c);S.push(new D.BracketInfo(E,p,_,!1))}r=c}C&&C.set(o.openingBracket.text,_)}else if(o.kind===3){const _=(0,v.lengthsToRange)(r,c);S.push(new D.BracketInfo(_,p-1,0,!0))}else if(o.kind===1){const _=(0,v.lengthsToRange)(r,c);S.push(new D.BracketInfo(_,p-1,0,!1))}}class d{constructor(r,c,g){this.result=r,this.includeMinIndentation=c,this.textModel=g}}function a(o,r,c,g,m,S,p,C){var _;if(o.kind===2){let L=0;if(C){let T=C.get(o.openingBracket.text);T===void 0&&(T=0),L=T,T++,C.set(o.openingBracket.text,T)}const E=(0,v.lengthAdd)(r,o.openingBracket.length);let I=-1;if(S.includeMinIndentation&&(I=o.computeMinIndentation(r,S.textModel)),S.result.push(new D.BracketPairWithMinIndentationInfo((0,v.lengthsToRange)(r,c),(0,v.lengthsToRange)(r,E),o.closingBracket?(0,v.lengthsToRange)((0,v.lengthAdd)(E,((_=o.child)===null||_===void 0?void 0:_.length)||v.lengthZero),c):void 0,p,L,o,I)),r=E,o.child){const T=o.child;c=(0,v.lengthAdd)(r,T.length),(0,v.lengthLessThanEqual)(r,m)&&(0,v.lengthGreaterThanEqual)(c,g)&&a(T,r,c,g,m,S,p+1,C)}C&&C.set(o.openingBracket.text,L)}else{let L=r;for(const E of o.children){const I=L;L=(0,v.lengthAdd)(L,E.length),(0,v.lengthLessThanEqual)(I,m)&&(0,v.lengthLessThanEqual)(g,L)&&a(E,I,L,g,m,S,p,C)}}}}),define(ne[447],oe([1,0,4,2,3,446,110,190,18]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class u extends f.Disposable{constructor(l,d){super();this.textModel=l,this.languageConfigurationService=d,this.bracketPairsTree=this._register(new f.MutableDisposable),this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(a=>{var o;(!a.languageId||((o=this.bracketPairsTree.value)===null||o===void 0?void 0:o.object.didLanguageChange(a.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){const l=5e4*100;return this.textModel.getValueLength()<=l}handleDidChangeOptions(l){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(l){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(l){var d;(d=this.bracketPairsTree.value)===null||d===void 0||d.object.handleContentChanged(l)}handleDidChangeBackgroundTokenizationState(){var l;(l=this.bracketPairsTree.value)===null||l===void 0||l.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(l){var d;(d=this.bracketPairsTree.value)===null||d===void 0||d.object.handleDidChangeTokens(l)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const l=new f.DisposableStore;this.bracketPairsTree.value=h(l.add(new D.BracketPairsTree(this.textModel,d=>this.languageConfigurationService.getLanguageConfiguration(d))),l),l.add(this.bracketPairsTree.value.object.onDidChange(d=>this.onDidChangeEmitter.fire(d))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(l){var d;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getBracketPairsInRange(l,!1))||[]}getBracketPairsInRangeWithMinIndentation(l){var d;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getBracketPairsInRange(l,!0))||[]}getBracketsInRange(l){var d;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getBracketsInRange(l))||[]}findMatchingBracketUp(l,d,a){const o=this.textModel.validatePosition(d),r=this.textModel.getLanguageIdAtPosition(o.lineNumber,o.column);if(this.canBuildAST){const c=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew.getClosingBracketInfo(l);if(!c)return null;const g=(0,v.findLast)(this.getBracketPairsInRange(N.Range.fromPositions(d,d))||[],m=>c.closes(m.openingBracketInfo));return g?g.openingBracketRange:null}else{const c=l.toLowerCase(),g=this.languageConfigurationService.getLanguageConfiguration(r).brackets;if(!g)return null;const m=g.textIsBracket[c];return m?t(this._findMatchingBracketUp(m,o,i(a))):null}}matchBracket(l,d){if(this.canBuildAST){const a=(0,v.findLastMaxBy)(this.getBracketPairsInRange(N.Range.fromPositions(l,l)).filter(o=>o.closingBracketRange!==void 0&&(o.openingBracketRange.containsPosition(l)||o.closingBracketRange.containsPosition(l))),(0,v.compareBy)(o=>o.openingBracketRange.containsPosition(l)?o.openingBracketRange:o.closingBracketRange,N.Range.compareRangesUsingStarts));return a?[a.openingBracketRange,a.closingBracketRange]:null}else{const a=i(d);return this._matchBracket(this.textModel.validatePosition(l),a)}}_establishBracketSearchOffsets(l,d,a,o){const r=d.getCount(),c=d.getLanguageId(o);let g=Math.max(0,l.column-1-a.maxBracketLength);for(let S=o-1;S>=0;S--){const p=d.getEndOffset(S);if(p<=g)break;if((0,w.ignoreBracketsInToken)(d.getStandardTokenType(S))||d.getLanguageId(S)!==c){g=p;break}}let m=Math.min(d.getLineContent().length,l.column-1+a.maxBracketLength);for(let S=o+1;S<r;S++){const p=d.getStartOffset(S);if(p>=m)break;if((0,w.ignoreBracketsInToken)(d.getStandardTokenType(S))||d.getLanguageId(S)!==c){m=p;break}}return{searchStartOffset:g,searchEndOffset:m}}_matchBracket(l,d){const a=l.lineNumber,o=this.textModel.tokenization.getLineTokens(a),r=this.textModel.getLineContent(a),c=o.findTokenIndexAtOffset(l.column-1);if(c<0)return null;const g=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(c)).brackets;if(g&&!(0,w.ignoreBracketsInToken)(o.getStandardTokenType(c))){let{searchStartOffset:m,searchEndOffset:S}=this._establishBracketSearchOffsets(l,o,g,c),p=null;for(;;){const C=b.BracketsUtils.findNextBracketInRange(g.forwardRegex,a,r,m,S);if(!C)break;if(C.startColumn<=l.column&&l.column<=C.endColumn){const _=r.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),L=this._matchFoundBracket(C,g.textIsBracket[_],g.textIsOpenBracket[_],d);if(L){if(L instanceof n)return null;p=L}}m=C.endColumn-1}if(p)return p}if(c>0&&o.getStartOffset(c)===l.column-1){const m=c-1,S=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(m)).brackets;if(S&&!(0,w.ignoreBracketsInToken)(o.getStandardTokenType(m))){const{searchStartOffset:p,searchEndOffset:C}=this._establishBracketSearchOffsets(l,o,S,m),_=b.BracketsUtils.findPrevBracketInRange(S.reversedRegex,a,r,p,C);if(_&&_.startColumn<=l.column&&l.column<=_.endColumn){const L=r.substring(_.startColumn-1,_.endColumn-1).toLowerCase(),E=this._matchFoundBracket(_,S.textIsBracket[L],S.textIsOpenBracket[L],d);if(E)return E instanceof n?null:E}}}return null}_matchFoundBracket(l,d,a,o){if(!d)return null;const r=a?this._findMatchingBracketDown(d,l.getEndPosition(),o):this._findMatchingBracketUp(d,l.getStartPosition(),o);return r?r instanceof n?r:[l,r]:null}_findMatchingBracketUp(l,d,a){const o=l.languageId,r=l.reversedRegex;let c=-1,g=0;const m=(S,p,C,_)=>{for(;;){if(a&&++g%100==0&&!a())return n.INSTANCE;const L=b.BracketsUtils.findPrevBracketInRange(r,S,p,C,_);if(!L)break;const E=p.substring(L.startColumn-1,L.endColumn-1).toLowerCase();if(l.isOpen(E)?c++:l.isClose(E)&&c--,c===0)return L;_=L.startColumn-1}return null};for(let S=d.lineNumber;S>=1;S--){const p=this.textModel.tokenization.getLineTokens(S),C=p.getCount(),_=this.textModel.getLineContent(S);let L=C-1,E=_.length,I=_.length;S===d.lineNumber&&(L=p.findTokenIndexAtOffset(d.column-1),E=d.column-1,I=d.column-1);let T=!0;for(;L>=0;L--){const P=p.getLanguageId(L)===o&&!(0,w.ignoreBracketsInToken)(p.getStandardTokenType(L));if(P)T?E=p.getStartOffset(L):(E=p.getStartOffset(L),I=p.getEndOffset(L));else if(T&&E!==I){const B=m(S,_,E,I);if(B)return B}T=P}if(T&&E!==I){const P=m(S,_,E,I);if(P)return P}}return null}_findMatchingBracketDown(l,d,a){const o=l.languageId,r=l.forwardRegex;let c=1,g=0;const m=(p,C,_,L)=>{for(;;){if(a&&++g%100==0&&!a())return n.INSTANCE;const E=b.BracketsUtils.findNextBracketInRange(r,p,C,_,L);if(!E)break;const I=C.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(l.isOpen(I)?c++:l.isClose(I)&&c--,c===0)return E;_=E.endColumn-1}return null},S=this.textModel.getLineCount();for(let p=d.lineNumber;p<=S;p++){const C=this.textModel.tokenization.getLineTokens(p),_=C.getCount(),L=this.textModel.getLineContent(p);let E=0,I=0,T=0;p===d.lineNumber&&(E=C.findTokenIndexAtOffset(d.column-1),I=d.column-1,T=d.column-1);let P=!0;for(;E<_;E++){const B=C.getLanguageId(E)===o&&!(0,w.ignoreBracketsInToken)(C.getStandardTokenType(E));if(B)P||(I=C.getStartOffset(E)),T=C.getEndOffset(E);else if(P&&I!==T){const R=m(p,L,I,T);if(R)return R}P=B}if(P&&I!==T){const B=m(p,L,I,T);if(B)return B}}return null}findPrevBracket(l){var d;const a=this.textModel.validatePosition(l);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getFirstBracketBefore(a))||null;let o=null,r=null,c=null;for(let g=a.lineNumber;g>=1;g--){const m=this.textModel.tokenization.getLineTokens(g),S=m.getCount(),p=this.textModel.getLineContent(g);let C=S-1,_=p.length,L=p.length;if(g===a.lineNumber){C=m.findTokenIndexAtOffset(a.column-1),_=a.column-1,L=a.column-1;const I=m.getLanguageId(C);o!==I&&(o=I,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,c=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let E=!0;for(;C>=0;C--){const I=m.getLanguageId(C);if(o!==I){if(r&&c&&E&&_!==L){const P=b.BracketsUtils.findPrevBracketInRange(r.reversedRegex,g,p,_,L);if(P)return this._toFoundBracket(c,P);E=!1}o=I,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,c=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}const T=!!r&&!(0,w.ignoreBracketsInToken)(m.getStandardTokenType(C));if(T)E?_=m.getStartOffset(C):(_=m.getStartOffset(C),L=m.getEndOffset(C));else if(c&&r&&E&&_!==L){const P=b.BracketsUtils.findPrevBracketInRange(r.reversedRegex,g,p,_,L);if(P)return this._toFoundBracket(c,P)}E=T}if(c&&r&&E&&_!==L){const I=b.BracketsUtils.findPrevBracketInRange(r.reversedRegex,g,p,_,L);if(I)return this._toFoundBracket(c,I)}}return null}findNextBracket(l){var d;const a=this.textModel.validatePosition(l);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getFirstBracketAfter(a))||null;const o=this.textModel.getLineCount();let r=null,c=null,g=null;for(let m=a.lineNumber;m<=o;m++){const S=this.textModel.tokenization.getLineTokens(m),p=S.getCount(),C=this.textModel.getLineContent(m);let _=0,L=0,E=0;if(m===a.lineNumber){_=S.findTokenIndexAtOffset(a.column-1),L=a.column-1,E=a.column-1;const T=S.getLanguageId(_);r!==T&&(r=T,c=this.languageConfigurationService.getLanguageConfiguration(r).brackets,g=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let I=!0;for(;_<p;_++){const T=S.getLanguageId(_);if(r!==T){if(g&&c&&I&&L!==E){const B=b.BracketsUtils.findNextBracketInRange(c.forwardRegex,m,C,L,E);if(B)return this._toFoundBracket(g,B);I=!1}r=T,c=this.languageConfigurationService.getLanguageConfiguration(r).brackets,g=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const P=!!c&&!(0,w.ignoreBracketsInToken)(S.getStandardTokenType(_));if(P)I||(L=S.getStartOffset(_)),E=S.getEndOffset(_);else if(g&&c&&I&&L!==E){const B=b.BracketsUtils.findNextBracketInRange(c.forwardRegex,m,C,L,E);if(B)return this._toFoundBracket(g,B)}I=P}if(g&&c&&I&&L!==E){const T=b.BracketsUtils.findNextBracketInRange(c.forwardRegex,m,C,L,E);if(T)return this._toFoundBracket(g,T)}}return null}findEnclosingBrackets(l,d){const a=this.textModel.validatePosition(l);if(this.canBuildAST){const L=N.Range.fromPositions(a),E=(0,v.findLast)(this.getBracketPairsInRange(N.Range.fromPositions(a,a)),I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(L));return E?[E.openingBracketRange,E.closingBracketRange]:null}const o=i(d),r=this.textModel.getLineCount(),c=new Map;let g=[];const m=(L,E)=>{if(!c.has(L)){const I=[];for(let T=0,P=E?E.brackets.length:0;T<P;T++)I[T]=0;c.set(L,I)}g=c.get(L)};let S=0;const p=(L,E,I,T,P)=>{for(;;){if(o&&++S%100==0&&!o())return n.INSTANCE;const B=b.BracketsUtils.findNextBracketInRange(L.forwardRegex,E,I,T,P);if(!B)break;const R=I.substring(B.startColumn-1,B.endColumn-1).toLowerCase(),k=L.textIsBracket[R];if(k&&(k.isOpen(R)?g[k.index]++:k.isClose(R)&&g[k.index]--,g[k.index]===-1))return this._matchFoundBracket(B,k,!1,o);T=B.endColumn-1}return null};let C=null,_=null;for(let L=a.lineNumber;L<=r;L++){const E=this.textModel.tokenization.getLineTokens(L),I=E.getCount(),T=this.textModel.getLineContent(L);let P=0,B=0,R=0;if(L===a.lineNumber){P=E.findTokenIndexAtOffset(a.column-1),B=a.column-1,R=a.column-1;const A=E.getLanguageId(P);C!==A&&(C=A,_=this.languageConfigurationService.getLanguageConfiguration(C).brackets,m(C,_))}let k=!0;for(;P<I;P++){const A=E.getLanguageId(P);if(C!==A){if(_&&k&&B!==R){const F=p(_,L,T,B,R);if(F)return t(F);k=!1}C=A,_=this.languageConfigurationService.getLanguageConfiguration(C).brackets,m(C,_)}const O=!!_&&!(0,w.ignoreBracketsInToken)(E.getStandardTokenType(P));if(O)k||(B=E.getStartOffset(P)),R=E.getEndOffset(P);else if(_&&k&&B!==R){const F=p(_,L,T,B,R);if(F)return t(F)}k=O}if(_&&k&&B!==R){const A=p(_,L,T,B,R);if(A)return t(A)}}return null}_toFoundBracket(l,d){if(!d)return null;let a=this.textModel.getValueInRange(d);a=a.toLowerCase();const o=l.getBracketInfo(a);return o?{range:d,bracketInfo:o}:null}}e.BracketPairsTextModelPart=u;function h(s,l){return{object:s,dispose:()=>l==null?void 0:l.dispose()}}function i(s){if(typeof s=="undefined")return()=>!0;{const l=Date.now();return()=>Date.now()-l<=s}}class n{constructor(){this._searchCanceledBrand=void 0}}n.INSTANCE=new n;function t(s){return s instanceof n?null:s}}),define(ne[98],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class y{constructor(){this.changeType=1}}e.ModelRawFlush=y;class f{constructor(n,t,s,l,d){this.ownerId=n,this.lineNumber=t,this.column=s,this.options=l,this.order=d}static applyInjectedText(n,t){if(!t||t.length===0)return n;let s="",l=0;for(const d of t)s+=n.substring(l,d.column-1),l=d.column-1,s+=d.options.content;return s+=n.substring(l),s}static fromDecorations(n){const t=[];for(const s of n)s.options.before&&s.options.before.content.length>0&&t.push(new f(s.ownerId,s.range.startLineNumber,s.range.startColumn,s.options.before,0)),s.options.after&&s.options.after.content.length>0&&t.push(new f(s.ownerId,s.range.endLineNumber,s.range.endColumn,s.options.after,1));return t.sort((s,l)=>s.lineNumber===l.lineNumber?s.column===l.column?s.order-l.order:s.column-l.column:s.lineNumber-l.lineNumber),t}}e.LineInjectedText=f;class N{constructor(n,t,s){this.changeType=2,this.lineNumber=n,this.detail=t,this.injectedText=s}}e.ModelRawLineChanged=N;class D{constructor(n,t){this.changeType=3,this.fromLineNumber=n,this.toLineNumber=t}}e.ModelRawLinesDeleted=D;class w{constructor(n,t,s,l){this.changeType=4,this.injectedTexts=l,this.fromLineNumber=n,this.toLineNumber=t,this.detail=s}}e.ModelRawLinesInserted=w;class b{constructor(){this.changeType=5}}e.ModelRawEOLChanged=b;class v{constructor(n,t,s,l){this.changes=n,this.versionId=t,this.isUndoing=s,this.isRedoing=l,this.resultingSelection=null}containsEvent(n){for(let t=0,s=this.changes.length;t<s;t++)if(this.changes[t].changeType===n)return!0;return!1}static merge(n,t){const s=[].concat(n.changes).concat(t.changes),l=t.versionId,d=n.isUndoing||t.isUndoing,a=n.isRedoing||t.isRedoing;return new v(s,l,d,a)}}e.ModelRawContentChangedEvent=v;class u{constructor(n){this.changes=n}}e.ModelInjectedTextChangedEvent=u;class h{constructor(n,t){this.rawContentChangedEvent=n,this.contentChangedEvent=t}merge(n){const t=v.merge(this.rawContentChangedEvent,n.rawContentChangedEvent),s=h._mergeChangeEvents(this.contentChangedEvent,n.contentChangedEvent);return new h(t,s)}static _mergeChangeEvents(n,t){const s=[].concat(n.changes).concat(t.changes),l=t.eol,d=t.versionId,a=n.isUndoing||t.isUndoing,o=n.isRedoing||t.isRedoing,r=n.isFlush||t.isFlush;return{changes:s,eol:l,versionId:d,isUndoing:a,isRedoing:o,isFlush:r}}}e.InternalModelContentChangeEvent=h}),define(ne[193],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var y;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(y=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class f{constructor(w,b,v,u,h,i){if(this.visibleColumn=w,this.column=b,this.className=v,this.horizontalLine=u,this.forWrappedLinesAfterColumn=h,this.forWrappedLinesBeforeOrAtColumn=i,w!==-1==(b!==-1))throw new Error}}e.IndentGuide=f;class N{constructor(w,b){this.top=w,this.endColumn=b}}e.IndentGuideHorizontalLine=N}),define(ne[259],oe([1,0,18,9,67,3,254,192,193]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class u extends w.TextModelPart{constructor(n,t){super();this.textModel=n,this.languageConfigurationService=t}getLanguageConfiguration(n){return this.languageConfigurationService.getLanguageConfiguration(n)}_computeIndentLevel(n){return(0,b.computeIndentLevel)(this.textModel.getLineContent(n+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(n,t,s){this.assertNotDisposed();const l=this.textModel.getLineCount();if(n<1||n>l)throw new Error("Illegal value for lineNumber");const d=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(d&&d.offSide);let o=-2,r=-1,c=-2,g=-1;const m=k=>{if(o!==-1&&(o===-2||o>k-1)){o=-1,r=-1;for(let A=k-2;A>=0;A--){const O=this._computeIndentLevel(A);if(O>=0){o=A,r=O;break}}}if(c===-2){c=-1,g=-1;for(let A=k;A<l;A++){const O=this._computeIndentLevel(A);if(O>=0){c=A,g=O;break}}}};let S=-2,p=-1,C=-2,_=-1;const L=k=>{if(S===-2){S=-1,p=-1;for(let A=k-2;A>=0;A--){const O=this._computeIndentLevel(A);if(O>=0){S=A,p=O;break}}}if(C!==-1&&(C===-2||C<k-1)){C=-1,_=-1;for(let A=k;A<l;A++){const O=this._computeIndentLevel(A);if(O>=0){C=A,_=O;break}}}};let E=0,I=!0,T=0,P=!0,B=0,R=0;for(let k=0;I||P;k++){const A=n-k,O=n+k;k>1&&(A<1||A<t)&&(I=!1),k>1&&(O>l||O>s)&&(P=!1),k>5e4&&(I=!1,P=!1);let F=-1;if(I&&A>=1){const M=this._computeIndentLevel(A-1);M>=0?(c=A-1,g=M,F=Math.ceil(M/this.textModel.getOptions().indentSize)):(m(A),F=this._getIndentLevelForWhitespaceLine(a,r,g))}let W=-1;if(P&&O<=l){const M=this._computeIndentLevel(O-1);M>=0?(S=O-1,p=M,W=Math.ceil(M/this.textModel.getOptions().indentSize)):(L(O),W=this._getIndentLevelForWhitespaceLine(a,p,_))}if(k===0){R=F;continue}if(k===1){if(O<=l&&W>=0&&R+1===W){I=!1,E=O,T=O,B=W;continue}if(A>=1&&F>=0&&F-1===R){P=!1,E=A,T=A,B=F;continue}if(E=n,T=n,B=R,B===0)return{startLineNumber:E,endLineNumber:T,indent:B}}I&&(F>=B?E=A:I=!1),P&&(W>=B?T=O:P=!1)}return{startLineNumber:E,endLineNumber:T,indent:B}}getLinesBracketGuides(n,t,s,l){var d;const a=[];for(let S=n;S<=t;S++)a.push([]);const o=!0,r=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(n,1,t,this.textModel.getLineMaxColumn(t)));let c;if(s&&r.length>0){const S=(n<=s.lineNumber&&s.lineNumber<=t?r:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(s))).filter(p=>D.Range.strictContainsPosition(p.range,s));c=(d=(0,y.findLast)(S,p=>o||p.range.startLineNumber!==p.range.endLineNumber))===null||d===void 0?void 0:d.range}const g=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,m=new h;for(const S of r){if(!S.closingBracketRange)continue;const p=c&&S.range.equalsRange(c);if(!p&&!l.includeInactive)continue;const C=m.getInlineClassName(S.nestingLevel,S.nestingLevelOfEqualBracketType,g)+(l.highlightActive&&p?" "+m.activeClassName:""),_=S.openingBracketRange.getStartPosition(),L=S.closingBracketRange.getStartPosition(),E=l.horizontalGuides===v.HorizontalGuidesState.Enabled||l.horizontalGuides===v.HorizontalGuidesState.EnabledForActive&&p;if(S.range.startLineNumber===S.range.endLineNumber){o&&E&&a[S.range.startLineNumber-n].push(new v.IndentGuide(-1,S.openingBracketRange.getEndPosition().column,C,new v.IndentGuideHorizontalLine(!1,L.column),-1,-1));continue}const I=this.getVisibleColumnFromPosition(L),T=this.getVisibleColumnFromPosition(S.openingBracketRange.getStartPosition()),P=Math.min(T,I,S.minVisibleColumnIndentation+1);let B=!1;f.firstNonWhitespaceIndex(this.textModel.getLineContent(S.closingBracketRange.startLineNumber))<S.closingBracketRange.startColumn-1&&(B=!0);const A=Math.max(_.lineNumber,n),O=Math.min(L.lineNumber,t),F=B?1:0;for(let W=A;W<O+F;W++)a[W-n].push(new v.IndentGuide(P,-1,C,null,W===_.lineNumber?_.column:-1,W===L.lineNumber?L.column:-1));E&&(_.lineNumber>=n&&T>P&&a[_.lineNumber-n].push(new v.IndentGuide(P,-1,C,new v.IndentGuideHorizontalLine(!1,_.column),-1,-1)),L.lineNumber<=t&&I>P&&a[L.lineNumber-n].push(new v.IndentGuide(P,-1,C,new v.IndentGuideHorizontalLine(!B,L.column),-1,-1)))}for(const S of a)S.sort((p,C)=>p.visibleColumn-C.visibleColumn);return a}getVisibleColumnFromPosition(n){return N.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(n.lineNumber),n.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(n,t){this.assertNotDisposed();const s=this.textModel.getLineCount();if(n<1||n>s)throw new Error("Illegal value for startLineNumber");if(t<1||t>s)throw new Error("Illegal value for endLineNumber");const l=this.textModel.getOptions(),d=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(d&&d.offSide),o=new Array(t-n+1);let r=-2,c=-1,g=-2,m=-1;for(let S=n;S<=t;S++){const p=S-n,C=this._computeIndentLevel(S-1);if(C>=0){r=S-1,c=C,o[p]=Math.ceil(C/l.indentSize);continue}if(r===-2){r=-1,c=-1;for(let _=S-2;_>=0;_--){const L=this._computeIndentLevel(_);if(L>=0){r=_,c=L;break}}}if(g!==-1&&(g===-2||g<S-1)){g=-1,m=-1;for(let _=S;_<s;_++){const L=this._computeIndentLevel(_);if(L>=0){g=_,m=L;break}}}o[p]=this._getIndentLevelForWhitespaceLine(a,c,m)}return o}_getIndentLevelForWhitespaceLine(n,t,s){const l=this.textModel.getOptions();return t===-1||s===-1?0:t<s?1+Math.floor(t/l.indentSize):t===s||n?Math.ceil(s/l.indentSize):1+Math.floor(s/l.indentSize)}}e.GuidesTextModelPart=u;class h{constructor(){this.activeClassName="indent-active"}getInlineClassName(n,t,s){return this.getInlineClassNameOfLevel(s?t:n)}getInlineClassNameOfLevel(n){return`bracket-indent-guide lvl-${n%30}`}}e.BracketPairGuidesClassNames=h}),define(ne[448],oe([1,0,4,2]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class N{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(b){this._onDidChange.fire({changedLanguages:b,changedColorMap:!1})}register(b,v){return this._map.set(b,v),this.fire([b]),(0,f.toDisposable)(()=>{this._map.get(b)===v&&(this._map.delete(b),this.fire([b]))})}registerFactory(b,v){var u;(u=this._factories.get(b))===null||u===void 0||u.dispose();const h=new D(this,b,v);return this._factories.set(b,h),(0,f.toDisposable)(()=>{const i=this._factories.get(b);!i||i!==h||(this._factories.delete(b),i.dispose())})}getOrCreate(b){return Le(this,void 0,void 0,function*(){const v=this.get(b);if(v)return v;const u=this._factories.get(b);return!u||u.isResolved?null:(yield u.resolve(),this.get(b))})}get(b){return this._map.get(b)||null}isResolved(b){if(this.get(b))return!0;const u=this._factories.get(b);return!!(!u||u.isResolved)}setColorMap(b){this._colorMap=b,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=N;class D extends f.Disposable{constructor(b,v,u){super();this._registry=b,this._languageId=v,this._factory=u,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Le(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Le(this,void 0,void 0,function*(){const b=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,b&&!this._isDisposed&&this._register(this._registry.register(this._languageId,b))})}}}),define(ne[28],oe([1,0,27,22,3,448]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class w{constructor(r,c,g){this._tokenBrand=void 0,this.offset=r,this.type=c,this.language=g}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=w;class b{constructor(r,c){this._tokenizationResultBrand=void 0,this.tokens=r,this.endState=c}}e.TokenizationResult=b;class v{constructor(r,c){this._encodedTokenizationResultBrand=void 0,this.tokens=r,this.endState=c}}e.EncodedTokenizationResult=v;var u;(function(o){const r=new Map;r.set(0,y.Codicon.symbolMethod),r.set(1,y.Codicon.symbolFunction),r.set(2,y.Codicon.symbolConstructor),r.set(3,y.Codicon.symbolField),r.set(4,y.Codicon.symbolVariable),r.set(5,y.Codicon.symbolClass),r.set(6,y.Codicon.symbolStruct),r.set(7,y.Codicon.symbolInterface),r.set(8,y.Codicon.symbolModule),r.set(9,y.Codicon.symbolProperty),r.set(10,y.Codicon.symbolEvent),r.set(11,y.Codicon.symbolOperator),r.set(12,y.Codicon.symbolUnit),r.set(13,y.Codicon.symbolValue),r.set(15,y.Codicon.symbolEnum),r.set(14,y.Codicon.symbolConstant),r.set(15,y.Codicon.symbolEnum),r.set(16,y.Codicon.symbolEnumMember),r.set(17,y.Codicon.symbolKeyword),r.set(27,y.Codicon.symbolSnippet),r.set(18,y.Codicon.symbolText),r.set(19,y.Codicon.symbolColor),r.set(20,y.Codicon.symbolFile),r.set(21,y.Codicon.symbolReference),r.set(22,y.Codicon.symbolCustomColor),r.set(23,y.Codicon.symbolFolder),r.set(24,y.Codicon.symbolTypeParameter),r.set(25,y.Codicon.account),r.set(26,y.Codicon.issues);function c(S){let p=r.get(S);return p||(console.info("No codicon found for CompletionItemKind "+S),p=y.Codicon.symbolProperty),p}o.toIcon=c;const g=new Map;g.set("method",0),g.set("function",1),g.set("constructor",2),g.set("field",3),g.set("variable",4),g.set("class",5),g.set("struct",6),g.set("interface",7),g.set("module",8),g.set("property",9),g.set("event",10),g.set("operator",11),g.set("unit",12),g.set("value",13),g.set("constant",14),g.set("enum",15),g.set("enum-member",16),g.set("enumMember",16),g.set("keyword",17),g.set("snippet",27),g.set("text",18),g.set("color",19),g.set("file",20),g.set("reference",21),g.set("customcolor",22),g.set("folder",23),g.set("type-parameter",24),g.set("typeParameter",24),g.set("account",25),g.set("issue",26);function m(S,p){let C=g.get(S);return typeof C=="undefined"&&!p&&(C=9),C}o.fromString=m})(u=e.CompletionItemKinds||(e.CompletionItemKinds={}));var h;(function(o){o[o.Automatic=0]="Automatic",o[o.Explicit=1]="Explicit"})(h=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var i;(function(o){o[o.Invoke=1]="Invoke",o[o.TriggerCharacter=2]="TriggerCharacter",o[o.ContentChange=3]="ContentChange"})(i=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var n;(function(o){o[o.Text=0]="Text",o[o.Read=1]="Read",o[o.Write=2]="Write"})(n=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function t(o){return o&&f.URI.isUri(o.uri)&&N.Range.isIRange(o.range)&&(N.Range.isIRange(o.originSelectionRange)||N.Range.isIRange(o.targetSelectionRange))}e.isLocationLink=t;var s;(function(o){const r=new Map;r.set(0,y.Codicon.symbolFile),r.set(1,y.Codicon.symbolModule),r.set(2,y.Codicon.symbolNamespace),r.set(3,y.Codicon.symbolPackage),r.set(4,y.Codicon.symbolClass),r.set(5,y.Codicon.symbolMethod),r.set(6,y.Codicon.symbolProperty),r.set(7,y.Codicon.symbolField),r.set(8,y.Codicon.symbolConstructor),r.set(9,y.Codicon.symbolEnum),r.set(10,y.Codicon.symbolInterface),r.set(11,y.Codicon.symbolFunction),r.set(12,y.Codicon.symbolVariable),r.set(13,y.Codicon.symbolConstant),r.set(14,y.Codicon.symbolString),r.set(15,y.Codicon.symbolNumber),r.set(16,y.Codicon.symbolBoolean),r.set(17,y.Codicon.symbolArray),r.set(18,y.Codicon.symbolObject),r.set(19,y.Codicon.symbolKey),r.set(20,y.Codicon.symbolNull),r.set(21,y.Codicon.symbolEnumMember),r.set(22,y.Codicon.symbolStruct),r.set(23,y.Codicon.symbolEvent),r.set(24,y.Codicon.symbolOperator),r.set(25,y.Codicon.symbolTypeParameter);function c(g){let m=r.get(g);return m||(console.info("No codicon found for SymbolKind "+g),m=y.Codicon.symbolProperty),m}o.toIcon=c})(s=e.SymbolKinds||(e.SymbolKinds={}));class l{constructor(r){this.value=r}}e.FoldingRangeKind=l,l.Comment=new l("comment"),l.Imports=new l("imports"),l.Region=new l("region");var d;(function(o){function r(c){return!c||typeof c!="object"?!1:typeof c.id=="string"&&typeof c.title=="string"}o.is=r})(d=e.Command||(e.Command={}));var a;(function(o){o[o.Type=1]="Type",o[o.Parameter=2]="Parameter"})(a=e.InlayHintKind||(e.InlayHintKind={})),e.TokenizationRegistry=new D.TokenizationRegistry}),define(ne[132],oe([1,0,28]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function f(D,w){return new y.TokenizationResult([new y.Token(0,"",D)],w)}e.nullTokenize=f;function N(D,w){const b=new Uint32Array(2);return b[0]=0,b[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new y.EncodedTokenizationResult(b,w===null?e.NullState:w)}e.nullTokenizeEncoded=N}),define(ne[260],oe([1,0,21,4,59,22,11,3,23,28,158]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class i{static chord(s,l){return(0,N.KeyChord)(s,l)}}e.KeyMod=i,i.CtrlCmd=2048,i.Shift=1024,i.Alt=512,i.WinCtrl=256;function n(){return{editor:void 0,languages:void 0,CancellationTokenSource:y.CancellationTokenSource,Emitter:f.Emitter,KeyCode:h.KeyCode,KeyMod:i,Position:w.Position,Range:b.Range,Selection:v.Selection,SelectionDirection:h.SelectionDirection,MarkerSeverity:h.MarkerSeverity,MarkerTag:h.MarkerTag,Uri:D.URI,Token:u.Token}}e.createMonacoBaseAPI=n}),define(ne[449],oe([1,0,145,17,22,11,3,421,442,131,424,430,260,19,57,258]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class d extends v.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(c){return this._lines[c-1]}getWordAtPosition(c,g){const m=(0,u.getWordAtText)(c.column,(0,u.ensureValidWordDefinition)(g),this._lines[c.lineNumber-1],0);return m?new w.Range(c.lineNumber,m.startColumn,c.lineNumber,m.endColumn):null}words(c){const g=this._lines,m=this._wordenize.bind(this);let S=0,p="",C=0,_=[];return{*[Symbol.iterator](){for(;;)if(C<_.length){const L=p.substring(_[C].start,_[C].end);C+=1,yield L}else if(S<g.length)p=g[S],_=m(p,c),C=0,S+=1;else break}}}getLineWords(c,g){const m=this._lines[c-1],S=this._wordenize(m,g),p=[];for(const C of S)p.push({word:m.substring(C.start,C.end),startColumn:C.start+1,endColumn:C.end+1});return p}_wordenize(c,g){const m=[];let S;for(g.lastIndex=0;(S=g.exec(c))&&S[0].length!==0;)m.push({start:S.index,end:S.index+S[0].length});return m}getValueInRange(c){if(c=this._validateRange(c),c.startLineNumber===c.endLineNumber)return this._lines[c.startLineNumber-1].substring(c.startColumn-1,c.endColumn-1);const g=this._eol,m=c.startLineNumber-1,S=c.endLineNumber-1,p=[];p.push(this._lines[m].substring(c.startColumn-1));for(let C=m+1;C<S;C++)p.push(this._lines[C]);return p.push(this._lines[S].substring(0,c.endColumn-1)),p.join(g)}offsetAt(c){return c=this._validatePosition(c),this._ensureLineStarts(),this._lineStarts.getPrefixSum(c.lineNumber-2)+(c.column-1)}positionAt(c){c=Math.floor(c),c=Math.max(0,c),this._ensureLineStarts();const g=this._lineStarts.getIndexOf(c),m=this._lines[g.index].length;return{lineNumber:1+g.index,column:1+Math.min(g.remainder,m)}}_validateRange(c){const g=this._validatePosition({lineNumber:c.startLineNumber,column:c.startColumn}),m=this._validatePosition({lineNumber:c.endLineNumber,column:c.endColumn});return g.lineNumber!==c.startLineNumber||g.column!==c.startColumn||m.lineNumber!==c.endLineNumber||m.column!==c.endColumn?{startLineNumber:g.lineNumber,startColumn:g.column,endLineNumber:m.lineNumber,endColumn:m.column}:c}_validatePosition(c){if(!D.Position.isIPosition(c))throw new Error("bad position");let{lineNumber:g,column:m}=c,S=!1;if(g<1)g=1,m=1,S=!0;else if(g>this._lines.length)g=this._lines.length,m=this._lines[g-1].length+1,S=!0;else{const p=this._lines[g-1].length+1;m<1?(m=1,S=!0):m>p&&(m=p,S=!0)}return S?{lineNumber:g,column:m}:c}}e.MirrorModel=d;class a{constructor(c,g){this._host=c,this._models=Object.create(null),this._foreignModuleFactory=g,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(c){return this._models[c]}_getModels(){const c=[];return Object.keys(this._models).forEach(g=>c.push(this._models[g])),c}acceptNewModel(c){this._models[c.url]=new d(N.URI.parse(c.url),c.lines,c.EOL,c.versionId)}acceptModelChanged(c,g){if(!this._models[c])return;this._models[c].onEvents(g)}acceptRemovedModel(c){!this._models[c]||delete this._models[c]}computeUnicodeHighlights(c,g,m){return Le(this,void 0,void 0,function*(){const S=this._getModel(c);return S?l.UnicodeTextModelHighlighter.computeUnicodeHighlights(S,g,m):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(c,g,m,S){return Le(this,void 0,void 0,function*(){const p=this._getModel(c),C=this._getModel(g);if(!p||!C)return null;const _=p.getLinesContent(),L=C.getLinesContent(),I=new b.DiffComputer(_,L,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:m,shouldMakePrettyDiff:!0,maxComputationTime:S}).computeDiff(),T=I.changes.length>0?!1:this._modelsAreIdentical(p,C);return{quitEarly:I.quitEarly,identical:T,changes:I.changes}})}_modelsAreIdentical(c,g){const m=c.getLineCount(),S=g.getLineCount();if(m!==S)return!1;for(let p=1;p<=m;p++){const C=c.getLineContent(p),_=g.getLineContent(p);if(C!==_)return!1}return!0}computeMoreMinimalEdits(c,g){return Le(this,void 0,void 0,function*(){const m=this._getModel(c);if(!m)return g;const S=[];let p;g=g.slice(0).sort((C,_)=>{if(C.range&&_.range)return w.Range.compareRangesUsingStarts(C.range,_.range);const L=C.range?0:1,E=_.range?0:1;return L-E});for(let{range:C,text:_,eol:L}of g){if(typeof L=="number"&&(p=L),w.Range.isEmpty(C)&&!_)continue;const E=m.getValueInRange(C);if(_=_.replace(/\r\n|\n|\r/g,m.eol),E===_)continue;if(Math.max(_.length,E.length)>a._diffLimit){S.push({range:C,text:_});continue}const I=(0,y.stringDiff)(E,_,!1),T=m.offsetAt(w.Range.lift(C).getStartPosition());for(const P of I){const B=m.positionAt(T+P.originalStart),R=m.positionAt(T+P.originalStart+P.originalLength),k={text:_.substr(P.modifiedStart,P.modifiedLength),range:{startLineNumber:B.lineNumber,startColumn:B.column,endLineNumber:R.lineNumber,endColumn:R.column}};m.getValueInRange(k.range)!==k.text&&S.push(k)}}return typeof p=="number"&&S.push({eol:p,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),S})}computeLinks(c){return Le(this,void 0,void 0,function*(){const g=this._getModel(c);return g?(0,h.computeLinks)(g):null})}textualSuggest(c,g,m,S){return Le(this,void 0,void 0,function*(){const p=new s.StopWatch(!0),C=new RegExp(m,S),_=new Set;e:for(const L of c){const E=this._getModel(L);if(!!E){for(const I of E.words(C))if(!(I===g||!isNaN(Number(I)))&&(_.add(I),_.size>a._suggestionsLimit))break e}}return{words:Array.from(_),duration:p.elapsed()}})}computeWordRanges(c,g,m,S){return Le(this,void 0,void 0,function*(){const p=this._getModel(c);if(!p)return Object.create(null);const C=new RegExp(m,S),_=Object.create(null);for(let L=g.startLineNumber;L<g.endLineNumber;L++){const E=p.getLineWords(L,C);for(const I of E){if(!isNaN(Number(I.word)))continue;let T=_[I.word];T||(T=[],_[I.word]=T),T.push({startLineNumber:L,startColumn:I.startColumn,endLineNumber:L,endColumn:I.endColumn})}}return _})}navigateValueSet(c,g,m,S,p){return Le(this,void 0,void 0,function*(){const C=this._getModel(c);if(!C)return null;const _=new RegExp(S,p);g.startColumn===g.endColumn&&(g={startLineNumber:g.startLineNumber,startColumn:g.startColumn,endLineNumber:g.endLineNumber,endColumn:g.endColumn+1});const L=C.getValueInRange(g),E=C.getWordAtPosition({lineNumber:g.startLineNumber,column:g.startColumn},_);if(!E)return null;const I=C.getValueInRange(E);return i.BasicInplaceReplace.INSTANCE.navigateValueSet(g,L,E,I,m)})}loadForeignModule(c,g,m){const S=(_,L)=>this._host.fhr(_,L),C={host:t.createProxyObject(m,S),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(C,g),Promise.resolve(t.getAllMethodNames(this._foreignModule))):new Promise((_,L)=>{j([c],E=>{this._foreignModule=E.create(C,g),_(t.getAllMethodNames(this._foreignModule))},L)})}fmr(c,g){if(!this._foreignModule||typeof this._foreignModule[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._foreignModule[c].apply(this._foreignModule,g))}catch(m){return Promise.reject(m)}}}e.EditorSimpleWorker=a,a._diffLimit=1e5,a._suggestionsLimit=1e4;function o(r){return new a(r,null)}e.create=o,typeof importScripts=="function"&&(f.globals.monaco=(0,n.createMonacoBaseAPI)())}),define(ne[450],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class y{constructor(N,D){this._startLineNumber=N,this._tokens=D}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(N){return this._tokens[N-this._startLineNumber]}appendLineTokens(N){this._tokens.push(N)}}e.ContiguousMultilineTokens=y}),define(ne[451],oe([1,0,450]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class f{constructor(){this._tokens=[]}add(D,w){if(this._tokens.length>0){const b=this._tokens[this._tokens.length-1];if(b.endLineNumber+1===D){b.appendLineTokens(w);return}}this._tokens.push(new y.ContiguousMultilineTokens(D,[w]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=f}),define(ne[81],oe([1,0,109]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class f{constructor(w,b,v){this._lineTokensBrand=void 0,this._tokens=w,this._tokensCount=this._tokens.length>>>1,this._text=b,this._languageIdCodec=v}static createEmpty(w,b){const v=f.defaultTokenMetadata,u=new Uint32Array(2);return u[0]=w.length,u[1]=v,new f(u,w,b)}equals(w){return w instanceof f?this.slicedEquals(w,0,this._tokensCount):!1}slicedEquals(w,b,v){if(this._text!==w._text||this._tokensCount!==w._tokensCount)return!1;const u=b<<1,h=u+(v<<1);for(let i=u;i<h;i++)if(this._tokens[i]!==w._tokens[i])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(w){return w>0?this._tokens[w-1<<1]:0}getMetadata(w){return this._tokens[(w<<1)+1]}getLanguageId(w){const b=this._tokens[(w<<1)+1],v=y.TokenMetadata.getLanguageId(b);return this._languageIdCodec.decodeLanguageId(v)}getStandardTokenType(w){const b=this._tokens[(w<<1)+1];return y.TokenMetadata.getTokenType(b)}getForeground(w){const b=this._tokens[(w<<1)+1];return y.TokenMetadata.getForeground(b)}getClassName(w){const b=this._tokens[(w<<1)+1];return y.TokenMetadata.getClassNameFromMetadata(b)}getInlineStyle(w,b){const v=this._tokens[(w<<1)+1];return y.TokenMetadata.getInlineStyleFromMetadata(v,b)}getPresentation(w){const b=this._tokens[(w<<1)+1];return y.TokenMetadata.getPresentationFromMetadata(b)}getEndOffset(w){return this._tokens[w<<1]}findTokenIndexAtOffset(w){return f.findIndexInTokensArray(this._tokens,w)}inflate(){return this}sliceAndInflate(w,b,v){return new N(this,w,b,v)}static convertToEndOffset(w,b){const u=(w.length>>>1)-1;for(let h=0;h<u;h++)w[h<<1]=w[h+1<<1];w[u<<1]=b}static findIndexInTokensArray(w,b){if(w.length<=2)return 0;let v=0,u=(w.length>>>1)-1;for(;v<u;){const h=v+Math.floor((u-v)/2),i=w[h<<1];if(i===b)return h+1;i<b?v=h+1:i>b&&(u=h)}return v}withInserted(w){if(w.length===0)return this;let b=0,v=0,u="";const h=new Array;let i=0;for(;;){const n=b<this._tokensCount?this._tokens[b<<1]:-1,t=v<w.length?w[v]:null;if(n!==-1&&(t===null||n<=t.offset)){u+=this._text.substring(i,n);const s=this._tokens[(b<<1)+1];h.push(u.length,s),b++,i=n}else if(t){if(t.offset>i){u+=this._text.substring(i,t.offset);const s=this._tokens[(b<<1)+1];h.push(u.length,s),i=t.offset}u+=t.text,h.push(u.length,t.tokenMetadata),v++}else break}return new f(new Uint32Array(h),u,this._languageIdCodec)}}e.LineTokens=f,f.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class N{constructor(w,b,v,u){this._source=w,this._startOffset=b,this._endOffset=v,this._deltaOffset=u,this._firstTokenIndex=w.findTokenIndexAtOffset(b),this._tokensCount=0;for(let h=this._firstTokenIndex,i=w.getCount();h<i&&!(w.getStartOffset(h)>=v);h++)this._tokensCount++}getMetadata(w){return this._source.getMetadata(this._firstTokenIndex+w)}getLanguageId(w){return this._source.getLanguageId(this._firstTokenIndex+w)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(w){return w instanceof N?this._startOffset===w._startOffset&&this._endOffset===w._endOffset&&this._deltaOffset===w._deltaOffset&&this._source.slicedEquals(w._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(w){return this._source.getForeground(this._firstTokenIndex+w)}getEndOffset(w){const b=this._source.getEndOffset(this._firstTokenIndex+w);return Math.min(this._endOffset,b)-this._startOffset+this._deltaOffset}getClassName(w){return this._source.getClassName(this._firstTokenIndex+w)}getInlineStyle(w,b){return this._source.getInlineStyle(this._firstTokenIndex+w,b)}getPresentation(w){return this._source.getPresentation(this._firstTokenIndex+w)}findTokenIndexAtOffset(w){return this._source.findTokenIndexAtOffset(w+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(ne[261],oe([1,0,9,81,28,132]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const w={getInitialState:()=>D.NullState,tokenizeEncoded:(h,i,n)=>(0,D.nullTokenizeEncoded)(0,n)};function b(h,i,n){return Le(this,void 0,void 0,function*(){if(!n)return u(i,h.languageIdCodec,w);const t=yield N.TokenizationRegistry.getOrCreate(n);return u(i,h.languageIdCodec,t||w)})}e.tokenizeToString=b;function v(h,i,n,t,s,l,d){let a="<div>",o=t,r=0,c=!0;for(let g=0,m=i.getCount();g<m;g++){const S=i.getEndOffset(g);if(S<=t)continue;let p="";for(;o<S&&o<s;o++){const C=h.charCodeAt(o);switch(C){case 9:{let _=l-(o+r)%l;for(r+=_-1;_>0;)d&&c?(p+="&#160;",c=!1):(p+=" ",c=!0),_--;break}case 60:p+="&lt;",c=!1;break;case 62:p+="&gt;",c=!1;break;case 38:p+="&amp;",c=!1;break;case 0:p+="&#00;",c=!1;break;case 65279:case 8232:case 8233:case 133:p+="\uFFFD",c=!1;break;case 13:p+="&#8203",c=!1;break;case 32:d&&c?(p+="&#160;",c=!1):(p+=" ",c=!0);break;default:p+=String.fromCharCode(C),c=!1}}if(a+=`<span style="${i.getInlineStyle(g,n)}">${p}</span>`,S>s||o>=s)break}return a+="</div>",a}e.tokenizeLineToHTML=v;function u(h,i,n){let t='<div class="monaco-tokenized-source">';const s=y.splitLines(h);let l=n.getInitialState();for(let d=0,a=s.length;d<a;d++){const o=s[d];d>0&&(t+="<br/>");const r=n.tokenizeEncoded(o,!0,l);f.LineTokens.convertToEndOffset(r.tokens,o.length);const g=new f.LineTokens(r.tokens,o,i).inflate();let m=0;for(let S=0,p=g.getCount();S<p;S++){const C=g.getClassName(S),_=g.getEndOffset(S);t+=`<span class="${C}">${y.escape(o.substring(m,_))}</span>`,m=_}l=r.endState}return t+="</div>",t}e._tokenizeToString=u}),define(ne[452],oe([1,0,18,13,81,28,132,2,57,129,451,10,17]),function(j,e,y,f,N,D,w,b,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class t{constructor(r){this._default=r,this._store=[]}get(r){return r<this._store.length?this._store[r]:this._default}set(r,c){for(;r>=this._store.length;)this._store[this._store.length]=this._default;this._store[r]=c}delete(r,c){c===0||r>=this._store.length||this._store.splice(r,c)}insert(r,c){if(c===0||r>=this._store.length)return;const g=[];for(let m=0;m<c;m++)g[m]=this._default;this._store=y.arrayInsert(this._store,r,g)}}class s{constructor(r,c){this.tokenizationSupport=r,this.initialState=c,this._lineBeginState=new t(null),this._lineNeedsTokenization=new t(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(r){this._lineNeedsTokenization.set(r,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,r)}getBeginState(r){return this._lineBeginState.get(r)}setEndState(r,c,g){if(this._lineNeedsTokenization.set(c,!1),this._firstLineNeedsTokenization=c+1,c===r-1)return;const m=this._lineBeginState.get(c+1);if(m===null||!g.equals(m)){this._lineBeginState.set(c+1,g),this.markMustBeTokenized(c+1);return}let S=c+1;for(;S<r&&!this._lineNeedsTokenization.get(S);)S++;this._firstLineNeedsTokenization=S}applyEdits(r,c){this.markMustBeTokenized(r.startLineNumber-1),this._lineBeginState.delete(r.startLineNumber,r.endLineNumber-r.startLineNumber),this._lineNeedsTokenization.delete(r.startLineNumber,r.endLineNumber-r.startLineNumber),this._lineBeginState.insert(r.startLineNumber,c),this._lineNeedsTokenization.insert(r.startLineNumber,c)}}e.TokenizationStateStore=s;class l extends b.Disposable{constructor(r,c,g){super();this._textModel=r,this._tokenizationPart=c,this._languageIdCodec=g,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(D.TokenizationRegistry.onDidChange(m=>{const S=this._textModel.getLanguageId();m.changedLanguages.indexOf(S)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(r){if(r.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let c=0,g=r.changes.length;c<g;c++){const m=r.changes[c],[S]=(0,u.countEOL)(m.text);this._tokenizationStateStore.applyEdits(m.range,S)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(r){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[r,c]=d(this._textModel,this._tokenizationPart);r&&c?this._tokenizationStateStore=new s(r,c):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,i.runWhenIdle)(r=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(r)}))}_backgroundTokenizeWithDeadline(r){const c=Date.now()+r.timeRemaining(),g=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<c?(0,n.setTimeout0)(g):this._beginBackgroundTokenization())};g()}_backgroundTokenizeForAtLeast1ms(){const r=this._textModel.getLineCount(),c=new h.ContiguousMultilineTokensBuilder,g=v.StopWatch.create(!1);do if(g.elapsed()>1||this._tokenizeOneInvalidLine(c)>=r)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(c.finalize(),this._isTokenizationComplete())}tokenizeViewport(r,c){const g=new h.ContiguousMultilineTokensBuilder;this._tokenizeViewport(g,r,c),this._tokenizationPart.setTokens(g.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(r){const c=new h.ContiguousMultilineTokensBuilder;this._updateTokensUntilLine(c,r),this._tokenizationPart.setTokens(c.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(r,c){if(!this._tokenizationStateStore)return 0;this.forceTokenization(r.lineNumber);const g=this._tokenizationStateStore.getBeginState(r.lineNumber-1);if(!g)return 0;const m=this._textModel.getLanguageId(),S=this._textModel.getLineContent(r.lineNumber),p=S.substring(0,r.column-1)+c+S.substring(r.column-1),C=a(this._languageIdCodec,m,this._tokenizationStateStore.tokenizationSupport,p,!0,g),_=new N.LineTokens(C.tokens,p,this._languageIdCodec);if(_.getCount()===0)return 0;const L=_.findTokenIndexAtOffset(r.column-1);return _.getStandardTokenType(L)}tokenizeLineWithEdit(r,c,g){const m=r.lineNumber,S=r.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(m);const p=this._tokenizationStateStore.getBeginState(m-1);if(!p)return null;const C=this._textModel.getLineContent(m),_=C.substring(0,S-1)+g+C.substring(S-1+c),L=this._textModel.getLanguageIdAtPosition(m,0),E=a(this._languageIdCodec,L,this._tokenizationStateStore.tokenizationSupport,_,!0,p);return new N.LineTokens(E.tokens,_,this._languageIdCodec)}isCheapToTokenize(r){if(!this._tokenizationStateStore)return!0;const c=this._tokenizationStateStore.invalidLineStartIndex+1;return r>c?!1:r<c||this._textModel.getLineLength(r)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(r){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const c=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(r,c),c}_updateTokensUntilLine(r,c){if(!this._tokenizationStateStore)return;const g=this._textModel.getLanguageId(),m=this._textModel.getLineCount(),S=c-1;for(let p=this._tokenizationStateStore.invalidLineStartIndex;p<=S;p++){const C=this._textModel.getLineContent(p+1),_=this._tokenizationStateStore.getBeginState(p),L=a(this._languageIdCodec,g,this._tokenizationStateStore.tokenizationSupport,C,!0,_);r.add(p+1,L.tokens),this._tokenizationStateStore.setEndState(m,p,L.endState),p=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(r,c,g){if(!this._tokenizationStateStore||g<=this._tokenizationStateStore.invalidLineStartIndex)return;if(c<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(r,g);return}let m=this._textModel.getLineFirstNonWhitespaceColumn(c);const S=[];let p=null;for(let L=c-1;m>1&&L>=1;L--){const E=this._textModel.getLineFirstNonWhitespaceColumn(L);if(E!==0&&E<m){if(p=this._tokenizationStateStore.getBeginState(L-1),p)break;S.push(this._textModel.getLineContent(L)),m=E}}p||(p=this._tokenizationStateStore.initialState);const C=this._textModel.getLanguageId();let _=p;for(let L=S.length-1;L>=0;L--)_=a(this._languageIdCodec,C,this._tokenizationStateStore.tokenizationSupport,S[L],!1,_).endState;for(let L=c;L<=g;L++){const E=this._textModel.getLineContent(L),I=a(this._languageIdCodec,C,this._tokenizationStateStore.tokenizationSupport,E,!0,_);r.add(L,I.tokens),this._tokenizationStateStore.markMustBeTokenized(L-1),_=I.endState}}}e.TextModelTokenization=l;function d(o,r){if(o.isTooLargeForTokenization())return[null,null];const c=D.TokenizationRegistry.get(r.getLanguageId());if(!c)return[null,null];let g;try{g=c.getInitialState()}catch(m){return(0,f.onUnexpectedError)(m),[null,null]}return[c,g]}function a(o,r,c,g,m,S){let p=null;if(c)try{p=c.tokenizeEncoded(g,m,S.clone())}catch(C){(0,f.onUnexpectedError)(C)}return p||(p=(0,w.nullTokenizeEncoded)(o.encodeLanguageId(r),S)),N.LineTokens.convertToEndOffset(p.tokens,g.length),p}}),define(ne[453],oe([1,0,81]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class f{static deleteBeginning(w,b){return w===null||w===e.EMPTY_LINE_TOKENS?w:f.delete(w,0,b)}static deleteEnding(w,b){if(w===null||w===e.EMPTY_LINE_TOKENS)return w;const v=N(w),u=v[v.length-2];return f.delete(w,b,u)}static delete(w,b,v){if(w===null||w===e.EMPTY_LINE_TOKENS||b===v)return w;const u=N(w),h=u.length>>>1;if(b===0&&u[u.length-2]===v)return e.EMPTY_LINE_TOKENS;const i=y.LineTokens.findIndexInTokensArray(u,b),n=i>0?u[i-1<<1]:0,t=u[i<<1];if(v<t){const o=v-b;for(let r=i;r<h;r++)u[r<<1]-=o;return w}let s,l;n!==b?(u[i<<1]=b,s=i+1<<1,l=b):(s=i<<1,l=n);const d=v-b;for(let o=i+1;o<h;o++){const r=u[o<<1]-d;r>l&&(u[s++]=r,u[s++]=u[(o<<1)+1],l=r)}if(s===u.length)return w;const a=new Uint32Array(s);return a.set(u.subarray(0,s),0),a.buffer}static append(w,b){if(b===e.EMPTY_LINE_TOKENS)return w;if(w===e.EMPTY_LINE_TOKENS)return b;if(w===null)return w;if(b===null)return null;const v=N(w),u=N(b),h=u.length>>>1,i=new Uint32Array(v.length+u.length);i.set(v,0);let n=v.length;const t=v[v.length-2];for(let s=0;s<h;s++)i[n++]=u[s<<1]+t,i[n++]=u[(s<<1)+1];return i.buffer}static insert(w,b,v){if(w===null||w===e.EMPTY_LINE_TOKENS)return w;const u=N(w),h=u.length>>>1;let i=y.LineTokens.findIndexInTokensArray(u,b);i>0&&u[i-1<<1]===b&&i--;for(let n=i;n<h;n++)u[n<<1]+=v;return w}}e.ContiguousTokensEditing=f;function N(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=N}),define(ne[454],oe([1,0,18,11,453,81,109]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class b{constructor(h){this._lineTokens=[],this._len=0,this._languageIdCodec=h}flush(){this._lineTokens=[],this._len=0}getTokens(h,i,n){let t=null;if(i<this._len&&(t=this._lineTokens[i]),t!==null&&t!==N.EMPTY_LINE_TOKENS)return new D.LineTokens((0,N.toUint32Array)(t),n,this._languageIdCodec);const s=new Uint32Array(2);return s[0]=n.length,s[1]=v(this._languageIdCodec.encodeLanguageId(h)),new D.LineTokens(s,n,this._languageIdCodec)}static _massageTokens(h,i,n){const t=n?(0,N.toUint32Array)(n):null;if(i===0){let s=!1;if(t&&t.length>1&&(s=w.TokenMetadata.getLanguageId(t[1])!==h),!s)return N.EMPTY_LINE_TOKENS}if(!t||t.length===0){const s=new Uint32Array(2);return s[0]=i,s[1]=v(h),s.buffer}return t[t.length-2]=i,t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t}_ensureLine(h){for(;h>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(h,i){i!==0&&(h+i>this._len&&(i=this._len-h),this._lineTokens.splice(h,i),this._len-=i)}_insertLines(h,i){if(i===0)return;const n=[];for(let t=0;t<i;t++)n[t]=null;this._lineTokens=y.arrayInsert(this._lineTokens,h,n),this._len+=i}setTokens(h,i,n,t,s){const l=b._massageTokens(this._languageIdCodec.encodeLanguageId(h),n,t);this._ensureLine(i);const d=this._lineTokens[i];return this._lineTokens[i]=l,s?!b._equals(d,l):!1}static _equals(h,i){if(!h||!i)return!h&&!i;const n=(0,N.toUint32Array)(h),t=(0,N.toUint32Array)(i);if(n.length!==t.length)return!1;for(let s=0,l=n.length;s<l;s++)if(n[s]!==t[s])return!1;return!0}acceptEdit(h,i,n){this._acceptDeleteRange(h),this._acceptInsertText(new f.Position(h.startLineNumber,h.startColumn),i,n)}_acceptDeleteRange(h){const i=h.startLineNumber-1;if(i>=this._len)return;if(h.startLineNumber===h.endLineNumber){if(h.startColumn===h.endColumn)return;this._lineTokens[i]=N.ContiguousTokensEditing.delete(this._lineTokens[i],h.startColumn-1,h.endColumn-1);return}this._lineTokens[i]=N.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],h.startColumn-1);const n=h.endLineNumber-1;let t=null;n<this._len&&(t=N.ContiguousTokensEditing.deleteBeginning(this._lineTokens[n],h.endColumn-1)),this._lineTokens[i]=N.ContiguousTokensEditing.append(this._lineTokens[i],t),this._deleteLines(h.startLineNumber,h.endLineNumber-h.startLineNumber)}_acceptInsertText(h,i,n){if(i===0&&n===0)return;const t=h.lineNumber-1;if(!(t>=this._len)){if(i===0){this._lineTokens[t]=N.ContiguousTokensEditing.insert(this._lineTokens[t],h.column-1,n);return}this._lineTokens[t]=N.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],h.column-1),this._lineTokens[t]=N.ContiguousTokensEditing.insert(this._lineTokens[t],h.column-1,n),this._insertLines(h.lineNumber,i)}}}e.ContiguousTokensStore=b;function v(u){return(u<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(ne[455],oe([1,0,11,3,129]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{constructor(u,h){this._startLineNumber=u,this._tokens=h,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(u,h){return new D(u,new w(h))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(u){return this._startLineNumber<=u&&u<=this._endLineNumber?this._tokens.getLineTokens(u-this._startLineNumber):null}getRange(){const u=this._tokens.getRange();return u&&new f.Range(this._startLineNumber+u.startLineNumber,u.startColumn,this._startLineNumber+u.endLineNumber,u.endColumn)}removeTokens(u){const h=u.startLineNumber-this._startLineNumber,i=u.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(h,u.startColumn-1,i,u.endColumn-1),this._updateEndLineNumber()}split(u){const h=u.startLineNumber-this._startLineNumber,i=u.endLineNumber-this._startLineNumber,[n,t,s]=this._tokens.split(h,u.startColumn-1,i,u.endColumn-1);return[new D(this._startLineNumber,n),new D(this._startLineNumber+s,t)]}applyEdit(u,h){const[i,n,t]=(0,N.countEOL)(h);this.acceptEdit(u,i,n,t,h.length>0?h.charCodeAt(0):0)}acceptEdit(u,h,i,n,t){this._acceptDeleteRange(u),this._acceptInsertText(new y.Position(u.startLineNumber,u.startColumn),h,i,n,t),this._updateEndLineNumber()}_acceptDeleteRange(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const h=u.startLineNumber-this._startLineNumber,i=u.endLineNumber-this._startLineNumber;if(i<0){const t=i-h;this._startLineNumber-=t;return}const n=this._tokens.getMaxDeltaLine();if(!(h>=n+1)){if(h<0&&i>=n+1){this._startLineNumber=0,this._tokens.clear();return}if(h<0){const t=-h;this._startLineNumber-=t,this._tokens.acceptDeleteRange(u.startColumn-1,0,0,i,u.endColumn-1)}else this._tokens.acceptDeleteRange(0,h,u.startColumn-1,i,u.endColumn-1)}}_acceptInsertText(u,h,i,n,t){if(h===0&&i===0)return;const s=u.lineNumber-this._startLineNumber;if(s<0){this._startLineNumber+=h;return}const l=this._tokens.getMaxDeltaLine();s>=l+1||this._tokens.acceptInsertText(s,u.column-1,h,i,n,t)}}e.SparseMultilineTokens=D;class w{constructor(u){this._tokens=u,this._tokenCount=u.length/4}toString(u){const h=[];for(let i=0;i<this._tokenCount;i++)h.push(`(${this._getDeltaLine(i)+u},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${h.join(",")}]`}getMaxDeltaLine(){const u=this._getTokenCount();return u===0?-1:this._getDeltaLine(u-1)}getRange(){const u=this._getTokenCount();if(u===0)return null;const h=this._getStartCharacter(0),i=this._getDeltaLine(u-1),n=this._getEndCharacter(u-1);return new f.Range(0,h+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(u){return this._tokens[4*u]}_getStartCharacter(u){return this._tokens[4*u+1]}_getEndCharacter(u){return this._tokens[4*u+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(u){let h=0,i=this._getTokenCount()-1;for(;h<i;){const n=h+Math.floor((i-h)/2),t=this._getDeltaLine(n);if(t<u)h=n+1;else if(t>u)i=n-1;else{let s=n;for(;s>h&&this._getDeltaLine(s-1)===u;)s--;let l=n;for(;l<i&&this._getDeltaLine(l+1)===u;)l++;return new b(this._tokens.subarray(4*s,4*l+4))}}return this._getDeltaLine(h)===u?new b(this._tokens.subarray(4*h,4*h+4)):null}clear(){this._tokenCount=0}removeTokens(u,h,i,n){const t=this._tokens,s=this._tokenCount;let l=0,d=!1,a=0;for(let o=0;o<s;o++){const r=4*o,c=t[r],g=t[r+1],m=t[r+2],S=t[r+3];if((c>u||c===u&&m>=h)&&(c<i||c===i&&g<=n))d=!0;else{if(l===0&&(a=c),d){const p=4*l;t[p]=c-a,t[p+1]=g,t[p+2]=m,t[p+3]=S}l++}}return this._tokenCount=l,a}split(u,h,i,n){const t=this._tokens,s=this._tokenCount,l=[],d=[];let a=l,o=0,r=0;for(let c=0;c<s;c++){const g=4*c,m=t[g],S=t[g+1],p=t[g+2],C=t[g+3];if(m>u||m===u&&p>=h){if(m<i||m===i&&S<=n)continue;a!==d&&(a=d,o=0,r=m)}a[o++]=m-r,a[o++]=S,a[o++]=p,a[o++]=C}return[new w(new Uint32Array(l)),new w(new Uint32Array(d)),r]}acceptDeleteRange(u,h,i,n,t){const s=this._tokens,l=this._tokenCount,d=n-h;let a=0,o=!1;for(let r=0;r<l;r++){const c=4*r;let g=s[c],m=s[c+1],S=s[c+2];const p=s[c+3];if(g<h||g===h&&S<=i){a++;continue}else if(g===h&&m<i)g===n&&S>t?S-=t-i:S=i;else if(g===h&&m===i)if(g===n&&S>t)S-=t-i;else{o=!0;continue}else if(g<n||g===n&&m<t)if(g===n&&S>t)g===h?(m=i,S=m+(S-t)):(m=0,S=m+(S-t));else{o=!0;continue}else if(g>n){if(d===0&&!o){a=l;break}g-=d}else if(g===n&&m>=t)u&&g===0&&(m+=u,S+=u),g-=d,m-=t-i,S-=t-i;else throw new Error("Not possible!");const C=4*a;s[C]=g,s[C+1]=m,s[C+2]=S,s[C+3]=p,a++}this._tokenCount=a}acceptInsertText(u,h,i,n,t,s){const l=i===0&&n===1&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),d=this._tokens,a=this._tokenCount;for(let o=0;o<a;o++){const r=4*o;let c=d[r],g=d[r+1],m=d[r+2];if(!(c<u||c===u&&m<h)){if(c===u&&m===h)if(l)m+=1;else continue;else if(c===u&&g<h&&h<m)i===0?m+=n:m=h;else{if(c===u&&g===h&&l)continue;if(c===u)if(c+=i,i===0)g+=n,m+=n;else{const S=m-g;g=t+(g-h),m=g+S}else c+=i}d[r]=c,d[r+1]=g,d[r+2]=m}}}}class b{constructor(u){this._tokens=u}getCount(){return this._tokens.length/4}getStartCharacter(u){return this._tokens[4*u+1]}getEndCharacter(u){return this._tokens[4*u+2]}getMetadata(u){return this._tokens[4*u+3]}}e.SparseLineTokens=b}),define(ne[456],oe([1,0,18,81]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class N{constructor(w){this._pieces=[],this._isComplete=!1,this._languageIdCodec=w}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(w,b){this._pieces=w||[],this._isComplete=b}setPartial(w,b){let v=w;if(b.length>0){const h=b[0].getRange(),i=b[b.length-1].getRange();if(!h||!i)return w;v=w.plusRange(h).plusRange(i)}let u=null;for(let h=0,i=this._pieces.length;h<i;h++){const n=this._pieces[h];if(n.endLineNumber<v.startLineNumber)continue;if(n.startLineNumber>v.endLineNumber){u=u||{index:h};break}if(n.removeTokens(v),n.isEmpty()){this._pieces.splice(h,1),h--,i--;continue}if(n.endLineNumber<v.startLineNumber)continue;if(n.startLineNumber>v.endLineNumber){u=u||{index:h};continue}const[t,s]=n.split(v);if(t.isEmpty()){u=u||{index:h};continue}s.isEmpty()||(this._pieces.splice(h,1,t,s),h++,i++,u=u||{index:h})}return u=u||{index:this._pieces.length},b.length>0&&(this._pieces=y.arrayInsert(this._pieces,u.index,b)),v}isComplete(){return this._isComplete}addSparseTokens(w,b){if(b.getLineContent().length===0)return b;const v=this._pieces;if(v.length===0)return b;const u=N._findFirstPieceWithLine(v,w),h=v[u].getLineTokens(w);if(!h)return b;const i=b.getCount(),n=h.getCount();let t=0;const s=[];let l=0,d=0;const a=(o,r)=>{o!==d&&(d=o,s[l++]=o,s[l++]=r)};for(let o=0;o<n;o++){const r=h.getStartCharacter(o),c=h.getEndCharacter(o),g=h.getMetadata(o),m=((g&1?2048:0)|(g&2?4096:0)|(g&4?8192:0)|(g&8?16384:0)|(g&16?16744448:0)|(g&32?4278190080:0))>>>0,S=~m>>>0;for(;t<i&&b.getEndOffset(t)<=r;)a(b.getEndOffset(t),b.getMetadata(t)),t++;for(t<i&&b.getStartOffset(t)<r&&a(r,b.getMetadata(t));t<i&&b.getEndOffset(t)<c;)a(b.getEndOffset(t),b.getMetadata(t)&S|g&m),t++;if(t<i)a(c,b.getMetadata(t)&S|g&m),b.getEndOffset(t)===c&&t++;else{const p=Math.min(Math.max(0,t-1),i-1);a(c,b.getMetadata(p)&S|g&m)}}for(;t<i;)a(b.getEndOffset(t),b.getMetadata(t)),t++;return new f.LineTokens(new Uint32Array(s),b.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(w,b){let v=0,u=w.length-1;for(;v<u;){let h=v+Math.floor((u-v)/2);if(w[h].endLineNumber<b)v=h+1;else if(w[h].startLineNumber>b)u=h-1;else{for(;h>v&&w[h-1].startLineNumber<=b&&b<=w[h-1].endLineNumber;)h--;return h}}return v}acceptEdit(w,b,v,u,h){for(const i of this._pieces)i.acceptEdit(w,b,v,u,h)}}e.SparseTokensStore=N}),define(ne[457],oe([1,0,4,11,131,254,452,454,456]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class u extends D.TextModelPart{constructor(i,n,t,s,l){super();this._languageService=i,this._languageConfigurationService=n,this._textModel=t,this.bracketPairsTextModelPart=s,this._languageId=l,this._onDidChangeLanguage=this._register(new y.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new y.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new y.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new y.Emitter),this._tokens=new b.ContiguousTokensStore(this._languageService.languageIdCodec),this._semanticTokens=new v.SparseTokensStore(this._languageService.languageIdCodec),this._tokenization=new w.TextModelTokenization(t,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(d=>{d.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(i,n,t,s,l){this._tokens.acceptEdit(i,t,s),this._semanticTokens.acceptEdit(i,t,s,l,n.length>0?n.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(i){this._tokenization.handleDidChangeContent(i)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(i){if(this._backgroundTokenizationState===2)return;const n=i?2:1;this._backgroundTokenizationState!==n&&(this._backgroundTokenizationState=n,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(i,n=!1){if(i.length!==0){const t=[];for(let s=0,l=i.length;s<l;s++){const d=i[s];let a=0,o=0,r=!1;for(let c=d.startLineNumber;c<=d.endLineNumber;c++)r?(this._tokens.setTokens(this._languageId,c-1,this._textModel.getLineLength(c),d.getLineTokens(c),!1),o=c):this._tokens.setTokens(this._languageId,c-1,this._textModel.getLineLength(c),d.getLineTokens(c),!0)&&(r=!0,a=c,o=c);r&&t.push({fromLineNumber:a,toLineNumber:o})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(n)}setSemanticTokens(i,n){this._semanticTokens.set(i,n),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:i!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(i,n){if(this.hasCompleteSemanticTokens())return;const t=this._textModel.validateRange(this._semanticTokens.setPartial(i,n));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:t.startLineNumber,toLineNumber:t.endLineNumber}]})}tokenizeViewport(i,n){i=Math.max(1,i),n=Math.min(this._textModel.getLineCount(),n),this._tokenization.tokenizeViewport(i,n)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(i){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(i),this._onDidChangeTokens.fire(i))}resetTokenization(){this._tokenization.reset()}forceTokenization(i){if(i<1||i>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(i)}isCheapToTokenize(i){return this._tokenization.isCheapToTokenize(i)}tokenizeIfCheap(i){this.isCheapToTokenize(i)&&this.forceTokenization(i)}getLineTokens(i){if(i<1||i>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(i)}_getLineTokens(i){const n=this._textModel.getLineContent(i),t=this._tokens.getTokens(this._languageId,i-1,n);return this._semanticTokens.addSparseTokens(i,t)}getTokenTypeIfInsertingCharacter(i,n,t){const s=this._textModel.validatePosition(new f.Position(i,n));return this._tokenization.getTokenTypeIfInsertingCharacter(s,t)}tokenizeLineWithEdit(i,n,t){const s=this._textModel.validatePosition(i);return this._tokenization.tokenizeLineWithEdit(s,n,t)}getLanguageConfiguration(i){return this._languageConfigurationService.getLanguageConfiguration(i)}getWordAtPosition(i){this.assertNotDisposed();const n=this._textModel.validatePosition(i),t=this._textModel.getLineContent(n.lineNumber),s=this._getLineTokens(n.lineNumber),l=s.findTokenIndexAtOffset(n.column-1),[d,a]=u._findLanguageBoundaries(s,l),o=(0,N.getWordAtText)(n.column,this.getLanguageConfiguration(s.getLanguageId(l)).getWordDefinition(),t.substring(d,a),d);if(o&&o.startColumn<=i.column&&i.column<=o.endColumn)return o;if(l>0&&d===n.column-1){const[r,c]=u._findLanguageBoundaries(s,l-1),g=(0,N.getWordAtText)(n.column,this.getLanguageConfiguration(s.getLanguageId(l-1)).getWordDefinition(),t.substring(r,c),r);if(g&&g.startColumn<=i.column&&i.column<=g.endColumn)return g}return null}static _findLanguageBoundaries(i,n){const t=i.getLanguageId(n);let s=0;for(let d=n;d>=0&&i.getLanguageId(d)===t;d--)s=i.getStartOffset(d);let l=i.getLineContent().length;for(let d=n,a=i.getCount();d<a&&i.getLanguageId(d)===t;d++)l=i.getEndOffset(d);return[s,l]}getWordUntilPosition(i){const n=this.getWordAtPosition(i);return n?{word:n.word.substr(0,i.column-n.startColumn),startColumn:n.startColumn,endColumn:i.column}:{word:"",startColumn:i.column,endColumn:i.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(i,n){const t=this._textModel.validatePosition(new f.Position(i,n)),s=this.getLineTokens(t.lineNumber);return s.getLanguageId(s.findTokenIndexAtOffset(t.column-1))}setLanguageId(i){if(this._languageId===i)return;const n={oldLanguage:this._languageId,newLanguage:i};this._languageId=i,this.bracketPairsTextModelPart.handleDidChangeLanguage(n),this._tokenization.handleDidChangeLanguage(n),this._onDidChangeLanguage.fire(n),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=u}),define(ne[133],oe([1,0,2]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class f extends y.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let w=!1;for(let b=0,v=D.length;b<v;b++){const u=D[b];switch(u.type){case 0:this.onCompositionStart(u)&&(w=!0);break;case 1:this.onCompositionEnd(u)&&(w=!0);break;case 2:this.onConfigurationChanged(u)&&(w=!0);break;case 3:this.onCursorStateChanged(u)&&(w=!0);break;case 4:this.onDecorationsChanged(u)&&(w=!0);break;case 5:this.onFlushed(u)&&(w=!0);break;case 6:this.onFocusChanged(u)&&(w=!0);break;case 7:this.onLanguageConfigurationChanged(u)&&(w=!0);break;case 8:this.onLineMappingChanged(u)&&(w=!0);break;case 9:this.onLinesChanged(u)&&(w=!0);break;case 10:this.onLinesDeleted(u)&&(w=!0);break;case 11:this.onLinesInserted(u)&&(w=!0);break;case 12:this.onRevealRangeRequest(u)&&(w=!0);break;case 13:this.onScrollChanged(u)&&(w=!0);break;case 15:this.onTokensChanged(u)&&(w=!0);break;case 14:this.onThemeChanged(u)&&(w=!0);break;case 16:this.onTokensColorsChanged(u)&&(w=!0);break;case 17:this.onZonesChanged(u)&&(w=!0);break;default:console.info("View received unknown event: "),console.info(u)}}w&&(this._shouldRender=!0)}}e.ViewEventHandler=f}),define(ne[112],oe([1,0,133]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class f extends y.ViewEventHandler{}e.DynamicViewOverlay=f}),define(ne[52],oe([1,0,133]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class f extends y.ViewEventHandler{constructor(w){super();this._context=w,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=f;class N{static write(w,b){w.setAttribute("data-mprt",String(b))}static read(w){const b=w.getAttribute("data-mprt");return b===null?0:parseInt(b,10)}static collect(w,b){const v=[];let u=0;for(;w&&w!==document.body&&w!==b;)w.nodeType===w.ELEMENT_NODE&&(v[u++]=this.read(w)),w=w.parentElement;const h=new Uint8Array(u);for(let i=0;i<u;i++)h[i]=v[u-i-1];return h}}e.PartFingerprints=N}),define(ne[458],oe([1,0,7,33,52]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D{constructor(h,i){this._coordinateBrand=void 0,this.top=h,this.left=i}}class w extends N.ViewPart{constructor(h,i){super(h);this._viewDomNode=i,this._widgets={},this.domNode=(0,f.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,f.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].onConfigurationChanged(h);return!0}onDecorationsChanged(h){return!0}onFlushed(h){return!0}onLineMappingChanged(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].onLineMappingChanged(h);return!0}onLinesChanged(h){return!0}onLinesDeleted(h){return!0}onLinesInserted(h){return!0}onScrollChanged(h){return!0}onZonesChanged(h){return!0}addWidget(h){const i=new b(this._context,this._viewDomNode,h);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(h,i,n,t){this._widgets[h.getId()].setPosition(i,n,t),this.setShouldRender()}removeWidget(h){const i=h.getId();if(this._widgets.hasOwnProperty(i)){const n=this._widgets[i];delete this._widgets[i];const t=n.domNode.domNode;t.parentNode.removeChild(t),t.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(h){return this._widgets.hasOwnProperty(h)?this._widgets[h].suppressMouseDown:!1}onBeforeRender(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].onBeforeRender(h)}prepareRender(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].prepareRender(h)}render(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].render(h)}}e.ViewContentWidgets=w;class b{constructor(h,i,n){this._context=h,this._viewDomNode=i,this._actual=n,this.domNode=(0,f.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const t=this._context.configuration.options,s=t.get(132);this._fixedOverflowWidgets=t.get(37),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this._lineHeight=t.get(60),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(h){const i=this._context.configuration.options;if(this._lineHeight=i.get(60),h.hasChanged(132)){const n=i.get(132);this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(h){this._setPosition(this._range,this._affinity)}_setPosition(h,i){var n;if(this._range=h,this._viewRange=null,this._affinity=i,this._range){const t=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(t,(n=this._affinity)!==null&&n!==void 0?n:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(h,i,n){this._setPosition(h,n),this._preference=i,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(h,i,n,t,s){const l=h.top,d=l,a=i.top+this._lineHeight,o=s.viewportHeight-a,r=l-t,c=d>=t,g=a,m=o>=t;let S=h.left,p=i.left;return S+n>s.scrollLeft+s.viewportWidth&&(S=s.scrollLeft+s.viewportWidth-n),p+n>s.scrollLeft+s.viewportWidth&&(p=s.scrollLeft+s.viewportWidth-n),S<s.scrollLeft&&(S=s.scrollLeft),p<s.scrollLeft&&(p=s.scrollLeft),{fitsAbove:c,aboveTop:r,aboveLeft:S,fitsBelow:m,belowTop:g,belowLeft:p}}_layoutHorizontalSegmentInPage(h,i,n,t){const s=Math.max(0,i.left-t),l=Math.min(i.left+i.width+t,h.width);let d=i.left+n-y.StandardWindow.scrollX;if(d+t>l){const a=d-(l-t);d-=a,n-=a}if(d<s){const a=d-s;d-=a,n-=a}return[n,d]}_layoutBoxInPage(h,i,n,t,s){const l=h.top-t,d=i.top+this._lineHeight,a=y.getDomNodePagePosition(this._viewDomNode.domNode),o=a.top+l-y.StandardWindow.scrollY,r=a.top+d-y.StandardWindow.scrollY,c=y.getClientArea(document.body),[g,m]=this._layoutHorizontalSegmentInPage(c,a,h.left-s.scrollLeft+this._contentLeft,n),[S,p]=this._layoutHorizontalSegmentInPage(c,a,i.left-s.scrollLeft+this._contentLeft,n),C=22,_=22,L=o>=C,E=r+t<=c.height-_;return this._fixedOverflowWidgets?{fitsAbove:L,aboveTop:Math.max(o,C),aboveLeft:m,fitsBelow:E,belowTop:r,belowLeft:p}:{fitsAbove:L,aboveTop:l,aboveLeft:g,fitsBelow:E,belowTop:d,belowLeft:S}}_prepareRenderWidgetAtExactPositionOverflowing(h){return new D(h.top,h.left+this._contentLeft)}_getTopAndBottomLeft(h){if(!this._viewRange)return[null,null];const i=h.linesVisibleRangesForRange(this._viewRange,!1);if(!i||i.length===0)return[null,null];let n=i[0],t=i[0];for(const c of i)c.lineNumber<n.lineNumber&&(n=c),c.lineNumber>t.lineNumber&&(t=c);let s=1073741824;for(const c of n.ranges)c.left<s&&(s=c.left);let l=1073741824;for(const c of t.ranges)c.left<l&&(l=c.left);const d=h.getVerticalOffsetForLineNumber(n.lineNumber)-h.scrollTop,a=new D(d,s),o=h.getVerticalOffsetForLineNumber(t.lineNumber)-h.scrollTop,r=new D(o,l);return[a,r]}_prepareRenderWidget(h){if(!this._preference||this._preference.length===0)return null;const[i,n]=this._getTopAndBottomLeft(h);if(!i||!n)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let s=null;if(typeof this._actual.beforeRender=="function"&&(s=v(this._actual.beforeRender,this._actual)),s)this._cachedDomNodeOffsetWidth=s.width,this._cachedDomNodeOffsetHeight=s.height;else{const d=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(d.width),this._cachedDomNodeOffsetHeight=Math.round(d.height)}}let t;this.allowEditorOverflow?t=this._layoutBoxInPage(i,n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,h):t=this._layoutBoxInViewport(i,n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,h);for(let s=1;s<=2;s++)for(const l of this._preference)if(l===1){if(!t)return null;if(s===2||t.fitsAbove)return{coordinate:new D(t.aboveTop,t.aboveLeft),position:1}}else if(l===2){if(!t)return null;if(s===2||t.fitsBelow)return{coordinate:new D(t.belowTop,t.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(i),position:0}:{coordinate:i,position:0};return null}onBeforeRender(h){!this._viewRange||!this._preference||this._viewRange.endLineNumber<h.startLineNumber||this._viewRange.startLineNumber>h.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(h){this._renderData=this._prepareRenderWidget(h)}render(h){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+h.scrollTop-h.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,this._renderData.position)}}function v(u,h,...i){try{return u.call(h,...i)}catch{return null}}}),define(ne[459],oe([1,0,112,3,128,369]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends y.DynamicViewOverlay{constructor(b){super();this._context=b;const v=this._context.configuration.options;this._lineHeight=v.get(60),this._typicalHalfwidthCharacterWidth=v.get(45).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const v=this._context.configuration.options;return this._lineHeight=v.get(60),this._typicalHalfwidthCharacterWidth=v.get(45).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged||b.scrollWidthChanged}onZonesChanged(b){return!0}prepareRender(b){const v=b.getDecorationsInViewport();let u=[],h=0;for(let s=0,l=v.length;s<l;s++){const d=v[s];d.options.className&&(u[h++]=d)}u=u.sort((s,l)=>{if(s.options.zIndex<l.options.zIndex)return-1;if(s.options.zIndex>l.options.zIndex)return 1;const d=s.options.className,a=l.options.className;return d<a?-1:d>a?1:f.Range.compareRangesUsingStarts(s.range,l.range)});const i=b.visibleRange.startLineNumber,n=b.visibleRange.endLineNumber,t=[];for(let s=i;s<=n;s++){const l=s-i;t[l]=""}this._renderWholeLineDecorations(b,u,t),this._renderNormalDecorations(b,u,t),this._renderResult=t}_renderWholeLineDecorations(b,v,u){const h=String(this._lineHeight),i=b.visibleRange.startLineNumber,n=b.visibleRange.endLineNumber;for(let t=0,s=v.length;t<s;t++){const l=v[t];if(!l.options.isWholeLine)continue;const d='<div class="cdr '+l.options.className+'" style="left:0;width:100%;height:'+h+'px;"></div>',a=Math.max(l.range.startLineNumber,i),o=Math.min(l.range.endLineNumber,n);for(let r=a;r<=o;r++){const c=r-i;u[c]+=d}}}_renderNormalDecorations(b,v,u){const h=String(this._lineHeight),i=b.visibleRange.startLineNumber;let n=null,t=!1,s=null;for(let l=0,d=v.length;l<d;l++){const a=v[l];if(a.options.isWholeLine)continue;const o=a.options.className,r=Boolean(a.options.showIfCollapsed);let c=a.range;if(r&&c.endColumn===1&&c.endLineNumber!==c.startLineNumber&&(c=new f.Range(c.startLineNumber,c.startColumn,c.endLineNumber-1,this._context.viewModel.getLineMaxColumn(c.endLineNumber-1))),n===o&&t===r&&f.Range.areIntersectingOrTouching(s,c)){s=f.Range.plusRange(s,c);continue}n!==null&&this._renderNormalDecoration(b,s,n,t,h,i,u),n=o,t=r,s=c}n!==null&&this._renderNormalDecoration(b,s,n,t,h,i,u)}_renderNormalDecoration(b,v,u,h,i,n,t){const s=b.linesVisibleRangesForRange(v,u==="findMatch");if(!!s)for(let l=0,d=s.length;l<d;l++){const a=s[l];if(a.outsideRenderedLine)continue;const o=a.lineNumber-n;if(h&&a.ranges.length===1){const r=a.ranges[0];if(r.width<this._typicalHalfwidthCharacterWidth){const c=Math.round(r.left+r.width/2),g=Math.max(0,Math.round(c-this._typicalHalfwidthCharacterWidth/2));a.ranges[0]=new N.HorizontalRange(g,this._typicalHalfwidthCharacterWidth)}}for(let r=0,c=a.ranges.length;r<c;r++){const g=a.ranges[r],m='<div class="cdr '+u+'" style="left:'+String(g.left)+"px;width:"+String(g.width)+"px;height:"+i+'px;"></div>';t[o]+=m}}}render(b,v){if(!this._renderResult)return"";const u=v-b;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.DecorationsOverlay=D}),define(ne[194],oe([1,0,112,370]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class f{constructor(b,v,u){this._decorationToRenderBrand=void 0,this.startLineNumber=+b,this.endLineNumber=+v,this.className=String(u)}}e.DecorationToRender=f;class N extends y.DynamicViewOverlay{_render(b,v,u){const h=[];for(let t=b;t<=v;t++){const s=t-b;h[s]=[]}if(u.length===0)return h;u.sort((t,s)=>t.className===s.className?t.startLineNumber===s.startLineNumber?t.endLineNumber-s.endLineNumber:t.startLineNumber-s.startLineNumber:t.className<s.className?-1:1);let i=null,n=0;for(let t=0,s=u.length;t<s;t++){const l=u[t],d=l.className;let a=Math.max(l.startLineNumber,b)-b;const o=Math.min(l.endLineNumber,v)-b;i===d?(a=Math.max(n+1,a),n=Math.max(n,o)):(i=d,n=o);for(let r=a;r<=n;r++)h[r].push(i)}return h}}e.DedupOverlay=N;class D extends N{constructor(b){super();this._context=b;const v=this._context.configuration.options,u=v.get(132);this._lineHeight=v.get(60),this._glyphMargin=v.get(51),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const v=this._context.configuration.options,u=v.get(132);return this._lineHeight=v.get(60),this._glyphMargin=v.get(51),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}_getDecorations(b){const v=b.getDecorationsInViewport(),u=[];let h=0;for(let i=0,n=v.length;i<n;i++){const t=v[i],s=t.options.glyphMarginClassName;s&&(u[h++]=new f(t.range.startLineNumber,t.range.endLineNumber,s))}return u}prepareRender(b){if(!this._glyphMargin){this._renderResult=null;return}const v=b.visibleRange.startLineNumber,u=b.visibleRange.endLineNumber,h=this._render(v,u,this._getDecorations(b)),i=this._lineHeight.toString(),n=this._glyphMarginLeft.toString(),t=this._glyphMarginWidth.toString(),s='" style="left:'+n+"px;width:"+t+"px;height:"+i+'px;"></div>',l=[];for(let d=v;d<=u;d++){const a=d-v,o=h[a];o.length===0?l[a]="":l[a]='<div class="cgmr codicon '+o.join(" ")+s}this._renderResult=l}render(b,v){if(!this._renderResult)return"";const u=v-b;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.GlyphMarginOverlay=D}),define(ne[460],oe([1,0,194,374]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class f extends y.DedupOverlay{constructor(D){super();this._context=D;const b=this._context.configuration.options.get(132);this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const b=this._context.configuration.options.get(132);return this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const w=D.getDecorationsInViewport(),b=[];let v=0;for(let u=0,h=w.length;u<h;u++){const i=w[u],n=i.options.linesDecorationsClassName;n&&(b[v++]=new y.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,n));const t=i.options.firstLineDecorationClassName;t&&(b[v++]=new y.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,t))}return b}prepareRender(D){const w=D.visibleRange.startLineNumber,b=D.visibleRange.endLineNumber,v=this._render(w,b,this._getDecorations(D)),u=this._decorationsLeft.toString(),h=this._decorationsWidth.toString(),i='" style="left:'+u+"px;width:"+h+'px;"></div>',n=[];for(let t=w;t<=b;t++){const s=t-w,l=v[s];let d="";for(let a=0,o=l.length;a<o;a++)d+='<div class="cldr '+l[a]+i;n[s]=d}this._renderResult=n}render(D,w){return this._renderResult?this._renderResult[w-D]:""}}e.LinesDecorationsOverlay=f}),define(ne[262],oe([1,0,33,52]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class N extends f.ViewPart{constructor(w){super(w);const b=this._context.configuration.options,v=b.get(132);this._canUseLayerHinting=!b.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(N.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(N.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(w){const b=this._context.configuration.options,v=b.get(132);return this._canUseLayerHinting=!b.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(w){return super.onScrollChanged(w)||w.scrollTopChanged}prepareRender(w){}render(w){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const b=w.scrollTop-w.bigNumbersDelta;this._domNode.setTop(-b);const v=Math.min(w.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}e.Margin=N,N.CLASS_NAME="glyph-margin",N.OUTER_CLASS_NAME="margin"}),define(ne[461],oe([1,0,194,375]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class f extends y.DedupOverlay{constructor(D){super();this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const w=D.getDecorationsInViewport(),b=[];let v=0;for(let u=0,h=w.length;u<h;u++){const i=w[u],n=i.options.marginClassName;n&&(b[v++]=new y.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,n))}return b}prepareRender(D){const w=D.visibleRange.startLineNumber,b=D.visibleRange.endLineNumber,v=this._render(w,b,this._getDecorations(D)),u=[];for(let h=w;h<=b;h++){const i=h-w,n=v[i];let t="";for(let s=0,l=n.length;s<l;s++)t+='<div class="cmdr '+n[s]+'" style=""></div>';u[i]=t}this._renderResult=u}render(D,w){return this._renderResult?this._renderResult[w-D]:""}}e.MarginViewLineDecorationsOverlay=f}),define(ne[462],oe([1,0,33,52,377]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class N extends f.ViewPart{constructor(w){super(w);const v=this._context.configuration.options.get(132);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),f.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(w){const v=this._context.configuration.options.get(132);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(w){const b=(0,y.createFastDomNode)(w.getDomNode());this._widgets[w.getId()]={widget:w,preference:null,domNode:b},b.setPosition("absolute"),b.setAttribute("widgetId",w.getId()),this._domNode.appendChild(b),this.setShouldRender()}setWidgetPosition(w,b){const v=this._widgets[w.getId()];return v.preference===b?!1:(v.preference=b,this.setShouldRender(),!0)}removeWidget(w){const b=w.getId();if(this._widgets.hasOwnProperty(b)){const u=this._widgets[b].domNode.domNode;delete this._widgets[b],u.parentNode.removeChild(u),this.setShouldRender()}}_renderWidget(w){const b=w.domNode;if(w.preference===null){b.setTop("");return}if(w.preference===0)b.setTop(0),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(w.preference===1){const v=b.domNode.clientHeight;b.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else w.preference===2&&(b.setTop(0),b.domNode.style.right="50%")}prepareRender(w){}render(w){this._domNode.setWidth(this._editorWidth);const b=Object.keys(this._widgets);for(let v=0,u=b.length;v<u;v++){const h=b[v];this._renderWidget(this._widgets[h])}}}e.ViewOverlayWidgets=N}),define(ne[463],oe([1,0,33,13,52,11]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const w=()=>{throw new Error("Invalid change accessor")};class b extends N.ViewPart{constructor(h){super(h);const i=this._context.configuration.options,n=i.get(132);this._lineHeight=i.get(60),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,y.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const h=this._context.viewLayout.getWhitespaces(),i=new Map;for(const t of h)i.set(t.id,t);let n=!1;return this._context.viewModel.changeWhitespace(t=>{const s=Object.keys(this._zones);for(let l=0,d=s.length;l<d;l++){const a=s[l],o=this._zones[a],r=this._computeWhitespaceProps(o.delegate);o.isInHiddenArea=r.isInHiddenArea;const c=i.get(a);c&&(c.afterLineNumber!==r.afterViewLineNumber||c.height!==r.heightInPx)&&(t.changeOneWhitespace(a,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(o.delegate,r.heightInPx),n=!0)}}),n}onConfigurationChanged(h){const i=this._context.configuration.options,n=i.get(132);return this._lineHeight=i.get(60),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,h.hasChanged(60)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(h){return this._recomputeWhitespacesProps()}onLinesDeleted(h){return!0}onScrollChanged(h){return h.scrollTopChanged||h.scrollWidthChanged}onZonesChanged(h){return!0}onLinesInserted(h){return!0}_getZoneOrdinal(h){return typeof h.afterColumn!="undefined"?h.afterColumn:1e4}_computeWhitespaceProps(h){if(h.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(h),minWidthInPx:this._minWidthInPixels(h)};let i;if(typeof h.afterColumn!="undefined")i=this._context.viewModel.model.validatePosition({lineNumber:h.afterLineNumber,column:h.afterColumn});else{const l=this._context.viewModel.model.validatePosition({lineNumber:h.afterLineNumber,column:1}).lineNumber;i=new D.Position(l,this._context.viewModel.model.getLineMaxColumn(l))}let n;i.column===this._context.viewModel.model.getLineMaxColumn(i.lineNumber)?n=this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber+1,column:1}):n=this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber,column:i.column+1});const t=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i,h.afterColumnAffinity),s=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!s,afterViewLineNumber:t.lineNumber,heightInPx:s?this._heightInPixels(h):0,minWidthInPx:this._minWidthInPixels(h)}}changeViewZones(h){let i=!1;return this._context.viewModel.changeWhitespace(n=>{const t={addZone:s=>(i=!0,this._addZone(n,s)),removeZone:s=>{!s||(i=this._removeZone(n,s)||i)},layoutZone:s=>{!s||(i=this._layoutZone(n,s)||i)}};v(h,t),t.addZone=w,t.removeZone=w,t.layoutZone=w}),i}_addZone(h,i){const n=this._computeWhitespaceProps(i),s={whitespaceId:h.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(i),n.heightInPx,n.minWidthInPx),delegate:i,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:(0,y.createFastDomNode)(i.domNode),marginDomNode:i.marginDomNode?(0,y.createFastDomNode)(i.marginDomNode):null};return this._safeCallOnComputedHeight(s.delegate,n.heightInPx),s.domNode.setPosition("absolute"),s.domNode.domNode.style.width="100%",s.domNode.setDisplay("none"),s.domNode.setAttribute("monaco-view-zone",s.whitespaceId),this.domNode.appendChild(s.domNode),s.marginDomNode&&(s.marginDomNode.setPosition("absolute"),s.marginDomNode.domNode.style.width="100%",s.marginDomNode.setDisplay("none"),s.marginDomNode.setAttribute("monaco-view-zone",s.whitespaceId),this.marginDomNode.appendChild(s.marginDomNode)),this._zones[s.whitespaceId]=s,this.setShouldRender(),s.whitespaceId}_removeZone(h,i){if(this._zones.hasOwnProperty(i)){const n=this._zones[i];return delete this._zones[i],h.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(h,i){if(this._zones.hasOwnProperty(i)){const n=this._zones[i],t=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=t.isInHiddenArea,h.changeOneWhitespace(n.whitespaceId,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(n.delegate,t.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(h){if(this._zones.hasOwnProperty(h)){const i=this._zones[h];return Boolean(i.delegate.suppressMouseDown)}return!1}_heightInPixels(h){return typeof h.heightInPx=="number"?h.heightInPx:typeof h.heightInLines=="number"?this._lineHeight*h.heightInLines:this._lineHeight}_minWidthInPixels(h){return typeof h.minWidthInPx=="number"?h.minWidthInPx:0}_safeCallOnComputedHeight(h,i){if(typeof h.onComputedHeight=="function")try{h.onComputedHeight(i)}catch(n){(0,f.onUnexpectedError)(n)}}_safeCallOnDomNodeTop(h,i){if(typeof h.onDomNodeTop=="function")try{h.onDomNodeTop(i)}catch(n){(0,f.onUnexpectedError)(n)}}prepareRender(h){}render(h){const i=h.viewportData.whitespaceViewportData,n={};let t=!1;for(const l of i)this._zones[l.id].isInHiddenArea||(n[l.id]=l,t=!0);const s=Object.keys(this._zones);for(let l=0,d=s.length;l<d;l++){const a=s[l],o=this._zones[a];let r=0,c=0,g="none";n.hasOwnProperty(a)?(r=n[a].verticalOffset-h.bigNumbersDelta,c=n[a].height,g="block",o.isVisible||(o.domNode.setAttribute("monaco-visible-view-zone","true"),o.isVisible=!0),this._safeCallOnDomNodeTop(o.delegate,h.getScrolledTopFromAbsoluteTop(n[a].verticalOffset))):(o.isVisible&&(o.domNode.removeAttribute("monaco-visible-view-zone"),o.isVisible=!1),this._safeCallOnDomNodeTop(o.delegate,h.getScrolledTopFromAbsoluteTop(-1e6))),o.domNode.setTop(r),o.domNode.setHeight(c),o.domNode.setDisplay(g),o.marginDomNode&&(o.marginDomNode.setTop(r),o.marginDomNode.setHeight(c),o.marginDomNode.setDisplay(g))}t&&(this.domNode.setWidth(Math.max(h.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=b;function v(u,h){try{return u(h)}catch(i){(0,f.onUnexpectedError)(i)}}}),define(ne[195],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class y{constructor(){this.type=0}}e.ViewCompositionStartEvent=y;class f{constructor(){this.type=1}}e.ViewCompositionEndEvent=f;class N{constructor(g){this.type=2,this._source=g}hasChanged(g){return this._source.hasChanged(g)}}e.ViewConfigurationChangedEvent=N;class D{constructor(g,m){this.type=3,this.selections=g,this.modelSelections=m}}e.ViewCursorStateChangedEvent=D;class w{constructor(g){this.type=4,g?(this.affectsMinimap=g.affectsMinimap,this.affectsOverviewRuler=g.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=w;class b{constructor(){this.type=5}}e.ViewFlushedEvent=b;class v{constructor(g){this.type=6,this.isFocused=g}}e.ViewFocusChangedEvent=v;class u{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=u;class h{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=h;class i{constructor(g,m){this.fromLineNumber=g,this.count=m,this.type=9}}e.ViewLinesChangedEvent=i;class n{constructor(g,m){this.type=10,this.fromLineNumber=g,this.toLineNumber=m}}e.ViewLinesDeletedEvent=n;class t{constructor(g,m){this.type=11,this.fromLineNumber=g,this.toLineNumber=m}}e.ViewLinesInsertedEvent=t;class s{constructor(g,m,S,p,C,_,L){this.source=g,this.minimalReveal=m,this.range=S,this.selections=p,this.verticalType=C,this.revealHorizontal=_,this.scrollType=L,this.type=12}}e.ViewRevealRangeRequestEvent=s;class l{constructor(g){this.type=13,this.scrollWidth=g.scrollWidth,this.scrollLeft=g.scrollLeft,this.scrollHeight=g.scrollHeight,this.scrollTop=g.scrollTop,this.scrollWidthChanged=g.scrollWidthChanged,this.scrollLeftChanged=g.scrollLeftChanged,this.scrollHeightChanged=g.scrollHeightChanged,this.scrollTopChanged=g.scrollTopChanged}}e.ViewScrollChangedEvent=l;class d{constructor(g){this.theme=g,this.type=14}}e.ViewThemeChangedEvent=d;class a{constructor(g){this.type=15,this.ranges=g}}e.ViewTokensChangedEvent=a;class o{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=o;class r{constructor(){this.type=17}}e.ViewZonesChangedEvent=r}),define(ne[159],oe([1,0,9]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class f{constructor(v,u,h,i){this.startColumn=v,this.endColumn=u,this.className=h,this.type=i,this._lineDecorationBrand=void 0}static _equals(v,u){return v.startColumn===u.startColumn&&v.endColumn===u.endColumn&&v.className===u.className&&v.type===u.type}static equalsArr(v,u){const h=v.length,i=u.length;if(h!==i)return!1;for(let n=0;n<h;n++)if(!f._equals(v[n],u[n]))return!1;return!0}static extractWrapped(v,u,h){if(v.length===0)return v;const i=u+1,n=h+1,t=h-u,s=[];let l=0;for(const d of v)d.endColumn<=i||d.startColumn>=n||(s[l++]=new f(Math.max(1,d.startColumn-i+1),Math.min(t+1,d.endColumn-i+1),d.className,d.type));return s}static filter(v,u,h,i){if(v.length===0)return[];const n=[];let t=0;for(let s=0,l=v.length;s<l;s++){const d=v[s],a=d.range;if(a.endLineNumber<u||a.startLineNumber>u||a.isEmpty()&&(d.type===0||d.type===3))continue;const o=a.startLineNumber===u?a.startColumn:h,r=a.endLineNumber===u?a.endColumn:i;n[t++]=new f(o,r,d.inlineClassName,d.type)}return n}static _typeCompare(v,u){const h=[2,0,1,3];return h[v]-h[u]}static compare(v,u){if(v.startColumn!==u.startColumn)return v.startColumn-u.startColumn;if(v.endColumn!==u.endColumn)return v.endColumn-u.endColumn;const h=f._typeCompare(v.type,u.type);return h!==0?h:v.className!==u.className?v.className<u.className?-1:1:0}}e.LineDecoration=f;class N{constructor(v,u,h,i){this.startOffset=v,this.endOffset=u,this.className=h,this.metadata=i}}e.DecorationSegment=N;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(v){let u=0;for(let h=0,i=v.length;h<i;h++)u|=v[h];return u}consumeLowerThan(v,u,h){for(;this.count>0&&this.stopOffsets[0]<v;){let i=0;for(;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;h.push(new N(u,this.stopOffsets[i],this.classNames.join(" "),D._metadata(this.metadata))),u=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.metadata.splice(0,i+1),this.count-=i+1}return this.count>0&&u<v&&(h.push(new N(u,v-1,this.classNames.join(" "),D._metadata(this.metadata))),u=v),u}insert(v,u,h){if(this.count===0||this.stopOffsets[this.count-1]<=v)this.stopOffsets.push(v),this.classNames.push(u),this.metadata.push(h);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=v){this.stopOffsets.splice(i,0,v),this.classNames.splice(i,0,u),this.metadata.splice(i,0,h);break}this.count++}}class w{static normalize(v,u){if(u.length===0)return[];const h=[],i=new D;let n=0;for(let t=0,s=u.length;t<s;t++){const l=u[t];let d=l.startColumn,a=l.endColumn;const o=l.className,r=l.type===1?2:l.type===2?4:0;if(d>1){const m=v.charCodeAt(d-2);y.isHighSurrogate(m)&&d--}if(a>1){const m=v.charCodeAt(a-2);y.isHighSurrogate(m)&&a--}const c=d-1,g=a-2;n=i.consumeLowerThan(c,n,h),i.count===0&&(n=c),i.insert(g,o,r)}return i.consumeLowerThan(1073741824,n,h),h}}e.LineDecorationsNormalizer=w}),define(ne[464],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class y{constructor(N,D,w,b){this.endIndex=N,this.type=D,this.metadata=w,this.containsRTL=b,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=y}),define(ne[465],oe([1,0,9]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class f{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(b){this._hasPending=!0,this._inserts.push(b)}change(b){this._hasPending=!0,this._changes.push(b)}remove(b){this._hasPending=!0,this._removes.push(b)}mustCommit(){return this._hasPending}commit(b){if(!this._hasPending)return;const v=this._inserts,u=this._changes,h=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],b._commitPendingChanges(v,u,h)}}class N{constructor(b,v,u,h,i){this.id=b,this.afterLineNumber=v,this.ordinal=u,this.height=h,this.minWidth=i,this.prefixSum=0}}e.EditorWhitespace=N;class D{constructor(b,v,u,h){this._instanceId=y.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new f,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=b,this._lineHeight=v,this._paddingTop=u,this._paddingBottom=h}static findInsertionIndex(b,v,u){let h=0,i=b.length;for(;h<i;){const n=h+i>>>1;v===b[n].afterLineNumber?u<b[n].ordinal?i=n:h=n+1:v<b[n].afterLineNumber?i=n:h=n+1}return h}setLineHeight(b){this._checkPendingChanges(),this._lineHeight=b}setPadding(b,v){this._paddingTop=b,this._paddingBottom=v}onFlushed(b){this._checkPendingChanges(),this._lineCount=b}changeWhitespace(b){let v=!1;try{b({insertWhitespace:(h,i,n,t)=>{v=!0,h=h|0,i=i|0,n=n|0,t=t|0;const s=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new N(s,h,i,n,t)),s},changeOneWhitespace:(h,i,n)=>{v=!0,i=i|0,n=n|0,this._pendingChanges.change({id:h,newAfterLineNumber:i,newHeight:n})},removeWhitespace:h=>{v=!0,this._pendingChanges.remove({id:h})}})}finally{this._pendingChanges.commit(this)}return v}_commitPendingChanges(b,v,u){if((b.length>0||u.length>0)&&(this._minWidth=-1),b.length+v.length+u.length<=1){for(const s of b)this._insertWhitespace(s);for(const s of v)this._changeOneWhitespace(s.id,s.newAfterLineNumber,s.newHeight);for(const s of u){const l=this._findWhitespaceIndex(s.id);l!==-1&&this._removeWhitespace(l)}return}const h=new Set;for(const s of u)h.add(s.id);const i=new Map;for(const s of v)i.set(s.id,s);const n=s=>{const l=[];for(const d of s)if(!h.has(d.id)){if(i.has(d.id)){const a=i.get(d.id);d.afterLineNumber=a.newAfterLineNumber,d.height=a.newHeight}l.push(d)}return l},t=n(this._arr).concat(n(b));t.sort((s,l)=>s.afterLineNumber===l.afterLineNumber?s.ordinal-l.ordinal:s.afterLineNumber-l.afterLineNumber),this._arr=t,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(b){const v=D.findInsertionIndex(this._arr,b.afterLineNumber,b.ordinal);this._arr.splice(v,0,b),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}_findWhitespaceIndex(b){const v=this._arr;for(let u=0,h=v.length;u<h;u++)if(v[u].id===b)return u;return-1}_changeOneWhitespace(b,v,u){const h=this._findWhitespaceIndex(b);if(h!==-1&&(this._arr[h].height!==u&&(this._arr[h].height=u,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,h-1)),this._arr[h].afterLineNumber!==v)){const i=this._arr[h];this._removeWhitespace(h),i.afterLineNumber=v,this._insertWhitespace(i)}}_removeWhitespace(b){this._arr.splice(b,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}onLinesDeleted(b,v){this._checkPendingChanges(),b=b|0,v=v|0,this._lineCount-=v-b+1;for(let u=0,h=this._arr.length;u<h;u++){const i=this._arr[u].afterLineNumber;b<=i&&i<=v?this._arr[u].afterLineNumber=b-1:i>v&&(this._arr[u].afterLineNumber-=v-b+1)}}onLinesInserted(b,v){this._checkPendingChanges(),b=b|0,v=v|0,this._lineCount+=v-b+1;for(let u=0,h=this._arr.length;u<h;u++){const i=this._arr[u].afterLineNumber;b<=i&&(this._arr[u].afterLineNumber+=v-b+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(b){this._checkPendingChanges(),b=b|0;let v=Math.max(0,this._prefixSumValidIndex+1);v===0&&(this._arr[0].prefixSum=this._arr[0].height,v++);for(let u=v;u<=b;u++)this._arr[u].prefixSum=this._arr[u-1].prefixSum+this._arr[u].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,b),this._arr[b].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const b=this._lineHeight*this._lineCount,v=this.getWhitespacesTotalHeight();return b+v+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(b){this._checkPendingChanges(),b=b|0;const v=this._findLastWhitespaceBeforeLineNumber(b);return v===-1?0:this.getWhitespacesAccumulatedHeight(v)}_findLastWhitespaceBeforeLineNumber(b){b=b|0;const v=this._arr;let u=0,h=v.length-1;for(;u<=h;){const n=(h-u|0)/2|0,t=u+n|0;if(v[t].afterLineNumber<b){if(t+1>=v.length||v[t+1].afterLineNumber>=b)return t;u=t+1|0}else h=t-1|0}return-1}_findFirstWhitespaceAfterLineNumber(b){b=b|0;const u=this._findLastWhitespaceBeforeLineNumber(b)+1;return u<this._arr.length?u:-1}getFirstWhitespaceIndexAfterLineNumber(b){return this._checkPendingChanges(),b=b|0,this._findFirstWhitespaceAfterLineNumber(b)}getVerticalOffsetForLineNumber(b){this._checkPendingChanges(),b=b|0;let v;b>1?v=this._lineHeight*(b-1):v=0;const u=this.getWhitespaceAccumulatedHeightBeforeLineNumber(b);return v+u+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let b=0;for(let v=0,u=this._arr.length;v<u;v++)b=Math.max(b,this._arr[v].minWidth);this._minWidth=b}return this._minWidth}isAfterLines(b){this._checkPendingChanges();const v=this.getLinesTotalHeight();return b>v}isInTopPadding(b){return this._paddingTop===0?!1:(this._checkPendingChanges(),b<this._paddingTop)}isInBottomPadding(b){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const v=this.getLinesTotalHeight();return b>=v-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(b){if(this._checkPendingChanges(),b=b|0,b<0)return 1;const v=this._lineCount|0,u=this._lineHeight;let h=1,i=v;for(;h<i;){const n=(h+i)/2|0,t=this.getVerticalOffsetForLineNumber(n)|0;if(b>=t+u)h=n+1;else{if(b>=t)return n;i=n}}return h>v?v:h}getLinesViewportData(b,v){this._checkPendingChanges(),b=b|0,v=v|0;const u=this._lineHeight,h=this.getLineNumberAtOrAfterVerticalOffset(b)|0,i=this.getVerticalOffsetForLineNumber(h)|0;let n=this._lineCount|0,t=this.getFirstWhitespaceIndexAfterLineNumber(h)|0;const s=this.getWhitespacesCount()|0;let l,d;t===-1?(t=s,d=n+1,l=0):(d=this.getAfterLineNumberForWhitespaceIndex(t)|0,l=this.getHeightForWhitespaceIndex(t)|0);let a=i,o=a;const r=5e5;let c=0;i>=r&&(c=Math.floor(i/r)*r,c=Math.floor(c/u)*u,o-=c);const g=[],m=b+(v-b)/2;let S=-1;for(let L=h;L<=n;L++){if(S===-1){const E=a,I=a+u;(E<=m&&m<I||E>m)&&(S=L)}for(a+=u,g[L-h]=o,o+=u;d===L;)o+=l,a+=l,t++,t>=s?d=n+1:(d=this.getAfterLineNumberForWhitespaceIndex(t)|0,l=this.getHeightForWhitespaceIndex(t)|0);if(a>=v){n=L;break}}S===-1&&(S=n);const p=this.getVerticalOffsetForLineNumber(n)|0;let C=h,_=n;return C<_&&i<b&&C++,C<_&&p+u>v&&_--,{bigNumbersDelta:c,startLineNumber:h,endLineNumber:n,relativeVerticalOffset:g,centeredLineNumber:S,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(b){this._checkPendingChanges(),b=b|0;const v=this.getAfterLineNumberForWhitespaceIndex(b);let u;v>=1?u=this._lineHeight*v:u=0;let h;return b>0?h=this.getWhitespacesAccumulatedHeight(b-1):h=0,u+h+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(b){this._checkPendingChanges(),b=b|0;let v=0,u=this.getWhitespacesCount()-1;if(u<0)return-1;const h=this.getVerticalOffsetForWhitespaceIndex(u),i=this.getHeightForWhitespaceIndex(u);if(b>=h+i)return-1;for(;v<u;){const n=Math.floor((v+u)/2),t=this.getVerticalOffsetForWhitespaceIndex(n),s=this.getHeightForWhitespaceIndex(n);if(b>=t+s)v=n+1;else{if(b>=t)return n;u=n}}return v}getWhitespaceAtVerticalOffset(b){this._checkPendingChanges(),b=b|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(b);if(v<0||v>=this.getWhitespacesCount())return null;const u=this.getVerticalOffsetForWhitespaceIndex(v);if(u>b)return null;const h=this.getHeightForWhitespaceIndex(v),i=this.getIdForWhitespaceIndex(v),n=this.getAfterLineNumberForWhitespaceIndex(v);return{id:i,afterLineNumber:n,verticalOffset:u,height:h}}getWhitespaceViewportData(b,v){this._checkPendingChanges(),b=b|0,v=v|0;const u=this.getWhitespaceIndexAtOrAfterVerticallOffset(b),h=this.getWhitespacesCount()-1;if(u<0)return[];const i=[];for(let n=u;n<=h;n++){const t=this.getVerticalOffsetForWhitespaceIndex(n),s=this.getHeightForWhitespaceIndex(n);if(t>=v)break;i.push({id:this.getIdForWhitespaceIndex(n),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(n),verticalOffset:t,height:s})}return i}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].id}getAfterLineNumberForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].afterLineNumber}getHeightForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(ne[134],oe([1,0,9,96,159,464]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class w{constructor(C,_){this.startOffset=C,this.endOffset=_}equals(C){return this.startOffset===C.startOffset&&this.endOffset===C.endOffset}}e.LineRange=w;class b{constructor(C,_,L,E,I,T,P,B,R,k,A,O,F,W,M,z,G,te,X){this.useMonospaceOptimizations=C,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=L,this.continuesWithWrappedLine=E,this.isBasicASCII=I,this.containsRTL=T,this.fauxIndentLength=P,this.lineTokens=B,this.lineDecorations=R.sort(N.LineDecoration.compare),this.tabSize=k,this.startVisibleColumn=A,this.spaceWidth=O,this.stopRenderingLineAfter=M,this.renderWhitespace=z==="all"?4:z==="boundary"?1:z==="selection"?2:z==="trailing"?3:0,this.renderControlCharacters=G,this.fontLigatures=te,this.selectionsOnLine=X&&X.sort((re,Z)=>re.startOffset<Z.startOffset?-1:1);const J=Math.abs(W-O),ie=Math.abs(F-O);J<ie?(this.renderSpaceWidth=W,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=F,this.renderSpaceCharCode=183)}sameSelection(C){if(this.selectionsOnLine===null)return C===null;if(C===null||C.length!==this.selectionsOnLine.length)return!1;for(let _=0;_<this.selectionsOnLine.length;_++)if(!this.selectionsOnLine[_].equals(C[_]))return!1;return!0}equals(C){return this.useMonospaceOptimizations===C.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineContent===C.lineContent&&this.continuesWithWrappedLine===C.continuesWithWrappedLine&&this.isBasicASCII===C.isBasicASCII&&this.containsRTL===C.containsRTL&&this.fauxIndentLength===C.fauxIndentLength&&this.tabSize===C.tabSize&&this.startVisibleColumn===C.startVisibleColumn&&this.spaceWidth===C.spaceWidth&&this.renderSpaceWidth===C.renderSpaceWidth&&this.renderSpaceCharCode===C.renderSpaceCharCode&&this.stopRenderingLineAfter===C.stopRenderingLineAfter&&this.renderWhitespace===C.renderWhitespace&&this.renderControlCharacters===C.renderControlCharacters&&this.fontLigatures===C.fontLigatures&&N.LineDecoration.equalsArr(this.lineDecorations,C.lineDecorations)&&this.lineTokens.equals(C.lineTokens)&&this.sameSelection(C.selectionsOnLine)}}e.RenderLineInput=b;class v{constructor(C,_){this.partIndex=C,this.charIndex=_}}e.DomPosition=v;class u{constructor(C,_){this.length=C,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(C){return(C&4294901760)>>>16}static getCharIndex(C){return(C&65535)>>>0}setColumnInfo(C,_,L,E){const I=(_<<16|L<<0)>>>0;this._data[C-1]=I,this._horizontalOffset[C-1]=E}getHorizontalOffset(C){return this._horizontalOffset.length===0?0:this._horizontalOffset[C-1]}charOffsetToPartData(C){return this.length===0?0:C<0?this._data[0]:C>=this.length?this._data[this.length-1]:this._data[C]}getDomPosition(C){const _=this.charOffsetToPartData(C-1),L=u.getPartIndex(_),E=u.getCharIndex(_);return new v(L,E)}getColumn(C,_){return this.partDataToCharOffset(C.partIndex,_,C.charIndex)+1}partDataToCharOffset(C,_,L){if(this.length===0)return 0;const E=(C<<16|L<<0)>>>0;let I=0,T=this.length-1;for(;I+1<T;){const M=I+T>>>1,z=this._data[M];if(z===E)return M;z>E?T=M:I=M}if(I===T)return I;const P=this._data[I],B=this._data[T];if(P===E)return I;if(B===E)return T;const R=u.getPartIndex(P),k=u.getCharIndex(P),A=u.getPartIndex(B);let O;R!==A?O=_:O=u.getCharIndex(B);const F=L-k,W=O-L;return F<=W?I:T}}e.CharacterMapping=u;class h{constructor(C,_,L){this._renderLineOutputBrand=void 0,this.characterMapping=C,this.containsRTL=_,this.containsForeignElements=L}}e.RenderLineOutput=h;function i(p,C){if(p.lineContent.length===0){if(p.lineDecorations.length>0){C.appendASCIIString("<span>");let _=0,L=0,E=0;for(const T of p.lineDecorations)(T.type===1||T.type===2)&&(C.appendASCIIString('<span class="'),C.appendASCIIString(T.className),C.appendASCIIString('"></span>'),T.type===1&&(E|=1,_++),T.type===2&&(E|=2,L++));C.appendASCIIString("</span>");const I=new u(1,_+L);return I.setColumnInfo(1,_,0,0),new h(I,!1,E)}return C.appendASCIIString("<span><span></span></span>"),new h(new u(0,0),!1,0)}return m(l(p),C)}e.renderViewLine=i;class n{constructor(C,_,L,E){this.characterMapping=C,this.html=_,this.containsRTL=L,this.containsForeignElements=E}}e.RenderLineOutput2=n;function t(p){const C=(0,f.createStringBuilder)(1e4),_=i(p,C);return new n(_.characterMapping,C.build(),_.containsRTL,_.containsForeignElements)}e.renderViewLine2=t;class s{constructor(C,_,L,E,I,T,P,B,R,k,A,O,F,W,M){this.fontIsMonospace=C,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=L,this.len=E,this.isOverflowing=I,this.parts=T,this.containsForeignElements=P,this.fauxIndentLength=B,this.tabSize=R,this.startVisibleColumn=k,this.containsRTL=A,this.spaceWidth=O,this.renderSpaceCharCode=F,this.renderWhitespace=W,this.renderControlCharacters=M}}function l(p){const C=p.lineContent;let _,L;p.stopRenderingLineAfter!==-1&&p.stopRenderingLineAfter<C.length?(_=!0,L=p.stopRenderingLineAfter):(_=!1,L=C.length);let E=d(C,p.containsRTL,p.lineTokens,p.fauxIndentLength,L);p.renderControlCharacters&&!p.isBasicASCII&&(E=r(C,E)),(p.renderWhitespace===4||p.renderWhitespace===1||p.renderWhitespace===2&&!!p.selectionsOnLine||p.renderWhitespace===3)&&(E=c(p,C,L,E));let I=0;if(p.lineDecorations.length>0){for(let T=0,P=p.lineDecorations.length;T<P;T++){const B=p.lineDecorations[T];B.type===3||B.type===1?I|=1:B.type===2&&(I|=2)}E=g(C,L,E,p.lineDecorations)}return p.containsRTL||(E=a(C,E,!p.isBasicASCII||p.fontLigatures)),new s(p.useMonospaceOptimizations,p.canUseHalfwidthRightwardsArrow,C,L,_,E,I,p.fauxIndentLength,p.tabSize,p.startVisibleColumn,p.containsRTL,p.spaceWidth,p.renderSpaceCharCode,p.renderWhitespace,p.renderControlCharacters)}function d(p,C,_,L,E){const I=[];let T=0;L>0&&(I[T++]=new D.LinePart(L,"",0,!1));let P=L;for(let B=0,R=_.getCount();B<R;B++){const k=_.getEndOffset(B);if(k<=L)continue;const A=_.getClassName(B);if(k>=E){const F=C?y.containsRTL(p.substring(P,E)):!1;I[T++]=new D.LinePart(E,A,0,F);break}const O=C?y.containsRTL(p.substring(P,k)):!1;I[T++]=new D.LinePart(k,A,0,O),P=k}return I}function a(p,C,_){let L=0;const E=[];let I=0;if(_)for(let T=0,P=C.length;T<P;T++){const B=C[T],R=B.endIndex;if(L+50<R){const k=B.type,A=B.metadata,O=B.containsRTL;let F=-1,W=L;for(let M=L;M<R;M++)p.charCodeAt(M)===32&&(F=M),F!==-1&&M-W>=50&&(E[I++]=new D.LinePart(F+1,k,A,O),W=F+1,F=-1);W!==R&&(E[I++]=new D.LinePart(R,k,A,O))}else E[I++]=B;L=R}else for(let T=0,P=C.length;T<P;T++){const B=C[T],R=B.endIndex,k=R-L;if(k>50){const A=B.type,O=B.metadata,F=B.containsRTL,W=Math.ceil(k/50);for(let M=1;M<W;M++){const z=L+M*50;E[I++]=new D.LinePart(z,A,O,F)}E[I++]=new D.LinePart(R,A,O,F)}else E[I++]=B;L=R}return E}function o(p){return p<32?p!==9:p===127||p>=8234&&p<=8238||p>=8294&&p<=8297||p>=8206&&p<=8207||p===1564}function r(p,C){const _=[];let L=new D.LinePart(0,"",0,!1),E=0;for(const I of C){const T=I.endIndex;for(;E<T;E++){const P=p.charCodeAt(E);o(P)&&(E>L.endIndex&&(L=new D.LinePart(E,I.type,I.metadata,I.containsRTL),_.push(L)),L=new D.LinePart(E+1,"mtkcontrol",I.metadata,!1),_.push(L))}E>L.endIndex&&(L=new D.LinePart(T,I.type,I.metadata,I.containsRTL),_.push(L))}return _}function c(p,C,_,L){const E=p.continuesWithWrappedLine,I=p.fauxIndentLength,T=p.tabSize,P=p.startVisibleColumn,B=p.useMonospaceOptimizations,R=p.selectionsOnLine,k=p.renderWhitespace===1,A=p.renderWhitespace===3,O=p.renderSpaceWidth!==p.spaceWidth,F=[];let W=0,M=0,z=L[M].type,G=L[M].containsRTL,te=L[M].endIndex;const X=L.length;let J=!1,ie=y.firstNonWhitespaceIndex(C),re;ie===-1?(J=!0,ie=_,re=_):re=y.lastNonWhitespaceIndex(C);let Z=!1,x=0,U=R&&R[x],q=P%T;for(let se=I;se<_;se++){const Y=C.charCodeAt(se);U&&se>=U.endOffset&&(x++,U=R&&R[x]);let de;if(se<ie||se>re)de=!0;else if(Y===9)de=!0;else if(Y===32)if(k)if(Z)de=!0;else{const H=se+1<_?C.charCodeAt(se+1):0;de=H===32||H===9}else de=!0;else de=!1;if(de&&R&&(de=!!U&&U.startOffset<=se&&U.endOffset>se),de&&A&&(de=J||se>re),de&&G&&se>=ie&&se<=re&&(de=!1),Z){if(!de||!B&&q>=T){if(O){const H=W>0?F[W-1].endIndex:I;for(let $=H+1;$<=se;$++)F[W++]=new D.LinePart($,"mtkw",1,!1)}else F[W++]=new D.LinePart(se,"mtkw",1,!1);q=q%T}}else(se===te||de&&se>I)&&(F[W++]=new D.LinePart(se,z,0,G),q=q%T);for(Y===9?q=T:y.isFullWidthCharacter(Y)?q+=2:q++,Z=de;se===te&&(M++,M<X);)z=L[M].type,G=L[M].containsRTL,te=L[M].endIndex}let le=!1;if(Z)if(E&&k){const se=_>0?C.charCodeAt(_-1):0,Y=_>1?C.charCodeAt(_-2):0;se===32&&Y!==32&&Y!==9||(le=!0)}else le=!0;if(le)if(O){const se=W>0?F[W-1].endIndex:I;for(let Y=se+1;Y<=_;Y++)F[W++]=new D.LinePart(Y,"mtkw",1,!1)}else F[W++]=new D.LinePart(_,"mtkw",1,!1);else F[W++]=new D.LinePart(_,z,0,G);return F}function g(p,C,_,L){L.sort(N.LineDecoration.compare);const E=N.LineDecorationsNormalizer.normalize(p,L),I=E.length;let T=0;const P=[];let B=0,R=0;for(let A=0,O=_.length;A<O;A++){const F=_[A],W=F.endIndex,M=F.type,z=F.metadata,G=F.containsRTL;for(;T<I&&E[T].startOffset<W;){const te=E[T];if(te.startOffset>R&&(R=te.startOffset,P[B++]=new D.LinePart(R,M,z,G)),te.endOffset+1<=W)R=te.endOffset+1,P[B++]=new D.LinePart(R,M+" "+te.className,z|te.metadata,G),T++;else{R=W,P[B++]=new D.LinePart(R,M+" "+te.className,z|te.metadata,G);break}}W>R&&(R=W,P[B++]=new D.LinePart(R,M,z,G))}const k=_[_.length-1].endIndex;if(T<I&&E[T].startOffset===k)for(;T<I&&E[T].startOffset===k;){const A=E[T];P[B++]=new D.LinePart(R,A.className,A.metadata,!1),T++}return P}function m(p,C){const _=p.fontIsMonospace,L=p.canUseHalfwidthRightwardsArrow,E=p.containsForeignElements,I=p.lineContent,T=p.len,P=p.isOverflowing,B=p.parts,R=p.fauxIndentLength,k=p.tabSize,A=p.startVisibleColumn,O=p.containsRTL,F=p.spaceWidth,W=p.renderSpaceCharCode,M=p.renderWhitespace,z=p.renderControlCharacters,G=new u(T+1,B.length);let te=!1,X=0,J=A,ie=0,re=0,Z=0;O?C.appendASCIIString('<span dir="ltr">'):C.appendASCIIString("<span>");for(let x=0,U=B.length;x<U;x++){const q=B[x],le=q.endIndex,se=q.type,Y=q.containsRTL,de=M!==0&&q.isWhitespace(),H=de&&!_&&(se==="mtkw"||!E),$=X===le&&q.isPseudoAfter();if(ie=0,C.appendASCIIString("<span "),Y&&C.appendASCIIString('style="unicode-bidi:isolate" '),C.appendASCIIString('class="'),C.appendASCIIString(H?"mtkz":se),C.appendASCII(34),de){let K=0;{let V=X,Q=J;for(;V<le;V++){const ae=(I.charCodeAt(V)===9?k-Q%k:1)|0;K+=ae,V>=R&&(Q+=ae)}}for(H&&(C.appendASCIIString(' style="width:'),C.appendASCIIString(String(F*K)),C.appendASCIIString('px"')),C.appendASCII(62);X<le;X++){G.setColumnInfo(X+1,x-Z,ie,re),Z=0;const V=I.charCodeAt(X);let Q,ee;if(V===9){Q=k-J%k|0,ee=Q,!L||ee>1?C.write1(8594):C.write1(65515);for(let ae=2;ae<=ee;ae++)C.write1(160)}else Q=2,ee=1,C.write1(W),C.write1(8204);ie+=Q,re+=ee,X>=R&&(J+=ee)}}else for(C.appendASCII(62);X<le;X++){G.setColumnInfo(X+1,x-Z,ie,re),Z=0;const K=I.charCodeAt(X);let V=1,Q=1;switch(K){case 9:V=k-J%k,Q=V;for(let ee=1;ee<=V;ee++)C.write1(160);break;case 32:C.write1(160);break;case 60:C.appendASCIIString("&lt;");break;case 62:C.appendASCIIString("&gt;");break;case 38:C.appendASCIIString("&amp;");break;case 0:z?C.write1(9216):C.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:C.write1(65533);break;default:y.isFullWidthCharacter(K)&&Q++,z&&K<32?C.write1(9216+K):z&&K===127?C.write1(9249):z&&o(K)?(C.appendASCIIString("[U+"),C.appendASCIIString(S(K)),C.appendASCIIString("]"),V=8,Q=V):C.write1(K)}ie+=V,re+=Q,X>=R&&(J+=Q)}$?Z++:Z=0,X>=T&&!te&&q.isPseudoAfter()&&(te=!0,G.setColumnInfo(X+1,x,ie,re)),C.appendASCIIString("</span>")}return te||G.setColumnInfo(T+1,B.length-1,ie,re),P&&C.appendASCIIString("<span>&hellip;</span>"),C.appendASCIIString("</span>"),new h(G,O,E)}function S(p){return p.toString(16).toUpperCase().padStart(4,"0")}}),define(ne[466],oe([1,0,3]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class f{constructor(D,w,b,v){this.selections=D,this.startLineNumber=w.startLineNumber|0,this.endLineNumber=w.endLineNumber|0,this.relativeVerticalOffset=w.relativeVerticalOffset,this.bigNumbersDelta=w.bigNumbersDelta|0,this.whitespaceViewportData=b,this._model=v,this.visibleRange=new y.Range(w.startLineNumber,this._model.getLineMinColumn(w.startLineNumber),w.endLineNumber,this._model.getLineMaxColumn(w.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=f}),define(ne[75],oe([1,0,9,3]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class N{constructor(t,s,l,d){this._viewportBrand=void 0,this.top=t|0,this.left=s|0,this.width=l|0,this.height=d|0}}e.Viewport=N;class D{constructor(t,s){this.tabSize=t,this.data=s}}e.MinimapLinesRenderingData=D;class w{constructor(t,s,l,d,a,o,r){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=s,this.minColumn=l,this.maxColumn=d,this.startVisibleColumn=a,this.tokens=o,this.inlineDecorations=r}}e.ViewLineData=w;class b{constructor(t,s,l,d,a,o,r,c,g,m){this.minColumn=t,this.maxColumn=s,this.content=l,this.continuesWithWrappedLine=d,this.isBasicASCII=b.isBasicASCII(l,o),this.containsRTL=b.containsRTL(l,this.isBasicASCII,a),this.tokens=r,this.inlineDecorations=c,this.tabSize=g,this.startVisibleColumn=m}static isBasicASCII(t,s){return s?y.isBasicASCII(t):!0}static containsRTL(t,s,l){return!s&&l?y.containsRTL(t):!1}}e.ViewLineRenderingData=b;class v{constructor(t,s,l){this.range=t,this.inlineClassName=s,this.type=l}}e.InlineDecoration=v;class u{constructor(t,s,l,d){this.startOffset=t,this.endOffset=s,this.inlineClassName=l,this.inlineClassNameAffectsLetterSpacing=d}toInlineDecoration(t){return new v(new f.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=u;class h{constructor(t,s){this._viewModelDecorationBrand=void 0,this.range=t,this.options=s}}e.ViewModelDecoration=h;class i{constructor(t,s,l){this.color=t,this.zIndex=s,this.data=l}static cmp(t,s){return t.zIndex===s.zIndex?t.color<s.color?-1:t.color>s.color?1:0:t.zIndex-s.zIndex}}e.OverviewRulerDecorationsGroup=i}),define(ne[263],oe([1,0,4,2,246,28]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class w extends f.Disposable{constructor(){super();this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(v=>{v.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,f.markAsSingleton)(new w)),this._INSTANCE}_updateColorMap(){const v=D.TokenizationRegistry.getColorMap();if(!v){this._colors=[N.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[N.RGBA8.Empty];for(let h=1;h<v.length;h++){const i=v[h].rgba;this._colors[h]=new N.RGBA8(i.r,i.g,i.b,Math.round(i.a*255))}const u=v[2].getRelativeLuminance();this._backgroundIsLight=u>=.5,this._onDidChange.fire(void 0)}getColor(v){return(v<1||v>=this._colors.length)&&(v=2),this._colors[v]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=w,w._INSTANCE=null}),define(ne[467],oe([1,0,81,11,98,75]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function w(t,s){return t===null?s?v.INSTANCE:u.INSTANCE:new b(t,s)}e.createModelLineProjection=w;class b{constructor(s,l){this._projectionData=s,this._isVisible=l}isVisible(){return this._isVisible}setVisible(s){return this._isVisible=s,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(s,l,d){this._assertVisible();const a=d>0?this._projectionData.breakOffsets[d-1]:0,o=this._projectionData.breakOffsets[d];let r;if(this._projectionData.injectionOffsets!==null){const c=this._projectionData.injectionOffsets.map((m,S)=>new N.LineInjectedText(0,0,m+1,this._projectionData.injectionOptions[S],0));r=N.LineInjectedText.applyInjectedText(s.getLineContent(l),c).substring(a,o)}else r=s.getValueInRange({startLineNumber:l,startColumn:a+1,endLineNumber:l,endColumn:o+1});return d>0&&(r=i(this._projectionData.wrappedTextIndentLength)+r),r}getViewLineLength(s,l,d){return this._assertVisible(),this._projectionData.getLineLength(d)}getViewLineMinColumn(s,l,d){return this._assertVisible(),this._projectionData.getMinOutputOffset(d)+1}getViewLineMaxColumn(s,l,d){return this._assertVisible(),this._projectionData.getMaxOutputOffset(d)+1}getViewLineData(s,l,d){const a=new Array;return this.getViewLinesData(s,l,d,1,0,[!0],a),a[0]}getViewLinesData(s,l,d,a,o,r,c){this._assertVisible();const g=this._projectionData,m=g.injectionOffsets,S=g.injectionOptions;let p=null;if(m){p=[];let _=0,L=0;for(let E=0;E<g.getOutputLineCount();E++){const I=new Array;p[E]=I;const T=E>0?g.breakOffsets[E-1]:0,P=g.breakOffsets[E];for(;L<m.length;){const B=S[L].content.length,R=m[L]+_,k=R+B;if(R>P)break;if(T<k){const A=S[L];if(A.inlineClassName){const O=E>0?g.wrappedTextIndentLength:0,F=O+Math.max(R-T,0),W=O+Math.min(k-T,P);F!==W&&I.push(new D.SingleLineInlineDecoration(F,W,A.inlineClassName,A.inlineClassNameAffectsLetterSpacing))}}if(k<=P)_+=B,L++;else break}}}let C;m?C=s.tokenization.getLineTokens(l).withInserted(m.map((_,L)=>({offset:_,text:S[L].content,tokenMetadata:y.LineTokens.defaultTokenMetadata}))):C=s.tokenization.getLineTokens(l);for(let _=d;_<d+a;_++){const L=o+_-d;if(!r[L]){c[L]=null;continue}c[L]=this._getViewLineData(C,p?p[_]:null,_)}}_getViewLineData(s,l,d){this._assertVisible();const a=this._projectionData,o=d>0?a.wrappedTextIndentLength:0,r=d>0?a.breakOffsets[d-1]:0,c=a.breakOffsets[d],g=s.sliceAndInflate(r,c,o);let m=g.getLineContent();d>0&&(m=i(a.wrappedTextIndentLength)+m);const S=this._projectionData.getMinOutputOffset(d)+1,p=m.length+1,C=d+1<this.getViewLineCount(),_=d===0?0:a.breakOffsetsVisibleColumn[d-1];return new D.ViewLineData(m,C,S,p,_,g,l)}getModelColumnOfViewPosition(s,l){return this._assertVisible(),this._projectionData.translateToInputOffset(s,l-1)+1}getViewPositionOfModelPosition(s,l,d=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(l-1,d).toPosition(s)}getViewLineNumberOfModelPosition(s,l){this._assertVisible();const d=this._projectionData.translateToOutputPosition(l-1);return s+d.outputLineIndex}normalizePosition(s,l,d){const a=l.lineNumber-s;return this._projectionData.normalizeOutputPosition(s,l.column-1,d).toPosition(a)}getInjectedTextAt(s,l){return this._projectionData.getInjectedText(s,l-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class v{constructor(){}isVisible(){return!0}setVisible(s){return s?this:u.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(s,l,d){return s.getLineContent(l)}getViewLineLength(s,l,d){return s.getLineLength(l)}getViewLineMinColumn(s,l,d){return s.getLineMinColumn(l)}getViewLineMaxColumn(s,l,d){return s.getLineMaxColumn(l)}getViewLineData(s,l,d){const a=s.tokenization.getLineTokens(l),o=a.getLineContent();return new D.ViewLineData(o,!1,1,o.length+1,0,a.inflate(),null)}getViewLinesData(s,l,d,a,o,r,c){if(!r[o]){c[o]=null;return}c[o]=this.getViewLineData(s,l,0)}getModelColumnOfViewPosition(s,l){return l}getViewPositionOfModelPosition(s,l){return new f.Position(s,l)}getViewLineNumberOfModelPosition(s,l){return s}normalizePosition(s,l,d){return l}getInjectedTextAt(s,l){return null}}v.INSTANCE=new v;class u{constructor(){}isVisible(){return!1}setVisible(s){return s?v.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(s,l,d){throw new Error("Not supported")}getViewLineLength(s,l,d){throw new Error("Not supported")}getViewLineMinColumn(s,l,d){throw new Error("Not supported")}getViewLineMaxColumn(s,l,d){throw new Error("Not supported")}getViewLineData(s,l,d){throw new Error("Not supported")}getViewLinesData(s,l,d,a,o,r,c){throw new Error("Not supported")}getModelColumnOfViewPosition(s,l){throw new Error("Not supported")}getViewPositionOfModelPosition(s,l){throw new Error("Not supported")}getViewLineNumberOfModelPosition(s,l){throw new Error("Not supported")}normalizePosition(s,l,d){throw new Error("Not supported")}getInjectedTextAt(s,l){throw new Error("Not supported")}}u.INSTANCE=new u;const h=[""];function i(t){if(t>=h.length)for(let s=1;s<=t;s++)h[s]=n(s);return h[t]}function n(t){return new Array(t+1).join(" ")}}),define(ne[468],oe([1,0,9,107,98,257]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class w{constructor(a,o){this.classifier=new b(a,o)}static create(a){return new w(a.get(121),a.get(120))}createLineBreaksComputer(a,o,r,c){const g=[],m=[],S=[];return{addRequest:(p,C,_)=>{g.push(p),m.push(C),S.push(_)},finalize:()=>{const p=a.typicalFullwidthCharacterWidth/a.typicalHalfwidthCharacterWidth,C=[];for(let _=0,L=g.length;_<L;_++){const E=m[_],I=S[_];I&&!I.injectionOptions&&!E?C[_]=h(this.classifier,I,g[_],o,r,p,c):C[_]=i(this.classifier,g[_],E,o,r,p,c)}return v.length=0,u.length=0,C}}}}e.MonospaceLineBreaksComputerFactory=w;class b extends f.CharacterClassifier{constructor(a,o){super(0);for(let r=0;r<a.length;r++)this.set(a.charCodeAt(r),1);for(let r=0;r<o.length;r++)this.set(o.charCodeAt(r),2)}get(a){return a>=0&&a<256?this._asciiMap[a]:a>=12352&&a<=12543||a>=13312&&a<=19903||a>=19968&&a<=40959?3:this._map.get(a)||this._defaultValue}}let v=[],u=[];function h(d,a,o,r,c,g,m){if(c===-1)return null;const S=o.length;if(S<=1)return null;const p=a.breakOffsets,C=a.breakOffsetsVisibleColumn,_=l(o,r,c,g,m),L=c-_,E=v,I=u;let T=0,P=0,B=0,R=c;const k=p.length;let A=0;if(A>=0){let O=Math.abs(C[A]-R);for(;A+1<k;){const F=Math.abs(C[A+1]-R);if(F>=O)break;O=F,A++}}for(;A<k;){let O=A<0?0:p[A],F=A<0?0:C[A];P>O&&(O=P,F=B);let W=0,M=0,z=0,G=0;if(F<=R){let X=F,J=O===0?0:o.charCodeAt(O-1),ie=O===0?0:d.get(J),re=!0;for(let Z=O;Z<S;Z++){const x=Z,U=o.charCodeAt(Z);let q,le;if(y.isHighSurrogate(U)?(Z++,q=0,le=2):(q=d.get(U),le=n(U,X,r,g)),x>P&&s(J,ie,U,q)&&(W=x,M=X),X+=le,X>R){x>P?(z=x,G=X-le):(z=Z+1,G=X),X-M>L&&(W=0),re=!1;break}J=U,ie=q}if(re){T>0&&(E[T]=p[p.length-1],I[T]=C[p.length-1],T++);break}}if(W===0){let X=F,J=o.charCodeAt(O),ie=d.get(J),re=!1;for(let Z=O-1;Z>=P;Z--){const x=Z+1,U=o.charCodeAt(Z);if(U===9){re=!0;break}let q,le;if(y.isLowSurrogate(U)?(Z--,q=0,le=2):(q=d.get(U),le=y.isFullWidthCharacter(U)?g:1),X<=R){if(z===0&&(z=x,G=X),X<=R-L)break;if(s(U,q,J,ie)){W=x,M=X;break}}X-=le,J=U,ie=q}if(W!==0){const Z=L-(G-M);if(Z<=r){const x=o.charCodeAt(z);let U;y.isHighSurrogate(x)?U=2:U=n(x,G,r,g),Z-U<0&&(W=0)}}if(re){A--;continue}}if(W===0&&(W=z,M=G),W<=P){const X=o.charCodeAt(P);y.isHighSurrogate(X)?(W=P+2,M=B+2):(W=P+1,M=B+n(X,B,r,g))}for(P=W,E[T]=W,B=M,I[T]=M,T++,R=M+L;A<0||A<k&&C[A]<M;)A++;let te=Math.abs(C[A]-R);for(;A+1<k;){const X=Math.abs(C[A+1]-R);if(X>=te)break;te=X,A++}}return T===0?null:(E.length=T,I.length=T,v=a.breakOffsets,u=a.breakOffsetsVisibleColumn,a.breakOffsets=E,a.breakOffsetsVisibleColumn=I,a.wrappedTextIndentLength=_,a)}function i(d,a,o,r,c,g,m){const S=N.LineInjectedText.applyInjectedText(a,o);let p,C;if(o&&o.length>0?(p=o.map(M=>M.options),C=o.map(M=>M.column-1)):(p=null,C=null),c===-1)return p?new D.ModelLineProjectionData(C,p,[S.length],[],0):null;const _=S.length;if(_<=1)return p?new D.ModelLineProjectionData(C,p,[S.length],[],0):null;const L=l(S,r,c,g,m),E=c-L,I=[],T=[];let P=0,B=0,R=0,k=c,A=S.charCodeAt(0),O=d.get(A),F=n(A,0,r,g),W=1;y.isHighSurrogate(A)&&(F+=1,A=S.charCodeAt(1),O=d.get(A),W++);for(let M=W;M<_;M++){const z=M,G=S.charCodeAt(M);let te,X;y.isHighSurrogate(G)?(M++,te=0,X=2):(te=d.get(G),X=n(G,F,r,g)),s(A,O,G,te)&&(B=z,R=F),F+=X,F>k&&((B===0||F-R>E)&&(B=z,R=F-X),I[P]=B,T[P]=R,P++,k=R+E,B=0),A=G,O=te}return P===0&&(!o||o.length===0)?null:(I[P]=_,T[P]=F,new D.ModelLineProjectionData(C,p,I,T,L))}function n(d,a,o,r){return d===9?o-a%o:y.isFullWidthCharacter(d)||d<32?r:1}function t(d,a){return a-d%a}function s(d,a,o,r){return o!==32&&(a===2||a===3&&r!==2||r===1||r===3&&a!==1)}function l(d,a,o,r,c){let g=0;if(c!==0){const m=y.firstNonWhitespaceIndex(d);if(m!==-1){for(let p=0;p<m;p++)g+=d.charCodeAt(p)===9?t(g,a):1;const S=c===3?2:c===2?1:0;for(let p=0;p<S;p++)g+=t(g,a);g+r>o&&(g=0)}}return g}}),define(ne[264],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class y{constructor(w,b,v){this._colorZoneBrand=void 0,this.from=w|0,this.to=b|0,this.colorId=v|0}static compare(w,b){return w.colorId===b.colorId?w.from===b.from?w.to-b.to:w.from-b.from:w.colorId-b.colorId}}e.ColorZone=y;class f{constructor(w,b,v,u){this._overviewRulerZoneBrand=void 0,this.startLineNumber=w,this.endLineNumber=b,this.heightInLines=v,this.color=u,this._colorZone=null}static compare(w,b){return w.color===b.color?w.startLineNumber===b.startLineNumber?w.heightInLines===b.heightInLines?w.endLineNumber-b.endLineNumber:w.heightInLines-b.heightInLines:w.startLineNumber-b.startLineNumber:w.color<b.color?-1:1}setColorZone(w){this._colorZone=w}getColorZones(){return this._colorZone}}e.OverviewRulerZone=f;class N{constructor(w){this._getVerticalOffsetForLine=w,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(w){this._zones=w,this._zones.sort(f.compare)}setLineHeight(w){return this._lineHeight===w?!1:(this._lineHeight=w,this._colorZonesInvalid=!0,!0)}setPixelRatio(w){this._pixelRatio=w,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(w){return this._domWidth===w?!1:(this._domWidth=w,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(w){return this._domHeight===w?!1:(this._domHeight=w,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(w){return this._outerHeight===w?!1:(this._outerHeight=w,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const w=this._colorZonesInvalid,b=Math.floor(this._lineHeight),v=Math.floor(this.getCanvasHeight()),u=Math.floor(this._outerHeight),h=v/u,i=Math.floor(4*this._pixelRatio/2),n=[];for(let t=0,s=this._zones.length;t<s;t++){const l=this._zones[t];if(!w){const C=l.getColorZones();if(C){n.push(C);continue}}const d=this._getVerticalOffsetForLine(l.startLineNumber),a=l.heightInLines===0?this._getVerticalOffsetForLine(l.endLineNumber)+b:d+l.heightInLines*b,o=Math.floor(h*d),r=Math.floor(h*a);let c=Math.floor((o+r)/2),g=r-c;g<i&&(g=i),c-g<0&&(c=g),c+g>v&&(c=v-g);const m=l.color;let S=this._color2Id[m];S||(S=++this._lastAssignedId,this._color2Id[m]=S,this._id2Color[S]=m);const p=new y(c-g,c+g,S);l.setColorZone(p),n.push(p)}return this._colorZonesInvalid=!1,n.sort(y.compare),n}}e.OverviewZoneManager=N}),define(ne[469],oe([1,0,33,264,133]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends N.ViewEventHandler{constructor(b,v){super();this._context=b;const u=this._context.configuration.options;this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(v),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new f.OverviewZoneManager(h=>this._context.viewLayout.getVerticalOffsetForLineNumber(h)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(u.get(60)),this._zoneManager.setPixelRatio(u.get(130)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(b){const v=this._context.configuration.options;return b.hasChanged(60)&&(this._zoneManager.setLineHeight(v.get(60)),this._render()),b.hasChanged(130)&&(this._zoneManager.setPixelRatio(v.get(130)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(b){return this._render(),!0}onScrollChanged(b){return b.scrollHeightChanged&&(this._zoneManager.setOuterHeight(b.scrollHeight),this._render()),!0}onZonesChanged(b){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(b){this._domNode.setTop(b.top),this._domNode.setRight(b.right);let v=!1;v=this._zoneManager.setDOMWidth(b.width)||v,v=this._zoneManager.setDOMHeight(b.height)||v,v&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(b){this._zoneManager.setZones(b),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const b=this._zoneManager.getCanvasWidth(),v=this._zoneManager.getCanvasHeight(),u=this._zoneManager.resolveColorZones(),h=this._zoneManager.getId2Color(),i=this._domNode.domNode.getContext("2d");return i.clearRect(0,0,b,v),u.length>0&&this._renderOneLane(i,u,h,b),!0}_renderOneLane(b,v,u,h){let i=0,n=0,t=0;for(const s of v){const l=s.colorId,d=s.from,a=s.to;l!==i?(b.fillRect(0,n,h,t-n),i=l,b.fillStyle=u[i],n=d,t=a):t>=d?t=Math.max(t,a):(b.fillRect(0,n,h,t-n),n=d,t=a)}b.fillRect(0,n,h,t-n)}}e.OverviewRuler=D}),define(ne[470],oe([1,0,422]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class f{constructor(D,w,b){this.configuration=D,this.theme=new y.EditorTheme(w),this.viewModel=b,this.viewLayout=b.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=f}),define(ne[196],oe([1,0,4,2]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class N extends f.Disposable{constructor(){super();this._onEvent=this._register(new y.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(c){this._addOutgoingEvent(c),this._emitOutgoingEvents()}_addOutgoingEvent(c){for(let g=0,m=this._outgoingEvents.length;g<m;g++){const S=this._outgoingEvents[g].kind===c.kind?this._outgoingEvents[g].attemptToMerge(c):null;if(S){this._outgoingEvents[g]=S;return}}this._outgoingEvents.push(c)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const c=this._outgoingEvents.shift();c.isNoOp()||this._onEvent.fire(c)}}addViewEventHandler(c){for(let g=0,m=this._eventHandlers.length;g<m;g++)this._eventHandlers[g]===c&&console.warn("Detected duplicate listener in ViewEventDispatcher",c);this._eventHandlers.push(c)}removeViewEventHandler(c){for(let g=0;g<this._eventHandlers.length;g++)if(this._eventHandlers[g]===c){this._eventHandlers.splice(g,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const c=this._collector.outgoingEvents,g=this._collector.viewEvents;this._collector=null;for(const m of c)this._addOutgoingEvent(m);g.length>0&&this._emitMany(g)}this._emitOutgoingEvents()}emitSingleViewEvent(c){try{this.beginEmitViewEvents().emitViewEvent(c)}finally{this.endEmitViewEvents()}}_emitMany(c){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(c):this._viewEventQueue=c,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const c=this._viewEventQueue;this._viewEventQueue=null;const g=this._eventHandlers.slice(0);for(const m of g)m.handleEvents(c)}}}e.ViewModelEventDispatcher=N;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(c){this.viewEvents.push(c)}emitOutgoingEvent(c){this.outgoingEvents.push(c)}}e.ViewModelEventsCollector=D;class w{constructor(c,g,m,S){this.kind=0,this._oldContentWidth=c,this._oldContentHeight=g,this.contentWidth=m,this.contentHeight=S,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(c){return c.kind!==this.kind?null:new w(this._oldContentWidth,this._oldContentHeight,c.contentWidth,c.contentHeight)}}e.ContentSizeChangedEvent=w;class b{constructor(c,g){this.kind=1,this.oldHasFocus=c,this.hasFocus=g}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(c){return c.kind!==this.kind?null:new b(this.oldHasFocus,c.hasFocus)}}e.FocusChangedEvent=b;class v{constructor(c,g,m,S,p,C,_,L){this.kind=2,this._oldScrollWidth=c,this._oldScrollLeft=g,this._oldScrollHeight=m,this._oldScrollTop=S,this.scrollWidth=p,this.scrollLeft=C,this.scrollHeight=_,this.scrollTop=L,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(c){return c.kind!==this.kind?null:new v(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,c.scrollWidth,c.scrollLeft,c.scrollHeight,c.scrollTop)}}e.ScrollChangedEvent=v;class u{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(c){return c.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=u;class h{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(c){return c.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=h;class i{constructor(c,g,m,S,p,C,_){this.kind=6,this.oldSelections=c,this.selections=g,this.oldModelVersionId=m,this.modelVersionId=S,this.source=p,this.reason=C,this.reachedMaxCursorCount=_}static _selectionsAreEqual(c,g){if(!c&&!g)return!0;if(!c||!g)return!1;const m=c.length,S=g.length;if(m!==S)return!1;for(let p=0;p<m;p++)if(!c[p].equalsSelection(g[p]))return!1;return!0}isNoOp(){return i._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(c){return c.kind!==this.kind?null:new i(this.oldSelections,c.selections,this.oldModelVersionId,c.modelVersionId,c.source,c.reason,this.reachedMaxCursorCount||c.reachedMaxCursorCount)}}e.CursorStateChangedEvent=i;class n{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(c){return c.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=n;class t{constructor(c){this.event=c,this.kind=7}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelDecorationsChangedEvent=t;class s{constructor(c){this.event=c,this.kind=8}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelLanguageChangedEvent=s;class l{constructor(c){this.event=c,this.kind=9}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelLanguageConfigurationChangedEvent=l;class d{constructor(c){this.event=c,this.kind=10}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelContentChangedEvent=d;class a{constructor(c){this.event=c,this.kind=11}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelOptionsChangedEvent=a;class o{constructor(c){this.event=c,this.kind=12}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelTokensChangedEvent=o}),define(ne[471],oe([1,0,4,2,144,465,75,196]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const v=125;class u{constructor(t,s,l,d){t=t|0,s=s|0,l=l|0,d=d|0,t<0&&(t=0),s<0&&(s=0),l<0&&(l=0),d<0&&(d=0),this.width=t,this.contentWidth=s,this.scrollWidth=Math.max(t,s),this.height=l,this.contentHeight=d,this.scrollHeight=Math.max(l,d)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class h extends f.Disposable{constructor(t,s){super();this._onDidContentSizeChange=this._register(new y.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new u(0,0,0,0),this._scrollable=this._register(new N.Scrollable({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:s})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const s=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const l=s.contentWidth!==t.contentWidth,d=s.contentHeight!==t.contentHeight;(l||d)&&this._onDidContentSizeChange.fire(new b.ContentSizeChangedEvent(s.contentWidth,s.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}}class i extends f.Disposable{constructor(t,s,l){super();this._configuration=t;const d=this._configuration.options,a=d.get(132),o=d.get(76);this._linesLayout=new D.LinesLayout(s,d.get(60),o.top,o.bottom),this._scrollable=this._register(new h(0,l)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new u(a.contentWidth,0,a.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(104)?v:0)}onConfigurationChanged(t){const s=this._configuration.options;if(t.hasChanged(60)&&this._linesLayout.setLineHeight(s.get(60)),t.hasChanged(76)){const l=s.get(76);this._linesLayout.setPadding(l.top,l.bottom)}if(t.hasChanged(132)){const l=s.get(132),d=l.contentWidth,a=l.height,o=this._scrollable.getScrollDimensions(),r=o.contentWidth;this._scrollable.setScrollDimensions(new u(d,o.contentWidth,a,this._getContentHeight(d,a,r)))}else this._updateHeight();t.hasChanged(104)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,s){this._linesLayout.onLinesDeleted(t,s)}onLinesInserted(t,s){this._linesLayout.onLinesInserted(t,s)}_getHorizontalScrollbarHeight(t,s){const d=this._configuration.options.get(93);return d.horizontal===2||t>=s?0:d.horizontalScrollbarSize}_getContentHeight(t,s,l){const d=this._configuration.options;let a=this._linesLayout.getLinesTotalHeight();return d.get(95)?a+=Math.max(0,s-d.get(60)-d.get(76).bottom):a+=this._getHorizontalScrollbarHeight(t,l),a}_updateHeight(){const t=this._scrollable.getScrollDimensions(),s=t.width,l=t.height,d=t.contentWidth;this._scrollable.setScrollDimensions(new u(s,t.contentWidth,l,this._getContentHeight(s,l,d)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),s=this._scrollable.getCurrentScrollPosition();return new w.Viewport(s.scrollTop,s.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),s=this._scrollable.getFutureScrollPosition();return new w.Viewport(s.scrollTop,s.scrollLeft,t.width,t.height)}_computeContentWidth(t){const s=this._configuration.options,l=s.get(133),d=s.get(45),a=s.get(132);if(l.isViewportWrapping){const o=s.get(66);return t>a.contentWidth+d.typicalHalfwidthCharacterWidth&&o.enabled&&o.side==="right"?t+a.verticalScrollbarWidth:t}else{const o=s.get(94)*d.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+o+a.verticalScrollbarWidth,r)}}setMaxLineWidth(t){const s=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new u(s.width,this._computeContentWidth(t),s.height,s.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),s=t.scrollTop,l=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(s),d=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(l);return{scrollTop:s,scrollTopWithoutViewZones:s-d,scrollLeft:t.scrollLeft}}changeWhitespace(t){const s=this._linesLayout.changeWhitespace(t);return s&&this.onHeightMaybeChanged(),s}getVerticalOffsetForLineNumber(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const s=this._scrollable.getScrollDimensions();return t+s.height>s.scrollHeight&&(t=s.scrollHeight-s.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+s.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,s){s===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}deltaScrollNow(t,s){const l=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:l.scrollLeft+t,scrollTop:l.scrollTop+s})}}e.ViewLayout=i}),define(ne[472],oe([1,0,3,23]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class N{constructor(w,b){this._selection=w,this._isMovingLeft=b}getEditOperations(w,b){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const v=this._selection.startLineNumber,u=this._selection.startColumn,h=this._selection.endColumn;if(!(this._isMovingLeft&&u===1)&&!(!this._isMovingLeft&&h===w.getLineMaxColumn(v)))if(this._isMovingLeft){const i=new y.Range(v,u-1,v,u),n=w.getValueInRange(i);b.addEditOperation(i,null),b.addEditOperation(new y.Range(v,h,v,h),n)}else{const i=new y.Range(v,h,v,h+1),n=w.getValueInRange(i);b.addEditOperation(i,null),b.addEditOperation(new y.Range(v,u,v,u),n)}}computeCursorState(w,b){return this._isMovingLeft?new f.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new f.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=N}),define(ne[160],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class y{constructor(v){this.value=v}equals(v){return this.value===v.value}contains(v){return this.equals(v)||this.value===""||v.value.startsWith(this.value+y.sep)}intersects(v){return this.contains(v)||v.contains(this)}append(v){return new y(this.value+y.sep+v)}}e.CodeActionKind=y,y.sep=".",y.None=new y("@@none@@"),y.Empty=new y(""),y.QuickFix=new y("quickfix"),y.Refactor=new y("refactor"),y.Source=new y("source"),y.SourceOrganizeImports=y.Source.append("organizeImports"),y.SourceFixAll=y.Source.append("fixAll");function f(b,v){return!(b.include&&!b.include.intersects(v)||b.excludes&&b.excludes.some(u=>D(v,u,b.include))||!b.includeSourceActions&&y.Source.contains(v))}e.mayIncludeActionsOfKind=f;function N(b,v){const u=v.kind?new y(v.kind):void 0;return!(b.include&&(!u||!b.include.contains(u))||b.excludes&&u&&b.excludes.some(h=>D(u,h,b.include))||!b.includeSourceActions&&u&&y.Source.contains(u)||b.onlyIncludePreferredActions&&!v.isPreferred)}e.filtersAction=N;function D(b,v,u){return!(!v.contains(b)||u&&v.contains(u))}class w{constructor(v,u,h){this.kind=v,this.apply=u,this.preferred=h}static fromUser(v,u){return!v||typeof v!="object"?new w(u.kind,u.apply,!1):new w(w.getKindFromUser(v,u.kind),w.getApplyFromUser(v,u.apply),w.getPreferredUser(v))}static getApplyFromUser(v,u){switch(typeof v.apply=="string"?v.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return u}}static getKindFromUser(v,u){return typeof v.kind=="string"?new y(v.kind):u}static getPreferredUser(v){return typeof v.preferred=="boolean"?v.preferred:!1}}e.CodeActionCommandArgs=w}),define(ne[473],oe([1,0,4]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class f{constructor(D,w,b){this.presentationIndex=b,this._onColorFlushed=new y.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new y.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new y.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=w}get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,w){for(let b=0;b<this.colorPresentations.length;b++)if(w.toLowerCase()===this.colorPresentations[b].label){this.presentationIndex=b,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=f}),define(ne[265],oe([1,0,61,11,3,23]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class w{constructor(v,u,h){this.languageConfigurationService=h,this._selection=v,this._insertSpace=u,this._usedEndToken=null}static _haystackHasNeedleAtOffset(v,u,h){if(h<0)return!1;const i=u.length,n=v.length;if(h+i>n)return!1;for(let t=0;t<i;t++){const s=v.charCodeAt(h+t),l=u.charCodeAt(t);if(s!==l&&!(s>=65&&s<=90&&s+32===l)&&!(l>=65&&l<=90&&l+32===s))return!1}return!0}_createOperationsForBlockComment(v,u,h,i,n,t){const s=v.startLineNumber,l=v.startColumn,d=v.endLineNumber,a=v.endColumn,o=n.getLineContent(s),r=n.getLineContent(d);let c=o.lastIndexOf(u,l-1+u.length),g=r.indexOf(h,a-1-h.length);if(c!==-1&&g!==-1)if(s===d)o.substring(c+u.length,g).indexOf(h)>=0&&(c=-1,g=-1);else{const S=o.substring(c+u.length),p=r.substring(0,g);(S.indexOf(h)>=0||p.indexOf(h)>=0)&&(c=-1,g=-1)}let m;c!==-1&&g!==-1?(i&&c+u.length<o.length&&o.charCodeAt(c+u.length)===32&&(u=u+" "),i&&g>0&&r.charCodeAt(g-1)===32&&(h=" "+h,g-=1),m=w._createRemoveBlockCommentOperations(new N.Range(s,c+u.length+1,d,g+1),u,h)):(m=w._createAddBlockCommentOperations(v,u,h,this._insertSpace),this._usedEndToken=m.length===1?h:null);for(const S of m)t.addTrackedEditOperation(S.range,S.text)}static _createRemoveBlockCommentOperations(v,u,h){const i=[];return N.Range.isEmpty(v)?i.push(y.EditOperation.delete(new N.Range(v.startLineNumber,v.startColumn-u.length,v.endLineNumber,v.endColumn+h.length))):(i.push(y.EditOperation.delete(new N.Range(v.startLineNumber,v.startColumn-u.length,v.startLineNumber,v.startColumn))),i.push(y.EditOperation.delete(new N.Range(v.endLineNumber,v.endColumn,v.endLineNumber,v.endColumn+h.length)))),i}static _createAddBlockCommentOperations(v,u,h,i){const n=[];return N.Range.isEmpty(v)?n.push(y.EditOperation.replace(new N.Range(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn),u+"  "+h)):(n.push(y.EditOperation.insert(new f.Position(v.startLineNumber,v.startColumn),u+(i?" ":""))),n.push(y.EditOperation.insert(new f.Position(v.endLineNumber,v.endColumn),(i?" ":"")+h))),n}getEditOperations(v,u){const h=this._selection.startLineNumber,i=this._selection.startColumn;v.tokenization.tokenizeIfCheap(h);const n=v.getLanguageIdAtPosition(h,i),t=this.languageConfigurationService.getLanguageConfiguration(n).comments;!t||!t.blockCommentStartToken||!t.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,t.blockCommentStartToken,t.blockCommentEndToken,this._insertSpace,v,u)}computeCursorState(v,u){const h=u.getInverseEditOperations();if(h.length===2){const i=h[0],n=h[1];return new D.Selection(i.range.endLineNumber,i.range.endColumn,n.range.startLineNumber,n.range.startColumn)}else{const i=h[0].range,n=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(i.endLineNumber,i.endColumn+n,i.endLineNumber,i.endColumn+n)}}}e.BlockCommentCommand=w}),define(ne[474],oe([1,0,9,61,11,3,23,265]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class v{constructor(h,i,n,t,s,l,d){this.languageConfigurationService=h,this._selection=i,this._tabSize=n,this._type=t,this._insertSpace=s,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=l,this._ignoreFirstLine=d||!1}static _gatherPreflightCommentStrings(h,i,n,t){h.tokenization.tokenizeIfCheap(i);const s=h.getLanguageIdAtPosition(i,1),l=t.getLanguageConfiguration(s).comments,d=l?l.lineCommentToken:null;if(!d)return null;const a=[];for(let o=0,r=n-i+1;o<r;o++)a[o]={ignore:!1,commentStr:d,commentStrOffset:0,commentStrLength:d.length};return a}static _analyzeLines(h,i,n,t,s,l,d,a){let o=!0,r;h===0?r=!0:h===1?r=!1:r=!0;for(let c=0,g=t.length;c<g;c++){const m=t[c],S=s+c;if(S===s&&d){m.ignore=!0;continue}const p=n.getLineContent(S),C=y.firstNonWhitespaceIndex(p);if(C===-1){m.ignore=l,m.commentStrOffset=p.length;continue}if(o=!1,m.ignore=!1,m.commentStrOffset=C,r&&!b.BlockCommentCommand._haystackHasNeedleAtOffset(p,m.commentStr,C)&&(h===0?r=!1:h===1||(m.ignore=!0)),r&&i){const _=C+m.commentStrLength;_<p.length&&p.charCodeAt(_)===32&&(m.commentStrLength+=1)}}if(h===0&&o){r=!1;for(let c=0,g=t.length;c<g;c++)t[c].ignore=!1}return{supported:!0,shouldRemoveComments:r,lines:t}}static _gatherPreflightData(h,i,n,t,s,l,d,a){const o=v._gatherPreflightCommentStrings(n,t,s,a);return o===null?{supported:!1}:v._analyzeLines(h,i,n,o,t,l,d,a)}_executeLineComments(h,i,n,t){let s;n.shouldRemoveComments?s=v._createRemoveLineCommentsOperations(n.lines,t.startLineNumber):(v._normalizeInsertionPoint(h,n.lines,t.startLineNumber,this._tabSize),s=this._createAddLineCommentsOperations(n.lines,t.startLineNumber));const l=new N.Position(t.positionLineNumber,t.positionColumn);for(let d=0,a=s.length;d<a;d++)i.addEditOperation(s[d].range,s[d].text),D.Range.isEmpty(s[d].range)&&D.Range.getStartPosition(s[d].range).equals(l)&&h.getLineContent(l.lineNumber).length+1===l.column&&(this._deltaColumn=(s[d].text||"").length);this._selectionId=i.trackSelection(t)}_attemptRemoveBlockComment(h,i,n,t){let s=i.startLineNumber,l=i.endLineNumber;const d=t.length+Math.max(h.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.startColumn);let a=h.getLineContent(s).lastIndexOf(n,d-1),o=h.getLineContent(l).indexOf(t,i.endColumn-1-n.length);return a!==-1&&o===-1&&(o=h.getLineContent(s).indexOf(t,a+n.length),l=s),a===-1&&o!==-1&&(a=h.getLineContent(l).lastIndexOf(n,o),s=l),i.isEmpty()&&(a===-1||o===-1)&&(a=h.getLineContent(s).indexOf(n),a!==-1&&(o=h.getLineContent(s).indexOf(t,a+n.length))),a!==-1&&h.getLineContent(s).charCodeAt(a+n.length)===32&&(n+=" "),o!==-1&&h.getLineContent(l).charCodeAt(o-1)===32&&(t=" "+t,o-=1),a!==-1&&o!==-1?b.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(s,a+n.length+1,l,o+1),n,t):null}_executeBlockComment(h,i,n){h.tokenization.tokenizeIfCheap(n.startLineNumber);const t=h.getLanguageIdAtPosition(n.startLineNumber,1),s=this.languageConfigurationService.getLanguageConfiguration(t).comments;if(!s||!s.blockCommentStartToken||!s.blockCommentEndToken)return;const l=s.blockCommentStartToken,d=s.blockCommentEndToken;let a=this._attemptRemoveBlockComment(h,n,l,d);if(!a){if(n.isEmpty()){const o=h.getLineContent(n.startLineNumber);let r=y.firstNonWhitespaceIndex(o);r===-1&&(r=o.length),a=b.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,r+1,n.startLineNumber,o.length+1),l,d,this._insertSpace)}else a=b.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,h.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,h.getLineMaxColumn(n.endLineNumber)),l,d,this._insertSpace);a.length===1&&(this._deltaColumn=l.length+1)}this._selectionId=i.trackSelection(n);for(const o of a)i.addEditOperation(o.range,o.text)}getEditOperations(h,i){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){i.addEditOperation(new D.Range(n.startLineNumber,h.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===h.getLineCount()?"":`
`),this._selectionId=i.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,h.getLineMaxColumn(n.endLineNumber-1)));const t=v._gatherPreflightData(this._type,this._insertSpace,h,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return t.supported?this._executeLineComments(h,i,t,n):this._executeBlockComment(h,i,n)}computeCursorState(h,i){let n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new w.Selection(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(h,i){const n=[];for(let t=0,s=h.length;t<s;t++){const l=h[t];l.ignore||n.push(f.EditOperation.delete(new D.Range(i+t,l.commentStrOffset+1,i+t,l.commentStrOffset+l.commentStrLength+1)))}return n}_createAddLineCommentsOperations(h,i){const n=[],t=this._insertSpace?" ":"";for(let s=0,l=h.length;s<l;s++){const d=h[s];d.ignore||n.push(f.EditOperation.insert(new N.Position(i+s,d.commentStrOffset+1),d.commentStr+t))}return n}static nextVisibleColumn(h,i,n,t){return n?h+(i-h%i):h+t}static _normalizeInsertionPoint(h,i,n,t){let s=1073741824,l,d;for(let a=0,o=i.length;a<o;a++){if(i[a].ignore)continue;const r=h.getLineContent(n+a);let c=0;for(let g=0,m=i[a].commentStrOffset;c<s&&g<m;g++)c=v.nextVisibleColumn(c,t,r.charCodeAt(g)===9,1);c<s&&(s=c)}s=Math.floor(s/t)*t;for(let a=0,o=i.length;a<o;a++){if(i[a].ignore)continue;const r=h.getLineContent(n+a);let c=0;for(l=0,d=i[a].commentStrOffset;c<s&&l<d;l++)c=v.nextVisibleColumn(c,t,r.charCodeAt(l)===9,1);c>s?i[a].commentStrOffset=l-1:i[a].commentStrOffset=l}}}e.LineCommentCommand=v}),define(ne[475],oe([1,0,3,23]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class N{constructor(w,b,v){this.selection=w,this.targetPosition=b,this.copy=v,this.targetSelection=null}getEditOperations(w,b){const v=w.getValueInRange(this.selection);if(this.copy||b.addEditOperation(this.selection,null),b.addEditOperation(new y.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),v),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new f.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new f.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new f.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new f.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new f.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(w,b){return this.targetSelection}}e.DragAndDropCommand=N}),define(ne[476],oe([1,0,3]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class f{constructor(D,w,b){this._editorSelection=D,this._ranges=w,this._replaceStrings=b,this._trackedEditorSelectionId=null}getEditOperations(D,w){if(this._ranges.length>0){const b=[];for(let h=0;h<this._ranges.length;h++)b.push({range:this._ranges[h],text:this._replaceStrings[h]});b.sort((h,i)=>y.Range.compareRangesUsingStarts(h.range,i.range));const v=[];let u=b[0];for(let h=1;h<b.length;h++)u.range.endLineNumber===b[h].range.startLineNumber&&u.range.endColumn===b[h].range.startColumn?(u.range=u.range.plusRange(b[h].range),u.text=u.text+b[h].text):(v.push(u),u=b[h]);v.push(u);for(const h of v)w.addEditOperation(h.range,h.text)}this._trackedEditorSelectionId=w.trackSelection(this._editorSelection)}computeCursorState(D,w){return w.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=f}),define(ne[477],oe([1,0,337]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class f{constructor(h){this.staticValue=h,this.kind=0}}class N{constructor(h){this.pieces=h,this.kind=1}}class D{constructor(h){!h||h.length===0?this._state=new f(""):h.length===1&&h[0].staticValue!==null?this._state=new f(h[0].staticValue):this._state=new N(h)}static fromStaticValue(h){return new D([w.staticValue(h)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(h,i){if(this._state.kind===0)return i?(0,y.buildReplaceStringWithCasePreserved)(h,this._state.staticValue):this._state.staticValue;let n="";for(let t=0,s=this._state.pieces.length;t<s;t++){const l=this._state.pieces[t];if(l.staticValue!==null){n+=l.staticValue;continue}let d=D._substitute(l.matchIndex,h);if(l.caseOps!==null&&l.caseOps.length>0){const a=[],o=l.caseOps.length;let r=0;for(let c=0,g=d.length;c<g;c++){if(r>=o){a.push(d.slice(c));break}switch(l.caseOps[r]){case"U":a.push(d[c].toUpperCase());break;case"u":a.push(d[c].toUpperCase()),r++;break;case"L":a.push(d[c].toLowerCase());break;case"l":a.push(d[c].toLowerCase()),r++;break;default:a.push(d[c])}}d=a.join("")}n+=d}return n}static _substitute(h,i){if(i===null)return"";if(h===0)return i[0];let n="";for(;h>0;){if(h<i.length)return(i[h]||"")+n;n=String(h%10)+n,h=Math.floor(h/10)}return"$"+n}}e.ReplacePattern=D;class w{constructor(h,i,n){this.staticValue=h,this.matchIndex=i,!n||n.length===0?this.caseOps=null:this.caseOps=n.slice(0)}static staticValue(h){return new w(h,-1,null)}static caseOps(h,i){return new w(null,h,i)}}e.ReplacePiece=w;class b{constructor(h){this._source=h,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(h){this._emitStatic(this._source.substring(this._lastCharIndex,h)),this._lastCharIndex=h}emitStatic(h,i){this._emitStatic(h),this._lastCharIndex=i}_emitStatic(h){h.length!==0&&(this._currentStaticPiece+=h)}emitMatchIndex(h,i,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=w.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=w.caseOps(h,n),this._lastCharIndex=i}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=w.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function v(u){if(!u||u.length===0)return new D(null);const h=[],i=new b(u);for(let n=0,t=u.length;n<t;n++){const s=u.charCodeAt(n);if(s===92){if(n++,n>=t)break;const l=u.charCodeAt(n);switch(l){case 92:i.emitUnchanged(n-1),i.emitStatic("\\",n+1);break;case 110:i.emitUnchanged(n-1),i.emitStatic(`
`,n+1);break;case 116:i.emitUnchanged(n-1),i.emitStatic("	",n+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(n-1),i.emitStatic("",n+1),h.push(String.fromCharCode(l));break}continue}if(s===36){if(n++,n>=t)break;const l=u.charCodeAt(n);if(l===36){i.emitUnchanged(n-1),i.emitStatic("$",n+1);continue}if(l===48||l===38){i.emitUnchanged(n-1),i.emitMatchIndex(0,n+1,h),h.length=0;continue}if(49<=l&&l<=57){let d=l-48;if(n+1<t){const a=u.charCodeAt(n+1);if(48<=a&&a<=57){n++,d=d*10+(a-48),i.emitUnchanged(n-2),i.emitMatchIndex(d,n+1,h),h.length=0;continue}}i.emitUnchanged(n-1),i.emitMatchIndex(d,n+1,h),h.length=0;continue}}}return i.finalize()}e.parseReplaceString=v}),define(ne[197],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const y=4278190080;class f{constructor(w,b,v){if(w.length!==b.length||w.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=w,this._endIndexes=b,this._collapseStates=new Uint32Array(Math.ceil(w.length/32)),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const w=[],b=(v,u)=>{const h=w[w.length-1];return this.getStartLineNumber(h)<=v&&this.getEndLineNumber(h)>=u};for(let v=0,u=this._startIndexes.length;v<u;v++){const h=this._startIndexes[v],i=this._endIndexes[v];if(h>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;w.length>0&&!b(h,i);)w.pop();const n=w.length>0?w[w.length-1]:-1;w.push(v),this._startIndexes[v]=h+((n&255)<<24),this._endIndexes[v]=i+((n&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(w){return this._startIndexes[w]&e.MAX_LINE_NUMBER}getEndLineNumber(w){return this._endIndexes[w]&e.MAX_LINE_NUMBER}getType(w){return this._types?this._types[w]:void 0}hasTypes(){return!!this._types}isCollapsed(w){const b=w/32|0,v=w%32;return(this._collapseStates[b]&1<<v)!=0}setCollapsed(w,b){const v=w/32|0,u=w%32,h=this._collapseStates[v];b?this._collapseStates[v]=h|1<<u:this._collapseStates[v]=h&~(1<<u)}setCollapsedAllOfType(w,b){let v=!1;if(this._types)for(let u=0;u<this._types.length;u++)this._types[u]===w&&(this.setCollapsed(u,b),v=!0);return v}toRegion(w){return new N(this,w)}getParentIndex(w){this.ensureParentIndices();const b=((this._startIndexes[w]&y)>>>24)+((this._endIndexes[w]&y)>>>16);return b===e.MAX_FOLDING_REGIONS?-1:b}contains(w,b){return this.getStartLineNumber(w)<=b&&this.getEndLineNumber(w)>=b}findIndex(w){let b=0,v=this._startIndexes.length;if(v===0)return-1;for(;b<v;){const u=Math.floor((b+v)/2);w<this.getStartLineNumber(u)?v=u:b=u+1}return b-1}findRange(w){let b=this.findIndex(w);if(b>=0){if(this.getEndLineNumber(b)>=w)return b;for(b=this.getParentIndex(b);b!==-1;){if(this.contains(b,w))return b;b=this.getParentIndex(b)}}return-1}toString(){const w=[];for(let b=0;b<this.length;b++)w[b]=`[${this.isCollapsed(b)?"+":"-"}] ${this.getStartLineNumber(b)}/${this.getEndLineNumber(b)}`;return w.join(", ")}}e.FoldingRegions=f;class N{constructor(w,b){this.ranges=w,this.index=b}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(w){return w.startLineNumber<=this.startLineNumber&&w.endLineNumber>=this.endLineNumber}containsLine(w){return this.startLineNumber<=w&&w<=this.endLineNumber}}e.FoldingRegion=N}),define(ne[478],oe([1,0,4,197]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class N{constructor(a,o){this._updateEventEmitter=new y.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=a,this._decorationProvider=o,this._regions=new f.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(a){if(!a.length)return;a=a.sort((r,c)=>r.regionIndex-c.regionIndex);const o={};this._decorationProvider.changeDecorations(r=>{let c=0,g=-1,m=-1;const S=p=>{for(;c<p;){const C=this._regions.getEndLineNumber(c),_=this._regions.isCollapsed(c);C<=g&&r.changeDecorationOptions(this._editorDecorationIds[c],this._decorationProvider.getDecorationOption(_,C<=m)),_&&C>m&&(m=C),c++}};for(const p of a){const C=p.regionIndex,_=this._editorDecorationIds[C];if(_&&!o[_]){o[_]=!0,S(C);const L=!this._regions.isCollapsed(C);this._regions.setCollapsed(C,L),g=Math.max(g,this._regions.getEndLineNumber(C))}}S(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:a})}update(a,o=[]){const r=[],c=(L,E)=>{for(const I of o)if(L<I&&I<=E)return!0;return!1};let g=-1;const m=(L,E)=>{const I=a.getStartLineNumber(L),T=a.getEndLineNumber(L);E||(E=a.isCollapsed(L)),E&&c(I,T)&&(E=!1),a.setCollapsed(L,E);const P=this._textModel.getLineMaxColumn(I),B={startLineNumber:I,startColumn:Math.max(P-1,1),endLineNumber:I,endColumn:P};r.push({range:B,options:this._decorationProvider.getDecorationOption(E,T<=g)}),E&&T>g&&(g=T)};let S=0;const p=()=>{for(;S<this._regions.length;){const L=this._regions.isCollapsed(S);if(S++,L)return S-1}return-1};let C=0,_=p();for(;_!==-1&&C<a.length;){const L=this._textModel.getDecorationRange(this._editorDecorationIds[_]);if(L){const E=L.startLineNumber;if(L.startColumn===Math.max(L.endColumn-1,1)&&this._textModel.getLineMaxColumn(E)===L.endColumn)for(;C<a.length;){const I=a.getStartLineNumber(C);if(E>=I)m(C,E===I),C++;else break}}_=p()}for(;C<a.length;)m(C,!1),C++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,r),this._regions=a,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){const a=[];for(let o=0;o<this._regions.length;o++)if(this._regions.isCollapsed(o)){const r=this._textModel.getDecorationRange(this._editorDecorationIds[o]);if(r){const c=r.startLineNumber,g=r.endLineNumber+this._regions.getEndLineNumber(o)-this._regions.getStartLineNumber(o);a.push({startLineNumber:c,endLineNumber:g})}}if(a.length>0)return a}applyMemento(a){if(!Array.isArray(a))return;const o=[];for(const r of a){const c=this.getRegionAtLine(r.startLineNumber);c&&!c.isCollapsed&&o.push(c)}this.toggleCollapseState(o)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(a,o){const r=[];if(this._regions){let c=this._regions.findRange(a),g=1;for(;c>=0;){const m=this._regions.toRegion(c);(!o||o(m,g))&&r.push(m),g++,c=m.parentIndex}}return r}getRegionAtLine(a){if(this._regions){const o=this._regions.findRange(a);if(o>=0)return this._regions.toRegion(o)}return null}getRegionsInside(a,o){const r=[],c=a?a.regionIndex+1:0,g=a?a.endLineNumber:Number.MAX_VALUE;if(o&&o.length===2){const m=[];for(let S=c,p=this._regions.length;S<p;S++){const C=this._regions.toRegion(S);if(this._regions.getStartLineNumber(S)<g){for(;m.length>0&&!C.containedBy(m[m.length-1]);)m.pop();m.push(C),o(C,m.length)&&r.push(C)}else break}}else for(let m=c,S=this._regions.length;m<S;m++){const p=this._regions.toRegion(m);if(this._regions.getStartLineNumber(m)<g)(!o||o(p))&&r.push(p);else break}return r}}e.FoldingModel=N;function D(d,a,o){const r=[];for(const c of o){const g=d.getRegionAtLine(c);if(g){const m=!g.isCollapsed;if(r.push(g),a>1){const S=d.getRegionsInside(g,(p,C)=>p.isCollapsed!==m&&C<a);r.push(...S)}}}d.toggleCollapseState(r)}e.toggleCollapseState=D;function w(d,a,o=Number.MAX_VALUE,r){const c=[];if(r&&r.length>0)for(const g of r){const m=d.getRegionAtLine(g);if(m&&(m.isCollapsed!==a&&c.push(m),o>1)){const S=d.getRegionsInside(m,(p,C)=>p.isCollapsed!==a&&C<o);c.push(...S)}}else{const g=d.getRegionsInside(null,(m,S)=>m.isCollapsed!==a&&S<o);c.push(...g)}d.toggleCollapseState(c)}e.setCollapseStateLevelsDown=w;function b(d,a,o,r){const c=[];for(const g of r){const m=d.getAllRegionsAtLine(g,(S,p)=>S.isCollapsed!==a&&p<=o);c.push(...m)}d.toggleCollapseState(c)}e.setCollapseStateLevelsUp=b;function v(d,a,o){const r=[];for(const c of o){const g=d.getAllRegionsAtLine(c,m=>m.isCollapsed!==a);g.length>0&&r.push(g[0])}d.toggleCollapseState(r)}e.setCollapseStateUp=v;function u(d,a,o,r){const c=(m,S)=>S===a&&m.isCollapsed!==o&&!r.some(p=>m.containsLine(p)),g=d.getRegionsInside(null,c);d.toggleCollapseState(g)}e.setCollapseStateAtLevel=u;function h(d,a,o){const r=[];for(const m of o){const S=d.getAllRegionsAtLine(m,void 0);S.length>0&&r.push(S[0])}const c=m=>r.every(S=>!S.containedBy(m)&&!m.containedBy(S))&&m.isCollapsed!==a,g=d.getRegionsInside(null,c);d.toggleCollapseState(g)}e.setCollapseStateForRest=h;function i(d,a,o){const r=d.textModel,c=d.regions,g=[];for(let m=c.length-1;m>=0;m--)if(o!==c.isCollapsed(m)){const S=c.getStartLineNumber(m);a.test(r.getLineContent(S))&&g.push(c.toRegion(m))}d.toggleCollapseState(g)}e.setCollapseStateForMatchingLines=i;function n(d,a,o){const r=d.regions,c=[];for(let g=r.length-1;g>=0;g--)o!==r.isCollapsed(g)&&a===r.getType(g)&&c.push(r.toRegion(g));d.toggleCollapseState(c)}e.setCollapseStateForType=n;function t(d,a){let o=null;const r=a.getRegionAtLine(d);if(r!==null&&(o=r.startLineNumber,d===o)){const c=r.parentIndex;c!==-1?o=a.regions.getStartLineNumber(c):o=null}return o}e.getParentFoldLine=t;function s(d,a){let o=a.getRegionAtLine(d);if(o!==null&&o.startLineNumber===d){if(d!==o.startLineNumber)return o.startLineNumber;{const r=o.parentIndex;let c=0;for(r!==-1&&(c=a.regions.getStartLineNumber(o.parentIndex));o!==null;)if(o.regionIndex>0){if(o=a.regions.toRegion(o.regionIndex-1),o.startLineNumber<=c)return null;if(o.parentIndex===r)return o.startLineNumber}else return null}}else if(a.regions.length>0)for(o=a.regions.toRegion(a.regions.length-1);o!==null;){if(o.startLineNumber<d)return o.startLineNumber;o.regionIndex>0?o=a.regions.toRegion(o.regionIndex-1):o=null}return null}e.getPreviousFoldLine=s;function l(d,a){let o=a.getRegionAtLine(d);if(o!==null&&o.startLineNumber===d){const r=o.parentIndex;let c=0;if(r!==-1)c=a.regions.getEndLineNumber(o.parentIndex);else{if(a.regions.length===0)return null;c=a.regions.getEndLineNumber(a.regions.length-1)}for(;o!==null;)if(o.regionIndex<a.regions.length){if(o=a.regions.toRegion(o.regionIndex+1),o.startLineNumber>=c)return null;if(o.parentIndex===r)return o.startLineNumber}else return null}else if(a.regions.length>0)for(o=a.regions.toRegion(0);o!==null;){if(o.startLineNumber>d)return o.startLineNumber;o.regionIndex<a.regions.length?o=a.regions.toRegion(o.regionIndex+1):o=null}return null}e.getNextFoldLine=l}),define(ne[479],oe([1,0,18,4,3,129]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class w{constructor(h){this._updateEventEmitter=new f.Emitter,this._hasLineChanges=!1,this._foldingModel=h,this._foldingModelListener=h.onDidChange(i=>this.updateHiddenRanges()),this._hiddenRanges=[],h.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(h){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=h.changes.some(i=>i.range.endLineNumber!==i.range.startLineNumber||(0,D.countEOL)(i.text)[0]!==0))}updateHiddenRanges(){let h=!1;const i=[];let n=0,t=0,s=Number.MAX_VALUE,l=-1;const d=this._foldingModel.regions;for(;n<d.length;n++){if(!d.isCollapsed(n))continue;const a=d.getStartLineNumber(n)+1,o=d.getEndLineNumber(n);s<=a&&o<=l||(!h&&t<this._hiddenRanges.length&&this._hiddenRanges[t].startLineNumber===a&&this._hiddenRanges[t].endLineNumber===o?(i.push(this._hiddenRanges[t]),t++):(h=!0,i.push(new N.Range(a,1,o,1))),s=a,l=o)}(this._hasLineChanges||h||t<this._hiddenRanges.length)&&this.applyHiddenRanges(i)}applyMemento(h){if(!Array.isArray(h)||h.length===0)return!1;const i=[];for(const n of h){if(!n.startLineNumber||!n.endLineNumber)return!1;i.push(new N.Range(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(i),!0}getMemento(){return this._hiddenRanges.map(h=>({startLineNumber:h.startLineNumber-1,endLineNumber:h.endLineNumber}))}applyHiddenRanges(h){this._hiddenRanges=h,this._hasLineChanges=!1,this._updateEventEmitter.fire(h)}hasRanges(){return this._hiddenRanges.length>0}isHidden(h){return v(this._hiddenRanges,h)!==null}adjustSelections(h){let i=!1;const n=this._foldingModel.textModel;let t=null;const s=l=>((!t||!b(l,t))&&(t=v(this._hiddenRanges,l)),t?t.startLineNumber-1:null);for(let l=0,d=h.length;l<d;l++){let a=h[l];const o=s(a.startLineNumber);o&&(a=a.setStartPosition(o,n.getLineMaxColumn(o)),i=!0);const r=s(a.endLineNumber);r&&(a=a.setEndPosition(r,n.getLineMaxColumn(r)),i=!0),h[l]=a}return i}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=w;function b(u,h){return u>=h.startLineNumber&&u<=h.endLineNumber}function v(u,h){const i=(0,y.findFirstInSorted)(u,n=>h<n.startLineNumber)-1;return i>=0&&u[i].endLineNumber>=h?u[i]:null}}),define(ne[480],oe([1,0,192,197]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const N=5e3;e.ID_INDENT_PROVIDER="indent";class D{constructor(u,h,i){this.editorModel=u,this.languageConfigurationService=h,this.maxFoldingRegions=i,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(u,h){const i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=i&&!!i.offSide,t=i&&i.markers;return Promise.resolve(b(this.editorModel,n,t,this.maxFoldingRegions,h))}}e.IndentRangeProvider=D;class w{constructor(u,h){this._notifyTooManyRegions=h,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=u}insertFirst(u,h,i){if(u>f.MAX_LINE_NUMBER||h>f.MAX_LINE_NUMBER)return;const n=this._length;this._startIndexes[n]=u,this._endIndexes[n]=h,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(u){var h;if(this._length<=this._foldingRangesLimit){const i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let t=this._length-1,s=0;t>=0;t--,s++)i[s]=this._startIndexes[t],n[s]=this._endIndexes[t];return new f.FoldingRegions(i,n)}else{(h=this._notifyTooManyRegions)===null||h===void 0||h.call(this,this._foldingRangesLimit);let i=0,n=this._indentOccurrences.length;for(let d=0;d<this._indentOccurrences.length;d++){const a=this._indentOccurrences[d];if(a){if(a+i>this._foldingRangesLimit){n=d;break}i+=a}}const t=u.getOptions().tabSize,s=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit);for(let d=this._length-1,a=0;d>=0;d--){const o=this._startIndexes[d],r=u.getLineContent(o),c=(0,y.computeIndentLevel)(r,t);(c<n||c===n&&i++<this._foldingRangesLimit)&&(s[a]=o,l[a]=this._endIndexes[d],a++)}return new f.FoldingRegions(s,l)}}}e.RangesCollector=w;function b(v,u,h,i,n){const t=v.getOptions().tabSize;i=i??N;const s=new w(i,n);let l;h&&(l=new RegExp(`(${h.start.source})|(?:${h.end.source})`));const d=[],a=v.getLineCount()+1;d.push({indent:-1,endAbove:a,line:a});for(let o=v.getLineCount();o>0;o--){const r=v.getLineContent(o),c=(0,y.computeIndentLevel)(r,t);let g=d[d.length-1];if(c===-1){u&&(g.endAbove=o);continue}let m;if(l&&(m=r.match(l)))if(m[1]){let S=d.length-1;for(;S>0&&d[S].indent!==-2;)S--;if(S>0){d.length=S+1,g=d[S],s.insertFirst(o,g.line,c),g.line=o,g.indent=c,g.endAbove=o;continue}}else{d.push({indent:-2,endAbove:o,line:o});continue}if(g.indent>c){do d.pop(),g=d[d.length-1];while(g.indent>c);const S=g.endAbove-1;S-o>=1&&s.insertFirst(o,S,c)}g.indent===c?g.endAbove=o:d.push({indent:c,endAbove:o,line:o})}return s.toIndentRanges(v)}e.computeRanges=b}),define(ne[266],oe([1,0,13,2,197]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const D={};e.ID_SYNTAX_PROVIDER="syntax";class w{constructor(i,n,t,s){this.editorModel=i,this.providers=n,this.limit=s,this.id=e.ID_SYNTAX_PROVIDER;for(const l of n)typeof l.onDidChange=="function"&&(this.disposables||(this.disposables=new f.DisposableStore),this.disposables.add(l.onDidChange(t)))}compute(i,n){return b(this.providers,this.editorModel,i).then(t=>t?u(t,this.limit,n):null)}dispose(){var i;(i=this.disposables)===null||i===void 0||i.dispose()}}e.SyntaxRangeProvider=w;function b(h,i,n){let t=null;const s=h.map((l,d)=>Promise.resolve(l.provideFoldingRanges(i,D,n)).then(a=>{if(!n.isCancellationRequested&&Array.isArray(a)){Array.isArray(t)||(t=[]);const o=i.getLineCount();for(const r of a)r.start>0&&r.end>r.start&&r.end<=o&&t.push({start:r.start,end:r.end,rank:d,kind:r.kind})}},y.onUnexpectedExternalError));return Promise.all(s).then(l=>t)}class v{constructor(i,n){this._notifyTooManyRegions=n,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=i}add(i,n,t,s){if(i>N.MAX_LINE_NUMBER||n>N.MAX_LINE_NUMBER)return;const l=this._length;this._startIndexes[l]=i,this._endIndexes[l]=n,this._nestingLevels[l]=s,this._types[l]=t,this._length++,s<30&&(this._nestingLevelCounts[s]=(this._nestingLevelCounts[s]||0)+1)}toIndentRanges(){var i;if(this._length<=this._foldingRangesLimit){const n=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let s=0;s<this._length;s++)n[s]=this._startIndexes[s],t[s]=this._endIndexes[s];return new N.FoldingRegions(n,t,this._types)}else{(i=this._notifyTooManyRegions)===null||i===void 0||i.call(this,this._foldingRangesLimit);let n=0,t=this._nestingLevelCounts.length;for(let a=0;a<this._nestingLevelCounts.length;a++){const o=this._nestingLevelCounts[a];if(o){if(o+n>this._foldingRangesLimit){t=a;break}n+=o}}const s=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit),d=[];for(let a=0,o=0;a<this._length;a++){const r=this._nestingLevels[a];(r<t||r===t&&n++<this._foldingRangesLimit)&&(s[o]=this._startIndexes[a],l[o]=this._endIndexes[a],d[o]=this._types[a],o++)}return new N.FoldingRegions(s,l,d)}}}e.RangesCollector=v;function u(h,i,n){const t=h.sort((a,o)=>{let r=a.start-o.start;return r===0&&(r=a.rank-o.rank),r}),s=new v(i,n);let l;const d=[];for(const a of t)if(!l)l=a,s.add(a.start,a.end,a.kind&&a.kind.value,d.length);else if(a.start>l.start)if(a.end<=l.end)d.push(l),l=a,s.add(a.start,a.end,a.kind&&a.kind.value,d.length);else{if(a.start>l.end){do l=d.pop();while(l&&a.start>l.end);l&&d.push(l),l=a}s.add(a.start,a.end,a.kind&&a.kind.value,d.length)}return s.toIndentRanges()}e.sanitizeRanges=u}),define(ne[481],oe([1,0,266]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class f{constructor(D,w,b,v){if(this.editorModel=D,this.id=e.ID_INIT_PROVIDER,w.length){const u=h=>({range:{startLineNumber:h.startLineNumber,startColumn:0,endLineNumber:h.endLineNumber,endColumn:D.getLineLength(h.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=D.deltaDecorations([],w.map(u)),this.timeout=setTimeout(b,v)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(D){const w=[];if(this.decorationIds)for(const b of this.decorationIds){const v=this.editorModel.getDecorationRange(b);v&&w.push({start:v.startLineNumber,end:v.endLineNumber,rank:1})}return Promise.resolve((0,y.sanitizeRanges)(w,Number.MAX_VALUE))}}e.InitializingRangeProvider=f}),define(ne[267],oe([1,0,61,3]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class N{static _handleEolEdits(w,b){let v;const u=[];for(const h of b)typeof h.eol=="number"&&(v=h.eol),h.range&&typeof h.text=="string"&&u.push(h);return typeof v=="number"&&w.hasModel()&&w.getModel().pushEOL(v),u}static _isFullModelReplaceEdit(w,b){if(!w.hasModel())return!1;const v=w.getModel(),u=v.validateRange(b.range);return v.getFullModelRange().equalsRange(u)}static execute(w,b,v){v&&w.pushUndoStop();const u=N._handleEolEdits(w,b);u.length===1&&N._isFullModelReplaceEdit(w,u[0])?w.executeEdits("formatEditsCommand",u.map(h=>y.EditOperation.replace(f.Range.lift(h.range),h.text))):w.executeEdits("formatEditsCommand",u.map(h=>y.EditOperation.replaceMove(f.Range.lift(h.range),h.text))),v&&w.pushUndoStop()}}e.FormattingEdit=N}),define(ne[198],oe([1,0,4,2,17]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(i,n){return!!i[n]}class w{constructor(n,t){this.target=n.target,this.hasTriggerModifier=D(n.event,t.triggerModifier),this.hasSideBySideModifier=D(n.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=n.event.detail<=1}}e.ClickLinkMouseEvent=w;class b{constructor(n,t){this.keyCodeIsTriggerKey=n.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=n.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=D(n,t.triggerModifier)}}e.ClickLinkKeyboardEvent=b;class v{constructor(n,t,s,l){this.triggerKey=n,this.triggerModifier=t,this.triggerSideBySideKey=s,this.triggerSideBySideModifier=l}equals(n){return this.triggerKey===n.triggerKey&&this.triggerModifier===n.triggerModifier&&this.triggerSideBySideKey===n.triggerSideBySideKey&&this.triggerSideBySideModifier===n.triggerSideBySideModifier}}e.ClickLinkOptions=v;function u(i){return i==="altKey"?N.isMacintosh?new v(57,"metaKey",6,"altKey"):new v(5,"ctrlKey",6,"altKey"):N.isMacintosh?new v(6,"altKey",57,"metaKey"):new v(6,"altKey",5,"ctrlKey")}class h extends f.Disposable{constructor(n){super();this._onMouseMoveOrRelevantKeyDown=this._register(new y.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new y.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new y.Emitter),this.onCancel=this._onCancel.event,this._editor=n,this._opts=u(this._editor.getOption(71)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(71)){const s=u(this._editor.getOption(71));if(this._opts.equals(s))return;this._opts=s,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new w(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new w(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new w(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new b(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new b(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(n){n.selection&&n.selection.startColumn!==n.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(n){this._lastMouseMoveEvent=n,this._onMouseMoveOrRelevantKeyDown.fire([n,null])}_onEditorMouseDown(n){this._hasTriggerKeyOnMouseDown=n.hasTriggerModifier,this._lineNumberOnMouseDown=n.target.position?n.target.position.lineNumber:0}_onEditorMouseUp(n){const t=n.target.position?n.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(n)}_onEditorKeyDown(n){this._lastMouseMoveEvent&&(n.keyCodeIsTriggerKey||n.keyCodeIsSideBySideKey&&n.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,n]):n.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(n){n.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=h});var Ct=this&&this.__asyncValues||function(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=j[Symbol.asyncIterator],y;return e?e.call(j):(j=typeof __values=="function"?__values(j):j[Symbol.iterator](),y={},f("next"),f("throw"),f("return"),y[Symbol.asyncIterator]=function(){return this},y);function f(D){y[D]=j[D]&&function(w){return new Promise(function(b,v){w=j[D](w),N(b,v,w.done,w.value)})}}function N(D,w,b,v){Promise.resolve(v).then(function(u){D({value:u,done:b})},w)}};define(ne[268],oe([1,0,10,13,4,2]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class w{constructor(u,h,i){this.value=u,this.isComplete=h,this.hasLoadingMessage=i}}e.HoverResult=w;class b extends D.Disposable{constructor(u,h){super();this._editor=u,this._computer=h,this._onResult=this._register(new N.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(54).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(u,h=!0){this._state=u,h&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,y.createCancelableAsyncIterable)(u=>this._computer.computeAsync(u)),(()=>Le(this,void 0,void 0,function*(){var u,h;try{try{for(var i=Ct(this._asyncIterable),n;n=yield i.next(),!n.done;){const t=n.value;t&&(this._result.push(t),this._fireResult())}}catch(t){u={error:t}}finally{try{n&&!n.done&&(h=i.return)&&(yield h.call(i))}finally{if(u)throw u.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(t){(0,f.onUnexpectedError)(t)}}))()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const u=this._state===0,h=this._state===4;this._onResult.fire(new w(this._result.slice(0),u,h))}start(u){if(u===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=b}),define(ne[87],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class y{constructor(D,w){this.priority=D,this.range=w,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,w){return D.type===1&&w.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=y;class f{constructor(D,w,b){this.priority=D,this.owner=w,this.range=b,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,w){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=f,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(ne[482],oe([1,0,23]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class f{constructor(D,w,b){this._editRange=D,this._originalSelection=w,this._text=b}getEditOperations(D,w){w.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,w){const v=w.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new y.Selection(v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn),v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn)):new y.Selection(v.endLineNumber,v.endColumn-this._text.length,v.endLineNumber,v.endColumn)}}e.InPlaceReplaceCommand=f}),define(ne[269],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function y(N,D){let w=0;for(let b=0;b<N.length;b++)N.charAt(b)==="	"?w+=D:w++;return w}e.getSpaceCnt=y;function f(N,D,w){N=N<0?0:N;let b="";if(!w){const v=Math.floor(N/D);N=N%D;for(let u=0;u<v;u++)b+="	"}for(let v=0;v<N;v++)b+=" ";return b}e.generateIndent=f}),define(ne[270],oe([1,0,13,2,11,3,44,22]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class v{constructor(t,s){this.range=t,this.direction=s}}e.InlayHintAnchor=v;class u{constructor(t,s,l){this.hint=t,this.anchor=s,this.provider=l,this._isResolved=!1}with(t){const s=new u(this.hint,t.anchor,this.provider);return s._isResolved=this._isResolved,s._currentResolve=this._currentResolve,s}resolve(t){return Le(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var s,l;return Le(this,void 0,void 0,function*(){try{const d=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=(s=d==null?void 0:d.tooltip)!==null&&s!==void 0?s:this.hint.tooltip,this.hint.label=(l=d==null?void 0:d.label)!==null&&l!==void 0?l:this.hint.label,this._isResolved=!0}catch(d){(0,y.onUnexpectedExternalError)(d),this._isResolved=!1}})}}e.InlayHintItem=u;class h{constructor(t,s,l){this._disposables=new f.DisposableStore,this.ranges=t,this.provider=new Set;const d=[];for(const[a,o]of s){this._disposables.add(a),this.provider.add(o);for(const r of a.hints){const c=l.validatePosition(r.position);let g="before";const m=h._getRangeAtPosition(l,c);let S;m.getStartPosition().isBefore(c)?(S=D.Range.fromPositions(m.getStartPosition(),c),g="after"):(S=D.Range.fromPositions(c,m.getEndPosition()),g="before"),d.push(new u(r,new v(S,g),o))}}this.items=d.sort((a,o)=>N.Position.compare(a.hint.position,o.hint.position))}static create(t,s,l,d){return Le(this,void 0,void 0,function*(){const a=[],o=t.ordered(s).reverse().map(r=>l.map(c=>Le(this,void 0,void 0,function*(){try{const g=yield r.provideInlayHints(s,c,d);(g==null?void 0:g.hints.length)&&a.push([g,r])}catch(g){(0,y.onUnexpectedExternalError)(g)}})));if(yield Promise.all(o.flat()),d.isCancellationRequested||s.isDisposed())throw new y.CancellationError;return new h(l,a,s)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,s){const l=s.lineNumber,d=t.getWordAtPosition(s);if(d)return new D.Range(l,d.startColumn,l,d.endColumn);t.tokenization.tokenizeIfCheap(l);const a=t.tokenization.getLineTokens(l),o=s.column-1,r=a.findTokenIndexAtOffset(o);let c=a.getStartOffset(r),g=a.getEndOffset(r);return g-c==1&&(c===o&&r>1?(c=a.getStartOffset(r-1),g=a.getEndOffset(r-1)):g===o&&r<a.getCount()-1&&(c=a.getStartOffset(r+1),g=a.getEndOffset(r+1))),new D.Range(l,c+1,l,g+1)}}e.InlayHintsFragments=h;function i(n){return b.URI.from({scheme:w.Schemas.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}e.asCommandLink=i}),define(ne[199],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(ne[200],oe([1,0,3]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReadonlyEmptyArray=e.applyEdits=e.createDisposableRef=void 0;function f(v,u){return{object:v,dispose:()=>u==null?void 0:u.dispose()}}e.createDisposableRef=f;function N(v,u){const h=new D(v),i=u.map(n=>{const t=y.Range.lift(n.range);return{startOffset:h.getOffset(t.getStartPosition()),endOffset:h.getOffset(t.getEndPosition()),text:n.text}});i.sort((n,t)=>t.startOffset-n.startOffset);for(const n of i)v=v.substring(0,n.startOffset)+n.text+v.substring(n.endOffset);return v}e.applyEdits=N;class D{constructor(u){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let h=0;h<u.length;h++)u.charAt(h)===`
`&&this.lineStartOffsetByLineIdx.push(h+1)}getOffset(u){return this.lineStartOffsetByLineIdx[u.lineNumber-1]+u.column-1}}const w=[];function b(){return w}e.getReadonlyEmptyArray=b}),define(ne[161],oe([1,0,4,2,200]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class D{constructor(h,i,n=0){this.lineNumber=h,this.parts=i,this.additionalReservedLineCount=n}renderForScreenReader(h){if(this.parts.length===0)return"";const i=this.parts[this.parts.length-1],n=h.substr(0,i.column-1);return(0,N.applyEdits)(n,this.parts.map(s=>({range:{startLineNumber:1,endLineNumber:1,startColumn:s.column,endColumn:s.column},text:s.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(h=>h.lines.length===0)}}e.GhostText=D;class w{constructor(h,i,n){this.column=h,this.lines=i,this.preview=n}}e.GhostTextPart=w;class b{constructor(h,i,n,t,s=0){this.lineNumber=h,this.columnStart=i,this.length=n,this.newLines=t,this.additionalReservedLineCount=s,this.parts=[new w(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(h){return this.newLines.join(`
`)}}e.GhostTextReplacement=b;class v extends f.Disposable{constructor(h){super();this.editor=h,this._expanded=void 0,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(h.onDidChangeConfiguration(i=>{i.hasChanged(107)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(h){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=v}),define(ne[201],oe([1,0,145,9,3,161]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=e.minimizeInlineCompletion=void 0;function w(t,s){if(!s)return s;const l=t.getValueInRange(s.range),d=f.commonPrefixLength(l,s.insertText),a=t.getOffsetAt(s.range.getStartPosition())+d,o=t.getPositionAt(a),r=l.substr(d),c=f.commonSuffixLength(r,s.insertText),g=t.getPositionAt(Math.max(a,t.getOffsetAt(s.range.getEndPosition())-c));return{range:N.Range.fromPositions(o,g),insertText:s.insertText.substr(d,s.insertText.length-d-c),snippetInfo:s.snippetInfo,filterText:s.filterText,additionalTextEdits:s.additionalTextEdits}}e.minimizeInlineCompletion=w;function b(t,s){return t===s?!0:!t||!s?!1:t.range.equalsRange(s.range)&&t.insertText===s.insertText&&t.command===s.command}e.normalizedInlineCompletionsEquals=b;function v(t,s,l,d,a=0){if(t.range.startLineNumber!==t.range.endLineNumber)return;const o=s.getLineContent(t.range.startLineNumber),r=f.getLeadingWhitespace(o).length;if(t.range.startColumn-1<=r){const _=f.getLeadingWhitespace(t.insertText).length,L=o.substring(t.range.startColumn-1,r),E=N.Range.fromPositions(t.range.getStartPosition().delta(0,L.length),t.range.getEndPosition()),I=t.insertText.startsWith(L)?t.insertText.substring(L.length):t.insertText.substring(_);t={range:E,insertText:I,command:t.command,snippetInfo:void 0,filterText:t.filterText,additionalTextEdits:t.additionalTextEdits}}const g=s.getValueInRange(t.range),m=h(g,t.insertText);if(!m)return;const S=t.range.startLineNumber,p=new Array;if(l==="prefix"){const _=m.filter(L=>L.originalLength===0);if(_.length>1||_.length===1&&_[0].originalStart!==g.length)return}const C=t.insertText.length-a;for(const _ of m){const L=t.range.startColumn+_.originalStart+_.originalLength;if(l==="subwordSmart"&&d&&d.lineNumber===t.range.startLineNumber&&L<d.column||_.originalLength>0)return;if(_.modifiedLength===0)continue;const E=_.modifiedStart+_.modifiedLength,I=Math.max(_.modifiedStart,Math.min(E,C)),T=t.insertText.substring(_.modifiedStart,I),P=t.insertText.substring(I,Math.max(_.modifiedStart,E));if(T.length>0){const B=f.splitLines(T);p.push(new D.GhostTextPart(L,B,!1))}if(P.length>0){const B=f.splitLines(P);p.push(new D.GhostTextPart(L,B,!0))}}return new D.GhostText(S,p,0)}e.inlineCompletionToGhostText=v;let u;function h(t,s){if((u==null?void 0:u.originalValue)===t&&(u==null?void 0:u.newValue)===s)return u==null?void 0:u.changes;{let l=n(t,s,!0);if(l){const d=i(l);if(d>0){const a=n(t,s,!1);a&&i(a)<d&&(l=a)}}return u={originalValue:t,newValue:s,changes:l},l}}function i(t){let s=0;for(const l of t)s+=Math.max(l.originalLength-l.modifiedLength,0);return s}function n(t,s,l){if(t.length>5e3||s.length>5e3)return;function d(m){let S=0;for(let p=0,C=m.length;p<C;p++){const _=m.charCodeAt(p);_>S&&(S=_)}return S}const a=Math.max(d(t),d(s));function o(m){if(m<0)throw new Error("unexpected");return a+m+1}function r(m){let S=0,p=0;const C=new Int32Array(m.length);for(let _=0,L=m.length;_<L;_++)if(l&&m[_]==="("){const E=p*100+S;C[_]=o(2*E),S++}else if(l&&m[_]===")"){S=Math.max(S-1,0);const E=p*100+S;C[_]=o(2*E+1),S===0&&p++}else C[_]=m.charCodeAt(_);return C}const c=r(t),g=r(s);return new y.LcsDiff({getElements:()=>c},{getElements:()=>g}).ComputeDiff(!1).changes}}),define(ne[483],oe([1,0,3,23]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class N{constructor(w,b,v){this._selection=w,this._isCopyingDown=b,this._noop=v||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(w,b){let v=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,v.startLineNumber<v.endLineNumber&&v.endColumn===1&&(this._endLineNumberDelta=1,v=v.setEndPosition(v.endLineNumber-1,w.getLineMaxColumn(v.endLineNumber-1)));const u=[];for(let i=v.startLineNumber;i<=v.endLineNumber;i++)u.push(w.getLineContent(i));const h=u.join(`
`);h===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?b.addEditOperation(new y.Range(v.endLineNumber,w.getLineMaxColumn(v.endLineNumber),v.endLineNumber+1,1),v.endLineNumber===w.getLineCount()?"":`
`):this._isCopyingDown?b.addEditOperation(new y.Range(v.startLineNumber,1,v.startLineNumber,1),h+`
`):b.addEditOperation(new y.Range(v.endLineNumber,w.getLineMaxColumn(v.endLineNumber),v.endLineNumber,w.getLineMaxColumn(v.endLineNumber)),`
`+h),this._selectionId=b.trackSelection(v),this._selectionDirection=this._selection.getDirection()}computeCursorState(w,b){let v=b.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let u=v.startLineNumber,h=v.startColumn,i=v.endLineNumber,n=v.endColumn;this._startLineNumberDelta!==0&&(u=u+this._startLineNumberDelta,h=1),this._endLineNumberDelta!==0&&(i=i+this._endLineNumberDelta,n=1),v=f.Selection.createWithDirection(u,h,i,n,this._selectionDirection)}return v}}e.CopyLinesCommand=N}),define(ne[484],oe([1,0,61,3]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class N{constructor(v,u){this.selection=v,this.descending=u,this.selectionId=null}static getCollator(){return N._COLLATOR||(N._COLLATOR=new Intl.Collator),N._COLLATOR}getEditOperations(v,u){const h=w(v,this.selection,this.descending);h&&u.addEditOperation(h.range,h.text),this.selectionId=u.trackSelection(this.selection)}computeCursorState(v,u){return u.getTrackedSelection(this.selectionId)}static canRun(v,u,h){if(v===null)return!1;const i=D(v,u,h);if(!i)return!1;for(let n=0,t=i.before.length;n<t;n++)if(i.before[n]!==i.after[n])return!0;return!1}}e.SortLinesCommand=N,N._COLLATOR=null;function D(b,v,u){const h=v.startLineNumber;let i=v.endLineNumber;if(v.endColumn===1&&i--,h>=i)return null;const n=[];for(let s=h;s<=i;s++)n.push(b.getLineContent(s));let t=n.slice(0);return t.sort(N.getCollator().compare),u===!0&&(t=t.reverse()),{startLineNumber:h,endLineNumber:i,before:n,after:t}}function w(b,v,u){const h=D(b,v,u);return h?y.EditOperation.replace(new f.Range(h.startLineNumber,1,h.endLineNumber,b.getLineMaxColumn(h.endLineNumber)),h.after.join(`
`)):null}}),define(ne[271],oe([1,0,79,11,3]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(b,v){return Le(this,void 0,void 0,function*(){const u=[];for(const h of v){const i=[];u.push(i);const n=new Map;yield new Promise(t=>D._bracketsRightYield(t,0,b,h,n)),yield new Promise(t=>D._bracketsLeftYield(t,0,b,h,n,i))}return u})}static _bracketsRightYield(b,v,u,h,i){const n=new Map,t=Date.now();for(;;){if(v>=D._maxRounds){b();break}if(!h){b();break}const s=u.bracketPairs.findNextBracket(h);if(!s){b();break}if(Date.now()-t>D._maxDuration){setTimeout(()=>D._bracketsRightYield(b,v+1,u,h,i));break}if(s.bracketInfo.isOpeningBracket){const d=s.bracketInfo.bracketText,a=n.has(d)?n.get(d):0;n.set(d,a+1)}else{const d=s.bracketInfo.getClosedBrackets()[0].bracketText;let a=n.has(d)?n.get(d):0;if(a-=1,n.set(d,Math.max(0,a)),a<0){let o=i.get(d);o||(o=new y.LinkedList,i.set(d,o)),o.push(s.range)}}h=s.range.getEndPosition()}}static _bracketsLeftYield(b,v,u,h,i,n){const t=new Map,s=Date.now();for(;;){if(v>=D._maxRounds&&i.size===0){b();break}if(!h){b();break}const l=u.bracketPairs.findPrevBracket(h);if(!l){b();break}if(Date.now()-s>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(b,v+1,u,h,i,n));break}if(l.bracketInfo.isOpeningBracket){const a=l.bracketInfo.bracketText;let o=t.has(a)?t.get(a):0;if(o-=1,t.set(a,Math.max(0,o)),o<0){const r=i.get(a);if(r){const c=r.shift();r.size===0&&i.delete(a);const g=N.Range.fromPositions(l.range.getEndPosition(),c.getStartPosition()),m=N.Range.fromPositions(l.range.getStartPosition(),c.getEndPosition());n.push({range:g}),n.push({range:m}),D._addBracketLeading(u,m,n)}}}else{const a=l.bracketInfo.getClosedBrackets()[0].bracketText,o=t.has(a)?t.get(a):0;t.set(a,o+1)}h=l.range.getStartPosition()}}static _addBracketLeading(b,v,u){if(v.startLineNumber===v.endLineNumber)return;const h=v.startLineNumber,i=b.getLineFirstNonWhitespaceColumn(h);i!==0&&i!==v.startColumn&&(u.push({range:N.Range.fromPositions(new f.Position(h,i),v.getEndPosition())}),u.push({range:N.Range.fromPositions(new f.Position(h,1),v.getEndPosition())}));const n=h-1;if(n>0){const t=b.getLineFirstNonWhitespaceColumn(n);t===v.startColumn&&t!==b.getLineLastNonWhitespaceColumn(n)&&(u.push({range:N.Range.fromPositions(new f.Position(n,t),v.getEndPosition())}),u.push({range:N.Range.fromPositions(new f.Position(n,1),v.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(ne[485],oe([1,0,9,3]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class N{provideSelectionRanges(w,b){const v=[];for(const u of b){const h=[];v.push(h),this._addInWordRanges(h,w,u),this._addWordRanges(h,w,u),this._addWhitespaceLine(h,w,u),h.push({range:w.getFullModelRange()})}return v}_addInWordRanges(w,b,v){const u=b.getWordAtPosition(v);if(!u)return;const{word:h,startColumn:i}=u,n=v.column-i;let t=n,s=n,l=0;for(;t>=0;t--){const d=h.charCodeAt(t);if(t!==n&&(d===95||d===45))break;if((0,y.isLowerAsciiLetter)(d)&&(0,y.isUpperAsciiLetter)(l))break;l=d}for(t+=1;s<h.length;s++){const d=h.charCodeAt(s);if((0,y.isUpperAsciiLetter)(d)&&(0,y.isLowerAsciiLetter)(l))break;if(d===95||d===45)break;l=d}t<s&&w.push({range:new f.Range(v.lineNumber,i+t,v.lineNumber,i+s)})}_addWordRanges(w,b,v){const u=b.getWordAtPosition(v);u&&w.push({range:new f.Range(v.lineNumber,u.startColumn,v.lineNumber,u.endColumn)})}_addWhitespaceLine(w,b,v){b.getLineLength(v.lineNumber)>0&&b.getLineFirstNonWhitespaceColumn(v.lineNumber)===0&&b.getLineLastNonWhitespaceColumn(v.lineNumber)===0&&w.push({range:new f.Range(v.lineNumber,1,v.lineNumber,b.getLineMaxColumn(v.lineNumber))})}}e.WordSelectionRangeProvider=N}),define(ne[88],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class y{constructor(){this.value="",this.pos=0}static isDigitCharacter(l){return l>=48&&l<=57}static isVariableCharacter(l){return l===95||l>=97&&l<=122||l>=65&&l<=90}text(l){this.value=l,this.pos=0}tokenText(l){return this.value.substr(l.pos,l.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const l=this.pos;let d=0,a=this.value.charCodeAt(l),o;if(o=y._table[a],typeof o=="number")return this.pos+=1,{type:o,pos:l,len:1};if(y.isDigitCharacter(a)){o=8;do d+=1,a=this.value.charCodeAt(l+d);while(y.isDigitCharacter(a));return this.pos+=d,{type:o,pos:l,len:d}}if(y.isVariableCharacter(a)){o=9;do a=this.value.charCodeAt(l+ ++d);while(y.isVariableCharacter(a)||y.isDigitCharacter(a));return this.pos+=d,{type:o,pos:l,len:d}}o=10;do d+=1,a=this.value.charCodeAt(l+d);while(!isNaN(a)&&typeof y._table[a]=="undefined"&&!y.isDigitCharacter(a)&&!y.isVariableCharacter(a));return this.pos+=d,{type:o,pos:l,len:d}}}e.Scanner=y,y._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class f{constructor(){this._children=[]}appendChild(l){return l instanceof N&&this._children[this._children.length-1]instanceof N?this._children[this._children.length-1].value+=l.value:(l.parent=this,this._children.push(l)),this}replace(l,d){const{parent:a}=l,o=a.children.indexOf(l),r=a.children.slice(0);r.splice(o,1,...d),a._children=r,function c(g,m){for(const S of g)S.parent=m,c(S.children,S)}(d,a)}get children(){return this._children}get snippet(){let l=this;for(;;){if(!l)return;if(l instanceof n)return l;l=l.parent}}toString(){return this.children.reduce((l,d)=>l+d.toString(),"")}len(){return 0}}e.Marker=f;class N extends f{constructor(l){super();this.value=l}toString(){return this.value}len(){return this.value.length}clone(){return new N(this.value)}}e.Text=N;class D extends f{}e.TransformableMarker=D;class w extends D{constructor(l){super();this.index=l}static compareByIndex(l,d){return l.index===d.index?0:l.isFinalTabstop?1:d.isFinalTabstop||l.index<d.index?-1:l.index>d.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof b?this._children[0]:void 0}clone(){const l=new w(this.index);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(d=>d.clone()),l}}e.Placeholder=w;class b extends f{constructor(){super(...arguments);this.options=[]}appendChild(l){return l instanceof N&&(l.parent=this,this.options.push(l)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const l=new b;return this.options.forEach(l.appendChild,l),l}}e.Choice=b;class v extends f{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(l){const d=this;let a=!1,o=l.replace(this.regexp,function(){return a=!0,d._replace(Array.prototype.slice.call(arguments,0,-2))});return!a&&this._children.some(r=>r instanceof u&&Boolean(r.elseValue))&&(o=this._replace([])),o}_replace(l){let d="";for(const a of this._children)if(a instanceof u){let o=l[a.index]||"";o=a.resolve(o),d+=o}else d+=a.toString();return d}toString(){return""}clone(){const l=new v;return l.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),l._children=this.children.map(d=>d.clone()),l}}e.Transform=v;class u extends f{constructor(l,d,a,o){super();this.index=l,this.shorthandName=d,this.ifValue=a,this.elseValue=o}resolve(l){return this.shorthandName==="upcase"?l?l.toLocaleUpperCase():"":this.shorthandName==="downcase"?l?l.toLocaleLowerCase():"":this.shorthandName==="capitalize"?l?l[0].toLocaleUpperCase()+l.substr(1):"":this.shorthandName==="pascalcase"?l?this._toPascalCase(l):"":this.shorthandName==="camelcase"?l?this._toCamelCase(l):"":Boolean(l)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(l)&&typeof this.elseValue=="string"?this.elseValue:l||""}_toPascalCase(l){const d=l.match(/[a-z0-9]+/gi);return d?d.map(a=>a.charAt(0).toUpperCase()+a.substr(1)).join(""):l}_toCamelCase(l){const d=l.match(/[a-z0-9]+/gi);return d?d.map((a,o)=>o===0?a.charAt(0).toLowerCase()+a.substr(1):a.charAt(0).toUpperCase()+a.substr(1)).join(""):l}clone(){return new u(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=u;class h extends D{constructor(l){super();this.name=l}resolve(l){let d=l.resolve(this);return this.transform&&(d=this.transform.resolve(d||"")),d!==void 0?(this._children=[new N(d)],!0):!1}clone(){const l=new h(this.name);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(d=>d.clone()),l}}e.Variable=h;function i(s,l){const d=[...s];for(;d.length>0;){const a=d.shift();if(!l(a))break;d.unshift(...a.children)}}class n extends f{get placeholderInfo(){if(!this._placeholders){const l=[];let d;this.walk(function(a){return a instanceof w&&(l.push(a),d=!d||d.index<a.index?a:d),!0}),this._placeholders={all:l,last:d}}return this._placeholders}get placeholders(){const{all:l}=this.placeholderInfo;return l}offset(l){let d=0,a=!1;return this.walk(o=>o===l?(a=!0,!1):(d+=o.len(),!0)),a?d:-1}fullLen(l){let d=0;return i([l],a=>(d+=a.len(),!0)),d}enclosingPlaceholders(l){const d=[];let{parent:a}=l;for(;a;)a instanceof w&&d.push(a),a=a.parent;return d}resolveVariables(l){return this.walk(d=>(d instanceof h&&d.resolve(l)&&(this._placeholders=void 0),!0)),this}appendChild(l){return this._placeholders=void 0,super.appendChild(l)}replace(l,d){return this._placeholders=void 0,super.replace(l,d)}clone(){const l=new n;return this._children=this.children.map(d=>d.clone()),l}walk(l){i(this.children,l)}}e.TextmateSnippet=n;class t{constructor(){this._scanner=new y,this._token={type:14,pos:0,len:0}}static escape(l){return l.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(l){return/\${?CLIPBOARD/.test(l)}parse(l,d,a){this._scanner.text(l),this._token=this._scanner.next();const o=new n;for(;this._parse(o););const r=new Map,c=[];let g=0;o.walk(m=>(m instanceof w&&(g+=1,m.isFinalTabstop?r.set(0,void 0):!r.has(m.index)&&m.children.length>0?r.set(m.index,m.children):c.push(m)),!0));for(const m of c){const S=r.get(m.index);if(S){const p=new w(m.index);p.transform=m.transform;for(const C of S)p.appendChild(C.clone());o.replace(m,[p])}}return a||(a=g>0&&d),!r.has(0)&&a&&o.appendChild(new w(0)),o}_accept(l,d){if(l===void 0||this._token.type===l){const a=d?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),a}return!1}_backTo(l){return this._scanner.pos=l.pos+l.len,this._token=l,!1}_until(l){const d=this._token;for(;this._token.type!==l;){if(this._token.type===14)return!1;if(this._token.type===5){const o=this._scanner.next();if(o.type!==0&&o.type!==4&&o.type!==5)return!1}this._token=this._scanner.next()}const a=this._scanner.value.substring(d.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),a}_parse(l){return this._parseEscaped(l)||this._parseTabstopOrVariableName(l)||this._parseComplexPlaceholder(l)||this._parseComplexVariable(l)||this._parseAnything(l)}_parseEscaped(l){let d;return(d=this._accept(5,!0))?(d=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||d,l.appendChild(new N(d)),!0):!1}_parseTabstopOrVariableName(l){let d;const a=this._token;return this._accept(0)&&(d=this._accept(9,!0)||this._accept(8,!0))?(l.appendChild(/^\d+$/.test(d)?new w(Number(d)):new h(d)),!0):this._backTo(a)}_parseComplexPlaceholder(l){let d;const a=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(8,!0))))return this._backTo(a);const r=new w(Number(d));if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(r),!0;if(!this._parse(r))return l.appendChild(new N("${"+d+":")),r.children.forEach(l.appendChild,l),!0}else if(r.index>0&&this._accept(7)){const c=new b;for(;;){if(this._parseChoiceElement(c)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(c),this._accept(4)))return l.appendChild(r),!0}return this._backTo(a),!1}}else return this._accept(6)?this._parseTransform(r)?(l.appendChild(r),!0):(this._backTo(a),!1):this._accept(4)?(l.appendChild(r),!0):this._backTo(a)}_parseChoiceElement(l){const d=this._token,a=[];for(;!(this._token.type===2||this._token.type===7);){let o;if((o=this._accept(5,!0))?o=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:o=this._accept(void 0,!0),!o)return this._backTo(d),!1;a.push(o)}return a.length===0?(this._backTo(d),!1):(l.appendChild(new N(a.join(""))),!0)}_parseComplexVariable(l){let d;const a=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(9,!0))))return this._backTo(a);const r=new h(d);if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(r),!0;if(!this._parse(r))return l.appendChild(new N("${"+d+":")),r.children.forEach(l.appendChild,l),!0}else return this._accept(6)?this._parseTransform(r)?(l.appendChild(r),!0):(this._backTo(a),!1):this._accept(4)?(l.appendChild(r),!0):this._backTo(a)}_parseTransform(l){const d=new v;let a="",o="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,a+=r;continue}if(this._token.type!==14){a+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,d.appendChild(new N(r));continue}if(!(this._parseFormatString(d)||this._parseAnything(d)))return!1}for(;!this._accept(4);){if(this._token.type!==14){o+=this._accept(void 0,!0);continue}return!1}try{d.regexp=new RegExp(a,o)}catch{return!1}return l.transform=d,!0}_parseFormatString(l){const d=this._token;if(!this._accept(0))return!1;let a=!1;this._accept(3)&&(a=!0);const o=this._accept(8,!0);if(o)if(a){if(this._accept(4))return l.appendChild(new u(Number(o))),!0;if(!this._accept(1))return this._backTo(d),!1}else return l.appendChild(new u(Number(o))),!0;else return this._backTo(d),!1;if(this._accept(6)){const r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(d),!1):(l.appendChild(new u(Number(o),r)),!0)}else if(this._accept(11)){const r=this._until(4);if(r)return l.appendChild(new u(Number(o),void 0,r,void 0)),!0}else if(this._accept(12)){const r=this._until(4);if(r)return l.appendChild(new u(Number(o),void 0,void 0,r)),!0}else if(this._accept(13)){const r=this._until(1);if(r){const c=this._until(4);if(c)return l.appendChild(new u(Number(o),void 0,r,c)),!0}}else{const r=this._until(4);if(r)return l.appendChild(new u(Number(o),void 0,void 0,r)),!0}return this._backTo(d),!1}_parseAnything(l){return this._token.type!==14?(l.appendChild(new N(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=t}),define(ne[272],oe([1,0,18,64,9]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(v,u){this.leadingLineContent=v,this.characterCountDelta=u}}e.LineContext=D;class w{constructor(v,u,h,i,n,t,s=f.FuzzyScoreOptions.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=w._compareCompletionItems,this._items=v,this._column=u,this._wordDistance=i,this._options=n,this._refilterKind=1,this._lineContext=h,this._fuzzyScoreOptions=s,t==="top"?this._snippetCompareFn=w._compareCompletionItemsSnippetsUp:t==="bottom"&&(this._snippetCompareFn=w._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(v){(this._lineContext.leadingLineContent!==v.leadingLineContent||this._lineContext.characterCountDelta!==v.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<v.characterCountDelta&&this._filteredItems?2:1,this._lineContext=v)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const v=new Set;for(const[u,h]of this._providerInfo)h&&v.add(u);return v}adopt(v){const u=[];for(let h=0;h<this._items.length;)v.has(this._items[h].provider)?h++:(u.push(this._items[h]),this._items[h]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,u}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const v=[],{leadingLineContent:u,characterCountDelta:h}=this._lineContext;let i="",n="";const t=this._refilterKind===1?this._items:this._filteredItems,s=[],l=!this._options.filterGraceful||t.length>2e3?f.fuzzyScore:f.fuzzyScoreGracefulAggressive;for(let d=0;d<t.length;d++){const a=t[d];if(a.isInvalid)continue;this._providerInfo.set(a.provider,Boolean(a.container.incomplete));const o=a.position.column-a.editStart.column,r=o+h-(a.position.column-this._column);if(i.length!==r&&(i=r===0?"":u.slice(-r),n=i.toLowerCase()),a.word=i,r===0)a.score=f.FuzzyScore.Default;else{let c=0;for(;c<o;){const g=i.charCodeAt(c);if(g===32||g===9)c+=1;else break}if(c>=r)a.score=f.FuzzyScore.Default;else if(typeof a.completion.filterText=="string"){const g=l(i,n,c,a.completion.filterText,a.filterTextLow,0,this._fuzzyScoreOptions);if(!g)continue;(0,N.compareIgnoreCase)(a.completion.filterText,a.textLabel)===0?a.score=g:(a.score=(0,f.anyScore)(i,n,c,a.textLabel,a.labelLow,0),a.score[0]=g[0])}else{const g=l(i,n,c,a.textLabel,a.labelLow,0,this._fuzzyScoreOptions);if(!g)continue;a.score=g}}a.idx=d,a.distance=this._wordDistance.distance(a.position,a.completion),s.push(a),v.push(a.textLabel.length)}this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:v.length?(0,y.quickSelect)(v.length-.85,v,(d,a)=>d-a):0}}static _compareCompletionItems(v,u){return v.score[0]>u.score[0]?-1:v.score[0]<u.score[0]?1:v.distance<u.distance?-1:v.distance>u.distance?1:v.idx<u.idx?-1:v.idx>u.idx?1:0}static _compareCompletionItemsSnippetsDown(v,u){if(v.completion.kind!==u.completion.kind){if(v.completion.kind===27)return 1;if(u.completion.kind===27)return-1}return w._compareCompletionItems(v,u)}static _compareCompletionItemsSnippetsUp(v,u){if(v.completion.kind!==u.completion.kind){if(v.completion.kind===27)return-1;if(u.completion.kind===27)return 1}return w._compareCompletionItems(v,u)}}e.CompletionModel=w}),define(ne[273],oe([1,0,7,126,4,2]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class w{constructor(){this._onDidWillResize=new N.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new N.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new y.Dimension(0,0),this._minSize=new y.Dimension(0,0),this._maxSize=new y.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new f.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new f.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new f.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:f.OrthogonalEdge.North}),this._southSash=new f.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:f.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let v,u=0,h=0;this._sashListener.add(N.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{v===void 0&&(this._onDidWillResize.fire(),v=this._size,u=0,h=0)})),this._sashListener.add(N.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{v!==void 0&&(v=void 0,u=0,h=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(i=>{v&&(h=i.currentX-i.startX,this.layout(v.height+u,v.width+h),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(i=>{v&&(h=-(i.currentX-i.startX),this.layout(v.height+u,v.width+h),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(i=>{v&&(u=-(i.currentY-i.startY),this.layout(v.height+u,v.width+h),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(i=>{v&&(u=i.currentY-i.startY,this.layout(v.height+u,v.width+h),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(N.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(N.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(v,u,h,i){this._northSash.state=v?3:0,this._eastSash.state=u?3:0,this._southSash.state=h?3:0,this._westSash.state=i?3:0}layout(v=this.size.height,u=this.size.width){const{height:h,width:i}=this._minSize,{height:n,width:t}=this._maxSize;v=Math.max(h,Math.min(n,v)),u=Math.max(i,Math.min(t,u));const s=new y.Dimension(u,v);y.Dimension.equals(s,this._size)||(this.domNode.style.height=v+"px",this.domNode.style.width=u+"px",this._size=s,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(v){this._maxSize=v}get maxSize(){return this._maxSize}set minSize(v){this._minSize=v}get minSize(){return this._minSize}set preferredSize(v){this._preferredSize=v}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=w}),define(ne[486],oe([1,0,18,2,107]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(b,v,u){this._disposables=new f.DisposableStore,this._disposables.add(v.onDidShow(()=>this._onItem(v.getFocusedItem()))),this._disposables.add(v.onDidFocus(this._onItem,this)),this._disposables.add(v.onDidHide(this.reset,this)),this._disposables.add(b.onWillType(h=>{if(this._active&&!v.isFrozen()){const i=h.charCodeAt(h.length-1);this._active.acceptCharacters.has(i)&&b.getOption(0)&&u(this._active.item)}}))}_onItem(b){if(!b||!(0,y.isNonEmptyArray)(b.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===b.item)return;const v=new N.CharacterSet;for(const u of b.item.completion.commitCharacters)u.length>0&&v.add(u.charCodeAt(0));this._active={acceptCharacters:v,item:b}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(ne[487],oe([1,0,2]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class f{constructor(D,w){this._disposables=new y.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(D.onWillType(()=>{if(!this._empty||!D.hasModel())return;const b=D.getSelections(),v=b.length;let u=!1;for(let i=0;i<v;i++)if(!b[i].isEmpty()){u=!0;break}if(!u)return;this._lastOvertyped=[];const h=D.getModel();for(let i=0;i<v;i++){const n=b[i];if(h.getValueLengthInRange(n)>f._maxSelectionLength)return;this._lastOvertyped[i]={value:h.getValueInRange(n),multiline:n.startLineNumber!==n.endLineNumber}}this._empty=!1})),this._disposables.add(w.onDidCancel(b=>{!this._empty&&!b.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(D){if(!this._empty&&D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=f,f._maxSelectionLength=51200}),define(ne[274],oe([1,0,18,3,271]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(b,v){return Le(this,void 0,void 0,function*(){if(!v.getOption(107).localityBonus||!v.hasModel())return D.None;const u=v.getModel(),h=v.getPosition();if(!b.canComputeWordRanges(u.uri))return D.None;const[i]=yield new N.BracketSelectionRangeProvider().provideSelectionRanges(u,[h]);if(i.length===0)return D.None;const n=yield b.computeWordRanges(u.uri,i[0].range);if(!n)return D.None;const t=u.getWordUntilPosition(h);return delete n[t.word],new class extends D{distance(s,l){if(!h.equals(v.getPosition()))return 0;if(l.kind===17)return 2<<20;const d=typeof l.label=="string"?l.label:l.label.label,a=n[d];if((0,y.isFalsyOrEmpty)(a))return 2<<20;const o=(0,y.binarySearch)(a,f.Range.fromPositions(s),f.Range.compareRangesUsingStarts),r=o>=0?a[o]:a[Math.max(0,~o-1)];let c=i.length;for(const g of i){if(!f.Range.containsRange(g.range,r))break;c-=1}return c}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(ne[275],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function y(s){return Array.isArray(s)}e.isFuzzyActionArr=y;function f(s){return!y(s)}e.isFuzzyAction=f;function N(s){return typeof s=="string"}e.isString=N;function D(s){return!N(s)}e.isIAction=D;function w(s){return!s}e.empty=w;function b(s,l){return s.ignoreCase&&l?l.toLowerCase():l}e.fixCase=b;function v(s){return s.replace(/[&<>'"_]/g,"-")}e.sanitize=v;function u(s,l){console.log(`${s.languageId}: ${l}`)}e.log=u;function h(s,l){return new Error(`${s.languageId}: ${l}`)}e.createError=h;function i(s,l,d,a,o){const r=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let c=null;return l.replace(r,function(g,m,S,p,C,_,L,E,I){return w(S)?w(p)?!w(C)&&C<a.length?b(s,a[C]):!w(L)&&s&&typeof s[L]=="string"?s[L]:(c===null&&(c=o.split("."),c.unshift(o)),!w(_)&&_<c.length?b(s,c[_]):""):b(s,d):"$"})}e.substituteMatches=i;function n(s,l){let d=l;for(;d&&d.length>0;){const a=s.tokenizer[d];if(a)return a;const o=d.lastIndexOf(".");o<0?d=null:d=d.substr(0,o)}return null}e.findRules=n;function t(s,l){let d=l;for(;d&&d.length>0;){if(s.stateNames[d])return!0;const o=d.lastIndexOf(".");o<0?d=null:d=d.substr(0,o)}return!1}e.stateExists=t}),define(ne[488],oe([1,0,275]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function f(s,l){if(!l||!Array.isArray(l))return!1;for(const d of l)if(!s(d))return!1;return!0}function N(s,l){return typeof s=="boolean"?s:l}function D(s,l){return typeof s=="string"?s:l}function w(s){const l={};for(const d of s)l[d]=!0;return l}function b(s,l=!1){l&&(s=s.map(function(a){return a.toLowerCase()}));const d=w(s);return l?function(a){return d[a.toLowerCase()]!==void 0&&d.hasOwnProperty(a.toLowerCase())}:function(a){return d[a]!==void 0&&d.hasOwnProperty(a)}}function v(s,l){l=l.replace(/@@/g,"");let d=0,a;do a=!1,l=l.replace(/@(\w+)/g,function(r,c){a=!0;let g="";if(typeof s[c]=="string")g=s[c];else if(s[c]&&s[c]instanceof RegExp)g=s[c].source;else throw s[c]===void 0?y.createError(s,"language definition does not contain attribute '"+c+"', used at: "+l):y.createError(s,"attribute reference '"+c+"' must be a string, used at: "+l);return y.empty(g)?"":"(?:"+g+")"}),d++;while(a&&d<5);l=l.replace(/\x01/g,"@");const o=(s.ignoreCase?"i":"")+(s.unicode?"u":"");return new RegExp(l,o)}function u(s,l,d,a){if(a<0)return s;if(a<l.length)return l[a];if(a>=100){a=a-100;const o=d.split(".");if(o.unshift(d),a<o.length)return o[a]}return null}function h(s,l,d,a){let o=-1,r=d,c=d.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);c&&(c[3]&&(o=parseInt(c[3]),c[2]&&(o=o+100)),r=c[4]);let g="~",m=r;!r||r.length===0?(g="!=",m=""):/^\w*$/.test(m)?g="==":(c=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),c&&(g=c[1],m=c[2]));let S;if((g==="~"||g==="!~")&&/^(\w|\|)*$/.test(m)){const p=b(m.split("|"),s.ignoreCase);S=function(C){return g==="~"?p(C):!p(C)}}else if(g==="@"||g==="!@"){const p=s[m];if(!p)throw y.createError(s,"the @ match target '"+m+"' is not defined, in rule: "+l);if(!f(function(_){return typeof _=="string"},p))throw y.createError(s,"the @ match target '"+m+"' must be an array of strings, in rule: "+l);const C=b(p,s.ignoreCase);S=function(_){return g==="@"?C(_):!C(_)}}else if(g==="~"||g==="!~")if(m.indexOf("$")<0){const p=v(s,"^"+m+"$");S=function(C){return g==="~"?p.test(C):!p.test(C)}}else S=function(p,C,_,L){return v(s,"^"+y.substituteMatches(s,m,C,_,L)+"$").test(p)};else if(m.indexOf("$")<0){const p=y.fixCase(s,m);S=function(C){return g==="=="?C===p:C!==p}}else{const p=y.fixCase(s,m);S=function(C,_,L,E,I){const T=y.substituteMatches(s,p,_,L,E);return g==="=="?C===T:C!==T}}return o===-1?{name:d,value:a,test:function(p,C,_,L){return S(p,p,C,_,L)}}:{name:d,value:a,test:function(p,C,_,L){const E=u(p,C,_,o);return S(E||"",p,C,_,L)}}}function i(s,l,d){if(d){if(typeof d=="string")return d;if(d.token||d.token===""){if(typeof d.token!="string")throw y.createError(s,"a 'token' attribute must be of type string, in rule: "+l);{const a={token:d.token};if(d.token.indexOf("$")>=0&&(a.tokenSubst=!0),typeof d.bracket=="string")if(d.bracket==="@open")a.bracket=1;else if(d.bracket==="@close")a.bracket=-1;else throw y.createError(s,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+l);if(d.next){if(typeof d.next!="string")throw y.createError(s,"the next state must be a string value in rule: "+l);{let o=d.next;if(!/^(@pop|@push|@popall)$/.test(o)&&(o[0]==="@"&&(o=o.substr(1)),o.indexOf("$")<0&&!y.stateExists(s,y.substituteMatches(s,o,"",[],""))))throw y.createError(s,"the next state '"+d.next+"' is not defined in rule: "+l);a.next=o}}return typeof d.goBack=="number"&&(a.goBack=d.goBack),typeof d.switchTo=="string"&&(a.switchTo=d.switchTo),typeof d.log=="string"&&(a.log=d.log),typeof d.nextEmbedded=="string"&&(a.nextEmbedded=d.nextEmbedded,s.usesEmbedded=!0),a}}else if(Array.isArray(d)){const a=[];for(let o=0,r=d.length;o<r;o++)a[o]=i(s,l,d[o]);return{group:a}}else if(d.cases){const a=[];for(const r in d.cases)if(d.cases.hasOwnProperty(r)){const c=i(s,l,d.cases[r]);r==="@default"||r==="@"||r===""?a.push({test:void 0,value:c,name:r}):r==="@eos"?a.push({test:function(g,m,S,p){return p},value:c,name:r}):a.push(h(s,l,r,c))}const o=s.defaultToken;return{test:function(r,c,g,m){for(const S of a)if(!S.test||S.test(r,c,g,m))return S.value;return o}}}else throw y.createError(s,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+l)}else return{token:""}}class n{constructor(l){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=l}setRegex(l,d){let a;if(typeof d=="string")a=d;else if(d instanceof RegExp)a=d.source;else throw y.createError(l,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=a.length>0&&a[0]==="^",this.name=this.name+": "+a,this.regex=v(l,"^(?:"+(this.matchOnlyAtLineStart?a.substr(1):a)+")")}setAction(l,d){this.action=i(l,this.name,d)}}function t(s,l){if(!l||typeof l!="object")throw new Error("Monarch: expecting a language definition object");const d={};d.languageId=s,d.includeLF=N(l.includeLF,!1),d.noThrow=!1,d.maxStack=100,d.start=typeof l.start=="string"?l.start:null,d.ignoreCase=N(l.ignoreCase,!1),d.unicode=N(l.unicode,!1),d.tokenPostfix=D(l.tokenPostfix,"."+d.languageId),d.defaultToken=D(l.defaultToken,"source"),d.usesEmbedded=!1;const a=l;a.languageId=s,a.includeLF=d.includeLF,a.ignoreCase=d.ignoreCase,a.unicode=d.unicode,a.noThrow=d.noThrow,a.usesEmbedded=d.usesEmbedded,a.stateNames=l.tokenizer,a.defaultToken=d.defaultToken;function o(c,g,m){for(const S of m){let p=S.include;if(p){if(typeof p!="string")throw y.createError(d,"an 'include' attribute must be a string at: "+c);if(p[0]==="@"&&(p=p.substr(1)),!l.tokenizer[p])throw y.createError(d,"include target '"+p+"' is not defined at: "+c);o(c+"."+p,g,l.tokenizer[p])}else{const C=new n(c);if(Array.isArray(S)&&S.length>=1&&S.length<=3)if(C.setRegex(a,S[0]),S.length>=3)if(typeof S[1]=="string")C.setAction(a,{token:S[1],next:S[2]});else if(typeof S[1]=="object"){const _=S[1];_.next=S[2],C.setAction(a,_)}else throw y.createError(d,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+c);else C.setAction(a,S[1]);else{if(!S.regex)throw y.createError(d,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+c);S.name&&typeof S.name=="string"&&(C.name=S.name),S.matchOnlyAtStart&&(C.matchOnlyAtLineStart=N(S.matchOnlyAtLineStart,!1)),C.setRegex(a,S.regex),C.setAction(a,S.action)}g.push(C)}}}if(!l.tokenizer||typeof l.tokenizer!="object")throw y.createError(d,"a language definition must define the 'tokenizer' attribute as an object");d.tokenizer=[];for(const c in l.tokenizer)if(l.tokenizer.hasOwnProperty(c)){d.start||(d.start=c);const g=l.tokenizer[c];d.tokenizer[c]=new Array,o("tokenizer."+c,d.tokenizer[c],g)}if(d.usesEmbedded=a.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw y.createError(d,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const r=[];for(const c of l.brackets){let g=c;if(g&&Array.isArray(g)&&g.length===3&&(g={token:g[2],open:g[0],close:g[1]}),g.open===g.close)throw y.createError(d,"open and close brackets in a 'brackets' attribute must be different: "+g.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof g.open=="string"&&typeof g.token=="string"&&typeof g.close=="string")r.push({token:g.token+d.tokenPostfix,open:y.fixCase(d,g.open),close:y.fixCase(d,g.close)});else throw y.createError(d,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return d.brackets=r,d.noThrow=!0,d}e.compile=t}),define(ne[489],oe([5,6]),function(j,e){return j.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ne[490],oe([5,6]),function(j,e){return j.create("vs/base/browser/ui/findinput/findInput",e)}),define(ne[491],oe([5,6]),function(j,e){return j.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(ne[276],oe([1,0,182,27,491]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=N.localize(0,null),w=N.localize(1,null),b=N.localize(2,null);class v extends y.Toggle{constructor(n){super({icon:f.Codicon.caseSensitive,title:D+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.CaseSensitiveToggle=v;class u extends y.Toggle{constructor(n){super({icon:f.Codicon.wholeWord,title:w+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.WholeWordsToggle=u;class h extends y.Toggle{constructor(n){super({icon:f.Codicon.regex,title:b+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.RegexToggle=h}),define(ne[492],oe([5,6]),function(j,e){return j.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ne[493],oe([5,6]),function(j,e){return j.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ne[277],oe([1,0,7,10,21,65,106,2,19,493]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function h(t,s){(0,v.isString)(s)?t.title=(0,w.stripIcons)(s):(s==null?void 0:s.markdownNotSupportedFallback)?t.title=s.markdownNotSupportedFallback:t.removeAttribute("title")}e.setupNativeHover=h;class i{constructor(s,l,d){this.hoverDelegate=s,this.target=l,this.fadeInAnimation=d}update(s,l){var d;return Le(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let a;if(s===void 0||(0,v.isString)(s)||s instanceof HTMLElement)a=s;else if(!(0,v.isFunction)(s.markdown))a=(d=s.markdown)!==null&&d!==void 0?d:s.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,u.localize)(0,null),l),this._cancellationTokenSource=new N.CancellationTokenSource;const o=this._cancellationTokenSource.token;if(a=yield s.markdown(o),a===void 0&&(a=s.markdownNotSupportedFallback),this.isDisposed||o.isCancellationRequested)return}this.show(a,l)})}show(s,l){const d=this._hoverWidget;if(this.hasContent(s)){const a={content:s,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!d};this._hoverWidget=this.hoverDelegate.showHover(a,l)}d==null||d.dispose()}hasContent(s){return s?(0,D.isMarkdownString)(s)?!!s.value:!0:!1}get isDisposed(){var s;return(s=this._hoverWidget)===null||s===void 0?void 0:s.isDisposed}dispose(){var s,l;(s=this._hoverWidget)===null||s===void 0||s.dispose(),(l=this._cancellationTokenSource)===null||l===void 0||l.dispose(!0),this._cancellationTokenSource=void 0}}function n(t,s,l){let d,a;const o=(S,p)=>{var C;S&&(a==null||a.dispose(),a=void 0),p&&(d==null||d.dispose(),d=void 0),(C=t.onDidHideHover)===null||C===void 0||C.call(t)},r=(S,p,C)=>new f.TimeoutTimer(()=>Le(this,void 0,void 0,function*(){(!a||a.isDisposed)&&(a=new i(t,C||s,S>0),yield a.update(l,p))}),S),c=()=>{if(d)return;const S=new b.DisposableStore,p=L=>o(!1,L.fromElement===s);S.add(y.addDisposableListener(s,y.EventType.MOUSE_LEAVE,p,!0));const C=()=>o(!0,!0);S.add(y.addDisposableListener(s,y.EventType.MOUSE_DOWN,C,!0));const _={targetElements:[s],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const L=E=>{_.x=E.x+10,E.target instanceof HTMLElement&&E.target.classList.contains("action-label")&&o(!0,!0)};S.add(y.addDisposableListener(s,y.EventType.MOUSE_MOVE,L,!0))}S.add(r(t.delay,!1,_)),d=S},g=y.addDisposableListener(s,y.EventType.MOUSE_OVER,c,!0);return{show:S=>{o(!1,!0),r(0,S)},hide:()=>{o(!0,!0)},update:S=>Le(this,void 0,void 0,function*(){l=S,yield a==null?void 0:a.update(l)}),dispose:()=>{g.dispose(),o(!0,!0)}}}e.setupCustomHover=n}),define(ne[202],oe([1,0,7,225,277,2,39,143,353]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class v{constructor(s){this._element=s}get element(){return this._element}set textContent(s){this.disposed||s===this._textContent||(this._textContent=s,this._element.textContent=s)}set className(s){this.disposed||s===this._className||(this._className=s,this._element.className=s)}set empty(s){this.disposed||s===this._empty||(this._empty=s,this._element.style.marginLeft=s?"0":"")}dispose(){this.disposed=!0}}class u extends D.Disposable{constructor(s,l){super();this.customHovers=new Map,this.domNode=this._register(new v(y.append(s,y.$(".monaco-icon-label")))),this.labelContainer=y.append(this.domNode.element,y.$(".monaco-icon-label-container"));const d=y.append(this.labelContainer,y.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new v(y.append(this.labelContainer,y.$("span.monaco-icon-description-container")))),(l==null?void 0:l.supportHighlights)||(l==null?void 0:l.supportIcons)?this.nameNode=new n(d,!!l.supportIcons):this.nameNode=new h(d),(l==null?void 0:l.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new f.HighlightedLabel(y.append(this.descriptionContainer.element,y.$("span.label-description")),{supportIcons:!!l.supportIcons}):this.descriptionNodeFactory=()=>this._register(new v(y.append(this.descriptionContainer.element,y.$("span.label-description")))),this.hoverDelegate=l==null?void 0:l.hoverDelegate}get element(){return this.domNode.element}setLabel(s,l,d){const a=["monaco-icon-label"];d&&(d.extraClasses&&a.push(...d.extraClasses),d.italic&&a.push("italic"),d.strikethrough&&a.push("strikethrough")),this.domNode.className=a.join(" "),this.setupHover((d==null?void 0:d.descriptionTitle)?this.labelContainer:this.element,d==null?void 0:d.title),this.nameNode.setLabel(s,d),(l||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof f.HighlightedLabel?(this.descriptionNode.set(l||"",d?d.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,d==null?void 0:d.descriptionTitle)):(this.descriptionNode.textContent=l||"",this.setupHover(this.descriptionNode.element,(d==null?void 0:d.descriptionTitle)||""),this.descriptionNode.empty=!l))}setupHover(s,l){const d=this.customHovers.get(s);if(d&&(d.dispose(),this.customHovers.delete(s)),!l){s.removeAttribute("title");return}if(!this.hoverDelegate)(0,N.setupNativeHover)(s,l);else{const a=(0,N.setupCustomHover)(this.hoverDelegate,s,l);a&&this.customHovers.set(s,a)}}dispose(){super.dispose();for(const s of this.customHovers.values())s.dispose();this.customHovers.clear()}}e.IconLabel=u;class h{constructor(s){this.container=s,this.label=void 0,this.singleLabel=void 0}setLabel(s,l){if(!(this.label===s&&(0,w.equals)(this.options,l)))if(this.label=s,this.options=l,typeof s=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=y.append(this.container,y.$("a.label-name",{id:l==null?void 0:l.domId}))),this.singleLabel.textContent=s;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let d=0;d<s.length;d++){const a=s[d],o=(l==null?void 0:l.domId)&&`${l==null?void 0:l.domId}_${d}`;y.append(this.container,y.$("a.label-name",{id:o,"data-icon-label-count":s.length,"data-icon-label-index":d,role:"treeitem"},a)),d<s.length-1&&y.append(this.container,y.$("span.label-separator",void 0,(l==null?void 0:l.separator)||"/"))}}}}function i(t,s,l){if(!l)return;let d=0;return t.map(a=>{const o={start:d,end:d+a.length},r=l.map(c=>b.Range.intersect(o,c)).filter(c=>!b.Range.isEmpty(c)).map(({start:c,end:g})=>({start:c-d,end:g-d}));return d=o.end+s.length,r})}class n{constructor(s,l){this.container=s,this.supportIcons=l,this.label=void 0,this.singleLabel=void 0}setLabel(s,l){if(!(this.label===s&&(0,w.equals)(this.options,l)))if(this.label=s,this.options=l,typeof s=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new f.HighlightedLabel(y.append(this.container,y.$("a.label-name",{id:l==null?void 0:l.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(s,l==null?void 0:l.matches,void 0,l==null?void 0:l.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const d=(l==null?void 0:l.separator)||"/",a=i(s,d,l==null?void 0:l.matches);for(let o=0;o<s.length;o++){const r=s[o],c=a?a[o]:void 0,g=(l==null?void 0:l.domId)&&`${l==null?void 0:l.domId}_${o}`,m=y.$("a.label-name",{id:g,"data-icon-label-count":s.length,"data-icon-label-index":o,role:"treeitem"});new f.HighlightedLabel(y.append(this.container,m),{supportIcons:this.supportIcons}).set(r,c,void 0,l==null?void 0:l.labelEscapeNewLines),o<s.length-1&&y.append(m,y.$("span.label-separator",void 0,d))}}}}}),define(ne[494],oe([5,6]),function(j,e){return j.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ne[495],oe([5,6]),function(j,e){return j.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ne[496],oe([5,6]),function(j,e){return j.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ne[203],oe([1,0,121,7,95,46,181,127,176,120,18,10,27,223,4,64,2,122,17,496,366]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class c extends w.ElementsDragAndDropData{constructor(F){super(F.elements.map(W=>W.element));this.data=F}}function g(O){return O instanceof w.ElementsDragAndDropData?new c(O):O}class m{constructor(F,W){this.modelProvider=F,this.dnd=W,this.autoExpandDisposable=d.Disposable.None}getDragURI(F){return this.dnd.getDragURI(F.element)}getDragLabel(F,W){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(F.map(M=>M.element),W)}onDragStart(F,W){var M,z;(z=(M=this.dnd).onDragStart)===null||z===void 0||z.call(M,g(F),W)}onDragOver(F,W,M,z,G=!0){const te=this.dnd.onDragOver(g(F),W&&W.element,M,z),X=this.autoExpandNode!==W;if(X&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=W),typeof W=="undefined")return te;if(X&&typeof te!="boolean"&&te.autoExpand&&(this.autoExpandDisposable=(0,i.disposableTimeout)(()=>{const x=this.modelProvider(),U=x.getNodeLocation(W);x.isCollapsed(U)&&x.setCollapsed(U,!1),this.autoExpandNode=void 0},500)),typeof te=="boolean"||!te.accept||typeof te.bubble=="undefined"||te.feedback){if(!G){const x=typeof te=="boolean"?te:te.accept,U=typeof te=="boolean"?void 0:te.effect;return{accept:x,effect:U,feedback:[M]}}return te}if(te.bubble===1){const x=this.modelProvider(),U=x.getNodeLocation(W),q=x.getParentNodeLocation(U),le=x.getNode(q),se=q&&x.getListIndex(q);return this.onDragOver(F,le,se,z,!1)}const J=this.modelProvider(),ie=J.getNodeLocation(W),re=J.getListIndex(ie),Z=J.getListRenderCount(ie);return Object.assign(Object.assign({},te),{feedback:(0,h.range)(re,re+Z)})}drop(F,W,M,z){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(g(F),W&&W.element,M,z)}onDragEnd(F){var W,M;(M=(W=this.dnd).onDragEnd)===null||M===void 0||M.call(W,F)}}function S(O,F){return F&&Object.assign(Object.assign({},F),{identityProvider:F.identityProvider&&{getId(W){return F.identityProvider.getId(W.element)}},dnd:F.dnd&&new m(O,F.dnd),multipleSelectionController:F.multipleSelectionController&&{isSelectionSingleChangeEvent(W){return F.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))},isSelectionRangeChangeEvent(W){return F.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))}},accessibilityProvider:F.accessibilityProvider&&Object.assign(Object.assign({},F.accessibilityProvider),{getSetSize(W){const M=O(),z=M.getNodeLocation(W),G=M.getParentNodeLocation(z);return M.getNode(G).visibleChildrenCount},getPosInSet(W){return W.visibleChildIndex+1},isChecked:F.accessibilityProvider&&F.accessibilityProvider.isChecked?W=>F.accessibilityProvider.isChecked(W.element):void 0,getRole:F.accessibilityProvider&&F.accessibilityProvider.getRole?W=>F.accessibilityProvider.getRole(W.element):()=>"treeitem",getAriaLabel(W){return F.accessibilityProvider.getAriaLabel(W.element)},getWidgetAriaLabel(){return F.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:F.accessibilityProvider&&F.accessibilityProvider.getWidgetRole?()=>F.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:F.accessibilityProvider&&F.accessibilityProvider.getAriaLevel?W=>F.accessibilityProvider.getAriaLevel(W.element):W=>W.depth,getActiveDescendantId:F.accessibilityProvider.getActiveDescendantId&&(W=>F.accessibilityProvider.getActiveDescendantId(W.element))}),keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(W){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W.element)}}),enableKeyboardNavigation:F.simpleKeyboardNavigation})}class p{constructor(F){this.delegate=F}getHeight(F){return this.delegate.getHeight(F.element)}getTemplateId(F){return this.delegate.getTemplateId(F.element)}hasDynamicHeight(F){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(F.element)}setDynamicHeight(F,W){var M,z;(z=(M=this.delegate).setDynamicHeight)===null||z===void 0||z.call(M,F.element,W)}}e.ComposedTreeDelegate=p;var C;(function(O){O.None="none",O.OnHover="onHover",O.Always="always"})(C=e.RenderIndentGuides||(e.RenderIndentGuides={}));class _{constructor(F,W=[]){this._elements=W,this.disposables=new d.DisposableStore,this.onDidChange=s.Event.forEach(F,M=>this._elements=M,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}class L{constructor(F,W,M,z,G={}){var te;this.renderer=F,this.modelProvider=W,this.activeNodes=z,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=L.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new t.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=d.Disposable.None,this.disposables=new d.DisposableStore,this.templateId=F.templateId,this.updateOptions(G),s.Event.map(M,X=>X.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(te=F.onDidChangeTwistieState)===null||te===void 0||te.call(F,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(F={}){if(typeof F.indent!="undefined"&&(this.indent=(0,a.clamp)(F.indent,0,40)),typeof F.renderIndentGuides!="undefined"){const W=F.renderIndentGuides!==C.None;if(W!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=W,this.indentGuidesDisposable.dispose(),W)){const M=new d.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,M),this.indentGuidesDisposable=M,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof F.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=F.hideTwistiesOfChildlessElements)}renderTemplate(F){const W=(0,f.append)(F,(0,f.$)(".monaco-tl-row")),M=(0,f.append)(W,(0,f.$)(".monaco-tl-indent")),z=(0,f.append)(W,(0,f.$)(".monaco-tl-twistie")),G=(0,f.append)(W,(0,f.$)(".monaco-tl-contents")),te=this.renderer.renderTemplate(G);return{container:F,indent:M,twistie:z,indentGuidesDisposable:d.Disposable.None,templateData:te}}renderElement(F,W,M,z){typeof z=="number"&&(this.renderedNodes.set(F,{templateData:M,height:z}),this.renderedElements.set(F.element,F));const G=L.DefaultIndent+(F.depth-1)*this.indent;M.twistie.style.paddingLeft=`${G}px`,M.indent.style.width=`${G+this.indent-16}px`,this.renderTwistie(F,M),typeof z=="number"&&this.renderIndentGuides(F,M),this.renderer.renderElement(F,W,M.templateData,z)}disposeElement(F,W,M,z){var G,te;M.indentGuidesDisposable.dispose(),(te=(G=this.renderer).disposeElement)===null||te===void 0||te.call(G,F,W,M.templateData,z),typeof z=="number"&&(this.renderedNodes.delete(F),this.renderedElements.delete(F.element))}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}onDidChangeTwistieState(F){const W=this.renderedElements.get(F);!W||this.onDidChangeNodeTwistieState(W)}onDidChangeNodeTwistieState(F){const W=this.renderedNodes.get(F);!W||(this.renderTwistie(F,W.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(F,W.templateData))}renderTwistie(F,W){W.twistie.classList.remove(...n.Codicon.treeItemExpanded.classNamesArray);let M=!1;this.renderer.renderTwistie&&(M=this.renderer.renderTwistie(F.element,W.twistie)),F.collapsible&&(!this.hideTwistiesOfChildlessElements||F.visibleChildrenCount>0)?(M||W.twistie.classList.add(...n.Codicon.treeItemExpanded.classNamesArray),W.twistie.classList.add("collapsible"),W.twistie.classList.toggle("collapsed",F.collapsed)):W.twistie.classList.remove("collapsible","collapsed"),F.collapsible?W.container.setAttribute("aria-expanded",String(!F.collapsed)):W.container.removeAttribute("aria-expanded")}renderIndentGuides(F,W){if((0,f.clearNode)(W.indent),W.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const M=new d.DisposableStore,z=this.modelProvider();let G=F;for(;;){const te=z.getNodeLocation(G),X=z.getParentNodeLocation(te);if(!X)break;const J=z.getNode(X),ie=(0,f.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(J)&&ie.classList.add("active"),W.indent.childElementCount===0?W.indent.appendChild(ie):W.indent.insertBefore(ie,W.indent.firstElementChild),this.renderedIndentGuides.add(J,ie),M.add((0,d.toDisposable)(()=>this.renderedIndentGuides.delete(J,ie))),G=J}W.indentGuidesDisposable=M}_onDidChangeActiveNodes(F){if(!this.shouldRenderIndentGuides)return;const W=new Set,M=this.modelProvider();F.forEach(z=>{const G=M.getNodeLocation(z);try{const te=M.getParentNodeLocation(G);z.collapsible&&z.children.length>0&&!z.collapsed?W.add(z):te&&W.add(M.getNode(te))}catch{}}),this.activeIndentNodes.forEach(z=>{W.has(z)||this.renderedIndentGuides.forEach(z,G=>G.classList.remove("active"))}),W.forEach(z=>{this.activeIndentNodes.has(z)||this.renderedIndentGuides.forEach(z,G=>G.classList.add("active"))}),this.activeIndentNodes=W}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,d.dispose)(this.disposables)}}L.DefaultIndent=8;class E{constructor(F,W,M){this.tree=F,this.keyboardNavigationLabelProvider=W,this._filter=M,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new d.DisposableStore,F.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(F){this._pattern=F,this._lowercasePattern=F.toLowerCase()}filter(F,W){if(this._filter){const G=this._filter.filter(F,W);if(this.tree.options.simpleKeyboardNavigation)return G;let te;if(typeof G=="boolean"?te=G?1:0:(0,v.isFilterResult)(G)?te=(0,v.getVisibleState)(G.visibility):te=G,te===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:l.FuzzyScore.Default,visibility:!0};const M=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(F),z=Array.isArray(M)?M:[M];for(const G of z){const te=G&&G.toString();if(typeof te=="undefined")return{data:l.FuzzyScore.Default,visibility:!0};const X=(0,l.fuzzyScore)(this._pattern,this._lowercasePattern,0,te,te.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(X)return this._matchCount++,z.length===1?{data:X,visibility:!0}:{data:{label:te,score:X},visibility:!0}}return this.tree.options.filterOnType?2:{data:l.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,d.dispose)(this.disposables)}}class I{constructor(F,W,M,z,G){this.tree=F,this.view=M,this.filter=z,this.keyboardNavigationDelegate=G,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new s.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new s.Emitter,this.enabledDisposables=new d.DisposableStore,this.disposables=new d.DisposableStore,this.domNode=(0,f.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,f.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,f.append)(M.getHTMLElement(),(0,f.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,f.append)(this.domNode,(0,f.$)("span.label"));const te=(0,f.append)(this.domNode,(0,f.$)(".controls"));this._filterOnType=!!F.options.filterOnType,this.filterOnTypeDomNode=(0,f.append)(te,(0,f.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,f.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,f.append)(te,(0,f.$)("button.clear"+n.Codicon.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,r.localize)(0,null),this.keyboardNavigationEventFilter=F.options.keyboardNavigationEventFilter,W.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(F.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(F){F.simpleKeyboardNavigation?this.disable():this.enable(),typeof F.filterOnType!="undefined"&&(this._filterOnType=!!F.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof F.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=F.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const F=this.enabledDisposables.add(new N.DomEmitter(this.view.getHTMLElement(),"keydown")),W=s.Event.chain(F.event).filter(z=>!(0,b.isInputElement)(z.target)||z.target===this.filterOnTypeDomNode).filter(z=>z.key!=="Dead"&&!/^Media/.test(z.key)).map(z=>new D.StandardKeyboardEvent(z)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(z=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(z)&&!(z.keyCode===18||z.keyCode===16||z.keyCode===15||z.keyCode===17)||(this.pattern.length>0||this.triggered)&&(z.keyCode===9||z.keyCode===1)&&!z.altKey&&!z.ctrlKey&&!z.metaKey||z.keyCode===1&&(o.isMacintosh?z.altKey&&!z.metaKey:z.ctrlKey)&&!z.shiftKey).forEach(z=>{z.stopPropagation(),z.preventDefault()}).event,M=this.enabledDisposables.add(new N.DomEmitter(this.clearDomNode,"click"));s.Event.chain(s.Event.any(W,M.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(F){typeof F=="string"?this.onInput(F):F instanceof MouseEvent||F.keyCode===9||F.keyCode===1&&(o.isMacintosh?F.altKey:F.ctrlKey)?this.onInput(""):F.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+F.browserEvent.key)}onInput(F){const W=this.view.getHTMLElement();F&&!this.domNode.parentElement?W.append(this.domNode):!F&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=F,this._onDidChangePattern.fire(F),this.filter.pattern=F,this.tree.refilter(),F&&this.tree.focusNext(0,!0,void 0,z=>!l.FuzzyScore.isDefault(z.filterData));const M=this.tree.getFocus();if(M.length>0){const z=M[0];this.tree.getRelativeTop(z)===null&&this.tree.reveal(z,.5)}this.render(),F||(this.triggered=!1)}onDragStart(){const F=this.view.getHTMLElement(),{left:W}=(0,f.getDomNodePagePosition)(F),M=F.clientWidth,z=M/2,G=this.domNode.clientWidth,te=new d.DisposableStore;let X=this.positionClassName;const J=()=>{switch(X){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${M-G-6}px`;break}},ie=Z=>{Z.preventDefault();const x=Z.clientX-W;Z.dataTransfer&&(Z.dataTransfer.dropEffect="none"),x<z?X="nw":X="ne",J()},re=()=>{this.positionClassName=X,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,d.dispose)(te)};J(),this.domNode.classList.remove(X),this.domNode.classList.add("dragging"),te.add((0,d.toDisposable)(()=>this.domNode.classList.remove("dragging"))),te.add((0,f.addDisposableListener)(document,"dragover",Z=>ie(Z))),te.add((0,f.addDisposableListener)(this.domNode,"dragend",()=>re())),y.StaticDND.CurrentDragAndDropData=new y.DragAndDropData("vscode-ui"),te.add((0,d.toDisposable)(()=>y.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...n.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...n.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,r.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...n.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...n.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,r.localize)(2,null))}render(){const F=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&F?(this.messageDomNode.textContent=(0,r.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",F),this.domNode.title=(0,r.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(F){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!l.FuzzyScore.isDefault(F.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,d.dispose)(this.disposables)}}function T(O){let F=u.TreeMouseEventTarget.Unknown;return(0,f.hasParentWithClass)(O.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?F=u.TreeMouseEventTarget.Twistie:(0,f.hasParentWithClass)(O.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(F=u.TreeMouseEventTarget.Element),{browserEvent:O.browserEvent,element:O.element?O.element.element:null,target:F}}function P(O,F){F(O),O.children.forEach(W=>P(W,F))}class B{constructor(F,W){this.getFirstViewElementWithTrait=F,this.identityProvider=W,this.nodes=[],this._onDidChange=new s.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(F,W){!(W==null?void 0:W.__forceEvent)&&(0,h.equals)(this.nodes,F)||this._set(F,!1,W)}_set(F,W,M){if(this.nodes=[...F],this.elements=void 0,this._nodeSet=void 0,!W){const z=this;this._onDidChange.fire({get elements(){return z.get()},browserEvent:M})}}get(){return this.elements||(this.elements=this.nodes.map(F=>F.element)),[...this.elements]}getNodes(){return this.nodes}has(F){return this.nodeSet.has(F)}onDidModelSplice({insertedNodes:F,deletedNodes:W}){if(!this.identityProvider){const J=this.createNodeSet(),ie=re=>J.delete(re);W.forEach(re=>P(re,ie)),this.set([...J.values()]);return}const M=new Set,z=J=>M.add(this.identityProvider.getId(J.element).toString());W.forEach(J=>P(J,z));const G=new Map,te=J=>G.set(this.identityProvider.getId(J.element).toString(),J);F.forEach(J=>P(J,te));const X=[];for(const J of this.nodes){const ie=this.identityProvider.getId(J.element).toString();if(!M.has(ie))X.push(J);else{const Z=G.get(ie);Z&&X.push(Z)}}if(this.nodes.length>0&&X.length===0){const J=this.getFirstViewElementWithTrait();J&&X.push(J)}this._set(X,!0)}createNodeSet(){const F=new Set;for(const W of this.nodes)F.add(W);return F}}class R extends b.MouseController{constructor(F,W){super(F);this.tree=W}onViewPointer(F){if((0,b.isInputElement)(F.browserEvent.target)||(0,b.isMonacoEditor)(F.browserEvent.target))return;const W=F.element;if(!W)return super.onViewPointer(F);if(this.isSelectionRangeChangeEvent(F)||this.isSelectionSingleChangeEvent(F))return super.onViewPointer(F);const M=F.browserEvent.target,z=M.classList.contains("monaco-tl-twistie")||M.classList.contains("monaco-icon-label")&&M.classList.contains("folder-icon")&&F.browserEvent.offsetX<16;let G=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?G=this.tree.expandOnlyOnTwistieClick(W.element):G=!!this.tree.expandOnlyOnTwistieClick,G&&!z&&F.browserEvent.detail!==2)return super.onViewPointer(F);if(!this.tree.expandOnDoubleClick&&F.browserEvent.detail===2)return super.onViewPointer(F);if(W.collapsible){const te=this.tree.model,X=te.getNodeLocation(W),J=F.browserEvent.altKey;if(this.tree.setFocus([X]),te.setCollapsed(X,void 0,J),G&&z)return}super.onViewPointer(F)}onDoubleClick(F){F.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(F)}}class k extends b.List{constructor(F,W,M,z,G,te,X,J){super(F,W,M,z,J);this.focusTrait=G,this.selectionTrait=te,this.anchorTrait=X}createMouseController(F){return new R(this,F.tree)}splice(F,W,M=[]){if(super.splice(F,W,M),M.length===0)return;const z=[],G=[];let te;M.forEach((X,J)=>{this.focusTrait.has(X)&&z.push(F+J),this.selectionTrait.has(X)&&G.push(F+J),this.anchorTrait.has(X)&&(te=F+J)}),z.length>0&&super.setFocus((0,h.distinct)([...super.getFocus(),...z])),G.length>0&&super.setSelection((0,h.distinct)([...super.getSelection(),...G])),typeof te=="number"&&super.setAnchor(te)}setFocus(F,W,M=!1){super.setFocus(F,W),M||this.focusTrait.set(F.map(z=>this.element(z)),W)}setSelection(F,W,M=!1){super.setSelection(F,W),M||this.selectionTrait.set(F.map(z=>this.element(z)),W)}setAnchor(F,W=!1){super.setAnchor(F),W||(typeof F=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(F)]))}}class A{constructor(F,W,M,z,G={}){this._user=F,this._options=G,this.eventBufferer=new s.EventBufferer,this.disposables=new d.DisposableStore,this._onWillRefilter=new s.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new s.Emitter;const te=new p(M),X=new s.Relay,J=new s.Relay,ie=this.disposables.add(new _(J.event));this.renderers=z.map(x=>new L(x,()=>this.model,X.event,ie,G));for(const x of this.renderers)this.disposables.add(x);let re;G.keyboardNavigationLabelProvider&&(re=new E(this,G.keyboardNavigationLabelProvider,G.filter),G=Object.assign(Object.assign({},G),{filter:re}),this.disposables.add(re)),this.focus=new B(()=>this.view.getFocusedElements()[0],G.identityProvider),this.selection=new B(()=>this.view.getSelectedElements()[0],G.identityProvider),this.anchor=new B(()=>this.view.getAnchorElement(),G.identityProvider),this.view=new k(F,W,te,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},S(()=>this.model,G)),{tree:this})),this.model=this.createModel(F,this.view,G),X.input=this.model.onDidChangeCollapseState;const Z=s.Event.forEach(this.model.onDidSplice,x=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(x),this.selection.onDidModelSplice(x)})},this.disposables);if(Z(()=>null,null,this.disposables),J.input=s.Event.chain(s.Event.any(Z,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const x=new Set;for(const U of this.focus.getNodes())x.add(U);for(const U of this.selection.getNodes())x.add(U);return[...x.values()]}).event,G.keyboardSupport!==!1){const x=s.Event.chain(this.view.onKeyDown).filter(U=>!(0,b.isInputElement)(U.target)).map(U=>new D.StandardKeyboardEvent(U));x.filter(U=>U.keyCode===15).on(this.onLeftArrow,this,this.disposables),x.filter(U=>U.keyCode===17).on(this.onRightArrow,this,this.disposables),x.filter(U=>U.keyCode===10).on(this.onSpace,this,this.disposables)}if(G.keyboardNavigationLabelProvider){const x=G.keyboardNavigationDelegate||b.DefaultKeyboardNavigationDelegate;this.typeFilterController=new I(this,this.model,this.view,re,x),this.focusNavigationFilter=U=>this.typeFilterController.shouldAllowFocus(U),this.disposables.add(this.typeFilterController)}this.styleElement=(0,f.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===C.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return s.Event.map(this.view.onMouseDblClick,T)}get onPointer(){return s.Event.map(this.view.onPointer,T)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return s.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(F={}){this._options=Object.assign(Object.assign({},this._options),F);for(const W of this.renderers)W.updateOptions(F);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===C.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(F){this.view.scrollTop=F}domFocus(){this.view.domFocus()}layout(F,W){this.view.layout(F,W)}style(F){const W=`.${this.view.domId}`,M=[];F.treeIndentGuidesStroke&&(M.push(`.monaco-list${W}:hover .monaco-tl-indent > .indent-guide, .monaco-list${W}.always .monaco-tl-indent > .indent-guide  { border-color: ${F.treeIndentGuidesStroke.transparent(.4)}; }`),M.push(`.monaco-list${W} .monaco-tl-indent > .indent-guide.active { border-color: ${F.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=M.join(`
`),this.view.style(F)}getParentElement(F){const W=this.model.getParentNodeLocation(F);return this.model.getNode(W).element}getFirstElementChild(F){return this.model.getFirstElementChild(F)}getNode(F){return this.model.getNode(F)}collapse(F,W=!1){return this.model.setCollapsed(F,!0,W)}expand(F,W=!1){return this.model.setCollapsed(F,!1,W)}isCollapsible(F){return this.model.isCollapsible(F)}setCollapsible(F,W){return this.model.setCollapsible(F,W)}isCollapsed(F){return this.model.isCollapsed(F)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(F,W){const M=F.map(G=>this.model.getNode(G));this.selection.set(M,W);const z=F.map(G=>this.model.getListIndex(G)).filter(G=>G>-1);this.view.setSelection(z,W,!0)}getSelection(){return this.selection.get()}setFocus(F,W){const M=F.map(G=>this.model.getNode(G));this.focus.set(M,W);const z=F.map(G=>this.model.getListIndex(G)).filter(G=>G>-1);this.view.setFocus(z,W,!0)}focusNext(F=1,W=!1,M,z=this.focusNavigationFilter){this.view.focusNext(F,W,M,z)}getFocus(){return this.focus.get()}reveal(F,W){this.model.expandTo(F);const M=this.model.getListIndex(F);M!==-1&&this.view.reveal(M,W)}getRelativeTop(F){const W=this.model.getListIndex(F);return W===-1?null:this.view.getRelativeTop(W)}onLeftArrow(F){F.preventDefault(),F.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const M=W[0],z=this.model.getNodeLocation(M);if(!this.model.setCollapsed(z,!0)){const te=this.model.getParentNodeLocation(z);if(!te)return;const X=this.model.getListIndex(te);this.view.reveal(X),this.view.setFocus([X])}}onRightArrow(F){F.preventDefault(),F.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const M=W[0],z=this.model.getNodeLocation(M);if(!this.model.setCollapsed(z,!1)){if(!M.children.some(J=>J.visible))return;const[te]=this.view.getFocus(),X=te+1;this.view.reveal(X),this.view.setFocus([X])}}onSpace(F){F.preventDefault(),F.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const M=W[0],z=this.model.getNodeLocation(M),G=F.browserEvent.altKey;this.model.setCollapsed(z,void 0,G)}dispose(){(0,d.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=A}),define(ne[497],oe([1,0,203,177]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class N extends y.AbstractTree{constructor(w,b,v,u,h,i={}){super(w,b,v,u,i);this.user=w,this.dataSource=h,this.identityProvider=i.identityProvider}createModel(w,b,v){return new f.ObjectTreeModel(w,b,v)}}e.DataTree=N}),define(ne[278],oe([1,0,203,334,177,103,55]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class b extends y.AbstractTree{constructor(n,t,s,l,d={}){super(n,t,s,l,d);this.user=n}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(n,t=w.Iterable.empty(),s){this.model.setChildren(n,t,s)}rerender(n){if(n===void 0){this.view.rerender();return}this.model.rerender(n)}hasElement(n){return this.model.has(n)}createModel(n,t,s){return new N.ObjectTreeModel(n,t,s)}}e.ObjectTree=b;class v{constructor(n,t){this._compressedTreeNodeProvider=n,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(n){const t=this.renderer.renderTemplate(n);return{compressedTreeNode:void 0,data:t}}renderElement(n,t,s,l){const d=this.compressedTreeNodeProvider.getCompressedTreeNode(n.element);d.element.elements.length===1?(s.compressedTreeNode=void 0,this.renderer.renderElement(n,t,s.data,l)):(s.compressedTreeNode=d,this.renderer.renderCompressedElements(d,t,s.data,l))}disposeElement(n,t,s,l){var d,a,o,r;s.compressedTreeNode?(a=(d=this.renderer).disposeCompressedElements)===null||a===void 0||a.call(d,s.compressedTreeNode,t,s.data,l):(r=(o=this.renderer).disposeElement)===null||r===void 0||r.call(o,n,t,s.data,l)}disposeTemplate(n){this.renderer.disposeTemplate(n.data)}renderTwistie(n,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(n,t):!1}}De([D.memoize],v.prototype,"compressedTreeNodeProvider",null);function u(i,n){return n&&Object.assign(Object.assign({},n),{keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let s;try{s=i().getCompressedTreeNode(t)}catch{return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return s.element.elements.length===1?n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(s.element.elements)}}})}class h extends b{constructor(n,t,s,l,d={}){const a=()=>this,o=l.map(r=>new v(a,r));super(n,t,s,o,u(a,d))}setChildren(n,t=w.Iterable.empty(),s){this.model.setChildren(n,t,s)}createModel(n,t,s){return new f.CompressibleObjectTreeModel(n,t,s)}updateOptions(n={}){super.updateOptions(n),typeof n.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(n.compressionEnabled)}getCompressedTreeNode(n=null){return this.model.getCompressedTreeNode(n)}}e.CompressibleObjectTree=h}),define(ne[498],oe([1,0,181,203,176,278,120,10,27,13,4,55,2,19]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function s(B){return Object.assign(Object.assign({},B),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function l(B,R){return R.parent?R.parent===B?!0:l(B,R.parent):!1}function d(B,R){return B===R||l(B,R)||l(R,B)}class a{constructor(R){this.node=R}get element(){return this.node.element.element}get children(){return this.node.children.map(R=>new a(R))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class o{constructor(R,k,A){this.renderer=R,this.nodeMapper=k,this.onDidChangeTwistieState=A,this.renderedNodes=new Map,this.templateId=R.templateId}renderTemplate(R){return{templateData:this.renderer.renderTemplate(R)}}renderElement(R,k,A,O){this.renderer.renderElement(this.nodeMapper.map(R),k,A.templateData,O)}renderTwistie(R,k){return R.slow?(k.classList.add(...v.Codicon.treeItemLoading.classNamesArray),!0):(k.classList.remove(...v.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(R,k,A,O){var F,W;(W=(F=this.renderer).disposeElement)===null||W===void 0||W.call(F,this.nodeMapper.map(R),k,A.templateData,O)}disposeTemplate(R){this.renderer.disposeTemplate(R.templateData)}dispose(){this.renderedNodes.clear()}}function r(B){return{browserEvent:B.browserEvent,elements:B.elements.map(R=>R.element)}}function c(B){return{browserEvent:B.browserEvent,element:B.element&&B.element.element,target:B.target}}class g extends y.ElementsDragAndDropData{constructor(R){super(R.elements.map(k=>k.element));this.data=R}}function m(B){return B instanceof y.ElementsDragAndDropData?new g(B):B}class S{constructor(R){this.dnd=R}getDragURI(R){return this.dnd.getDragURI(R.element)}getDragLabel(R,k){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(R.map(A=>A.element),k)}onDragStart(R,k){var A,O;(O=(A=this.dnd).onDragStart)===null||O===void 0||O.call(A,m(R),k)}onDragOver(R,k,A,O,F=!0){return this.dnd.onDragOver(m(R),k&&k.element,A,O)}drop(R,k,A,O){this.dnd.drop(m(R),k&&k.element,A,O)}onDragEnd(R){var k,A;(A=(k=this.dnd).onDragEnd)===null||A===void 0||A.call(k,R)}}function p(B){return B&&Object.assign(Object.assign({},B),{collapseByDefault:!0,identityProvider:B.identityProvider&&{getId(R){return B.identityProvider.getId(R.element)}},dnd:B.dnd&&new S(B.dnd),multipleSelectionController:B.multipleSelectionController&&{isSelectionSingleChangeEvent(R){return B.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},R),{element:R.element}))},isSelectionRangeChangeEvent(R){return B.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},R),{element:R.element}))}},accessibilityProvider:B.accessibilityProvider&&Object.assign(Object.assign({},B.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:B.accessibilityProvider.getRole?R=>B.accessibilityProvider.getRole(R.element):()=>"treeitem",isChecked:B.accessibilityProvider.isChecked?R=>{var k;return!!((k=B.accessibilityProvider)===null||k===void 0?void 0:k.isChecked(R.element))}:void 0,getAriaLabel(R){return B.accessibilityProvider.getAriaLabel(R.element)},getWidgetAriaLabel(){return B.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:B.accessibilityProvider.getWidgetRole?()=>B.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:B.accessibilityProvider.getAriaLevel&&(R=>B.accessibilityProvider.getAriaLevel(R.element)),getActiveDescendantId:B.accessibilityProvider.getActiveDescendantId&&(R=>B.accessibilityProvider.getActiveDescendantId(R.element))}),filter:B.filter&&{filter(R,k){return B.filter.filter(R.element,k)}},keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},B.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(R){return B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(R.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof B.expandOnlyOnTwistieClick=="undefined"?void 0:typeof B.expandOnlyOnTwistieClick!="function"?B.expandOnlyOnTwistieClick:R=>B.expandOnlyOnTwistieClick(R.element),additionalScrollHeight:B.additionalScrollHeight})}function C(B,R){R(B),B.children.forEach(k=>C(k,R))}class _{constructor(R,k,A,O,F,W={}){this.user=R,this.dataSource=F,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new h.Emitter,this._onDidChangeNodeSlowState=new h.Emitter,this.nodeMapper=new w.WeakMapper(M=>new a(M)),this.disposables=new n.DisposableStore,this.identityProvider=W.identityProvider,this.autoExpandSingleChildren=typeof W.autoExpandSingleChildren=="undefined"?!1:W.autoExpandSingleChildren,this.sorter=W.sorter,this.collapseByDefault=W.collapseByDefault,this.tree=this.createTree(R,k,A,O,W),this.root=s({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return h.Event.map(this.tree.onDidChangeFocus,r)}get onDidChangeSelection(){return h.Event.map(this.tree.onDidChangeSelection,r)}get onMouseDblClick(){return h.Event.map(this.tree.onMouseDblClick,c)}get onPointer(){return h.Event.map(this.tree.onPointer,c)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(R,k,A,O,F){const W=new f.ComposedTreeDelegate(A),M=O.map(G=>new o(G,this.nodeMapper,this._onDidChangeNodeSlowState.event)),z=p(F)||{};return new D.ObjectTree(R,k,W,M,z)}updateOptions(R={}){this.tree.updateOptions(R)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(R){this.tree.scrollTop=R}domFocus(){this.tree.domFocus()}layout(R,k){this.tree.layout(R,k)}style(R){this.tree.style(R)}getInput(){return this.root.element}setInput(R,k){return Le(this,void 0,void 0,function*(){this.refreshPromises.forEach(O=>O.cancel()),this.refreshPromises.clear(),this.root.element=R;const A=k&&{viewState:k,focus:[],selection:[]};yield this._updateChildren(R,!0,!1,A),A&&(this.tree.setFocus(A.focus),this.tree.setSelection(A.selection)),k&&typeof k.scrollTop=="number"&&(this.scrollTop=k.scrollTop)})}_updateChildren(R=this.root.element,k=!0,A=!1,O,F){return Le(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new w.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(R);if(yield this.refreshAndRenderNode(W,k,O,F),A)try{this.tree.rerender(W)}catch{}})}rerender(R){if(R===void 0||R===this.root.element){this.tree.rerender();return}const k=this.getDataNode(R);this.tree.rerender(k)}getNode(R=this.root.element){const k=this.getDataNode(R),A=this.tree.getNode(k===this.root?null:k);return this.nodeMapper.map(A)}collapse(R,k=!1){const A=this.getDataNode(R);return this.tree.collapse(A===this.root?null:A,k)}expand(R,k=!1){return Le(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new w.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event));const A=this.getDataNode(R);if(this.tree.hasElement(A)&&!this.tree.isCollapsible(A)||(A.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event)),A!==this.root&&!A.refreshPromise&&!this.tree.isCollapsed(A)))return!1;const O=this.tree.expand(A===this.root?null:A,k);return A.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event)),O})}setSelection(R,k){const A=R.map(O=>this.getDataNode(O));this.tree.setSelection(A,k)}getSelection(){return this.tree.getSelection().map(k=>k.element)}setFocus(R,k){const A=R.map(O=>this.getDataNode(O));this.tree.setFocus(A,k)}getFocus(){return this.tree.getFocus().map(k=>k.element)}reveal(R,k){this.tree.reveal(this.getDataNode(R),k)}getParentElement(R){const k=this.tree.getParentElement(this.getDataNode(R));return k&&k.element}getFirstElementChild(R=this.root.element){const k=this.getDataNode(R),A=this.tree.getFirstElementChild(k===this.root?null:k);return A&&A.element}getDataNode(R){const k=this.nodes.get(R===this.root.element?null:R);if(!k)throw new w.TreeError(this.user,`Data tree node not found: ${R}`);return k}refreshAndRenderNode(R,k,A,O){return Le(this,void 0,void 0,function*(){yield this.refreshNode(R,k,A),this.render(R,A,O)})}refreshNode(R,k,A){return Le(this,void 0,void 0,function*(){let O;return this.subTreeRefreshPromises.forEach((F,W)=>{!O&&d(W,R)&&(O=F.then(()=>this.refreshNode(R,k,A)))}),O||this.doRefreshSubTree(R,k,A)})}doRefreshSubTree(R,k,A){return Le(this,void 0,void 0,function*(){let O;R.refreshPromise=new Promise(F=>O=F),this.subTreeRefreshPromises.set(R,R.refreshPromise),R.refreshPromise.finally(()=>{R.refreshPromise=void 0,this.subTreeRefreshPromises.delete(R)});try{const F=yield this.doRefreshNode(R,k,A);R.stale=!1,yield b.Promises.settled(F.map(W=>this.doRefreshSubTree(W,k,A)))}finally{O()}})}doRefreshNode(R,k,A){return Le(this,void 0,void 0,function*(){R.hasChildren=!!this.dataSource.hasChildren(R.element);let O;if(!R.hasChildren)O=Promise.resolve(i.Iterable.empty());else{const F=this.doGetChildren(R);if((0,t.isIterable)(F))O=Promise.resolve(F);else{const W=(0,b.timeout)(800);W.then(()=>{R.slow=!0,this._onDidChangeNodeSlowState.fire(R)},M=>null),O=F.finally(()=>W.cancel())}}try{const F=yield O;return this.setChildren(R,F,k,A)}catch(F){if(R!==this.root&&this.tree.hasElement(R)&&this.tree.collapse(R),(0,u.isCancellationError)(F))return[];throw F}finally{R.slow&&(R.slow=!1,this._onDidChangeNodeSlowState.fire(R))}})}doGetChildren(R){let k=this.refreshPromises.get(R);if(k)return k;const A=this.dataSource.getChildren(R.element);return(0,t.isIterable)(A)?this.processChildren(A):(k=(0,b.createCancelablePromise)(()=>Le(this,void 0,void 0,function*(){return this.processChildren(yield A)})),this.refreshPromises.set(R,k),k.finally(()=>{this.refreshPromises.delete(R)}))}_onDidChangeCollapseState({node:R,deep:k}){R.element!==null&&!R.collapsed&&R.element.stale&&(k?this.collapse(R.element.element):this.refreshAndRenderNode(R.element,!1).catch(u.onUnexpectedError))}setChildren(R,k,A,O){const F=[...k];if(R.children.length===0&&F.length===0)return[];const W=new Map,M=new Map;for(const te of R.children)if(W.set(te.element,te),this.identityProvider){const X=this.tree.isCollapsed(te);M.set(te.id,{node:te,collapsed:X})}const z=[],G=F.map(te=>{const X=!!this.dataSource.hasChildren(te);if(!this.identityProvider){const Z=s({element:te,parent:R,hasChildren:X});return X&&this.collapseByDefault&&!this.collapseByDefault(te)&&(Z.collapsedByDefault=!1,z.push(Z)),Z}const J=this.identityProvider.getId(te).toString(),ie=M.get(J);if(ie){const Z=ie.node;return W.delete(Z.element),this.nodes.delete(Z.element),this.nodes.set(te,Z),Z.element=te,Z.hasChildren=X,A?ie.collapsed?(Z.children.forEach(x=>C(x,U=>this.nodes.delete(U.element))),Z.children.splice(0,Z.children.length),Z.stale=!0):z.push(Z):X&&this.collapseByDefault&&!this.collapseByDefault(te)&&(Z.collapsedByDefault=!1,z.push(Z)),Z}const re=s({element:te,parent:R,id:J,hasChildren:X});return O&&O.viewState.focus&&O.viewState.focus.indexOf(J)>-1&&O.focus.push(re),O&&O.viewState.selection&&O.viewState.selection.indexOf(J)>-1&&O.selection.push(re),O&&O.viewState.expanded&&O.viewState.expanded.indexOf(J)>-1?z.push(re):X&&this.collapseByDefault&&!this.collapseByDefault(te)&&(re.collapsedByDefault=!1,z.push(re)),re});for(const te of W.values())C(te,X=>this.nodes.delete(X.element));for(const te of G)this.nodes.set(te.element,te);return R.children.splice(0,R.children.length,...G),R!==this.root&&this.autoExpandSingleChildren&&G.length===1&&z.length===0&&(G[0].collapsedByDefault=!1,z.push(G[0])),z}render(R,k,A){const O=R.children.map(W=>this.asTreeElement(W,k)),F=A&&Object.assign(Object.assign({},A),{diffIdentityProvider:A.diffIdentityProvider&&{getId(W){return A.diffIdentityProvider.getId(W.element)}}});this.tree.setChildren(R===this.root?null:R,O,F),R!==this.root&&this.tree.setCollapsible(R,R.hasChildren),this._onDidRender.fire()}asTreeElement(R,k){if(R.stale)return{element:R,collapsible:R.hasChildren,collapsed:!0};let A;return k&&k.viewState.expanded&&R.id&&k.viewState.expanded.indexOf(R.id)>-1?A=!1:A=R.collapsedByDefault,R.collapsedByDefault=void 0,{element:R,children:R.hasChildren?i.Iterable.map(R.children,O=>this.asTreeElement(O,k)):[],collapsible:R.hasChildren,collapsed:A}}processChildren(R){return this.sorter&&(R=[...R].sort(this.sorter.compare.bind(this.sorter))),R}dispose(){this.disposables.dispose()}}e.AsyncDataTree=_;class L{constructor(R){this.node=R}get element(){return{elements:this.node.element.elements.map(R=>R.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(R=>new L(R))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class E{constructor(R,k,A,O){this.renderer=R,this.nodeMapper=k,this.compressibleNodeMapperProvider=A,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.disposables=[],this.templateId=R.templateId}renderTemplate(R){return{templateData:this.renderer.renderTemplate(R)}}renderElement(R,k,A,O){this.renderer.renderElement(this.nodeMapper.map(R),k,A.templateData,O)}renderCompressedElements(R,k,A,O){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(R),k,A.templateData,O)}renderTwistie(R,k){return R.slow?(k.classList.add(...v.Codicon.treeItemLoading.classNamesArray),!0):(k.classList.remove(...v.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(R,k,A,O){var F,W;(W=(F=this.renderer).disposeElement)===null||W===void 0||W.call(F,this.nodeMapper.map(R),k,A.templateData,O)}disposeCompressedElements(R,k,A,O){var F,W;(W=(F=this.renderer).disposeCompressedElements)===null||W===void 0||W.call(F,this.compressibleNodeMapperProvider().map(R),k,A.templateData,O)}disposeTemplate(R){this.renderer.disposeTemplate(R.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,n.dispose)(this.disposables)}}function I(B){const R=B&&p(B);return R&&Object.assign(Object.assign({},R),{keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},R.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(k){return B.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(k.map(A=>A.element))}})})}class T extends _{constructor(R,k,A,O,F,W,M={}){super(R,k,A,F,W,M);this.compressionDelegate=O,this.compressibleNodeMapper=new w.WeakMapper(z=>new L(z)),this.filter=M.filter}createTree(R,k,A,O,F){const W=new f.ComposedTreeDelegate(A),M=O.map(G=>new E(G,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),z=I(F)||{};return new D.CompressibleObjectTree(R,k,W,M,z)}asTreeElement(R,k){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(R.element)},super.asTreeElement(R,k))}updateOptions(R={}){this.tree.updateOptions(R)}render(R,k){if(!this.identityProvider)return super.render(R,k);const A=J=>this.identityProvider.getId(J).toString(),O=J=>{const ie=new Set;for(const re of J){const Z=this.tree.getCompressedTreeNode(re===this.root?null:re);if(!!Z.element)for(const x of Z.element.elements)ie.add(A(x.element))}return ie},F=O(this.tree.getSelection()),W=O(this.tree.getFocus());super.render(R,k);const M=this.getSelection();let z=!1;const G=this.getFocus();let te=!1;const X=J=>{const ie=J.element;if(ie)for(let re=0;re<ie.elements.length;re++){const Z=A(ie.elements[re].element),x=ie.elements[ie.elements.length-1].element;F.has(Z)&&M.indexOf(x)===-1&&(M.push(x),z=!0),W.has(Z)&&G.indexOf(x)===-1&&(G.push(x),te=!0)}J.children.forEach(X)};X(this.tree.getCompressedTreeNode(R===this.root?null:R)),z&&this.setSelection(M),te&&this.setFocus(G)}processChildren(R){return this.filter&&(R=i.Iterable.filter(R,k=>{const A=this.filter.filter(k,1),O=P(A);if(O===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return O===1})),super.processChildren(R)}}e.CompressibleAsyncDataTree=T;function P(B){return typeof B=="boolean"?B?1:0:(0,N.isFilterResult)(B)?(0,N.getVisibleState)(B.visibility):(0,N.getVisibleState)(B)}}),define(ne[499],oe([5,6]),function(j,e){return j.create("vs/base/common/actions",e)}),define(ne[49],oe([1,0,4,2,499]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends f.Disposable{constructor(i,n="",t="",s=!0,l){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=n,this._cssClass=t,this._enabled=s,this._actionCallback=l}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,n){return Le(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=D;class w extends f.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new y.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new y.Emitter),this.onDidRun=this._onDidRun.event}run(i,n){return Le(this,void 0,void 0,function*(){if(!i.enabled)return;this._onBeforeRun.fire({action:i});let t;try{yield this.runAction(i,n)}catch(s){t=s}this._onDidRun.fire({action:i,error:t})})}runAction(i,n){return Le(this,void 0,void 0,function*(){yield i.run(n)})}}e.ActionRunner=w;class b extends D{constructor(i){super(b.ID,i,i?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=b,b.ID="vs.actions.separator";class v{constructor(i,n,t,s){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=n,this.class=s,this._actions=t}get actions(){return this._actions}dispose(){}run(){return Le(this,void 0,void 0,function*(){})}}e.SubmenuAction=v;class u extends D{constructor(){super(u.ID,N.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=u,u.ID="vs.actions.empty"}),define(ne[135],oe([1,0,36,121,7,60,277,49,2,17,19,489,230]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class n extends v.Disposable{constructor(l,d,a={}){super();this.options=a,this._context=l||this,this._action=d,d instanceof b.Action&&this._register(d.onDidChange(o=>{!this.element||this.handleActionChangeEvent(o)}))}get action(){return this._action}handleActionChangeEvent(l){l.enabled!==void 0&&this.updateEnabled(),l.checked!==void 0&&this.updateChecked(),l.class!==void 0&&this.updateClass(),l.label!==void 0&&(this.updateLabel(),this.updateTooltip()),l.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new b.ActionRunner)),this._actionRunner}set actionRunner(l){this._actionRunner=l}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(l){this._context=l}render(l){const d=this.element=l;this._register(D.Gesture.addTarget(l));const a=this.options&&this.options.draggable;a&&(l.draggable=!0,y.isFirefox&&this._register((0,N.addDisposableListener)(l,N.EventType.DRAG_START,o=>{var r;return(r=o.dataTransfer)===null||r===void 0?void 0:r.setData(f.DataTransfers.TEXT,this._action.label)}))),this._register((0,N.addDisposableListener)(d,D.EventType.Tap,o=>this.onClick(o,!0))),this._register((0,N.addDisposableListener)(d,N.EventType.MOUSE_DOWN,o=>{a||N.EventHelper.stop(o,!0),this._action.enabled&&o.button===0&&d.classList.add("active")})),u.isMacintosh&&this._register((0,N.addDisposableListener)(d,N.EventType.CONTEXT_MENU,o=>{o.button===0&&o.ctrlKey===!0&&this.onClick(o)})),this._register((0,N.addDisposableListener)(d,N.EventType.CLICK,o=>{N.EventHelper.stop(o,!0),this.options&&this.options.isMenu||this.onClick(o)})),this._register((0,N.addDisposableListener)(d,N.EventType.DBLCLICK,o=>{N.EventHelper.stop(o,!0)})),[N.EventType.MOUSE_UP,N.EventType.MOUSE_OUT].forEach(o=>{this._register((0,N.addDisposableListener)(d,o,r=>{N.EventHelper.stop(r),d.classList.remove("active")}))})}onClick(l,d=!1){var a;N.EventHelper.stop(l,!0);const o=h.isUndefinedOrNull(this._context)?((a=this.options)===null||a===void 0?void 0:a.useEventAsContext)?l:{preserveFocus:d}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(l){this.element&&(this.element.tabIndex=l?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=n;class t extends n{constructor(l,d,a={}){super(l,d,a);this.options=a,this.options.icon=a.icon!==void 0?a.icon:!1,this.options.label=a.label!==void 0?a.label:!0,this.cssClass=""}render(l){super.render(l),this.element&&(this.label=(0,N.append)(this.element,(0,N.$)("a.action-label"))),this.label&&(this._action.id===b.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,N.append)(this.element,(0,N.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(l){this.label&&(this.label.tabIndex=l?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let l=null;this.getAction().tooltip?l=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(l=this.getAction().label,this.options.keybinding&&(l=i.localize(0,null,l,this.options.keybinding))),this._applyUpdateTooltip(l)}_applyUpdateTooltip(l){l&&this.label&&(this.label.setAttribute("aria-label",l),this.options.hoverDelegate?(this.label.title="",this.customHover?this.customHover.update(l):(this.customHover=(0,w.setupCustomHover)(this.options.hoverDelegate,this.label,l),this._store.add(this.customHover))):this.label.title=l)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=t}),define(ne[89],oe([1,0,7,46,135,49,4,2,19,230]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class u extends b.Disposable{constructor(i,n={}){var t,s,l,d,a,o;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new w.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new w.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new w.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new w.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=n,this._context=(t=n.context)!==null&&t!==void 0?t:null,this._orientation=(s=this.options.orientation)!==null&&s!==void 0?s:0,this._triggerKeys={keyDown:(d=(l=this.options.triggerKeys)===null||l===void 0?void 0:l.keyDown)!==null&&d!==void 0?d:!1,keys:(o=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&o!==void 0?o:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(g=>this._onDidRun.fire(g))),this._register(this._actionRunner.onBeforeRun(g=>this._onBeforeRun.fire(g))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",n.animated!==!1&&this.domNode.classList.add("animated");let r,c;switch(this._orientation){case 0:r=[15],c=[17];break;case 1:r=[16],c=[18],this.domNode.className+=" vertical";break}this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_DOWN,g=>{const m=new f.StandardKeyboardEvent(g);let S=!0;const p=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;r&&(m.equals(r[0])||m.equals(r[1]))?S=this.focusPrevious():c&&(m.equals(c[0])||m.equals(c[1]))?S=this.focusNext():m.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():m.equals(14)?S=this.focusFirst():m.equals(13)?S=this.focusLast():m.equals(2)&&p instanceof N.BaseActionViewItem&&p.trapsArrowNavigation?S=this.focusNext():this.isTriggerKeyEvent(m)?this._triggerKeys.keyDown?this.doTrigger(m):this.triggerKeyDown=!0:S=!1,S&&(m.preventDefault(),m.stopPropagation())})),this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_UP,g=>{const m=new f.StandardKeyboardEvent(g);this.isTriggerKeyEvent(m)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(m)),m.preventDefault(),m.stopPropagation()):(m.equals(2)||m.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(y.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(y.getActiveElement()===this.domNode||!y.isAncestor(y.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),i.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(i){if(this.focusable=i,this.focusable){const n=this.viewItems.find(t=>t instanceof N.BaseActionViewItem&&t.isEnabled());n instanceof N.BaseActionViewItem&&n.setFocusable(!0)}else this.viewItems.forEach(n=>{n instanceof N.BaseActionViewItem&&n.setFocusable(!1)})}isTriggerKeyEvent(i){let n=!1;return this._triggerKeys.keys.forEach(t=>{n=n||i.equals(t)}),n}updateFocusedItem(){for(let i=0;i<this.actionsList.children.length;i++){const n=this.actionsList.children[i];if(y.isAncestor(y.getActiveElement(),n)){this.focusedItem=i;break}}}get context(){return this._context}set context(i){this._context=i,this.viewItems.forEach(n=>n.setActionContext(i))}get actionRunner(){return this._actionRunner}set actionRunner(i){i&&(this._actionRunner=i,this.viewItems.forEach(n=>n.actionRunner=i))}getContainer(){return this.domNode}push(i,n={}){const t=Array.isArray(i)?i:[i];let s=v.isNumber(n.index)?n.index:null;t.forEach(l=>{const d=document.createElement("li");d.className="action-item",d.setAttribute("role","presentation");let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(l)),a||(a=new N.ActionViewItem(this.context,l,Object.assign({hoverDelegate:this.options.hoverDelegate},n))),this.options.allowContextMenu||this.viewItemDisposables.set(a,y.addDisposableListener(d,y.EventType.CONTEXT_MENU,o=>{y.EventHelper.stop(o,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(d),this.focusable&&a instanceof N.BaseActionViewItem&&this.viewItems.length===0&&a.setFocusable(!0),s===null||s<0||s>=this.actionsList.children.length?(this.actionsList.appendChild(d),this.viewItems.push(a),this._actionIds.push(l.id)):(this.actionsList.insertBefore(d,this.actionsList.children[s]),this.viewItems.splice(s,0,a),this._actionIds.splice(s,0,l.id),s++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,b.dispose)(this.viewItems),this.viewItemDisposables.forEach(i=>i.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],y.clearNode(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(i){let n=!1,t;if(i===void 0?n=!0:typeof i=="number"?t=i:typeof i=="boolean"&&(n=i),n&&typeof this.focusedItem=="undefined"){const s=this.viewItems.findIndex(l=>l.isEnabled());this.focusedItem=s===-1?void 0:s,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(i){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const n=this.focusedItem;let t;do{if(!i&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=n,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==n&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===D.Separator.ID));return this.updateFocus(),!0}focusPrevious(i){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const n=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!i&&this.options.preventLoopNavigation)return this.focusedItem=n,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==n&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===D.Separator.ID));return this.updateFocus(!0),!0}updateFocus(i,n,t=!1){var s;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:n}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((s=this.viewItems[this.previouslyFocusedItem])===null||s===void 0||s.blur());const l=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(l){let d=!0;v.isFunction(l.focus)||(d=!1),this.options.focusOnlyEnabledItems&&v.isFunction(l.isEnabled)&&!l.isEnabled()&&(d=!1),l.action.id===D.Separator.ID&&(d=!1),d?(t||this.previouslyFocusedItem!==this.focusedItem)&&(l.focus(i),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:n}),this.previouslyFocusedItem=void 0)}}doTrigger(i){if(typeof this.focusedItem=="undefined")return;const n=this.viewItems[this.focusedItem];if(n instanceof N.BaseActionViewItem){const t=n._context===null||n._context===void 0?i:n._context;this.run(n._action,t)}}run(i,n){return Le(this,void 0,void 0,function*(){yield this._actionRunner.run(i,n)})}dispose(){(0,b.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=u}),define(ne[500],oe([1,0,7,46,60,49,4,233]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class b extends D.ActionRunner{constructor(h,i){super();this._onDidChangeVisibility=this._register(new w.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,y.append)(h,(0,y.$)(".monaco-dropdown")),this._label=(0,y.append)(this._element,(0,y.$)(".dropdown-label"));let n=i.labelRenderer;n||(n=s=>(s.textContent=i.label||"",null));for(const s of[y.EventType.CLICK,y.EventType.MOUSE_DOWN,N.EventType.Tap])this._register((0,y.addDisposableListener)(this.element,s,l=>y.EventHelper.stop(l,!0)));for(const s of[y.EventType.MOUSE_DOWN,N.EventType.Tap])this._register((0,y.addDisposableListener)(this._label,s,l=>{l instanceof MouseEvent&&l.detail>1||(this.visible?this.hide():this.show())}));this._register((0,y.addDisposableListener)(this._label,y.EventType.KEY_UP,s=>{const l=new f.StandardKeyboardEvent(s);(l.equals(3)||l.equals(10))&&(y.EventHelper.stop(s,!0),this.visible?this.hide():this.show())}));const t=n(this._label);t&&this._register(t),this._register(N.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=b;class v extends b{constructor(h,i){super(h,i);this._actions=[],this._contextMenuProvider=i.contextMenuProvider,this.actions=i.actions||[],this.actionProvider=i.actionProvider,this.menuClassName=i.menuClassName||"",this.menuAsChild=!!i.menuAsChild}set menuOptions(h){this._menuOptions=h}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(h){this._actions=h}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:h=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(h):void 0,getKeyBinding:h=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(h):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=v}),define(ne[501],oe([1,0,7,135,500,4,233]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class w extends f.BaseActionViewItem{constructor(v,u,h,i=Object.create(null)){super(null,v,i);this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.menuActionsOrProvider=u,this.contextMenuProvider=h,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(v){this.actionItem=v;const u=n=>{this.element=(0,y.append)(n,(0,y.$)("a.action-label"));let t=[];return typeof this.options.classNames=="string"?t=this.options.classNames.split(/\s+/g).filter(s=>!!s):this.options.classNames&&(t=this.options.classNames),t.find(s=>s==="icon")||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},h=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:u,menuAsChild:this.options.menuAsChild,actions:h?this.menuActionsOrProvider:void 0,actionProvider:h?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new N.DropdownMenu(v,i)),this._register(this.dropdownMenu.onDidChangeVisibility(n=>{var t;(t=this.element)===null||t===void 0||t.setAttribute("aria-expanded",`${n}`),this._onDidChangeVisibility.fire(n)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const n=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return n.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(v){super.setActionContext(v),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=v:this.dropdownMenu.menuOptions={context:v})}updateEnabled(){var v,u;const h=!this.getAction().enabled;(v=this.actionItem)===null||v===void 0||v.classList.toggle("disabled",h),(u=this.element)===null||u===void 0||u.classList.toggle("disabled",h)}}e.DropdownMenuActionViewItem=w}),define(ne[204],oe([1,0,7,95,179,89,47,74,66,31,4,329,39,494,354]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const s=y.$,l={inputBackground:u.Color.fromHex("#3C3C3C"),inputForeground:u.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:u.Color.fromHex("#55AAFF"),inputValidationInfoBackground:u.Color.fromHex("#063B49"),inputValidationWarningBorder:u.Color.fromHex("#B89500"),inputValidationWarningBackground:u.Color.fromHex("#352A05"),inputValidationErrorBorder:u.Color.fromHex("#BE1100"),inputValidationErrorBackground:u.Color.fromHex("#5A1D1D")};class d extends v.Widget{constructor(r,c,g){var m;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new h.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new h.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=c,this.options=g||Object.create(null),(0,n.mixin)(this.options,l,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(m=this.options.tooltip)!==null&&m!==void 0?m:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=y.append(r,s(".monaco-inputbox.idle"));const S=this.options.flexibleHeight?"textarea":"input",p=y.append(this.element,s(".ibwrapper"));if(this.input=y.append(p,s(S+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=y.append(p,s("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new b.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),y.append(r,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(L=>this.input.scrollTop=L.scrollTop));const C=this._register(new f.DomEmitter(document,"selectionchange")),_=h.Event.filter(C.event,()=>{const L=document.getSelection();return(L==null?void 0:L.anchorNode)===p});this._register(_(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(r){this.placeholder=r,this.input.setAttribute("placeholder",r)}setTooltip(r){this.tooltip=r,this.input.title=r}setAriaLabel(r){this.ariaLabel=r,r?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(r){this.input.value!==r&&(this.input.value=r,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:y.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(r=null){this.input.select(),r&&(this.input.setSelectionRange(r.start,r.end),r.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return y.getTotalWidth(this.input)}set width(r){if(this.options.flexibleHeight&&this.options.flexibleWidth){let c=0;if(this.mirror){const g=parseFloat(this.mirror.style.paddingLeft||"")||0,m=parseFloat(this.mirror.style.paddingRight||"")||0;c=g+m}this.input.style.width=r-c+"px"}else this.input.style.width=r+"px";this.mirror&&(this.mirror.style.width=r+"px")}set paddingRight(r){this.input.style.width=`calc(100% - ${r}px)`,this.mirror&&(this.mirror.style.paddingRight=r+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const r=this.cachedContentHeight,c=this.cachedHeight,g=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:r,height:c}),this.scrollableElement.setScrollPosition({scrollTop:g})}showMessage(r,c){this.message=r,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(r.type));const g=this.stylesForType(this.message.type);this.element.style.border=g.border?`1px solid ${g.border}`:"",(this.hasFocus()||c)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let r=null;return this.validation&&(r=this.validation(this.value),r?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(r)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),r==null?void 0:r.type}stylesForType(r){switch(r){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(r){switch(r){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let r;const c=()=>r.style.width=y.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:m=>{if(!this.message)return null;r=y.append(m,s(".monaco-inputbox-container")),c();const S={inline:!0,className:"monaco-inputbox-message"},p=this.message.formatContent?(0,N.renderFormattedText)(this.message.content,S):(0,N.renderText)(this.message.content,S);p.classList.add(this.classForType(this.message.type));const C=this.stylesForType(this.message.type);return p.style.backgroundColor=C.background?C.background.toString():"",p.style.color=C.foreground?C.foreground.toString():"",p.style.border=C.border?`1px solid ${C.border}`:"",y.append(r,p),null},onHide:()=>{this.state="closed"},layout:c});let g;this.message.type===3?g=t.localize(0,null,this.message.content):this.message.type===2?g=t.localize(1,null,this.message.content):g=t.localize(2,null,this.message.content),w.alert(g),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const r=this.value,g=r.charCodeAt(r.length-1)===10?" ":"";(r+g).replace(/\u000c/g,"")?this.mirror.textContent=r+g:this.mirror.innerText="\xA0",this.layout()}style(r){this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const r=this.inputBackground?this.inputBackground.toString():"",c=this.inputForeground?this.inputForeground.toString():"",g=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=r,this.element.style.color=c,this.input.style.backgroundColor="inherit",this.input.style.color=c,this.element.style.borderWidth=g?"1px":"",this.element.style.borderStyle=g?"solid":"",this.element.style.borderColor=g}layout(){if(!this.mirror)return;const r=this.cachedContentHeight;this.cachedContentHeight=y.getTotalHeight(this.mirror),r!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(r){const c=this.inputElement,g=c.selectionStart,m=c.selectionEnd,S=c.value;g!==null&&m!==null&&(this.value=S.substr(0,g)+r+S.substr(m),c.setSelectionRange(g+1,g+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=d;class a extends d{constructor(r,c,g){const m=t.localize(3,null),S=` or \u21C5 ${m}`,p=` (\u21C5 ${m})`;super(r,c,g);this._onDidFocus=this._register(new h.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new h.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new i.HistoryNavigator(g.history,100);const C=()=>{if(g.showHistoryHint&&g.showHistoryHint()&&!this.placeholder.endsWith(S)&&!this.placeholder.endsWith(p)&&this.history.getHistory().length){const _=this.placeholder.endsWith(")")?S:p,L=this.placeholder+_;g.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=L:this.setPlaceHolder(L)}};this.observer=new MutationObserver((_,L)=>{_.forEach(E=>{E.target.textContent||C()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>C()),this.onblur(this.input,()=>{const _=L=>{if(this.placeholder.endsWith(L)){const E=this.placeholder.slice(0,this.placeholder.length-L.length);return g.showPlaceholderOnFocus?this.placeholder=E:this.setPlaceHolder(E),!0}else return!1};_(p)||_(S)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let r=this.getNextValue();r&&(r=r===this.value?this.getNextValue():r),r&&(this.value=r,w.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let r=this.getPreviousValue();r&&(r=r===this.value?this.getPreviousValue():r),r&&(this.value=r,w.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let r=this.history.current();return r||(r=this.history.last(),this.history.next()),r}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=a}),define(ne[502],oe([1,0,7,276,204,66,4,490,234]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=b.localize(0,null);class u extends D.Widget{constructor(i,n,t,s){super();this._showOptionButtons=t,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new w.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new w.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new w.Emitter),this._onKeyUp=this._register(new w.Emitter),this._onCaseSensitiveKeyDown=this._register(new w.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new w.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=n,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||v,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const l=s.appendCaseSensitiveLabel||"",d=s.appendWholeWordsLabel||"",a=s.appendRegexLabel||"",o=s.history||[],r=!!s.flexibleHeight,c=!!s.flexibleWidth,g=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new N.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:o,showHistoryHint:s.showHistoryHint,flexibleHeight:r,flexibleWidth:c,flexibleMaxHeight:g})),this.regex=this._register(new f.RegexToggle({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(S=>{this._onRegexKeyDown.fire(S)})),this.wholeWords=this._register(new f.WholeWordsToggle({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new f.CaseSensitiveToggle({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(S=>{this._onCaseSensitiveKeyDown.fire(S)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());const m=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,S=>{if(S.equals(15)||S.equals(17)||S.equals(9)){const p=m.indexOf(document.activeElement);if(p>=0){let C=-1;S.equals(17)?C=(p+1)%m.length:S.equals(15)&&(p===0?C=m.length-1:C=p-1),S.equals(9)?(m[p].blur(),this.inputBox.focus()):C>=0&&m[C].focus(),y.EventHelper.stop(S,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),i&&i.appendChild(this.domNode),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionstart",S=>{this.imeSessionInProgress=!0})),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionend",S=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,S=>this._onKeyDown.fire(S)),this.onkeyup(this.inputBox.inputElement,S=>this._onKeyUp.fire(S)),this.oninput(this.inputBox.inputElement,S=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,S=>this._onMouseDown.fire(S))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(i),this.wholeWords.style(i),this.caseSensitive.style(i);const n={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(n)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(i){this.caseSensitive.checked=i}getWholeWords(){return this.wholeWords.checked}setWholeWords(i){this.wholeWords.checked=i}getRegex(){return this.regex.checked}setRegex(i){this.regex.checked=i,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=u}),define(ne[503],oe([1,0,7,182,204,66,27,4,492,234]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseToggle=void 0;const u=v.localize(0,null),h=v.localize(1,null);class i extends f.Toggle{constructor(s){super({icon:w.Codicon.preserveCase,title:h+s.appendTitle,isChecked:s.isChecked,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionForeground:s.inputActiveOptionForeground,inputActiveOptionBackground:s.inputActiveOptionBackground})}}e.PreserveCaseToggle=i;class n extends D.Widget{constructor(s,l,d,a){super();this._showOptionButtons=d,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new b.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new b.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new b.Emitter),this._onInput=this._register(new b.Emitter),this._onKeyUp=this._register(new b.Emitter),this._onPreserveCaseKeyDown=this._register(new b.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=l,this.placeholder=a.placeholder||"",this.validation=a.validation,this.label=a.label||u,this.inputActiveOptionBorder=a.inputActiveOptionBorder,this.inputActiveOptionForeground=a.inputActiveOptionForeground,this.inputActiveOptionBackground=a.inputActiveOptionBackground,this.inputBackground=a.inputBackground,this.inputForeground=a.inputForeground,this.inputBorder=a.inputBorder,this.inputValidationInfoBorder=a.inputValidationInfoBorder,this.inputValidationInfoBackground=a.inputValidationInfoBackground,this.inputValidationInfoForeground=a.inputValidationInfoForeground,this.inputValidationWarningBorder=a.inputValidationWarningBorder,this.inputValidationWarningBackground=a.inputValidationWarningBackground,this.inputValidationWarningForeground=a.inputValidationWarningForeground,this.inputValidationErrorBorder=a.inputValidationErrorBorder,this.inputValidationErrorBackground=a.inputValidationErrorBackground,this.inputValidationErrorForeground=a.inputValidationErrorForeground;const o=a.appendPreserveCaseLabel||"",r=a.history||[],c=!!a.flexibleHeight,g=!!a.flexibleWidth,m=a.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new N.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:r,showHistoryHint:a.showHistoryHint,flexibleHeight:c,flexibleWidth:g,flexibleMaxHeight:m})),this.preserveCase=this._register(new i({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(C=>{this._onPreserveCaseKeyDown.fire(C)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const S=[this.preserveCase.domNode];this.onkeydown(this.domNode,C=>{if(C.equals(15)||C.equals(17)||C.equals(9)){const _=S.indexOf(document.activeElement);if(_>=0){let L=-1;C.equals(17)?L=(_+1)%S.length:C.equals(15)&&(_===0?L=S.length-1:L=_-1),C.equals(9)?(S[_].blur(),this.inputBox.focus()):L>=0&&S[L].focus(),y.EventHelper.stop(C,!0)}}});const p=document.createElement("div");p.className="controls",p.style.display=this._showOptionButtons?"block":"none",p.appendChild(this.preserveCase.domNode),this.domNode.appendChild(p),s&&s.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,C=>this._onKeyDown.fire(C)),this.onkeyup(this.inputBox.inputElement,C=>this._onKeyUp.fire(C)),this.oninput(this.inputBox.inputElement,C=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,C=>this._onMouseDown.fire(C))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(s){s?this.enable():this.disable()}style(s){this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const s={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(s);const l={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(l)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(s){this.preserveCase.checked=s}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(s){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=s,this.domNode.style.width=s+"px"}dispose(){super.dispose()}}e.ReplaceInput=n}),define(ne[504],oe([1,0,36,60,7,46,63,89,135,147,231,74,49,10,27,106,2,17,9]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var r;(function(_){_[_.Right=0]="Right",_[_.Left=1]="Left"})(r=e.Direction||(e.Direction={}));class c extends b.ActionBar{constructor(L,E,I={}){L.classList.add("monaco-menu-container"),L.setAttribute("role","presentation");const T=document.createElement("div");T.classList.add("monaco-menu"),T.setAttribute("role","presentation");super(T,{orientation:1,actionViewItemProvider:R=>this.doGetActionViewItem(R,I,P),context:I.context,actionRunner:I.actionRunner,ariaLabel:I.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...a.isMacintosh||a.isLinux?[10]:[]],keyDown:!0}});this.menuElement=T,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new d.DisposableStore),this.initializeOrUpdateStyleSheet(L,{}),this._register(f.Gesture.addTarget(T)),(0,N.addDisposableListener)(T,N.EventType.KEY_DOWN,R=>{new D.StandardKeyboardEvent(R).equals(2)&&R.preventDefault()}),I.enableMnemonics&&this.menuDisposables.add((0,N.addDisposableListener)(T,N.EventType.KEY_DOWN,R=>{const k=R.key.toLocaleLowerCase();if(this.mnemonics.has(k)){N.EventHelper.stop(R,!0);const A=this.mnemonics.get(k);if(A.length===1&&(A[0]instanceof m&&A[0].container&&this.focusItemByElement(A[0].container),A[0].onClick(R)),A.length>1){const O=A.shift();O&&O.container&&(this.focusItemByElement(O.container),A.push(O)),this.mnemonics.set(k,A)}}})),a.isLinux&&this._register((0,N.addDisposableListener)(T,N.EventType.KEY_DOWN,R=>{const k=new D.StandardKeyboardEvent(R);k.equals(14)||k.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),N.EventHelper.stop(R,!0)):(k.equals(13)||k.equals(12))&&(this.focusedItem=0,this.focusPrevious(),N.EventHelper.stop(R,!0))})),this._register((0,N.addDisposableListener)(this.domNode,N.EventType.MOUSE_OUT,R=>{const k=R.relatedTarget;(0,N.isAncestor)(k,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),R.stopPropagation())})),this._register((0,N.addDisposableListener)(this.actionsList,N.EventType.MOUSE_OVER,R=>{let k=R.target;if(!(!k||!(0,N.isAncestor)(k,this.actionsList)||k===this.actionsList)){for(;k.parentElement!==this.actionsList&&k.parentElement!==null;)k=k.parentElement;if(k.classList.contains("action-item")){const A=this.focusedItem;this.setFocusedItem(k),A!==this.focusedItem&&this.updateFocus()}}})),this._register(f.Gesture.addTarget(this.actionsList)),this._register((0,N.addDisposableListener)(this.actionsList,f.EventType.Tap,R=>{let k=R.initialTarget;if(!(!k||!(0,N.isAncestor)(k,this.actionsList)||k===this.actionsList)){for(;k.parentElement!==this.actionsList&&k.parentElement!==null;)k=k.parentElement;if(k.classList.contains("action-item")){const A=this.focusedItem;this.setFocusedItem(k),A!==this.focusedItem&&this.updateFocus()}}}));const P={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new i.DomScrollableElement(T,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const B=this.scrollableElement.getDomNode();B.style.position="",this._register((0,N.addDisposableListener)(T,f.EventType.Change,R=>{N.EventHelper.stop(R,!0);const k=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:k-R.translationY})})),this._register((0,N.addDisposableListener)(B,N.EventType.MOUSE_UP,R=>{R.preventDefault()})),T.style.maxHeight=`${Math.max(10,window.innerHeight-L.getBoundingClientRect().top-35)}px`,E=E.filter(R=>{var k;return((k=I.submenuIds)===null||k===void 0?void 0:k.has(R.id))?(console.warn(`Found submenu cycle: ${R.id}`),!1):!0}),this.push(E,{icon:!0,label:!0,isMenu:!0}),L.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(R=>!(R instanceof S)).forEach((R,k,A)=>{R.updatePositionInSet(k+1,A.length)})}initializeOrUpdateStyleSheet(L,E){this.styleSheet||((0,N.isInShadowDOM)(L)?this.styleSheet=(0,N.createStyleSheet)(L):(c.globalStyleSheet||(c.globalStyleSheet=(0,N.createStyleSheet)()),this.styleSheet=c.globalStyleSheet)),this.styleSheet.textContent=C(E,(0,N.isInShadowDOM)(L))}style(L){const E=this.getContainer();this.initializeOrUpdateStyleSheet(E,L);const I=L.foregroundColor?`${L.foregroundColor}`:"",T=L.backgroundColor?`${L.backgroundColor}`:"",P=L.borderColor?`1px solid ${L.borderColor}`:"",B="5px",R=L.shadowColor?`0 2px 8px ${L.shadowColor}`:"";E.style.outline=P,E.style.borderRadius=B,E.style.color=I,E.style.backgroundColor=T,E.style.boxShadow=R,this.viewItems&&this.viewItems.forEach(k=>{(k instanceof g||k instanceof S)&&k.style(L)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(L){const E=this.focusedItem;this.setFocusedItem(L),E!==this.focusedItem&&this.updateFocus()}setFocusedItem(L){for(let E=0;E<this.actionsList.children.length;E++){const I=this.actionsList.children[E];if(L===I){this.focusedItem=E;break}}}updateFocus(L){super.updateFocus(L,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(L,E,I){if(L instanceof n.Separator)return new S(E.context,L,{icon:!0});if(L instanceof n.SubmenuAction){const T=new m(L,L.actions,I,Object.assign(Object.assign({},E),{submenuIds:new Set([...E.submenuIds||[],L.id])}));if(E.enableMnemonics){const P=T.getMnemonic();if(P&&T.isEnabled()){let B=[];this.mnemonics.has(P)&&(B=this.mnemonics.get(P)),B.push(T),this.mnemonics.set(P,B)}}return T}else{const T={enableMnemonics:E.enableMnemonics,useEventAsContext:E.useEventAsContext};if(E.getKeyBinding){const B=E.getKeyBinding(L);if(B){const R=B.getLabel();R&&(T.keybinding=R)}}const P=new g(E.context,L,T);if(E.enableMnemonics){const B=P.getMnemonic();if(B&&P.isEnabled()){let R=[];this.mnemonics.has(B)&&(R=this.mnemonics.get(B)),R.push(P),this.mnemonics.set(B,R)}}return P}}}e.Menu=c;class g extends v.BaseActionViewItem{constructor(L,E,I={}){I.isMenu=!0;super(E,E,I);if(this.options=I,this.options.icon=I.icon!==void 0?I.icon:!1,this.options.label=I.label!==void 0?I.label:!0,this.cssClass="",this.options.label&&I.enableMnemonics){const T=this.getAction().label;if(T){const P=e.MENU_MNEMONIC_REGEX.exec(T);P&&(this.mnemonic=(P[1]?P[1]:P[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new t.RunOnceScheduler(()=>{!this.element||(this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_UP,T=>{if(N.EventHelper.stop(T,!0),y.isFirefox){if(new w.StandardMouseEvent(T).rightButton)return;this.onClick(T)}else setTimeout(()=>{this.onClick(T)},0)})),this._register((0,N.addDisposableListener)(this.element,N.EventType.CONTEXT_MENU,T=>{N.EventHelper.stop(T,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(L){super.render(L),!!this.element&&(this.container=L,this.item=(0,N.append)(this.element,(0,N.$)("a.action-menu-item")),this._action.id===n.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,N.append)(this.item,(0,N.$)("span.menu-item-check"+s.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,N.append)(this.item,(0,N.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,N.append)(this.item,(0,N.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(L,E){this.item&&(this.item.setAttribute("aria-posinset",`${L}`),this.item.setAttribute("aria-setsize",`${E}`))}updateLabel(){if(!!this.label&&this.options.label){(0,N.clearNode)(this.label);let L=(0,l.stripIcons)(this.getAction().label);if(L){const E=p(L);this.options.enableMnemonics||(L=E),this.label.setAttribute("aria-label",E.replace(/&&/g,"&"));const I=e.MENU_MNEMONIC_REGEX.exec(L);if(I){L=o.escape(L),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let T=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(L);for(;T&&T[1];)T=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(L);const P=B=>B.replace(/&amp;&amp;/g,"&amp;");T?this.label.append(o.ltrim(P(L.substr(0,T.index))," "),(0,N.$)("u",{"aria-hidden":"true"},T[3]),o.rtrim(P(L.substr(T.index+T[0].length))," ")):this.label.innerText=P(L).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(I[1]?I[1]:I[3]).toLocaleLowerCase())}else this.label.innerText=L.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const L=this.getAction().checked;this.item.classList.toggle("checked",!!L),L!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",L?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const L=this.element&&this.element.classList.contains("focused"),E=L&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,I=L&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,T=L&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",P=L&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=E?E.toString():"",this.item.style.backgroundColor=I?I.toString():"",this.item.style.outline=T,this.item.style.outlineOffset=P),this.check&&(this.check.style.color=E?E.toString():"")}style(L){this.menuStyle=L,this.applyStyle()}}class m extends g{constructor(L,E,I,T){super(L,L,T);this.submenuActions=E,this.parentData=I,this.submenuOptions=T,this.mysubmenu=null,this.submenuDisposables=this._register(new d.DisposableStore),this.mouseOver=!1,this.expandDirection=T&&T.expandDirection!==void 0?T.expandDirection:r.Right,this.showScheduler=new t.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new t.RunOnceScheduler(()=>{this.element&&!(0,N.isAncestor)((0,N.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(L){super.render(L),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,N.append)(this.item,(0,N.$)("span.submenu-indicator"+s.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,N.addDisposableListener)(this.element,N.EventType.KEY_UP,E=>{const I=new D.StandardKeyboardEvent(E);(I.equals(17)||I.equals(3))&&(N.EventHelper.stop(E,!0),this.createSubmenu(!0))})),this._register((0,N.addDisposableListener)(this.element,N.EventType.KEY_DOWN,E=>{const I=new D.StandardKeyboardEvent(E);(0,N.getActiveElement)()===this.item&&(I.equals(17)||I.equals(3))&&N.EventHelper.stop(E,!0)})),this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_OVER,E=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_LEAVE,E=>{this.mouseOver=!1})),this._register((0,N.addDisposableListener)(this.element,N.EventType.FOCUS_OUT,E=>{this.element&&!(0,N.isAncestor)((0,N.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(L){N.EventHelper.stop(L,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(L){if(this.parentData.submenu&&(L||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(L,E,I,T){const P={top:0,left:0};return P.left=(0,h.layout)(L.width,E.width,{position:T===r.Right?0:1,offset:I.left,size:I.width}),P.left>=I.left&&P.left<I.left+I.width&&(I.left+10+E.width<=L.width&&(P.left=I.left+10),I.top+=10,I.height=0),P.top=(0,h.layout)(L.height,E.height,{position:0,offset:I.top,size:0}),P.top+E.height===I.top&&P.top+I.height+E.height<=L.height&&(P.top+=I.height),P}createSubmenu(L=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,N.append)(this.element,(0,N.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const E=getComputedStyle(this.parentData.parent.domNode),I=parseFloat(E.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new c(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new n.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const T=this.element.getBoundingClientRect(),P={top:T.top-I,left:T.left,height:T.height+2*I,width:T.width},B=this.submenuContainer.getBoundingClientRect(),{top:R,left:k}=this.calculateSubmenuMenuLayout(new N.Dimension(window.innerWidth,window.innerHeight),N.Dimension.lift(B),P,this.expandDirection);this.submenuContainer.style.left=`${k-B.left}px`,this.submenuContainer.style.top=`${R-B.top}px`,this.submenuDisposables.add((0,N.addDisposableListener)(this.submenuContainer,N.EventType.KEY_UP,A=>{new D.StandardKeyboardEvent(A).equals(15)&&(N.EventHelper.stop(A,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,N.addDisposableListener)(this.submenuContainer,N.EventType.KEY_DOWN,A=>{new D.StandardKeyboardEvent(A).equals(15)&&N.EventHelper.stop(A,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(L),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(L){var E;this.item&&((E=this.item)===null||E===void 0||E.setAttribute("aria-expanded",L))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const E=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=E?`${E}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class S extends v.ActionViewItem{style(L){this.label&&(this.label.style.borderBottomColor=L.separatorColor?`${L.separatorColor}`:"")}}function p(_){const L=e.MENU_MNEMONIC_REGEX,E=L.exec(_);if(!E)return _;const I=!E[1];return _.replace(L,I?"$2$3":"").trim()}e.cleanMnemonic=p;function C(_,L){let E=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${(0,u.formatRule)(s.Codicon.menuSelection)}
${(0,u.formatRule)(s.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .6em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(L){E+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const I=_.scrollbarShadow;I&&(E+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${I} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${I} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${I} 6px 6px 6px -6px inset;
				}
			`);const T=_.scrollbarSliderBackground;T&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${T};
				}
			`);const P=_.scrollbarSliderHoverBackground;P&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${P};
				}
			`);const B=_.scrollbarSliderActiveBackground;B&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${B};
				}
			`)}return E}}),define(ne[505],oe([1,0,7,46,63,204,2,73,149]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const v=y.$;class u extends w.Disposable{constructor(i){super();this.parent=i,this.onKeyDown=n=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.KEY_DOWN,t=>{n(new f.StandardKeyboardEvent(t))}),this.onMouseDown=n=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.MOUSE_DOWN,t=>{n(new N.StandardMouseEvent(t))}),this.onDidChange=n=>this.inputBox.onDidChange(n),this.container=y.append(this.parent,v(".quick-input-box")),this.inputBox=this._register(new D.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(i){this.inputBox.value=i}select(i=null){this.inputBox.select(i)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(i){this.inputBox.setPlaceHolder(i)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(i){this.inputBox.setAriaLabel(i)}get password(){return this.inputBox.inputElement.type==="password"}set password(i){this.inputBox.inputElement.type=i?"password":"text"}setAttribute(i,n){this.inputBox.inputElement.setAttribute(i,n)}removeAttribute(i){this.inputBox.inputElement.removeAttribute(i)}showDecoration(i){i===b.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:i===b.default.Info?1:i===b.default.Warning?2:3,content:""})}stylesForType(i){return this.inputBox.stylesForType(i===b.default.Info?1:i===b.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(i){this.inputBox.style(i)}}e.QuickInputBox=u}),define(ne[506],oe([5,6]),function(j,e){return j.create("vs/base/common/errorMessage",e)}),define(ne[507],oe([1,0,18,19,506]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(u,h){return h&&(u.stack||u.stacktrace)?N.localize(0,null,b(u),w(u.stack)||w(u.stacktrace)):b(u)}function w(u){return Array.isArray(u)?u.join(`
`):u}function b(u){return typeof u.code=="string"&&typeof u.errno=="number"&&typeof u.syscall=="string"?N.localize(1,null,u.message):u.message||N.localize(2,null)}function v(u=null,h=!1){if(!u)return N.localize(3,null);if(Array.isArray(u)){const i=y.coalesce(u),n=v(i[0],h);return i.length>1?N.localize(4,null,n,i.length):n}if(f.isString(u))return u;if(u.detail){const i=u.detail;if(i.error)return D(i.error,h);if(i.exception)return D(i.exception,h)}return u.stack?D(u,h):u.message?u.message:N.localize(5,null)}e.toErrorMessage=v}),define(ne[508],oe([5,6]),function(j,e){return j.create("vs/base/common/keybindingLabels",e)}),define(ne[205],oe([1,0,508]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class f{constructor(w,b,v=b){this.modifierLabels=[null],this.modifierLabels[2]=w,this.modifierLabels[1]=b,this.modifierLabels[3]=v}toLabel(w,b,v){if(b.length===0)return null;const u=[];for(let h=0,i=b.length;h<i;h++){const n=b[h],t=v(n);if(t===null)return null;u[h]=N(n,t,this.modifierLabels[w])}return u.join(" ")}}e.ModifierLabelProvider=f,e.UILabelProvider=new f({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:y.localize(0,null),shiftKey:y.localize(1,null),altKey:y.localize(2,null),metaKey:y.localize(3,null),separator:"+"},{ctrlKey:y.localize(4,null),shiftKey:y.localize(5,null),altKey:y.localize(6,null),metaKey:y.localize(7,null),separator:"+"}),e.AriaLabelProvider=new f({ctrlKey:y.localize(8,null),shiftKey:y.localize(9,null),altKey:y.localize(10,null),metaKey:y.localize(11,null),separator:"+"},{ctrlKey:y.localize(12,null),shiftKey:y.localize(13,null),altKey:y.localize(14,null),metaKey:y.localize(15,null),separator:"+"},{ctrlKey:y.localize(16,null),shiftKey:y.localize(17,null),altKey:y.localize(18,null),metaKey:y.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new f({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new f({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function N(D,w,b){if(w===null)return"";const v=[];return D.ctrlKey&&v.push(b.ctrlKey),D.shiftKey&&v.push(b.shiftKey),D.altKey&&v.push(b.altKey),D.metaKey&&v.push(b.metaKey),w!==""&&v.push(w),v.join(b.separator)}}),define(ne[509],oe([1,0,7,205,39,495,355]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const w=y.$;class b{constructor(u,h,i){this.os=h,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=y.append(u,w(".monaco-keybinding")),this.didEverRender=!1,u.appendChild(this.domNode)}get element(){return this.domNode}set(u,h){this.didEverRender&&this.keybinding===u&&b.areSame(this.matches,h)||(this.keybinding=u,this.matches=h,this.render())}render(){if(this.clear(),this.keybinding){const[u,h]=this.keybinding.getParts();u&&this.renderPart(this.domNode,u,this.matches?this.matches.firstPart:null),h&&(y.append(this.domNode,w("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,h,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){y.clearNode(this.domNode),this.keyElements.clear()}renderPart(u,h,i){const n=f.UILabelProvider.modifierLabels[this.os];h.ctrlKey&&this.renderKey(u,n.ctrlKey,Boolean(i==null?void 0:i.ctrlKey),n.separator),h.shiftKey&&this.renderKey(u,n.shiftKey,Boolean(i==null?void 0:i.shiftKey),n.separator),h.altKey&&this.renderKey(u,n.altKey,Boolean(i==null?void 0:i.altKey),n.separator),h.metaKey&&this.renderKey(u,n.metaKey,Boolean(i==null?void 0:i.metaKey),n.separator);const t=h.keyLabel;t&&this.renderKey(u,t,Boolean(i==null?void 0:i.keyCode),"")}renderKey(u,h,i,n){y.append(u,this.createKeyElement(h,i?".highlight":"")),n&&y.append(u,w("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(u){y.append(u,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(u,h=""){const i=w("span.monaco-keybinding-key"+h,void 0,u);return this.keyElements.add(i),i}style(u){this.labelBackground=u.keybindingLabelBackground,this.labelForeground=u.keybindingLabelForeground,this.labelBorder=u.keybindingLabelBorder,this.labelBottomBorder=u.keybindingLabelBottomBorder,this.labelShadow=u.keybindingLabelShadow,this.applyStyles()}applyStyles(){var u;if(this.element){for(const h of this.keyElements)this.labelBackground&&(h.style.backgroundColor=(u=this.labelBackground)===null||u===void 0?void 0:u.toString()),this.labelBorder&&(h.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(h.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(h.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(u,h){return u===h||!u&&!h?!0:!!u&&!!h&&(0,N.equals)(u.firstPart,h.firstPart)&&(0,N.equals)(u.chordPart,h.chordPart)}}e.KeybindingLabel=b}),define(ne[510],oe([5,6]),function(j,e){return j.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(ne[511],oe([5,6]),function(j,e){return j.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(ne[512],oe([1,0,7,46,89,202,509,49,18,27,333,103,4,106,2,17,19,238,511,149]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const r=y.$;class c{constructor(E){this.hidden=!1,this._onChecked=new n.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,E)}get checked(){return!!this._checked}set checked(E){E!==this._checked&&(this._checked=E,this._onChecked.fire(E))}dispose(){this._onChecked.dispose()}}class g{get templateId(){return g.ID}renderTemplate(E){const I=Object.create(null);I.toDisposeElement=[],I.toDisposeTemplate=[],I.entry=y.append(E,r(".quick-input-list-entry"));const T=y.append(I.entry,r("label.quick-input-list-label"));I.toDisposeTemplate.push(y.addStandardDisposableListener(T,y.EventType.CLICK,O=>{I.checkbox.offsetParent||O.preventDefault()})),I.checkbox=y.append(T,r("input.quick-input-list-checkbox")),I.checkbox.type="checkbox",I.toDisposeTemplate.push(y.addStandardDisposableListener(I.checkbox,y.EventType.CHANGE,O=>{I.element.checked=I.checkbox.checked}));const P=y.append(T,r(".quick-input-list-rows")),B=y.append(P,r(".quick-input-list-row")),R=y.append(P,r(".quick-input-list-row"));I.label=new D.IconLabel(B,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const k=y.append(B,r(".quick-input-list-entry-keybinding"));I.keybinding=new w.KeybindingLabel(k,l.OS);const A=y.append(R,r(".quick-input-list-label-meta"));return I.detail=new D.IconLabel(A,{supportHighlights:!0,supportIcons:!0}),I.separator=y.append(I.entry,r(".quick-input-list-separator")),I.actionBar=new N.ActionBar(I.entry),I.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),I.toDisposeTemplate.push(I.actionBar),I}renderElement(E,I,T){T.toDisposeElement=(0,s.dispose)(T.toDisposeElement),T.element=E,T.checkbox.checked=E.checked,T.toDisposeElement.push(E.onChecked(O=>T.checkbox.checked=O));const{labelHighlights:P,descriptionHighlights:B,detailHighlights:R}=E,k=Object.create(null);k.matches=P||[],k.descriptionTitle=E.saneDescription,k.descriptionMatches=B||[],k.extraClasses=E.item.iconClasses,k.italic=E.item.italic,k.strikethrough=E.item.strikethrough,T.label.setLabel(E.saneLabel,E.saneDescription,k),T.keybinding.set(E.item.keybinding),E.saneDetail&&T.detail.setLabel(E.saneDetail,void 0,{matches:R,title:E.saneDetail}),E.separator&&E.separator.label?(T.separator.textContent=E.separator.label,T.separator.style.display=""):T.separator.style.display="none",T.entry.classList.toggle("quick-input-list-separator-border",!!E.separator),T.actionBar.clear();const A=E.item.buttons;A&&A.length?(T.actionBar.push(A.map((O,F)=>{let W=O.iconClass||(O.iconPath?(0,a.getIconClass)(O.iconPath):void 0);O.alwaysVisible&&(W=W?`${W} always-visible`:"always-visible");const M=new b.Action(`id-${F}`,"",W,!0,()=>Le(this,void 0,void 0,function*(){E.fireButtonTriggered({button:O,item:E.item})}));return M.tooltip=O.tooltip||"",M}),{icon:!0,label:!1}),T.entry.classList.add("has-actions")):T.entry.classList.remove("has-actions")}disposeElement(E,I,T){T.toDisposeElement=(0,s.dispose)(T.toDisposeElement)}disposeTemplate(E){E.toDisposeElement=(0,s.dispose)(E.toDisposeElement),E.toDisposeTemplate=(0,s.dispose)(E.toDisposeTemplate)}}g.ID="listelement";class m{getHeight(E){return E.saneDetail?44:22}getTemplateId(E){return g.ID}}var S;(function(L){L[L.First=1]="First",L[L.Second=2]="Second",L[L.Last=3]="Last",L[L.Next=4]="Next",L[L.Previous=5]="Previous",L[L.NextPage=6]="NextPage",L[L.PreviousPage=7]="PreviousPage"})(S=e.QuickInputListFocus||(e.QuickInputListFocus={}));class p{constructor(E,I,T){this.parent=E,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new n.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new n.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new n.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new n.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new n.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new n.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new n.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=I,this.container=y.append(this.parent,r(".quick-input-list"));const P=new m,B=new _;this.list=T.createList("QuickInput",this.container,P,[new g],{identityProvider:{getId:R=>R.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:B}),this.list.getHTMLElement().id=I,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(R=>{const k=new f.StandardKeyboardEvent(R);switch(k.keyCode){case 10:this.toggleCheckbox();break;case 31:(l.isMacintosh?R.metaKey:R.ctrlKey)&&this.list.setFocus((0,v.range)(this.list.length));break;case 16:{const A=this.list.getFocus();A.length===1&&A[0]===0&&this._onLeave.fire();break}case 18:{const A=this.list.getFocus();A.length===1&&A[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(k)})),this.disposables.push(this.list.onMouseDown(R=>{R.browserEvent.button!==2&&R.browserEvent.preventDefault()})),this.disposables.push(y.addDisposableListener(this.container,y.EventType.CLICK,R=>{(R.x||R.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(R=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(R=>{typeof R.index=="number"&&(R.browserEvent.preventDefault(),this.list.setSelection([R.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return n.Event.map(this.list.onDidChangeFocus,E=>E.elements.map(I=>I.item))}get onDidChangeSelection(){return n.Event.map(this.list.onDidChangeSelection,E=>({items:E.elements.map(I=>I.item),event:E.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(E){this.list.scrollTop=E}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(E,I=!0){for(let T=0,P=E.length;T<P;T++){const B=E[T];if(!B.hidden)if(B.checked)I=!0;else return!1}return I}getCheckedCount(){let E=0;const I=this.elements;for(let T=0,P=I.length;T<P;T++)I[T].checked&&E++;return E}getVisibleCount(){let E=0;const I=this.elements;for(let T=0,P=I.length;T<P;T++)I[T].hidden||E++;return E}setAllVisibleChecked(E){try{this._fireCheckedEvents=!1,this.elements.forEach(I=>{I.hidden||(I.checked=E)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(E){this.elementDisposables=(0,s.dispose)(this.elementDisposables);const I=T=>this.fireButtonTriggered(T);this.inputElements=E,this.elements=E.reduce((T,P,B)=>{var R,k,A;if(P.type!=="separator"){const O=B&&E[B-1],F=P.label&&P.label.replace(/\r?\n/g," "),W=P.meta&&P.meta.replace(/\r?\n/g," "),M=P.description&&P.description.replace(/\r?\n/g," "),z=P.detail&&P.detail.replace(/\r?\n/g," "),G=P.ariaLabel||[F,M,z].map(X=>(0,u.getCodiconAriaLabel)(X)).filter(X=>!!X).join(", "),te=this.parent.classList.contains("show-checkboxes");T.push(new c({hasCheckbox:te,index:B,item:P,saneLabel:F,saneMeta:W,saneAriaLabel:G,saneDescription:M,saneDetail:z,labelHighlights:(R=P.highlights)===null||R===void 0?void 0:R.label,descriptionHighlights:(k=P.highlights)===null||k===void 0?void 0:k.description,detailHighlights:(A=P.highlights)===null||A===void 0?void 0:A.detail,checked:!1,separator:O&&O.type==="separator"?O:void 0,fireButtonTriggered:I}))}return T},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(T=>T.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((T,P,B)=>(T.set(P.item,B),T),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(E=>E.item)}setFocusedElements(E){if(this.list.setFocus(E.filter(I=>this.elementsToIndexes.has(I)).map(I=>this.elementsToIndexes.get(I))),E.length>0){const I=this.list.getFocus()[0];typeof I=="number"&&this.list.reveal(I)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(E){this.list.setSelection(E.filter(I=>this.elementsToIndexes.has(I)).map(I=>this.elementsToIndexes.get(I)))}getCheckedElements(){return this.elements.filter(E=>E.checked).map(E=>E.item)}setCheckedElements(E){try{this._fireCheckedEvents=!1;const I=new Set;for(const T of E)I.add(T);for(const T of this.elements)T.checked=I.has(T.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(E){this.list.getHTMLElement().style.pointerEvents=E?"":"none"}focus(E){if(!this.list.length)return;switch(E===S.Next&&this.list.getFocus()[0]===this.list.length-1&&(E=S.First),E===S.Previous&&this.list.getFocus()[0]===0&&(E=S.Last),E===S.Second&&this.list.length<2&&(E=S.First),E){case S.First:this.list.focusFirst();break;case S.Second:this.list.focusNth(1);break;case S.Last:this.list.focusLast();break;case S.Next:this.list.focusNext();break;case S.Previous:this.list.focusPrevious();break;case S.NextPage:this.list.focusNextPage();break;case S.PreviousPage:this.list.focusPreviousPage();break}const I=this.list.getFocus()[0];typeof I=="number"&&this.list.reveal(I)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(E){this.list.getHTMLElement().style.maxHeight=E?`calc(${Math.floor(E/44)*44}px)`:"",this.list.layout()}filter(E){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(E=E.trim(),!E||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(T=>{T.labelHighlights=void 0,T.descriptionHighlights=void 0,T.detailHighlights=void 0,T.hidden=!1;const P=T.index&&this.inputElements[T.index-1];T.separator=P&&P.type==="separator"?P:void 0});else{let T;this.elements.forEach(P=>{const B=this.matchOnLabel?(0,d.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(E,(0,t.parseLabelWithIcons)(P.saneLabel))):void 0,R=this.matchOnDescription?(0,d.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(E,(0,t.parseLabelWithIcons)(P.saneDescription||""))):void 0,k=this.matchOnDetail?(0,d.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(E,(0,t.parseLabelWithIcons)(P.saneDetail||""))):void 0,A=this.matchOnMeta?(0,d.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(E,(0,t.parseLabelWithIcons)(P.saneMeta||""))):void 0;if(B||R||k||A?(P.labelHighlights=B,P.descriptionHighlights=R,P.detailHighlights=k,P.hidden=!1):(P.labelHighlights=void 0,P.descriptionHighlights=void 0,P.detailHighlights=void 0,P.hidden=!P.item.alwaysShow),P.separator=void 0,!this.sortByLabel){const O=P.index&&this.inputElements[P.index-1];T=O&&O.type==="separator"?O:T,T&&!P.hidden&&(P.separator=T,T=void 0)}})}const I=this.elements.filter(T=>!T.hidden);if(this.sortByLabel&&E){const T=E.toLowerCase();I.sort((P,B)=>C(P,B,T))}return this.elementsToIndexes=I.reduce((T,P,B)=>(T.set(P.item,B),T),new Map),this.list.splice(0,this.list.length,I),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(I.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const E=this.list.getFocusedElements(),I=this.allVisibleChecked(E);for(const T of E)T.checked=!I}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(E){this.container.style.display=E?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,s.dispose)(this.elementDisposables),this.disposables=(0,s.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(E){this._onButtonTriggered.fire(E)}style(E){this.list.style(E)}}De([i.memoize],p.prototype,"onDidChangeFocus",null),De([i.memoize],p.prototype,"onDidChangeSelection",null),e.QuickInputList=p;function C(L,E,I){const T=L.labelHighlights||[],P=E.labelHighlights||[];return T.length&&!P.length?-1:!T.length&&P.length?1:T.length===0&&P.length===0?0:(0,h.compareAnything)(L.saneLabel,E.saneLabel,I)}class _{getWidgetAriaLabel(){return(0,o.localize)(0,null)}getAriaLabel(E){var I;return((I=E.separator)===null||I===void 0?void 0:I.label)?`${E.saneAriaLabel}, ${E.separator.label}`:E.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(E){return E.hasCheckbox?"checkbox":"option"}isChecked(E){if(!!E.hasCheckbox)return{value:E.checked,onDidChange:E.onChecked}}}}),define(ne[513],oe([1,0,7,46,89,347,232,125,358,49,18,10,21,27,4,2,17,73,19,238,229,510,505,512,149]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const p=y.$,C={iconClass:t.Codicon.quickInputBack.classNames,tooltip:(0,g.localize)(0,null),handle:-1};class _ extends l.Disposable{constructor(T){super();this.ui=T,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=_.noPromptMessage,this._severity=a.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new s.Emitter),this.onDidHideEmitter=this._register(new s.Emitter),this.onDisposeEmitter=this._register(new s.Emitter),this.visibleDisposables=this._register(new l.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(T){this._title=T,this.update()}get description(){return this._description}set description(T){this._description=T,this.update()}get step(){return this._steps}set step(T){this._steps=T,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(T){this._totalSteps=T,this.update()}get enabled(){return this._enabled}set enabled(T){this._enabled=T,this.update()}get contextKey(){return this._contextKey}set contextKey(T){this._contextKey=T,this.update()}get busy(){return this._busy}set busy(T){this._busy=T,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(T){const P=this._ignoreFocusOut!==T&&!d.isIOS;this._ignoreFocusOut=T&&!d.isIOS,P&&this.update()}get buttons(){return this._buttons}set buttons(T){this._buttons=T,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(T){this._validationMessage=T,this.update()}get severity(){return this._severity}set severity(T){this._severity=T,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(T=>{this.buttons.indexOf(T)!==-1&&this.onDidTriggerButtonEmitter.fire(T)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(T=c.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:T})}update(){if(!this.visible)return;const T=this.getTitle();T&&this.ui.title.textContent!==T?this.ui.title.textContent=T:!T&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const P=this.getDescription();if(this.ui.description1.textContent!==P&&(this.ui.description1.textContent=P),this.ui.description2.textContent!==P&&(this.ui.description2.textContent=P),this.busy&&!this.busyDelay&&(this.busyDelay=new i.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const R=this.buttons.filter(A=>A===C);this.ui.leftActionBar.push(R.map((A,O)=>{const F=new u.Action(`id-${O}`,"",A.iconClass||(0,r.getIconClass)(A.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return F.tooltip=A.tooltip||"",F}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const k=this.buttons.filter(A=>A!==C);this.ui.rightActionBar.push(k.map((A,O)=>{const F=new u.Action(`id-${O}`,"",A.iconClass||(0,r.getIconClass)(A.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return F.tooltip=A.tooltip||"",F}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const B=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==B&&(this._lastValidationMessage=B,y.reset(this.ui.message,...(0,b.renderLabelWithIcons)(B))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,g.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(T){if(this.ui.inputBox.showDecoration(T),T!==a.default.Ignore){const P=this.ui.inputBox.stylesForType(T);this.ui.message.style.color=P.foreground?`${P.foreground}`:"",this.ui.message.style.backgroundColor=P.background?`${P.background}`:"",this.ui.message.style.border=P.border?`1px solid ${P.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}_.noPromptMessage=(0,g.localize)(1,null);class L extends _{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new s.Emitter),this.onWillAcceptEmitter=this._register(new s.Emitter),this.onDidAcceptEmitter=this._register(new s.Emitter),this.onDidCustomEmitter=this._register(new s.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?c.ItemActivation.NONE:c.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new s.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new s.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new s.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=T=>T,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(T){this._quickNavigate=T,this.update()}get value(){return this._value}set value(T){this.doSetValue(T)}doSetValue(T,P){this._value!==T&&(this._value=T,P||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(T){this._ariaLabel=T,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(T){this._placeholder=T,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(T){this.ui.list.scrollTop=T}set items(T){this._items=T,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(T){this._canSelectMany=T,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(T){this._canAcceptInBackground=T}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(T){this._matchOnDescription=T,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(T){this._matchOnDetail=T,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(T){this._matchOnLabel=T,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(T){this._sortByLabel=T,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(T){this._autoFocusOnList=T,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(T){this._keepScrollPosition=T}get itemActivation(){return this._itemActivation}set itemActivation(T){this._itemActivation=T}get activeItems(){return this._activeItems}set activeItems(T){this._activeItems=T,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(T){this._selectedItems=T,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?c.NO_KEY_MODS:this.ui.keyMods}set valueSelection(T){this._valueSelection=T,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(T){this._customButton=T,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(T){this._customButtonLabel=T,this.update()}get customHover(){return this._customButtonHover}set customHover(T){this._customButtonHover=T,this.update()}get ok(){return this._ok}set ok(T){this._ok=T,this.update()}get hideInput(){return!!this._hideInput}set hideInput(T){this._hideInput=T,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(S.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(T=>{this.doSetValue(T,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(T=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(T=>{switch(T.keyCode){case 18:this.ui.list.focus(S.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(T,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(S.QuickInputListFocus.Previous):this.ui.list.focus(S.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(T,!0);break;case 12:this.ui.list.focus(S.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(T,!0);break;case 11:this.ui.list.focus(S.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(T,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(S.QuickInputListFocus.First),y.EventHelper.stop(T,!0));break;case 13:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(S.QuickInputListFocus.Last),y.EventHelper.stop(T,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(T=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,h.equals)(T,this._activeItems,(P,B)=>P===B)||(this._activeItems=T,this.onDidChangeActiveEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:T,event:P})=>{if(this.canSelectMany){T.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,h.equals)(T,this._selectedItems,(B,R)=>B===R)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T),T.length&&this.handleAccept(P instanceof MouseEvent&&P.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(T=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,h.equals)(T,this._selectedItems,(P,B)=>P===B)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(T=>this.onDidTriggerItemButtonEmitter.fire(T))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(T){let P=!1;this.onWillAcceptEmitter.fire({veto:()=>P=!0}),P||this.onDidAcceptEmitter.fire({inBackground:T})}registerQuickNavigation(){return y.addDisposableListener(this.ui.container,y.EventType.KEY_UP,T=>{if(this.canSelectMany||!this._quickNavigate)return;const P=new f.StandardKeyboardEvent(T),B=P.keyCode;this._quickNavigate.keybindings.some(A=>{const[O,F]=A.getParts();return F?!1:O.shiftKey&&B===4?!(P.ctrlKey||P.altKey||P.metaKey):!!(O.altKey&&B===6||O.ctrlKey&&B===5||O.metaKey&&B===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const T=this.keepScrollPosition?this.scrollTop:0,P=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",P&&!this.description);const B={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!P,progressBar:!P,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(B),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let R=this.ariaLabel;if(R||(R=this.placeholder||L.DEFAULT_ARIA_LABEL,this.title&&(R+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==R&&(this.ui.inputBox.ariaLabel=R),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case c.ItemActivation.NONE:this._itemActivation=c.ItemActivation.FIRST;break;case c.ItemActivation.SECOND:this.ui.list.focus(S.QuickInputListFocus.Second),this._itemActivation=c.ItemActivation.FIRST;break;case c.ItemActivation.LAST:this.ui.list.focus(S.QuickInputListFocus.Last),this._itemActivation=c.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),B.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(S.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=T)}}L.DEFAULT_ARIA_LABEL=(0,g.localize)(3,null);class E extends l.Disposable{constructor(T){super();this.options=T,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new s.Emitter),this.onDidCustomEmitter=this._register(new s.Emitter),this.onDidTriggerButtonEmitter=this._register(new s.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new s.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new s.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=T.idPrefix,this.parentElement=T.container,this.styles=T.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const T=P=>{this.keyMods.ctrlCmd=P.ctrlKey||P.metaKey,this.keyMods.alt=P.altKey};this._register(y.addDisposableListener(window,y.EventType.KEY_DOWN,T,!0)),this._register(y.addDisposableListener(window,y.EventType.KEY_UP,T,!0)),this._register(y.addDisposableListener(window,y.EventType.MOUSE_DOWN,T,!0))}getUI(){if(this.ui)return this.ui;const T=y.append(this.parentElement,p(".quick-input-widget.show-file-icons"));T.tabIndex=-1,T.style.display="none";const P=y.createStyleSheet(T),B=y.append(T,p(".quick-input-titlebar")),R=this._register(new N.ActionBar(B));R.domNode.classList.add("quick-input-left-action-bar");const k=y.append(B,p(".quick-input-title")),A=this._register(new N.ActionBar(B));A.domNode.classList.add("quick-input-right-action-bar");const O=y.append(T,p(".quick-input-description")),F=y.append(T,p(".quick-input-header")),W=y.append(F,p("input.quick-input-check-all"));W.type="checkbox",W.setAttribute("aria-label",(0,g.localize)(4,null)),this._register(y.addStandardDisposableListener(W,y.EventType.CHANGE,H=>{const $=W.checked;se.setAllVisibleChecked($)})),this._register(y.addDisposableListener(W,y.EventType.CLICK,H=>{(H.x||H.y)&&te.setFocus()}));const M=y.append(F,p(".quick-input-description")),z=y.append(F,p(".quick-input-and-message")),G=y.append(z,p(".quick-input-filter")),te=this._register(new m.QuickInputBox(G));te.setAttribute("aria-describedby",`${this.idPrefix}message`);const X=y.append(G,p(".quick-input-visible-count"));X.setAttribute("aria-live","polite"),X.setAttribute("aria-atomic","true");const J=new w.CountBadge(X,{countFormat:(0,g.localize)(5,null)}),ie=y.append(G,p(".quick-input-count"));ie.setAttribute("aria-live","polite");const re=new w.CountBadge(ie,{countFormat:(0,g.localize)(6,null)}),Z=y.append(F,p(".quick-input-action")),x=new D.Button(Z);x.label=(0,g.localize)(7,null),this._register(x.onDidClick(H=>{this.onDidAcceptEmitter.fire()}));const U=y.append(F,p(".quick-input-action")),q=new D.Button(U);q.label=(0,g.localize)(8,null),this._register(q.onDidClick(H=>{this.onDidCustomEmitter.fire()}));const le=y.append(z,p(`#${this.idPrefix}message.quick-input-message`)),se=this._register(new S.QuickInputList(T,this.idPrefix+"list",this.options));this._register(se.onChangedAllVisibleChecked(H=>{W.checked=H})),this._register(se.onChangedVisibleCount(H=>{J.setCount(H)})),this._register(se.onChangedCheckedCount(H=>{re.setCount(H)})),this._register(se.onLeave(()=>{setTimeout(()=>{te.setFocus(),this.controller instanceof L&&this.controller.canSelectMany&&se.clearFocus()},0)})),this._register(se.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Y=new v.ProgressBar(T);Y.getContainer().classList.add("quick-input-progress");const de=y.trackFocus(T);return this._register(de),this._register(y.addDisposableListener(T,y.EventType.FOCUS,H=>{this.previousFocusElement=H.relatedTarget instanceof HTMLElement?H.relatedTarget:void 0},!0)),this._register(de.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(c.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(y.addDisposableListener(T,y.EventType.FOCUS,H=>{te.setFocus()})),this._register(y.addDisposableListener(T,y.EventType.KEY_DOWN,H=>{const $=new f.StandardKeyboardEvent(H);switch($.keyCode){case 3:y.EventHelper.stop(H,!0),this.onDidAcceptEmitter.fire();break;case 9:y.EventHelper.stop(H,!0),this.hide(c.QuickInputHideReason.Gesture);break;case 2:if(!$.altKey&&!$.ctrlKey&&!$.metaKey){const K=[".action-label.codicon"];T.classList.contains("show-checkboxes")?K.push("input"):K.push("input[type=text]"),this.getUI().list.isDisplayed()&&K.push(".monaco-list");const V=T.querySelectorAll(K.join(", "));$.shiftKey&&$.target===V[0]?(y.EventHelper.stop(H,!0),V[V.length-1].focus()):!$.shiftKey&&$.target===V[V.length-1]&&(y.EventHelper.stop(H,!0),V[0].focus())}break}})),this.ui={container:T,styleSheet:P,leftActionBar:R,titleBar:B,title:k,description1:O,description2:M,rightActionBar:A,checkAll:W,filterContainer:G,inputBox:te,visibleCountContainer:X,visibleCount:J,countContainer:ie,count:re,okContainer:Z,ok:x,message:le,customButtonContainer:U,customButton:q,list:se,progressBar:Y,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:H=>this.show(H),hide:()=>this.hide(),setVisibilities:H=>this.setVisibilities(H),setComboboxAccessibility:H=>this.setComboboxAccessibility(H),setEnabled:H=>this.setEnabled(H),setContextKey:H=>this.options.setContextKey(H)},this.updateStyles(),this.ui}pick(T,P={},B=n.CancellationToken.None){return new Promise((R,k)=>{let A=M=>{var z;A=R,(z=P.onKeyMods)===null||z===void 0||z.call(P,O.keyMods),R(M)};if(B.isCancellationRequested){A(void 0);return}const O=this.createQuickPick();let F;const W=[O,O.onDidAccept(()=>{if(O.canSelectMany)A(O.selectedItems.slice()),O.hide();else{const M=O.activeItems[0];M&&(A(M),O.hide())}}),O.onDidChangeActive(M=>{const z=M[0];z&&P.onDidFocus&&P.onDidFocus(z)}),O.onDidChangeSelection(M=>{if(!O.canSelectMany){const z=M[0];z&&(A(z),O.hide())}}),O.onDidTriggerItemButton(M=>P.onDidTriggerItemButton&&P.onDidTriggerItemButton(Object.assign(Object.assign({},M),{removeItem:()=>{const z=O.items.indexOf(M.item);if(z!==-1){const G=O.items.slice(),te=G.splice(z,1),X=O.activeItems.filter(ie=>ie!==te[0]),J=O.keepScrollPosition;O.keepScrollPosition=!0,O.items=G,X&&(O.activeItems=X),O.keepScrollPosition=J}}}))),O.onDidChangeValue(M=>{F&&!M&&(O.activeItems.length!==1||O.activeItems[0]!==F)&&(O.activeItems=[F])}),B.onCancellationRequested(()=>{O.hide()}),O.onDidHide(()=>{(0,l.dispose)(W),A(void 0)})];O.title=P.title,O.canSelectMany=!!P.canPickMany,O.placeholder=P.placeHolder,O.ignoreFocusOut=!!P.ignoreFocusLost,O.matchOnDescription=!!P.matchOnDescription,O.matchOnDetail=!!P.matchOnDetail,O.matchOnLabel=P.matchOnLabel===void 0||P.matchOnLabel,O.autoFocusOnList=P.autoFocusOnList===void 0||P.autoFocusOnList,O.quickNavigate=P.quickNavigate,O.hideInput=!!P.hideInput,O.contextKey=P.contextKey,O.busy=!0,Promise.all([T,P.activeItem]).then(([M,z])=>{F=z,O.busy=!1,O.items=M,O.canSelectMany&&(O.selectedItems=M.filter(G=>G.type!=="separator"&&G.picked)),F&&(O.activeItems=[F])}),O.show(),Promise.resolve(T).then(void 0,M=>{k(M),O.hide()})})}createQuickPick(){const T=this.getUI();return new L(T)}show(T){const P=this.getUI();this.onShowEmitter.fire();const B=this.controller;this.controller=T,B&&B.didHide(),this.setEnabled(!0),P.leftActionBar.clear(),P.title.textContent="",P.description1.textContent="",P.description2.textContent="",P.rightActionBar.clear(),P.checkAll.checked=!1,P.inputBox.placeholder="",P.inputBox.password=!1,P.inputBox.showDecoration(a.default.Ignore),P.visibleCount.setCount(0),P.count.setCount(0),y.reset(P.message),P.progressBar.stop(),P.list.setElements([]),P.list.matchOnDescription=!1,P.list.matchOnDetail=!1,P.list.matchOnLabel=!0,P.list.sortByLabel=!0,P.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),P.inputBox.ariaLabel="";const R=this.options.backKeybindingLabel();C.tooltip=R?(0,g.localize)(9,null,R):(0,g.localize)(10,null),P.container.style.display="",this.updateLayout(),P.inputBox.setFocus()}setVisibilities(T){const P=this.getUI();P.title.style.display=T.title?"":"none",P.description1.style.display=T.description&&(T.inputBox||T.checkAll)?"":"none",P.description2.style.display=T.description&&!(T.inputBox||T.checkAll)?"":"none",P.checkAll.style.display=T.checkAll?"":"none",P.filterContainer.style.display=T.inputBox?"":"none",P.visibleCountContainer.style.display=T.visibleCount?"":"none",P.countContainer.style.display=T.count?"":"none",P.okContainer.style.display=T.ok?"":"none",P.customButtonContainer.style.display=T.customButton?"":"none",P.message.style.display=T.message?"":"none",P.progressBar.getContainer().style.display=T.progressBar?"":"none",P.list.display(!!T.list),P.container.classList[T.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(T){if(T!==this.comboboxAccessibility){const P=this.getUI();this.comboboxAccessibility=T,this.comboboxAccessibility?(P.inputBox.setAttribute("role","combobox"),P.inputBox.setAttribute("aria-haspopup","true"),P.inputBox.setAttribute("aria-autocomplete","list"),P.inputBox.setAttribute("aria-activedescendant",P.list.getActiveDescendant()||"")):(P.inputBox.removeAttribute("role"),P.inputBox.removeAttribute("aria-haspopup"),P.inputBox.removeAttribute("aria-autocomplete"),P.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(T){if(T!==this.enabled){this.enabled=T;for(const P of this.getUI().leftActionBar.viewItems)P.getAction().enabled=T;for(const P of this.getUI().rightActionBar.viewItems)P.getAction().enabled=T;this.getUI().checkAll.disabled=!T,this.getUI().ok.enabled=T,this.getUI().list.enabled=T}}hide(T){var P;const B=this.controller;if(B){const R=!((P=this.ui)===null||P===void 0?void 0:P.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!R){let k=this.previousFocusElement;for(;k&&!k.offsetParent;)k=(0,o.withNullAsUndefined)(k.parentElement);(k==null?void 0:k.offsetParent)?(k.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}B.didHide(T)}}layout(T,P){this.dimension=T,this.titleBarOffset=P,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const T=this.ui.container.style,P=Math.min(this.dimension.width*.62,E.MAX_WIDTH);T.width=P+"px",T.marginLeft="-"+P/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(T){this.styles=T,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:T,quickInputBackground:P,quickInputForeground:B,contrastBorder:R,widgetShadow:k}=this.styles.widget;this.ui.titleBar.style.backgroundColor=T?T.toString():"",this.ui.container.style.backgroundColor=P?P.toString():"",this.ui.container.style.color=B?B.toString():"",this.ui.container.style.border=R?`1px solid ${R}`:"",this.ui.container.style.boxShadow=k?`0 0 8px 2px ${k}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const A=[];this.styles.list.pickerGroupBorder&&A.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&A.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(A.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&A.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&A.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&A.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&A.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&A.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),A.push("}"));const O=A.join(`
`);O!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=O)}}}e.QuickInputController=E,E.MAX_WIDTH=600}),define(ne[514],oe([5,6]),function(j,e){return j.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ne[515],oe([5,6]),function(j,e){return j.create("vs/editor/browser/coreCommands",e)}),define(ne[516],oe([5,6]),function(j,e){return j.create("vs/editor/browser/editorExtensions",e)}),define(ne[517],oe([5,6]),function(j,e){return j.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ne[518],oe([5,6]),function(j,e){return j.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(ne[519],oe([5,6]),function(j,e){return j.create("vs/editor/browser/widget/diffReview",e)}),define(ne[520],oe([5,6]),function(j,e){return j.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(ne[521],oe([1,0,520,7,49,2,3,27]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class v extends D.Disposable{constructor(h,i,n,t,s,l){super();this._viewZoneId=h,this._marginDomNode=i,this.editor=n,this.diff=t,this._contextMenuService=s,this._clipboardService=l,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=b.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const d=n.getOption(60),a=n.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${d}px`,this._diffActions.style.lineHeight=`${d}px`,this._marginDomNode.appendChild(this._diffActions);const o=[],r=t.modifiedEndLineNumber===0;o.push(new N.Action("diff.clipboard.copyDeletedContent",r?t.originalEndLineNumber>t.modifiedStartLineNumber?y.localize(0,null):y.localize(1,null):t.originalEndLineNumber>t.modifiedStartLineNumber?y.localize(2,null):y.localize(3,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const p=new w.Range(t.originalStartLineNumber,1,t.originalEndLineNumber+1,1),C=t.originalModel.getValueInRange(p);yield this._clipboardService.writeText(C)})));let c=0,g;t.originalEndLineNumber>t.modifiedStartLineNumber&&(g=new N.Action("diff.clipboard.copyDeletedLineContent",r?y.localize(4,null,t.originalStartLineNumber):y.localize(5,null,t.originalStartLineNumber),void 0,!0,()=>Le(this,void 0,void 0,function*(){const p=t.originalModel.getLineContent(t.originalStartLineNumber+c);if(p===""){const C=t.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(C===0?`
`:`\r
`)}else yield this._clipboardService.writeText(p)})),o.push(g)),n.getOption(82)||o.push(new N.Action("diff.inline.revertChange",y.localize(6,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const p=new w.Range(t.originalStartLineNumber,1,t.originalEndLineNumber,t.originalModel.getLineMaxColumn(t.originalEndLineNumber)),C=t.originalModel.getValueInRange(p);if(t.modifiedEndLineNumber===0){const _=n.getModel().getLineMaxColumn(t.modifiedStartLineNumber);n.executeEdits("diffEditor",[{range:new w.Range(t.modifiedStartLineNumber,_,t.modifiedStartLineNumber,_),text:a+C}])}else{const _=n.getModel().getLineMaxColumn(t.modifiedEndLineNumber);n.executeEdits("diffEditor",[{range:new w.Range(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber,_),text:C}])}})));const S=(p,C)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:p,y:C}),getActions:()=>(g&&(g.label=r?y.localize(7,null,t.originalStartLineNumber+c):y.localize(8,null,t.originalStartLineNumber+c)),o),autoSelectFirstItem:!0})};this._register(f.addStandardDisposableListener(this._diffActions,"mousedown",p=>{const{top:C,height:_}=f.getDomNodePagePosition(this._diffActions),L=Math.floor(d/3);p.preventDefault(),S(p.posx,C+_+L)})),this._register(n.onMouseMove(p=>{p.target.type===8||p.target.type===5?p.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,c=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,d)):this.visibility=!1:this.visibility=!1})),this._register(n.onMouseDown(p=>{!p.event.rightButton||(p.target.type===8||p.target.type===5)&&p.target.detail.viewZoneId===this._viewZoneId&&(p.event.preventDefault(),c=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,d),S(p.event.posx,p.event.posy+d))}))}get visibility(){return this._visibility}set visibility(h){this._visibility!==h&&(this._visibility=h,h?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(h,i,n){const{top:t}=f.getDomNodePagePosition(h),s=i-t,l=Math.floor(s/n),d=l*n;if(this._diffActions.style.top=`${d}px`,this.diff.viewLineCounts){let a=0;for(let o=0;o<this.diff.viewLineCounts.length;o++)if(a+=this.diff.viewLineCounts[o],l<a)return o}return l}}e.InlineDiffMargin=v}),define(ne[522],oe([5,6]),function(j,e){return j.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(ne[523],oe([5,6]),function(j,e){return j.create("vs/editor/common/config/editorOptions",e)}),define(ne[34],oe([1,0,523,17,131,18,39,152]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class v{constructor(ce){this._values=ce}hasChanged(ce){return this._values[ce]}}e.ConfigurationChangedEvent=v;class u{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=u;class h{constructor(ce,he,we,ye){this.id=ce,this.name=he,this.defaultValue=we,this.schema=ye}applyUpdate(ce,he){return n(ce,he)}compute(ce,he,we){return we}}class i{constructor(ce,he){this.newValue=ce,this.didChange=he}}e.ApplyUpdateResult=i;function n(be,ce){if(typeof be!="object"||typeof ce!="object"||!be||!ce)return new i(ce,be!==ce);if(Array.isArray(be)||Array.isArray(ce)){const we=Array.isArray(be)&&Array.isArray(ce)&&D.equals(be,ce);return new i(ce,we)}let he=!1;for(const we in ce)if(ce.hasOwnProperty(we)){const ye=n(be[we],ce[we]);ye.didChange&&(be[we]=ye.newValue,he=!0)}return new i(be,he)}class t{constructor(ce){this.schema=void 0,this.id=ce,this.name="_never_",this.defaultValue=void 0}applyUpdate(ce,he){return n(ce,he)}validate(ce){return this.defaultValue}}class s{constructor(ce,he,we,ye){this.id=ce,this.name=he,this.defaultValue=we,this.schema=ye}applyUpdate(ce,he){return n(ce,he)}validate(ce){return typeof ce=="undefined"?this.defaultValue:ce}compute(ce,he,we){return we}}function l(be,ce){return typeof be=="undefined"?ce:be==="false"?!1:Boolean(be)}e.boolean=l;class d extends s{constructor(ce,he,we,ye=void 0){typeof ye!="undefined"&&(ye.type="boolean",ye.default=we);super(ce,he,we,ye)}validate(ce){return l(ce,this.defaultValue)}}function a(be,ce,he,we){if(typeof be=="undefined")return ce;let ye=parseInt(be,10);return isNaN(ye)?ce:(ye=Math.max(he,ye),ye=Math.min(we,ye),ye|0)}e.clampedInt=a;class o extends s{constructor(ce,he,we,ye,Te,ke=void 0){typeof ke!="undefined"&&(ke.type="integer",ke.default=we,ke.minimum=ye,ke.maximum=Te);super(ce,he,we,ke);this.minimum=ye,this.maximum=Te}static clampedInt(ce,he,we,ye){return a(ce,he,we,ye)}validate(ce){return o.clampedInt(ce,this.defaultValue,this.minimum,this.maximum)}}class r extends s{constructor(ce,he,we,ye,Te){typeof Te!="undefined"&&(Te.type="number",Te.default=we);super(ce,he,we,Te);this.validationFn=ye}static clamp(ce,he,we){return ce<he?he:ce>we?we:ce}static float(ce,he){if(typeof ce=="number")return ce;if(typeof ce=="undefined")return he;const we=parseFloat(ce);return isNaN(we)?he:we}validate(ce){return this.validationFn(r.float(ce,this.defaultValue))}}class c extends s{static string(ce,he){return typeof ce!="string"?he:ce}constructor(ce,he,we,ye=void 0){typeof ye!="undefined"&&(ye.type="string",ye.default=we);super(ce,he,we,ye)}validate(ce){return c.string(ce,this.defaultValue)}}function g(be,ce,he){return typeof be!="string"||he.indexOf(be)===-1?ce:be}e.stringSet=g;class m extends s{constructor(ce,he,we,ye,Te=void 0){typeof Te!="undefined"&&(Te.type="string",Te.enum=ye,Te.default=we);super(ce,he,we,Te);this._allowedValues=ye}validate(ce){return g(ce,this.defaultValue,this._allowedValues)}}class S extends h{constructor(ce,he,we,ye,Te,ke,Ne=void 0){typeof Ne!="undefined"&&(Ne.type="string",Ne.enum=Te,Ne.default=ye);super(ce,he,we,Ne);this._allowedValues=Te,this._convert=ke}validate(ce){return typeof ce!="string"?this.defaultValue:this._allowedValues.indexOf(ce)===-1?this.defaultValue:this._convert(ce)}}function p(be){switch(be){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class C extends h{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[y.localize(0,null),y.localize(1,null),y.localize(2,null)],default:"auto",description:y.localize(3,null)})}validate(ce){switch(ce){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ce,he,we){return we===0?ce.accessibilitySupport:we}}class _ extends h{constructor(){const ce={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",ce,{"editor.comments.insertSpace":{type:"boolean",default:ce.insertSpace,description:y.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ce.ignoreEmptyLines,description:y.localize(5,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{insertSpace:l(he.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:l(he.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function L(be){switch(be){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var E;(function(be){be[be.Line=1]="Line",be[be.Block=2]="Block",be[be.Underline=3]="Underline",be[be.LineThin=4]="LineThin",be[be.BlockOutline=5]="BlockOutline",be[be.UnderlineThin=6]="UnderlineThin"})(E=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function I(be){switch(be){case"line":return E.Line;case"block":return E.Block;case"underline":return E.Underline;case"line-thin":return E.LineThin;case"block-outline":return E.BlockOutline;case"underline-thin":return E.UnderlineThin}}class T extends t{constructor(){super(129)}compute(ce,he,we){const ye=["monaco-editor"];return he.get(34)&&ye.push(he.get(34)),ce.extraEditorClassName&&ye.push(ce.extraEditorClassName),he.get(67)==="default"?ye.push("mouse-default"):he.get(67)==="copy"&&ye.push("mouse-copy"),he.get(101)&&ye.push("showUnused"),he.get(127)&&ye.push("showDeprecated"),ye.join(" ")}}class P extends d{constructor(){super(33,"emptySelectionClipboard",!0,{description:y.localize(6,null)})}compute(ce,he,we){return we&&ce.emptySelectionClipboard}}class B extends h{constructor(){const ce={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(36,"find",ce,{"editor.find.cursorMoveOnType":{type:"boolean",default:ce.cursorMoveOnType,description:y.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ce.seedSearchStringFromSelection,enumDescriptions:[y.localize(8,null),y.localize(9,null),y.localize(10,null)],description:y.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ce.autoFindInSelection,enumDescriptions:[y.localize(12,null),y.localize(13,null),y.localize(14,null)],description:y.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ce.globalFindClipboard,description:y.localize(16,null),included:f.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ce.addExtraSpaceOnTop,description:y.localize(17,null)},"editor.find.loop":{type:"boolean",default:ce.loop,description:y.localize(18,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{cursorMoveOnType:l(he.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof ce.seedSearchStringFromSelection=="boolean"?ce.seedSearchStringFromSelection?"always":"never":g(he.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof ce.autoFindInSelection=="boolean"?ce.autoFindInSelection?"always":"never":g(he.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:l(he.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:l(he.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:l(he.loop,this.defaultValue.loop)}}}class R extends h{constructor(){super(46,"fontLigatures",R.OFF,{anyOf:[{type:"boolean",description:y.localize(19,null)},{type:"string",description:y.localize(20,null)}],description:y.localize(21,null),default:!1})}validate(ce){return typeof ce=="undefined"?this.defaultValue:typeof ce=="string"?ce==="false"?R.OFF:ce==="true"?R.ON:ce:Boolean(ce)?R.ON:R.OFF}}e.EditorFontLigatures=R,R.OFF='"liga" off, "calt" off',R.ON='"liga" on, "calt" on';class k extends t{constructor(){super(45)}compute(ce,he,we){return ce.fontInfo}}class A extends s{constructor(){super(47,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:y.localize(22,null)})}validate(ce){const he=r.float(ce,this.defaultValue);return he===0?e.EDITOR_FONT_DEFAULTS.fontSize:r.clamp(he,6,100)}compute(ce,he,we){return ce.fontInfo.fontSize}}class O extends h{constructor(){super(48,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:O.MINIMUM_VALUE,maximum:O.MAXIMUM_VALUE,errorMessage:y.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:O.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:y.localize(24,null)})}validate(ce){return ce==="normal"||ce==="bold"?ce:String(o.clampedInt(ce,e.EDITOR_FONT_DEFAULTS.fontWeight,O.MINIMUM_VALUE,O.MAXIMUM_VALUE))}}O.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],O.MINIMUM_VALUE=1,O.MAXIMUM_VALUE=1e3;class F extends h{constructor(){const ce={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},he={type:"string",enum:["peek","gotoAndPeek","goto"],default:ce.multiple,enumDescriptions:[y.localize(25,null),y.localize(26,null),y.localize(27,null)]},we=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(52,"gotoLocation",ce,{"editor.gotoLocation.multiple":{deprecationMessage:y.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:y.localize(29,null)},he),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:y.localize(30,null)},he),"editor.gotoLocation.multipleDeclarations":Object.assign({description:y.localize(31,null)},he),"editor.gotoLocation.multipleImplementations":Object.assign({description:y.localize(32,null)},he),"editor.gotoLocation.multipleReferences":Object.assign({description:y.localize(33,null)},he),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ce.alternativeDefinitionCommand,enum:we,description:y.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ce.alternativeTypeDefinitionCommand,enum:we,description:y.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ce.alternativeDeclarationCommand,enum:we,description:y.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ce.alternativeImplementationCommand,enum:we,description:y.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ce.alternativeReferenceCommand,enum:we,description:y.localize(38,null)}})}validate(ce){var he,we,ye,Te,ke;if(!ce||typeof ce!="object")return this.defaultValue;const Ne=ce;return{multiple:g(Ne.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(he=Ne.multipleDefinitions)!==null&&he!==void 0?he:g(Ne.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(we=Ne.multipleTypeDefinitions)!==null&&we!==void 0?we:g(Ne.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(ye=Ne.multipleDeclarations)!==null&&ye!==void 0?ye:g(Ne.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Te=Ne.multipleImplementations)!==null&&Te!==void 0?Te:g(Ne.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(ke=Ne.multipleReferences)!==null&&ke!==void 0?ke:g(Ne.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:c.string(Ne.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:c.string(Ne.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:c.string(Ne.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:c.string(Ne.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:c.string(Ne.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class W extends h{constructor(){const ce={enabled:!0,delay:300,sticky:!0,above:!0};super(54,"hover",ce,{"editor.hover.enabled":{type:"boolean",default:ce.enabled,description:y.localize(39,null)},"editor.hover.delay":{type:"number",default:ce.delay,minimum:0,maximum:1e4,description:y.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:ce.sticky,description:y.localize(41,null)},"editor.hover.above":{type:"boolean",default:ce.above,description:y.localize(42,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{enabled:l(he.enabled,this.defaultValue.enabled),delay:o.clampedInt(he.delay,this.defaultValue.delay,0,1e4),sticky:l(he.sticky,this.defaultValue.sticky),above:l(he.above,this.defaultValue.above)}}}class M extends t{constructor(){super(132)}compute(ce,he,we){return M.computeLayout(he,{memory:ce.memory,outerWidth:ce.outerWidth,outerHeight:ce.outerHeight,isDominatedByLongLines:ce.isDominatedByLongLines,lineHeight:ce.fontInfo.lineHeight,viewLineCount:ce.viewLineCount,lineNumbersDigitCount:ce.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ce.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ce.fontInfo.maxDigitWidth,pixelRatio:ce.pixelRatio})}static computeContainedMinimapLineCount(ce){const he=ce.height/ce.lineHeight,we=ce.scrollBeyondLastLine?he-1:0,ye=(ce.viewLineCount+we)/(ce.pixelRatio*ce.height),Te=Math.floor(ce.viewLineCount/ye);return{typicalViewportLineCount:he,extraLinesBeyondLastLine:we,desiredRatio:ye,minimapLineCount:Te}}static _computeMinimapLayout(ce,he){const we=ce.outerWidth,ye=ce.outerHeight,Te=ce.pixelRatio;if(!ce.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Te*ye),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ye};const ke=he.stableMinimapLayoutInput,Ne=ke&&ce.outerHeight===ke.outerHeight&&ce.lineHeight===ke.lineHeight&&ce.typicalHalfwidthCharacterWidth===ke.typicalHalfwidthCharacterWidth&&ce.pixelRatio===ke.pixelRatio&&ce.scrollBeyondLastLine===ke.scrollBeyondLastLine&&ce.minimap.enabled===ke.minimap.enabled&&ce.minimap.side===ke.minimap.side&&ce.minimap.size===ke.minimap.size&&ce.minimap.showSlider===ke.minimap.showSlider&&ce.minimap.renderCharacters===ke.minimap.renderCharacters&&ce.minimap.maxColumn===ke.minimap.maxColumn&&ce.minimap.scale===ke.minimap.scale&&ce.verticalScrollbarWidth===ke.verticalScrollbarWidth&&ce.isViewportWrapping===ke.isViewportWrapping,Oe=ce.lineHeight,Se=ce.typicalHalfwidthCharacterWidth,_e=ce.scrollBeyondLastLine,Ee=ce.minimap.renderCharacters;let Ae=Te>=2?Math.round(ce.minimap.scale*2):ce.minimap.scale;const Re=ce.minimap.maxColumn,Ve=ce.minimap.size,He=ce.minimap.side,ze=ce.verticalScrollbarWidth,Ye=ce.viewLineCount,et=ce.remainingWidth,ot=ce.isViewportWrapping,Ue=Ee?2:3;let xe=Math.floor(Te*ye);const Ie=xe/Te;let Pe=!1,Be=!1,We=Ue*Ae,Ge=Ae/Te,Je=1;if(Ve==="fill"||Ve==="fit"){const{typicalViewportLineCount:qe,extraLinesBeyondLastLine:tt,desiredRatio:$e,minimapLineCount:Xe}=M.computeContainedMinimapLineCount({viewLineCount:Ye,scrollBeyondLastLine:_e,height:ye,lineHeight:Oe,pixelRatio:Te});if(Ye/Xe>1)Pe=!0,Be=!0,Ae=1,We=1,Ge=Ae/Te;else{let dt=!1,ct=Ae+1;if(Ve==="fit"){const ft=Math.ceil((Ye+tt)*We);ot&&Ne&&et<=he.stableFitRemainingWidth?(dt=!0,ct=he.stableFitMaxMinimapScale):dt=ft>xe}if(Ve==="fill"||dt){Pe=!0;const ft=Ae;We=Math.min(Oe*Te,Math.max(1,Math.floor(1/$e))),ot&&Ne&&et<=he.stableFitRemainingWidth&&(ct=he.stableFitMaxMinimapScale),Ae=Math.min(ct,Math.max(1,Math.floor(We/Ue))),Ae>ft&&(Je=Math.min(2,Ae/ft)),Ge=Ae/Te/Je,xe=Math.ceil(Math.max(qe,Ye+tt)*We),ot?(he.stableMinimapLayoutInput=ce,he.stableFitRemainingWidth=et,he.stableFitMaxMinimapScale=Ae):(he.stableMinimapLayoutInput=null,he.stableFitRemainingWidth=0)}}}const Ze=Math.floor(Re*Ge),it=Math.min(Ze,Math.max(0,Math.floor((et-ze-2)*Ge/(Se+Ge)))+e.MINIMAP_GUTTER_WIDTH);let Ke=Math.floor(Te*it);const Me=Ke/Te;Ke=Math.floor(Ke*Je);const Fe=Ee?1:2,je=He==="left"?0:we-it-ze;return{renderMinimap:Fe,minimapLeft:je,minimapWidth:it,minimapHeightIsEditorHeight:Pe,minimapIsSampling:Be,minimapScale:Ae,minimapLineHeight:We,minimapCanvasInnerWidth:Ke,minimapCanvasInnerHeight:xe,minimapCanvasOuterWidth:Me,minimapCanvasOuterHeight:Ie}}static computeLayout(ce,he){const we=he.outerWidth|0,ye=he.outerHeight|0,Te=he.lineHeight|0,ke=he.lineNumbersDigitCount|0,Ne=he.typicalHalfwidthCharacterWidth,Oe=he.maxDigitWidth,Se=he.pixelRatio,_e=he.viewLineCount,Ee=ce.get(124),Ae=Ee==="inherit"?ce.get(123):Ee,Re=Ae==="inherit"?ce.get(119):Ae,Ve=ce.get(122),He=ce.get(2),ze=he.isDominatedByLongLines,Ye=ce.get(51),et=ce.get(61).renderType!==0,ot=ce.get(62),Ue=ce.get(95),xe=ce.get(66),Ie=ce.get(93),Pe=Ie.verticalScrollbarSize,Be=Ie.verticalHasArrows,We=Ie.arrowSize,Ge=Ie.horizontalScrollbarSize,Je=ce.get(59),Ze=ce.get(38);let it;if(typeof Je=="string"&&/^\d+(\.\d+)?ch$/.test(Je)){const ut=parseFloat(Je.substr(0,Je.length-2));it=o.clampedInt(ut*Ne,0,0,1e3)}else it=o.clampedInt(Je,0,0,1e3);Ze&&(it+=16);let Ke=0;if(et){const ut=Math.max(ke,ot);Ke=Math.round(ut*Oe)}let Me=0;Ye&&(Me=Te);let Fe=0,je=Fe+Me,qe=je+Ke,tt=qe+it;const $e=we-Me-Ke-it;let Xe=!1,nt=!1,dt=-1;He!==2&&(Ae==="inherit"&&ze?(Xe=!0,nt=!0):Re==="on"||Re==="bounded"?nt=!0:Re==="wordWrapColumn"&&(dt=Ve));const ct=M._computeMinimapLayout({outerWidth:we,outerHeight:ye,lineHeight:Te,typicalHalfwidthCharacterWidth:Ne,pixelRatio:Se,scrollBeyondLastLine:Ue,minimap:xe,verticalScrollbarWidth:Pe,viewLineCount:_e,remainingWidth:$e,isViewportWrapping:nt},he.memory||new u);ct.renderMinimap!==0&&ct.minimapLeft===0&&(Fe+=ct.minimapWidth,je+=ct.minimapWidth,qe+=ct.minimapWidth,tt+=ct.minimapWidth);const ft=$e-ct.minimapWidth,Wt=Math.max(1,Math.floor((ft-Pe-2)/Ne)),at=Be?We:0;return nt&&(dt=Math.max(1,Wt),Re==="bounded"&&(dt=Math.min(dt,Ve))),{width:we,height:ye,glyphMarginLeft:Fe,glyphMarginWidth:Me,lineNumbersLeft:je,lineNumbersWidth:Ke,decorationsLeft:qe,decorationsWidth:it,contentLeft:tt,contentWidth:ft,minimap:ct,viewportColumn:Wt,isWordWrapMinified:Xe,isViewportWrapping:nt,wrappingColumn:dt,verticalScrollbarWidth:Pe,horizontalScrollbarHeight:Ge,overviewRuler:{top:at,width:Pe,height:ye-2*at,right:0}}}}e.EditorLayoutInfoComputer=M;class z extends h{constructor(){const ce={enabled:!0};super(58,"lightbulb",ce,{"editor.lightbulb.enabled":{type:"boolean",default:ce.enabled,description:y.localize(43,null)}})}validate(ce){return!ce||typeof ce!="object"?this.defaultValue:{enabled:l(ce.enabled,this.defaultValue.enabled)}}}class G extends h{constructor(){const ce={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(128,"inlayHints",ce,{"editor.inlayHints.enabled":{type:"string",default:ce.enabled,description:y.localize(44,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[y.localize(45,null),y.localize(46,null),y.localize(47,null),y.localize(48,null)]},"editor.inlayHints.fontSize":{type:"number",default:ce.fontSize,markdownDescription:y.localize(49,null)},"editor.inlayHints.fontFamily":{type:"string",default:ce.fontFamily,markdownDescription:y.localize(50,null)},"editor.inlayHints.padding":{type:"boolean",default:ce.padding,description:y.localize(51,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return typeof he.enabled=="boolean"&&(he.enabled=he.enabled?"on":"off"),{enabled:g(he.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:o.clampedInt(he.fontSize,this.defaultValue.fontSize,0,100),fontFamily:c.string(he.fontFamily,this.defaultValue.fontFamily),padding:l(he.padding,this.defaultValue.padding)}}}class te extends r{constructor(){super(60,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,ce=>r.clamp(ce,0,150),{markdownDescription:y.localize(52,null)})}compute(ce,he,we){return ce.fontInfo.lineHeight}}class X extends h{constructor(){const ce={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(66,"minimap",ce,{"editor.minimap.enabled":{type:"boolean",default:ce.enabled,description:y.localize(53,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[y.localize(54,null),y.localize(55,null),y.localize(56,null)],default:ce.size,description:y.localize(57,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ce.side,description:y.localize(58,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ce.showSlider,description:y.localize(59,null)},"editor.minimap.scale":{type:"number",default:ce.scale,minimum:1,maximum:3,enum:[1,2,3],description:y.localize(60,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ce.renderCharacters,description:y.localize(61,null)},"editor.minimap.maxColumn":{type:"number",default:ce.maxColumn,description:y.localize(62,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{enabled:l(he.enabled,this.defaultValue.enabled),size:g(he.size,this.defaultValue.size,["proportional","fill","fit"]),side:g(he.side,this.defaultValue.side,["right","left"]),showSlider:g(he.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:l(he.renderCharacters,this.defaultValue.renderCharacters),scale:o.clampedInt(he.scale,1,1,3),maxColumn:o.clampedInt(he.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function J(be){return be==="ctrlCmd"?f.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ie extends h{constructor(){super(76,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(63,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(64,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{top:o.clampedInt(he.top,0,0,1e3),bottom:o.clampedInt(he.bottom,0,0,1e3)}}}class re extends h{constructor(){const ce={enabled:!0,cycle:!1};super(77,"parameterHints",ce,{"editor.parameterHints.enabled":{type:"boolean",default:ce.enabled,description:y.localize(65,null)},"editor.parameterHints.cycle":{type:"boolean",default:ce.cycle,description:y.localize(66,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{enabled:l(he.enabled,this.defaultValue.enabled),cycle:l(he.cycle,this.defaultValue.cycle)}}}class Z extends t{constructor(){super(130)}compute(ce,he,we){return ce.pixelRatio}}class x extends h{constructor(){const ce={other:"on",comments:"off",strings:"off"},he=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[y.localize(67,null),y.localize(68,null),y.localize(69,null)]}];super(80,"quickSuggestions",ce,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:he,default:ce.strings,description:y.localize(70,null)},comments:{anyOf:he,default:ce.comments,description:y.localize(71,null)},other:{anyOf:he,default:ce.other,description:y.localize(72,null)}},default:ce,markdownDescription:y.localize(73,null)});this.defaultValue=ce}validate(ce){if(typeof ce=="boolean"){const Se=ce?"on":"off";return{comments:Se,strings:Se,other:Se}}if(!ce||typeof ce!="object")return this.defaultValue;const{other:he,comments:we,strings:ye}=ce,Te=["on","inline","off"];let ke,Ne,Oe;return typeof he=="boolean"?ke=he?"on":"off":ke=g(he,this.defaultValue.other,Te),typeof we=="boolean"?Ne=we?"on":"off":Ne=g(we,this.defaultValue.comments,Te),typeof ye=="boolean"?Oe=ye?"on":"off":Oe=g(ye,this.defaultValue.strings,Te),{other:ke,comments:Ne,strings:Oe}}}class U extends h{constructor(){super(61,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[y.localize(74,null),y.localize(75,null),y.localize(76,null),y.localize(77,null)],default:"on",description:y.localize(78,null)})}validate(ce){let he=this.defaultValue.renderType,we=this.defaultValue.renderFn;return typeof ce!="undefined"&&(typeof ce=="function"?(he=4,we=ce):ce==="interval"?he=3:ce==="relative"?he=2:ce==="on"?he=1:he=0),{renderType:he,renderFn:we}}}function q(be){const ce=be.get(88);return ce==="editable"?be.get(82):ce!=="on"}e.filterValidationDecorations=q;class le extends h{constructor(){const ce=[],he={type:"number",description:y.localize(79,null)};super(92,"rulers",ce,{type:"array",items:{anyOf:[he,{type:["object"],properties:{column:he,color:{type:"string",description:y.localize(80,null),format:"color-hex"}}}]},default:ce,description:y.localize(81,null)})}validate(ce){if(Array.isArray(ce)){const he=[];for(const we of ce)if(typeof we=="number")he.push({column:o.clampedInt(we,0,0,1e4),color:null});else if(we&&typeof we=="object"){const ye=we;he.push({column:o.clampedInt(ye.column,0,0,1e4),color:ye.color})}return he.sort((we,ye)=>we.column-ye.column),he}return this.defaultValue}}function se(be,ce){if(typeof be!="string")return ce;switch(be){case"hidden":return 2;case"visible":return 3;default:return 1}}class Y extends h{constructor(){const ce={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(93,"scrollbar",ce,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(82,null),y.localize(83,null),y.localize(84,null)],default:"auto",description:y.localize(85,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(86,null),y.localize(87,null),y.localize(88,null)],default:"auto",description:y.localize(89,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ce.verticalScrollbarSize,description:y.localize(90,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ce.horizontalScrollbarSize,description:y.localize(91,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:ce.scrollByPage,description:y.localize(92,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce,we=o.clampedInt(he.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ye=o.clampedInt(he.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:o.clampedInt(he.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:se(he.vertical,this.defaultValue.vertical),horizontal:se(he.horizontal,this.defaultValue.horizontal),useShadows:l(he.useShadows,this.defaultValue.useShadows),verticalHasArrows:l(he.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:l(he.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:l(he.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:l(he.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:we,horizontalSliderSize:o.clampedInt(he.horizontalSliderSize,we,0,1e3),verticalScrollbarSize:ye,verticalSliderSize:o.clampedInt(he.verticalSliderSize,ye,0,1e3),scrollByPage:l(he.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class de extends h{constructor(){const ce={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(114,"unicodeHighlight",ce,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ce.nonBasicASCII,description:y.localize(93,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:ce.invisibleCharacters,description:y.localize(94,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ce.ambiguousCharacters,description:y.localize(95,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ce.includeComments,description:y.localize(96,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ce.includeStrings,description:y.localize(97,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:ce.allowedCharacters,description:y.localize(98,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:ce.allowedLocales,description:y.localize(99,null)}})}applyUpdate(ce,he){let we=!1;he.allowedCharacters&&(w.equals(ce.allowedCharacters,he.allowedCharacters)||(ce=Object.assign(Object.assign({},ce),{allowedCharacters:he.allowedCharacters}),we=!0)),he.allowedLocales&&(w.equals(ce.allowedLocales,he.allowedLocales)||(ce=Object.assign(Object.assign({},ce),{allowedLocales:he.allowedLocales}),we=!0));const ye=super.applyUpdate(ce,he);return we?new i(ye.newValue,!0):ye}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{nonBasicASCII:V(he.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:l(he.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:l(he.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:V(he.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:V(he.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(ce.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(ce.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(ce,he){if(typeof ce!="object"||!ce)return he;const we={};for(const[ye,Te]of Object.entries(ce))Te===!0&&(we[ye]=!0);return we}}class H extends h{constructor(){const ce={enabled:!0,mode:"subwordSmart"};super(56,"inlineSuggest",ce,{"editor.inlineSuggest.enabled":{type:"boolean",default:ce.enabled,description:y.localize(100,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{enabled:l(he.enabled,this.defaultValue.enabled),mode:g(he.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class $ extends h{constructor(){const ce={enabled:b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",ce,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ce.enabled,markdownDescription:y.localize(101,null)},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:ce.independentColorPoolPerBracketType,description:y.localize(102,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{enabled:l(he.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:l(he.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class K extends h{constructor(){const ce={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",ce,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[y.localize(103,null),y.localize(104,null),y.localize(105,null)],default:ce.bracketPairs,description:y.localize(106,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[y.localize(107,null),y.localize(108,null),y.localize(109,null)],default:ce.bracketPairsHorizontal,description:y.localize(110,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ce.highlightActiveBracketPair,description:y.localize(111,null)},"editor.guides.indentation":{type:"boolean",default:ce.indentation,description:y.localize(112,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[y.localize(113,null),y.localize(114,null),y.localize(115,null)],default:ce.highlightActiveIndentation,description:y.localize(116,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{bracketPairs:V(he.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:V(he.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:l(he.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:l(he.indentation,this.defaultValue.indentation),highlightActiveIndentation:V(he.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function V(be,ce,he){const we=he.indexOf(be);return we===-1?ce:he[we]}class Q extends h{constructor(){const ce={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(107,"suggest",ce,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[y.localize(117,null),y.localize(118,null)],default:ce.insertMode,description:y.localize(119,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ce.filterGraceful,description:y.localize(120,null)},"editor.suggest.localityBonus":{type:"boolean",default:ce.localityBonus,description:y.localize(121,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ce.shareSuggestSelections,markdownDescription:y.localize(122,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ce.snippetsPreventQuickSuggestions,description:y.localize(123,null)},"editor.suggest.showIcons":{type:"boolean",default:ce.showIcons,description:y.localize(124,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ce.showStatusBar,description:y.localize(125,null)},"editor.suggest.preview":{type:"boolean",default:ce.preview,description:y.localize(126,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ce.showInlineDetails,description:y.localize(127,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:y.localize(128,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:y.localize(129,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:y.localize(130,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:y.localize(131,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:y.localize(132,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:y.localize(133,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:y.localize(134,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:y.localize(135,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:y.localize(136,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:y.localize(137,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:y.localize(138,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:y.localize(139,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:y.localize(140,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:y.localize(141,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:y.localize(142,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:y.localize(143,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:y.localize(144,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:y.localize(145,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:y.localize(146,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:y.localize(147,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:y.localize(148,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:y.localize(149,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:y.localize(150,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:y.localize(151,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:y.localize(152,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:y.localize(153,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:y.localize(154,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:y.localize(155,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:y.localize(156,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:y.localize(157,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:y.localize(158,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const he=ce;return{insertMode:g(he.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:l(he.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:l(he.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:l(he.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:l(he.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:l(he.showIcons,this.defaultValue.showIcons),showStatusBar:l(he.showStatusBar,this.defaultValue.showStatusBar),preview:l(he.preview,this.defaultValue.preview),previewMode:g(he.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:l(he.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:l(he.showMethods,this.defaultValue.showMethods),showFunctions:l(he.showFunctions,this.defaultValue.showFunctions),showConstructors:l(he.showConstructors,this.defaultValue.showConstructors),showDeprecated:l(he.showDeprecated,this.defaultValue.showDeprecated),showFields:l(he.showFields,this.defaultValue.showFields),showVariables:l(he.showVariables,this.defaultValue.showVariables),showClasses:l(he.showClasses,this.defaultValue.showClasses),showStructs:l(he.showStructs,this.defaultValue.showStructs),showInterfaces:l(he.showInterfaces,this.defaultValue.showInterfaces),showModules:l(he.showModules,this.defaultValue.showModules),showProperties:l(he.showProperties,this.defaultValue.showProperties),showEvents:l(he.showEvents,this.defaultValue.showEvents),showOperators:l(he.showOperators,this.defaultValue.showOperators),showUnits:l(he.showUnits,this.defaultValue.showUnits),showValues:l(he.showValues,this.defaultValue.showValues),showConstants:l(he.showConstants,this.defaultValue.showConstants),showEnums:l(he.showEnums,this.defaultValue.showEnums),showEnumMembers:l(he.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:l(he.showKeywords,this.defaultValue.showKeywords),showWords:l(he.showWords,this.defaultValue.showWords),showColors:l(he.showColors,this.defaultValue.showColors),showFiles:l(he.showFiles,this.defaultValue.showFiles),showReferences:l(he.showReferences,this.defaultValue.showReferences),showFolders:l(he.showFolders,this.defaultValue.showFolders),showTypeParameters:l(he.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:l(he.showSnippets,this.defaultValue.showSnippets),showUsers:l(he.showUsers,this.defaultValue.showUsers),showIssues:l(he.showIssues,this.defaultValue.showIssues)}}}class ee extends h{constructor(){super(103,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:y.localize(159,null),default:!0,type:"boolean"}})}validate(ce){return!ce||typeof ce!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:l(ce.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ae extends t{constructor(){super(131)}compute(ce,he,we){return he.get(82)?!0:ce.tabFocusMode}}function fe(be){switch(be){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class pe extends t{constructor(){super(133)}compute(ce,he,we){const ye=he.get(132);return{isDominatedByLongLines:ce.isDominatedByLongLines,isWordWrapMinified:ye.isWordWrapMinified,isViewportWrapping:ye.isViewportWrapping,wrappingColumn:ye.wrappingColumn}}}const ve="Consolas, 'Courier New', monospace",ue="Menlo, Monaco, 'Courier New', monospace",Ce="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:f.isMacintosh?ue:f.isLinux?Ce:ve,fontWeight:"normal",fontSize:f.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function me(be){return e.editorOptionsRegistry[be.id]=be,be}e.EditorOptions={acceptSuggestionOnCommitCharacter:me(new d(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:y.localize(160,null)})),acceptSuggestionOnEnter:me(new m(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",y.localize(161,null),""],markdownDescription:y.localize(162,null)})),accessibilitySupport:me(new C),accessibilityPageSize:me(new o(3,"accessibilityPageSize",10,1,1073741824,{description:y.localize(163,null)})),ariaLabel:me(new c(4,"ariaLabel",y.localize(164,null))),autoClosingBrackets:me(new m(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(165,null),y.localize(166,null),""],description:y.localize(167,null)})),autoClosingDelete:me(new m(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",y.localize(168,null),""],description:y.localize(169,null)})),autoClosingOvertype:me(new m(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",y.localize(170,null),""],description:y.localize(171,null)})),autoClosingQuotes:me(new m(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(172,null),y.localize(173,null),""],description:y.localize(174,null)})),autoIndent:me(new S(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],p,{enumDescriptions:[y.localize(175,null),y.localize(176,null),y.localize(177,null),y.localize(178,null),y.localize(179,null)],description:y.localize(180,null)})),automaticLayout:me(new d(10,"automaticLayout",!1)),autoSurround:me(new m(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[y.localize(181,null),y.localize(182,null),y.localize(183,null),""],description:y.localize(184,null)})),bracketPairColorization:me(new $),bracketPairGuides:me(new K),stickyTabStops:me(new d(105,"stickyTabStops",!1,{description:y.localize(185,null)})),codeLens:me(new d(14,"codeLens",!0,{description:y.localize(186,null)})),codeLensFontFamily:me(new c(15,"codeLensFontFamily","",{description:y.localize(187,null)})),codeLensFontSize:me(new o(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:y.localize(188,null)})),colorDecorators:me(new d(17,"colorDecorators",!0,{description:y.localize(189,null)})),columnSelection:me(new d(18,"columnSelection",!1,{description:y.localize(190,null)})),comments:me(new _),contextmenu:me(new d(20,"contextmenu",!0)),copyWithSyntaxHighlighting:me(new d(21,"copyWithSyntaxHighlighting",!0,{description:y.localize(191,null)})),cursorBlinking:me(new S(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],L,{description:y.localize(192,null)})),cursorSmoothCaretAnimation:me(new d(23,"cursorSmoothCaretAnimation",!1,{description:y.localize(193,null)})),cursorStyle:me(new S(24,"cursorStyle",E.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],I,{description:y.localize(194,null)})),cursorSurroundingLines:me(new o(25,"cursorSurroundingLines",0,0,1073741824,{description:y.localize(195,null)})),cursorSurroundingLinesStyle:me(new m(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[y.localize(196,null),y.localize(197,null)],description:y.localize(198,null)})),cursorWidth:me(new o(27,"cursorWidth",0,0,1073741824,{markdownDescription:y.localize(199,null)})),disableLayerHinting:me(new d(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:me(new d(29,"disableMonospaceOptimizations",!1)),domReadOnly:me(new d(30,"domReadOnly",!1)),dragAndDrop:me(new d(31,"dragAndDrop",!0,{description:y.localize(200,null)})),emptySelectionClipboard:me(new P),enableDropIntoEditor:me(new d(32,"enableDropIntoEditor",!0)),extraEditorClassName:me(new c(34,"extraEditorClassName","")),fastScrollSensitivity:me(new r(35,"fastScrollSensitivity",5,be=>be<=0?5:be,{markdownDescription:y.localize(201,null)})),find:me(new B),fixedOverflowWidgets:me(new d(37,"fixedOverflowWidgets",!1)),folding:me(new d(38,"folding",!0,{description:y.localize(202,null)})),foldingStrategy:me(new m(39,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[y.localize(203,null),y.localize(204,null)],description:y.localize(205,null)})),foldingHighlight:me(new d(40,"foldingHighlight",!0,{description:y.localize(206,null)})),foldingImportsByDefault:me(new d(41,"foldingImportsByDefault",!1,{description:y.localize(207,null)})),foldingMaximumRegions:me(new o(42,"foldingMaximumRegions",5e3,10,65e3,{description:y.localize(208,null)})),unfoldOnClickAfterEndOfLine:me(new d(43,"unfoldOnClickAfterEndOfLine",!1,{description:y.localize(209,null)})),fontFamily:me(new c(44,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:y.localize(210,null)})),fontInfo:me(new k),fontLigatures2:me(new R),fontSize:me(new A),fontWeight:me(new O),formatOnPaste:me(new d(49,"formatOnPaste",!1,{description:y.localize(211,null)})),formatOnType:me(new d(50,"formatOnType",!1,{description:y.localize(212,null)})),glyphMargin:me(new d(51,"glyphMargin",!0,{description:y.localize(213,null)})),gotoLocation:me(new F),hideCursorInOverviewRuler:me(new d(53,"hideCursorInOverviewRuler",!1,{description:y.localize(214,null)})),hover:me(new W),inDiffEditor:me(new d(55,"inDiffEditor",!1)),letterSpacing:me(new r(57,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,be=>r.clamp(be,-5,20),{description:y.localize(215,null)})),lightbulb:me(new z),lineDecorationsWidth:me(new s(59,"lineDecorationsWidth",10)),lineHeight:me(new te),lineNumbers:me(new U),lineNumbersMinChars:me(new o(62,"lineNumbersMinChars",5,1,300)),linkedEditing:me(new d(63,"linkedEditing",!1,{description:y.localize(216,null)})),links:me(new d(64,"links",!0,{description:y.localize(217,null)})),matchBrackets:me(new m(65,"matchBrackets","always",["always","near","never"],{description:y.localize(218,null)})),minimap:me(new X),mouseStyle:me(new m(67,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:me(new r(68,"mouseWheelScrollSensitivity",1,be=>be===0?1:be,{markdownDescription:y.localize(219,null)})),mouseWheelZoom:me(new d(69,"mouseWheelZoom",!1,{markdownDescription:y.localize(220,null)})),multiCursorMergeOverlapping:me(new d(70,"multiCursorMergeOverlapping",!0,{description:y.localize(221,null)})),multiCursorModifier:me(new S(71,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],J,{markdownEnumDescriptions:[y.localize(222,null),y.localize(223,null)],markdownDescription:y.localize(224,null)})),multiCursorPaste:me(new m(72,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[y.localize(225,null),y.localize(226,null)],markdownDescription:y.localize(227,null)})),occurrencesHighlight:me(new d(73,"occurrencesHighlight",!0,{description:y.localize(228,null)})),overviewRulerBorder:me(new d(74,"overviewRulerBorder",!0,{description:y.localize(229,null)})),overviewRulerLanes:me(new o(75,"overviewRulerLanes",3,0,3)),padding:me(new ie),parameterHints:me(new re),peekWidgetDefaultFocus:me(new m(78,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[y.localize(230,null),y.localize(231,null)],description:y.localize(232,null)})),definitionLinkOpensInPeek:me(new d(79,"definitionLinkOpensInPeek",!1,{description:y.localize(233,null)})),quickSuggestions:me(new x),quickSuggestionsDelay:me(new o(81,"quickSuggestionsDelay",10,0,1073741824,{description:y.localize(234,null)})),readOnly:me(new d(82,"readOnly",!1)),renameOnType:me(new d(83,"renameOnType",!1,{description:y.localize(235,null),markdownDeprecationMessage:y.localize(236,null)})),renderControlCharacters:me(new d(84,"renderControlCharacters",!0,{description:y.localize(237,null),restricted:!0})),renderFinalNewline:me(new d(85,"renderFinalNewline",!0,{description:y.localize(238,null)})),renderLineHighlight:me(new m(86,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",y.localize(239,null)],description:y.localize(240,null)})),renderLineHighlightOnlyWhenFocus:me(new d(87,"renderLineHighlightOnlyWhenFocus",!1,{description:y.localize(241,null)})),renderValidationDecorations:me(new m(88,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:me(new m(89,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",y.localize(242,null),y.localize(243,null),y.localize(244,null),""],description:y.localize(245,null)})),revealHorizontalRightPadding:me(new o(90,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:me(new d(91,"roundedSelection",!0,{description:y.localize(246,null)})),rulers:me(new le),scrollbar:me(new Y),scrollBeyondLastColumn:me(new o(94,"scrollBeyondLastColumn",4,0,1073741824,{description:y.localize(247,null)})),scrollBeyondLastLine:me(new d(95,"scrollBeyondLastLine",!0,{description:y.localize(248,null)})),scrollPredominantAxis:me(new d(96,"scrollPredominantAxis",!0,{description:y.localize(249,null)})),selectionClipboard:me(new d(97,"selectionClipboard",!0,{description:y.localize(250,null),included:f.isLinux})),selectionHighlight:me(new d(98,"selectionHighlight",!0,{description:y.localize(251,null)})),selectOnLineNumbers:me(new d(99,"selectOnLineNumbers",!0)),showFoldingControls:me(new m(100,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[y.localize(252,null),y.localize(253,null)],description:y.localize(254,null)})),showUnused:me(new d(101,"showUnused",!0,{description:y.localize(255,null)})),showDeprecated:me(new d(127,"showDeprecated",!0,{description:y.localize(256,null)})),inlayHints:me(new G),snippetSuggestions:me(new m(102,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[y.localize(257,null),y.localize(258,null),y.localize(259,null),y.localize(260,null)],description:y.localize(261,null)})),smartSelect:me(new ee),smoothScrolling:me(new d(104,"smoothScrolling",!1,{description:y.localize(262,null)})),stopRenderingLineAfter:me(new o(106,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:me(new Q),inlineSuggest:me(new H),suggestFontSize:me(new o(108,"suggestFontSize",0,0,1e3,{markdownDescription:y.localize(263,null)})),suggestLineHeight:me(new o(109,"suggestLineHeight",0,0,1e3,{markdownDescription:y.localize(264,null)})),suggestOnTriggerCharacters:me(new d(110,"suggestOnTriggerCharacters",!0,{description:y.localize(265,null)})),suggestSelection:me(new m(111,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[y.localize(266,null),y.localize(267,null),y.localize(268,null)],description:y.localize(269,null)})),tabCompletion:me(new m(112,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[y.localize(270,null),y.localize(271,null),y.localize(272,null)],description:y.localize(273,null)})),tabIndex:me(new o(113,"tabIndex",0,-1,1073741824)),unicodeHighlight:me(new de),unusualLineTerminators:me(new m(115,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[y.localize(274,null),y.localize(275,null),y.localize(276,null)],description:y.localize(277,null)})),useShadowDOM:me(new d(116,"useShadowDOM",!0)),useTabStops:me(new d(117,"useTabStops",!0,{description:y.localize(278,null)})),wordSeparators:me(new c(118,"wordSeparators",N.USUAL_WORD_SEPARATORS,{description:y.localize(279,null)})),wordWrap:me(new m(119,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[y.localize(280,null),y.localize(281,null),y.localize(282,null),y.localize(283,null)],description:y.localize(284,null)})),wordWrapBreakAfterCharacters:me(new c(120,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:me(new c(121,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:me(new o(122,"wordWrapColumn",80,1,1073741824,{markdownDescription:y.localize(285,null)})),wordWrapOverride1:me(new m(123,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:me(new m(124,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:me(new S(125,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],fe,{enumDescriptions:[y.localize(286,null),y.localize(287,null),y.localize(288,null),y.localize(289,null)],description:y.localize(290,null)})),wrappingStrategy:me(new m(126,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[y.localize(291,null),y.localize(292,null)],description:y.localize(293,null)})),editorClassName:me(new T),pixelRatio:me(new Z),tabFocusMode:me(new ae),layoutInfo:me(new M),wrappingInfo:me(new pe)}}),define(ne[68],oe([1,0,36,33,34]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function D(w,b){w instanceof f.FastDomNode?(w.setFontFamily(b.getMassagedFontFamily(y.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null)),w.setFontWeight(b.fontWeight),w.setFontSize(b.fontSize),w.setFontFeatureSettings(b.fontFeatureSettings),w.setLineHeight(b.lineHeight),w.setLetterSpacing(b.letterSpacing)):(w.style.fontFamily=b.getMassagedFontFamily(y.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null),w.style.fontWeight=b.fontWeight,w.style.fontSize=b.fontSize+"px",w.style.fontFeatureSettings=b.fontFeatureSettings,w.style.lineHeight=b.lineHeight+"px",w.style.letterSpacing=b.letterSpacing+"px")}e.applyFontInfo=D}),define(ne[524],oe([1,0,68]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class f{constructor(b,v){this.chr=b,this.type=v,this.width=0}fulfill(b){this.width=b}}e.CharWidthRequest=f;class N{constructor(b,v){this._bareFontInfo=b,this._requests=v,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const b=document.createElement("div");b.style.position="absolute",b.style.top="-50000px",b.style.width="50000px";const v=document.createElement("div");(0,y.applyFontInfo)(v,this._bareFontInfo),b.appendChild(v);const u=document.createElement("div");(0,y.applyFontInfo)(u,this._bareFontInfo),u.style.fontWeight="bold",b.appendChild(u);const h=document.createElement("div");(0,y.applyFontInfo)(h,this._bareFontInfo),h.style.fontStyle="italic",b.appendChild(h);const i=[];for(const n of this._requests){let t;n.type===0&&(t=v),n.type===2&&(t=u),n.type===1&&(t=h),t.appendChild(document.createElement("br"));const s=document.createElement("span");N._render(s,n),t.appendChild(s),i.push(s)}this._container=b,this._testElements=i}static _render(b,v){if(v.chr===" "){let u="\xA0";for(let h=0;h<8;h++)u+=u;b.innerText=u}else{let u=v.chr;for(let h=0;h<8;h++)u+=u;b.textContent=u}}_readFromDomElements(){for(let b=0,v=this._requests.length;b<v;b++){const u=this._requests[b],h=this._testElements[b];u.fulfill(h.offsetWidth/256)}}}function D(w,b){new N(w,b).read()}e.readCharWidths=D}),define(ne[279],oe([1,0,36,4,2,524,34,183]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=void 0;class v extends N.Disposable{constructor(){super();this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new u,this._onDidChange.fire()}_writeToCache(i,n){this._cache.put(i,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const i=this._cache.getValues();let n=!1;for(const t of i)t.isTrusted||(n=!0,this._cache.remove(t));n&&this._onDidChange.fire()}readFontInfo(i){if(!this._cache.has(i)){let n=this._actualReadFontInfo(i);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new b.FontInfo({pixelRatio:y.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(i,n)}return this._cache.get(i)}_createRequest(i,n,t,s){const l=new D.CharWidthRequest(i,n);return t.push(l),s&&s.push(l),l}_actualReadFontInfo(i){const n=[],t=[],s=this._createRequest("n",0,n,t),l=this._createRequest("\uFF4D",0,n,null),d=this._createRequest(" ",0,n,t),a=this._createRequest("0",0,n,t),o=this._createRequest("1",0,n,t),r=this._createRequest("2",0,n,t),c=this._createRequest("3",0,n,t),g=this._createRequest("4",0,n,t),m=this._createRequest("5",0,n,t),S=this._createRequest("6",0,n,t),p=this._createRequest("7",0,n,t),C=this._createRequest("8",0,n,t),_=this._createRequest("9",0,n,t),L=this._createRequest("\u2192",0,n,t),E=this._createRequest("\uFFEB",0,n,null),I=this._createRequest("\xB7",0,n,t),T=this._createRequest(String.fromCharCode(11825),0,n,null),P="|/-_ilm%";for(let O=0,F=P.length;O<F;O++)this._createRequest(P.charAt(O),0,n,t),this._createRequest(P.charAt(O),1,n,t),this._createRequest(P.charAt(O),2,n,t);(0,D.readCharWidths)(i,n);const B=Math.max(a.width,o.width,r.width,c.width,g.width,m.width,S.width,p.width,C.width,_.width);let R=i.fontFeatureSettings===w.EditorFontLigatures.OFF;const k=t[0].width;for(let O=1,F=t.length;R&&O<F;O++){const W=k-t[O].width;if(W<-.001||W>.001){R=!1;break}}let A=!0;return R&&E.width!==k&&(A=!1),E.width>L.width&&(A=!1),new b.FontInfo({pixelRatio:y.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:R,typicalHalfwidthCharacterWidth:s.width,typicalFullwidthCharacterWidth:l.width,canUseHalfwidthRightwardsArrow:A,spaceWidth:d.width,middotWidth:I.width,wsmiddotWidth:T.width,maxDigitWidth:B},!0)}}class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(i){const n=i.getId();return!!this._values[n]}get(i){const n=i.getId();return this._values[n]}put(i,n){const t=i.getId();this._keys[t]=i,this._values[t]=n}remove(i){const n=i.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(i=>this._values[i])}}e.FontMeasurements=new v}),define(ne[525],oe([1,0,96,9,68,98,257]),function(j,e,y,f,N,D,w){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const v=(b=window.trustedTypes)===null||b===void 0?void 0:b.createPolicy("domLineBreaksComputer",{createHTML:l=>l});class u{static create(){return new u}constructor(){}createLineBreaksComputer(d,a,o,r){const c=[],g=[];return{addRequest:(m,S,p)=>{c.push(m),g.push(S)},finalize:()=>h(c,d,a,o,r,g)}}}e.DOMLineBreaksComputerFactory=u;function h(l,d,a,o,r,c){var g;function m(M){const z=c[M];if(z){const G=D.LineInjectedText.applyInjectedText(l[M],z),te=z.map(J=>J.options),X=z.map(J=>J.column-1);return new w.ModelLineProjectionData(X,te,[G.length],[],0)}else return null}if(o===-1){const M=[];for(let z=0,G=l.length;z<G;z++)M[z]=m(z);return M}const S=Math.round(o*d.typicalHalfwidthCharacterWidth),C=Math.round(a*(r===3?2:r===2?1:0)),_=Math.ceil(d.spaceWidth*C),L=document.createElement("div");(0,N.applyFontInfo)(L,d);const E=(0,y.createStringBuilder)(1e4),I=[],T=[],P=[],B=[],R=[];for(let M=0;M<l.length;M++){const z=D.LineInjectedText.applyInjectedText(l[M],c[M]);let G=0,te=0,X=S;if(r!==0)if(G=f.firstNonWhitespaceIndex(z),G===-1)G=0;else{for(let Z=0;Z<G;Z++)te+=z.charCodeAt(Z)===9?a-te%a:1;const re=Math.ceil(d.spaceWidth*te);re+d.typicalFullwidthCharacterWidth>S?(G=0,te=0):X=S-re}const J=z.substr(G),ie=i(J,te,a,X,E,_);I[M]=G,T[M]=te,P[M]=J,B[M]=ie[0],R[M]=ie[1]}const k=E.build(),A=(g=v==null?void 0:v.createHTML(k))!==null&&g!==void 0?g:k;L.innerHTML=A,L.style.position="absolute",L.style.top="10000",L.style.wordWrap="break-word",document.body.appendChild(L);const O=document.createRange(),F=Array.prototype.slice.call(L.children,0),W=[];for(let M=0;M<l.length;M++){const z=F[M],G=n(O,z,P[M],B[M]);if(G===null){W[M]=m(M);continue}const te=I[M],X=T[M]+C,J=R[M],ie=[];for(let U=0,q=G.length;U<q;U++)ie[U]=J[G[U]];if(te!==0)for(let U=0,q=G.length;U<q;U++)G[U]+=te;let re,Z;const x=c[M];x?(re=x.map(U=>U.options),Z=x.map(U=>U.column-1)):(re=null,Z=null),W[M]=new w.ModelLineProjectionData(Z,re,G,ie,X)}return document.body.removeChild(L),W}function i(l,d,a,o,r,c){if(c!==0){const L=String(c);r.appendASCIIString('<div style="text-indent: -'),r.appendASCIIString(L),r.appendASCIIString("px; padding-left: "),r.appendASCIIString(L),r.appendASCIIString("px; box-sizing: border-box; width:")}else r.appendASCIIString('<div style="width:');r.appendASCIIString(String(o)),r.appendASCIIString('px;">');const g=l.length;let m=d,S=0;const p=[],C=[];let _=0<g?l.charCodeAt(0):0;r.appendASCIIString("<span>");for(let L=0;L<g;L++){L!==0&&L%16384==0&&r.appendASCIIString("</span><span>"),p[L]=S,C[L]=m;const E=_;_=L+1<g?l.charCodeAt(L+1):0;let I=1,T=1;switch(E){case 9:I=a-m%a,T=I;for(let P=1;P<=I;P++)P<I?r.write1(160):r.appendASCII(32);break;case 32:_===32?r.write1(160):r.appendASCII(32);break;case 60:r.appendASCIIString("&lt;");break;case 62:r.appendASCIIString("&gt;");break;case 38:r.appendASCIIString("&amp;");break;case 0:r.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.write1(65533);break;default:f.isFullWidthCharacter(E)&&T++,E<32?r.write1(9216+E):r.write1(E)}S+=I,m+=T}return r.appendASCIIString("</span>"),p[l.length]=S,C[l.length]=m,r.appendASCIIString("</div>"),[p,C]}function n(l,d,a,o){if(a.length<=1)return null;const r=Array.prototype.slice.call(d.children,0),c=[];try{t(l,r,o,0,null,a.length-1,null,c)}catch(g){return console.log(g),null}return c.length===0?null:(c.push(a.length),c)}function t(l,d,a,o,r,c,g,m){if(o===c||(r=r||s(l,d,a[o],a[o+1]),g=g||s(l,d,a[c],a[c+1]),Math.abs(r[0].top-g[0].top)<=.1))return;if(o+1===c){m.push(c);return}const S=o+(c-o)/2|0,p=s(l,d,a[S],a[S+1]);t(l,d,a,o,r,S,p,m),t(l,d,a,S,p,c,g,m)}function s(l,d,a,o){return l.setStart(d[a/16384|0].firstChild,a%16384),l.setEnd(d[o/16384|0].firstChild,o%16384),l.getClientRects()}}),define(ne[526],oe([1,0,33,68,186,52]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class w extends D.ViewPart{constructor(i){super(i);this._visibleLines=new N.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,n=this._dynamicOverlays.length;i<n;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,n=this._dynamicOverlays.length;i<n;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new b(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const n=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let s=n;s<=t;s++)this._visibleLines.getVisibleLine(s).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const n=this._dynamicOverlays.filter(t=>t.shouldRender());for(let t=0,s=n.length;t<s;t++){const l=n[t];l.prepareRender(i),l.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}e.ViewOverlays=w;class b{constructor(i,n){this._configuration=i,this._lineHeight=this._configuration.options.get(60),this._dynamicOverlays=n,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,y.createFastDomNode)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(60)}renderLine(i,n,t,s){let l="";for(let d=0,a=this._dynamicOverlays.length;d<a;d++)l+=this._dynamicOverlays[d].render(t.startLineNumber,i);return this._renderedContent===l?!1:(this._renderedContent=l,s.appendASCIIString('<div style="position:absolute;top:'),s.appendASCIIString(String(n)),s.appendASCIIString("px;width:100%;height:"),s.appendASCIIString(String(this._lineHeight)),s.appendASCIIString('px;">'),s.appendASCIIString(l),s.appendASCIIString("</div>"),!0)}layoutLine(i,n){this._domNode&&(this._domNode.setTop(n),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=b;class v extends w{constructor(i){super(i);const t=this._context.configuration.options.get(132);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const t=this._context.configuration.options.get(132);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=v;class u extends w{constructor(i){super(i);const n=this._context.configuration.options,t=n.get(132);this._contentLeft=t.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,f.applyFontInfo)(this.domNode,n.get(45))}onConfigurationChanged(i){const n=this._context.configuration.options;(0,f.applyFontInfo)(this.domNode,n.get(45));const t=n.get(132);return this._contentLeft=t.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const n=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=u}),define(ne[527],oe([1,0,7,33,9,68,34,11,3,148]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class h{constructor(t,s,l,d,a,o){this.top=t,this.left=s,this.width=l,this.height=d,this.textContent=a,this.textContentClassName=o}}class i{constructor(t){this._context=t;const s=this._context.configuration.options,l=s.get(45);this._cursorStyle=s.get(24),this._lineHeight=s.get(60),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(s.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,l),this._domNode.setDisplay("none"),this._position=new b.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const s=this._context.configuration.options,l=s.get(45);return this._cursorStyle=s.get(24),this._lineHeight=s.get(60),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(s.get(27),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,l),!0}onCursorPositionChanged(t){return this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:s}=this._position,l=this._context.viewModel.getLineContent(t),[d,a]=N.getCharContainingOffset(l,s-1);return[new b.Position(t,d+1),l.substring(d,a)]}_prepareRender(t){let s="";const[l,d]=this._getGraphemeAwarePosition();if(this._cursorStyle===w.TextEditorCursorStyle.Line||this._cursorStyle===w.TextEditorCursorStyle.LineThin){const p=t.visibleRangeForPosition(l);if(!p||p.outsideRenderedLine)return null;let C;this._cursorStyle===w.TextEditorCursorStyle.Line?(C=y.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),C>2&&(s=d)):C=y.computeScreenAwareSize(1);let _=p.left;C>=2&&_>=1&&(_-=1);const L=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.bigNumbersDelta;return new h(L,_,C,this._lineHeight,s,"")}const a=t.linesVisibleRangesForRange(new v.Range(l.lineNumber,l.column,l.lineNumber,l.column+d.length),!1);if(!a||a.length===0)return null;const o=a[0];if(o.outsideRenderedLine||o.ranges.length===0)return null;const r=o.ranges[0],c=r.width<1?this._typicalHalfwidthCharacterWidth:r.width;let g="";if(this._cursorStyle===w.TextEditorCursorStyle.Block){const p=this._context.viewModel.getViewLineData(l.lineNumber);s=d;const C=p.tokens.findTokenIndexAtOffset(l.column-1);g=p.tokens.getClassName(C)}let m=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.bigNumbersDelta,S=this._lineHeight;return(this._cursorStyle===w.TextEditorCursorStyle.Underline||this._cursorStyle===w.TextEditorCursorStyle.UnderlineThin)&&(m+=this._lineHeight-2,S=2),new h(m,r.left,c,S,s,g)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=i}),define(ne[280],oe([1,0,11,3,75,34]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class w{constructor(n,t,s,l,d){this.editorId=n,this.model=t,this.configuration=s,this._linesCollection=l,this._coordinatesConverter=d,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(n){const t=n.id;let s=this._decorationsCache[t];if(!s){const l=n.range,d=n.options;let a;if(d.isWholeLine){const o=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(l.startLineNumber,1),0),r=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(l.endLineNumber,this.model.getLineMaxColumn(l.endLineNumber)),1);a=new f.Range(o.lineNumber,o.column,r.lineNumber,r.column)}else a=this._coordinatesConverter.convertModelRangeToViewRange(l,1);s=new N.ViewModelDecoration(a,d),this._decorationsCache[t]=s}return s}getDecorationsViewportData(n){let t=this._cachedModelDecorationsResolver!==null;return t=t&&n.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(n),this._cachedModelDecorationsResolverViewRange=n),this._cachedModelDecorationsResolver}_getDecorationsViewportData(n){const t=this._linesCollection.getDecorationsInRange(n,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options)),s=n.startLineNumber,l=n.endLineNumber,d=[];let a=0;const o=[];for(let r=s;r<=l;r++)o[r-s]=[];for(let r=0,c=t.length;r<c;r++){const g=t[r],m=g.options;if(!b(this.model,g))continue;const S=this._getOrCreateViewModelDecoration(g),p=S.range;if(d[a++]=S,m.inlineClassName){const C=new N.InlineDecoration(p,m.inlineClassName,m.inlineClassNameAffectsLetterSpacing?3:0),_=Math.max(s,p.startLineNumber),L=Math.min(l,p.endLineNumber);for(let E=_;E<=L;E++)o[E-s].push(C)}if(m.beforeContentClassName&&s<=p.startLineNumber&&p.startLineNumber<=l){const C=new N.InlineDecoration(new f.Range(p.startLineNumber,p.startColumn,p.startLineNumber,p.startColumn),m.beforeContentClassName,1);o[p.startLineNumber-s].push(C)}if(m.afterContentClassName&&s<=p.endLineNumber&&p.endLineNumber<=l){const C=new N.InlineDecoration(new f.Range(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn),m.afterContentClassName,2);o[p.endLineNumber-s].push(C)}}return{decorations:d,inlineDecorations:o}}}e.ViewModelDecorations=w;function b(i,n){return!(n.options.hideInCommentTokens&&v(i,n)||n.options.hideInStringTokens&&u(i,n))}e.isModelDecorationVisible=b;function v(i,n){return h(i,n.range,t=>t===1)}e.isModelDecorationInComment=v;function u(i,n){return h(i,n.range,t=>t===2)}e.isModelDecorationInString=u;function h(i,n,t){for(let s=n.startLineNumber;s<=n.endLineNumber;s++){const l=i.tokenization.getLineTokens(s),d=s===n.startLineNumber,a=s===n.endLineNumber;let o=d?l.findTokenIndexAtOffset(n.startColumn-1):0;for(;o<l.getCount()&&!(a&&l.getStartOffset(o)>n.endColumn-1);){if(!t(l.getStandardTokenType(o)))return!1;o++}}return!0}}),define(ne[528],oe([5,6]),function(j,e){return j.create("vs/editor/common/core/editorColorRegistry",e)}),define(ne[529],oe([5,6]),function(j,e){return j.create("vs/editor/common/editorContextKeys",e)}),define(ne[530],oe([5,6]),function(j,e){return j.create("vs/editor/common/languages/modesRegistry",e)}),define(ne[531],oe([5,6]),function(j,e){return j.create("vs/editor/common/model/editStack",e)}),define(ne[281],oe([1,0,531,13,23,22,247,102,42]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function u(d){return d.toString()}class h{constructor(a,o,r,c,g,m,S){this.beforeVersionId=a,this.afterVersionId=o,this.beforeEOL=r,this.afterEOL=c,this.beforeCursorState=g,this.afterCursorState=m,this.changes=S}static create(a,o){const r=a.getAlternativeVersionId(),c=t(a);return new h(r,r,c,c,o,o,[])}append(a,o,r,c,g){o.length>0&&(this.changes=(0,w.compressConsecutiveTextChanges)(this.changes,o)),this.afterEOL=r,this.afterVersionId=c,this.afterCursorState=g}static _writeSelectionsSize(a){return 4+4*4*(a?a.length:0)}static _writeSelections(a,o,r){if(b.writeUInt32BE(a,o?o.length:0,r),r+=4,o)for(const c of o)b.writeUInt32BE(a,c.selectionStartLineNumber,r),r+=4,b.writeUInt32BE(a,c.selectionStartColumn,r),r+=4,b.writeUInt32BE(a,c.positionLineNumber,r),r+=4,b.writeUInt32BE(a,c.positionColumn,r),r+=4;return r}static _readSelections(a,o,r){const c=b.readUInt32BE(a,o);o+=4;for(let g=0;g<c;g++){const m=b.readUInt32BE(a,o);o+=4;const S=b.readUInt32BE(a,o);o+=4;const p=b.readUInt32BE(a,o);o+=4;const C=b.readUInt32BE(a,o);o+=4,r.push(new N.Selection(m,S,p,C))}return o}serialize(){let a=4+4+1+1+h._writeSelectionsSize(this.beforeCursorState)+h._writeSelectionsSize(this.afterCursorState)+4;for(const c of this.changes)a+=c.writeSize();const o=new Uint8Array(a);let r=0;b.writeUInt32BE(o,this.beforeVersionId,r),r+=4,b.writeUInt32BE(o,this.afterVersionId,r),r+=4,b.writeUInt8(o,this.beforeEOL,r),r+=1,b.writeUInt8(o,this.afterEOL,r),r+=1,r=h._writeSelections(o,this.beforeCursorState,r),r=h._writeSelections(o,this.afterCursorState,r),b.writeUInt32BE(o,this.changes.length,r),r+=4;for(const c of this.changes)r=c.write(o,r);return o.buffer}static deserialize(a){const o=new Uint8Array(a);let r=0;const c=b.readUInt32BE(o,r);r+=4;const g=b.readUInt32BE(o,r);r+=4;const m=b.readUInt8(o,r);r+=1;const S=b.readUInt8(o,r);r+=1;const p=[];r=h._readSelections(o,r,p);const C=[];r=h._readSelections(o,r,C);const _=b.readUInt32BE(o,r);r+=4;const L=[];for(let E=0;E<_;E++)r=w.TextChange.read(o,r,L);return new h(c,g,m,S,p,C,L)}}e.SingleModelEditStackData=h;class i{constructor(a,o,r,c){this.label=a,this.code=o,this.model=r,this._data=h.create(r,c)}get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof h?this._data:h.deserialize(this._data)).changes.map(o=>o.toString()).join(", ")}matchesResource(a){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===a.toString()}setModel(a){this.model=a}canAppend(a){return this.model===a&&this._data instanceof h}append(a,o,r,c,g){this._data instanceof h&&this._data.append(a,o,r,c,g)}close(){this._data instanceof h&&(this._data=this._data.serialize())}open(){this._data instanceof h||(this._data=h.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());const a=h.deserialize(this._data);this.model._applyUndo(a.changes,a.beforeEOL,a.beforeVersionId,a.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());const a=h.deserialize(this._data);this.model._applyRedo(a.changes,a.afterEOL,a.afterVersionId,a.afterCursorState)}heapSize(){return this._data instanceof h&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=i;class n{constructor(a,o,r){this.label=a,this.code=o,this.type=1,this._isOpen=!0,this._editStackElementsArr=r.slice(0),this._editStackElementsMap=new Map;for(const c of this._editStackElementsArr){const g=u(c.resource);this._editStackElementsMap.set(g,c)}this._delegate=null}get resources(){return this._editStackElementsArr.map(a=>a.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(a){const o=u(a);return this._editStackElementsMap.has(o)}setModel(a){const o=u(D.URI.isUri(a)?a:a.uri);this._editStackElementsMap.has(o)&&this._editStackElementsMap.get(o).setModel(a)}canAppend(a){if(!this._isOpen)return!1;const o=u(a.uri);return this._editStackElementsMap.has(o)?this._editStackElementsMap.get(o).canAppend(a):!1}append(a,o,r,c,g){const m=u(a.uri);this._editStackElementsMap.get(m).append(a,o,r,c,g)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const a of this._editStackElementsArr)a.undo()}redo(){for(const a of this._editStackElementsArr)a.redo()}heapSize(a){const o=u(a);return this._editStackElementsMap.has(o)?this._editStackElementsMap.get(o).heapSize():0}split(){return this._editStackElementsArr}toString(){const a=[];for(const o of this._editStackElementsArr)a.push(`${(0,v.basename)(o.resource)}: ${o}`);return`{${a.join(", ")}}`}}e.MultiModelEditStackElement=n;function t(d){return d.getEOL()===`
`?0:1}function s(d){return d?d instanceof i||d instanceof n:!1}e.isEditStackElement=s;class l{constructor(a,o){this._model=a,this._undoRedoService=o}pushStackElement(){const a=this._undoRedoService.getLastElement(this._model.uri);s(a)&&a.close()}popStackElement(){const a=this._undoRedoService.getLastElement(this._model.uri);s(a)&&a.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(a){const o=this._undoRedoService.getLastElement(this._model.uri);if(s(o)&&o.canAppend(this._model))return o;const r=new i(y.localize(0,null),"undoredo.textBufferEdit",this._model,a);return this._undoRedoService.pushElement(r),r}pushEOL(a){const o=this._getOrCreateEditStackElement(null);this._model.setEOL(a),o.append(this._model,[],t(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(a,o,r){const c=this._getOrCreateEditStackElement(a),g=this._model.applyEdits(o,!0),m=l._computeCursorState(r,g),S=g.map((p,C)=>({index:C,textChange:p.textChange}));return S.sort((p,C)=>p.textChange.oldPosition===C.textChange.oldPosition?p.index-C.index:p.textChange.oldPosition-C.textChange.oldPosition),c.append(this._model,S.map(p=>p.textChange),t(this._model),this._model.getAlternativeVersionId(),m),m}static _computeCursorState(a,o){try{return a?a(o):null}catch(r){return(0,f.onUnexpectedError)(r),null}}}e.EditStack=l}),define(ne[532],oe([5,6]),function(j,e){return j.create("vs/editor/common/standaloneStrings",e)}),define(ne[76],oe([1,0,532]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var f;(function(n){n.noSelection=y.localize(0,null),n.singleSelectionRange=y.localize(1,null),n.singleSelection=y.localize(2,null),n.multiSelectionRange=y.localize(3,null),n.multiSelection=y.localize(4,null),n.emergencyConfOn=y.localize(5,null),n.openingDocs=y.localize(6,null),n.readonlyDiffEditor=y.localize(7,null),n.editableDiffEditor=y.localize(8,null),n.readonlyEditor=y.localize(9,null),n.editableEditor=y.localize(10,null),n.changeConfigToOnMac=y.localize(11,null),n.changeConfigToOnWinLinux=y.localize(12,null),n.auto_on=y.localize(13,null),n.auto_off=y.localize(14,null),n.tabFocusModeOnMsg=y.localize(15,null),n.tabFocusModeOnMsgNoKb=y.localize(16,null),n.tabFocusModeOffMsg=y.localize(17,null),n.tabFocusModeOffMsgNoKb=y.localize(18,null),n.openDocMac=y.localize(19,null),n.openDocWinLinux=y.localize(20,null),n.outroMsg=y.localize(21,null),n.showAccessibilityHelpAction=y.localize(22,null)})(f=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var N;(function(n){n.inspectTokensAction=y.localize(23,null)})(N=e.InspectTokensNLS||(e.InspectTokensNLS={}));var D;(function(n){n.gotoLineActionLabel=y.localize(24,null)})(D=e.GoToLineNLS||(e.GoToLineNLS={}));var w;(function(n){n.helpQuickAccessActionLabel=y.localize(25,null)})(w=e.QuickHelpNLS||(e.QuickHelpNLS={}));var b;(function(n){n.quickCommandActionLabel=y.localize(26,null),n.quickCommandHelp=y.localize(27,null)})(b=e.QuickCommandNLS||(e.QuickCommandNLS={}));var v;(function(n){n.quickOutlineActionLabel=y.localize(28,null),n.quickOutlineByCategoryActionLabel=y.localize(29,null)})(v=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var u;(function(n){n.editorViewAccessibleLabel=y.localize(30,null),n.accessibilityHelpMessage=y.localize(31,null)})(u=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var h;(function(n){n.toggleHighContrast=y.localize(32,null)})(h=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var i;(function(n){n.bulkEditServiceSummary=y.localize(33,null)})(i=e.StandaloneServicesNLS||(e.StandaloneServicesNLS={}))}),define(ne[533],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(ne[534],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(ne[535],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(ne[536],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(ne[537],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(ne[538],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(ne[539],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(ne[540],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(ne[541],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(ne[542],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/comment/browser/comment",e)}),define(ne[543],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(ne[544],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/copyPaste/browser/copyPasteContribution",e)}),define(ne[545],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(ne[546],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(ne[547],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/find/browser/findController",e)}),define(ne[548],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/find/browser/findWidget",e)}),define(ne[549],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/folding/browser/folding",e)}),define(ne[550],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(ne[551],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(ne[552],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/format/browser/format",e)}),define(ne[553],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/format/browser/formatActions",e)}),define(ne[554],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(ne[555],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(ne[556],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(ne[557],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(ne[558],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(ne[559],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(ne[560],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(ne[561],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(ne[136],oe([1,0,13,4,141,2,51,42,9,3,561]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class i{constructor(d,a,o,r){this.isProviderFirst=d,this.parent=a,this.link=o,this._rangeCallback=r,this.id=N.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var d,a;return(a=(d=this._range)!==null&&d!==void 0?d:this.link.targetSelectionRange)!==null&&a!==void 0?a:this.link.range}set range(d){this._range=d,this._rangeCallback(this)}get ariaMessage(){var d;const a=(d=this.parent.getPreview(this))===null||d===void 0?void 0:d.preview(this.range);return a?(0,h.localize)(1,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,a.value):(0,h.localize)(0,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=i;class n{constructor(d){this._modelReference=d}dispose(){this._modelReference.dispose()}preview(d,a=8){const o=this._modelReference.object.textEditorModel;if(!o)return;const{startLineNumber:r,startColumn:c,endLineNumber:g,endColumn:m}=d,S=o.getWordUntilPosition({lineNumber:r,column:c-a}),p=new u.Range(r,S.startColumn,r,c),C=new u.Range(g,m,g,1073741824),_=o.getValueInRange(p).replace(/^\s+/,""),L=o.getValueInRange(d),E=o.getValueInRange(C).replace(/\s+$/,"");return{value:_+L+E,highlight:{start:_.length,end:_.length+L.length}}}}e.FilePreview=n;class t{constructor(d,a){this.parent=d,this.uri=a,this.children=[],this._previews=new w.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(d){return this._previews.get(d.uri)}get ariaMessage(){const d=this.children.length;return d===1?(0,h.localize)(2,null,(0,b.basename)(this.uri),this.uri.fsPath):(0,h.localize)(3,null,d,(0,b.basename)(this.uri),this.uri.fsPath)}resolve(d){return Le(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const a of this.children)if(!this._previews.has(a.uri))try{const o=yield d.createModelReference(a.uri);this._previews.set(a.uri,new n(o))}catch(o){(0,y.onUnexpectedError)(o)}return this})}}e.FileReferences=t;class s{constructor(d,a){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new f.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=d,this._title=a;const[o]=d;d.sort(s._compareReferences);let r;for(const c of d)if((!r||!b.extUri.isEqual(r.uri,c.uri,!0))&&(r=new t(this,c.uri),this.groups.push(r)),r.children.length===0||s._compareReferences(c,r.children[r.children.length-1])!==0){const g=new i(o===c,r,c,m=>this._onDidChangeReferenceRange.fire(m));this.references.push(g),r.children.push(g)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new s(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,h.localize)(4,null):this.references.length===1?(0,h.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,h.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,h.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(d,a){const{parent:o}=d;let r=o.children.indexOf(d);const c=o.children.length,g=o.parent.groups.length;return g===1||a&&r+1<c||!a&&r>0?(a?r=(r+1)%c:r=(r+c-1)%c,o.children[r]):(r=o.parent.groups.indexOf(o),a?(r=(r+1)%g,o.parent.groups[r].children[0]):(r=(r+g-1)%g,o.parent.groups[r].children[o.parent.groups[r].children.length-1]))}nearestReference(d,a){const o=this.references.map((r,c)=>({idx:c,prefixLen:v.commonPrefixLength(r.uri.toString(),d.toString()),offsetDist:Math.abs(r.range.startLineNumber-a.lineNumber)*100+Math.abs(r.range.startColumn-a.column)})).sort((r,c)=>r.prefixLen>c.prefixLen?-1:r.prefixLen<c.prefixLen?1:r.offsetDist<c.offsetDist?-1:r.offsetDist>c.offsetDist?1:0)[0];if(o)return this.references[o.idx]}referenceAt(d,a){for(const o of this.references)if(o.uri.toString()===d.toString()&&u.Range.containsPosition(o.range,a))return o}firstReference(){for(const d of this.references)if(d.isProviderFirst)return d;return this.references[0]}static _compareReferences(d,a){return b.extUri.compare(d.uri,a.uri)||u.Range.compareRangesUsingStarts(d.range,a.range)}}e.ReferencesModel=s}),define(ne[562],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(ne[563],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/hover/browser/hover",e)}),define(ne[564],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(ne[565],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(ne[566],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(ne[567],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(ne[568],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(ne[569],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/inlineCompletions/browser/ghostTextController",e)}),define(ne[570],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant",e)}),define(ne[571],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(ne[572],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(ne[573],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(ne[574],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/links/browser/links",e)}),define(ne[575],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/message/browser/messageController",e)}),define(ne[576],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(ne[577],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(ne[578],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(ne[579],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(ne[580],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(ne[581],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(ne[582],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/rename/browser/rename",e)}),define(ne[583],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(ne[584],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(ne[585],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(ne[586],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(ne[587],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(ne[588],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(ne[589],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(ne[590],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(ne[591],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(ne[592],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(ne[593],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(ne[594],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(ne[595],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(ne[596],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(ne[597],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(ne[598],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(ne[599],oe([5,6]),function(j,e){return j.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(ne[600],oe([5,6]),function(j,e){return j.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ne[601],oe([5,6]),function(j,e){return j.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ne[602],oe([5,6]),function(j,e){return j.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ne[603],oe([5,6]),function(j,e){return j.create("vs/platform/contextkey/common/contextkeys",e)}),define(ne[604],oe([5,6]),function(j,e){return j.create("vs/platform/dnd/browser/dnd",e)}),define(ne[605],oe([5,6]),function(j,e){return j.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(ne[606],oe([5,6]),function(j,e){return j.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ne[607],oe([5,6]),function(j,e){return j.create("vs/platform/list/browser/listService",e)}),define(ne[608],oe([5,6]),function(j,e){return j.create("vs/platform/markers/common/markers",e)}),define(ne[609],oe([5,6]),function(j,e){return j.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ne[610],oe([5,6]),function(j,e){return j.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ne[611],oe([5,6]),function(j,e){return j.create("vs/platform/theme/common/colorRegistry",e)}),define(ne[612],oe([5,6]),function(j,e){return j.create("vs/platform/theme/common/iconRegistry",e)}),define(ne[613],oe([5,6]),function(j,e){return j.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ne[614],oe([5,6]),function(j,e){return j.create("vs/platform/workspace/common/workspace",e)}),define(ne[615],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var y;(function(f){f[f.API=0]="API",f[f.USER=1]="USER"})(y=e.EditorOpenSource||(e.EditorOpenSource={}))}),define(ne[616],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class y{constructor(N){this.value=N,this._lower=N.toLowerCase()}static toKey(N){return typeof N=="string"?N.toLowerCase():N._lower}}e.ExtensionIdentifier=y}),define(ne[617],oe([1,0,22,44,80]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLFileSystemProvider=void 0;class D{constructor(b,v,u){this.indexedDB=b,this.store=v,this.logService=u,this._files=new Map,this._directories=new Map}registerFileHandle(b){return this.registerHandle(b,this._files)}registerDirectoryHandle(b){return this.registerHandle(b,this._directories)}registerHandle(b,v){var u,h,i;return Le(this,void 0,void 0,function*(){let n=`/${b.name}`;if(v.has(n)&&!(yield(u=v.get(n))===null||u===void 0?void 0:u.isSameEntry(b))){const t=(0,N.extname)(b.name),s=(0,N.basename)(b.name,t);let l=1;do n=`/${s}-${l++}${t}`;while(v.has(n)&&!(yield(h=v.get(n))===null||h===void 0?void 0:h.isSameEntry(b)))}v.set(n,b);try{yield(i=this.indexedDB)===null||i===void 0?void 0:i.runInTransaction(this.store,"readwrite",t=>t.put(b,n))}catch(t){this.logService.error(t)}return y.URI.from({scheme:f.Schemas.file,path:n})})}}e.HTMLFileSystemProvider=D}),define(ne[618],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebFileSystemAccess=void 0;var y;(function(f){function N(v){return typeof(v==null?void 0:v.showDirectoryPicker)=="function"}f.supported=N;function D(v){const u=v;return u?typeof u.kind=="string"&&typeof u.queryPermission=="function"&&typeof u.requestPermission=="function":!1}f.isFileSystemHandle=D;function w(v){return v.kind==="file"}f.isFileSystemFileHandle=w;function b(v){return v.kind==="directory"}f.isFileSystemDirectoryHandle=b})(y=e.WebFileSystemAccess||(e.WebFileSystemAccess={}))}),define(ne[619],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function y(f){var N,D;return((N=f.lookupKeybinding("history.showPrevious"))===null||N===void 0?void 0:N.getElectronAccelerator())==="Up"&&((D=f.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=y}),define(ne[206],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class y{constructor(N,D=[],w=!1){this.ctor=N,this.staticArguments=D,this.supportsDelayedInstantiation=w}}e.SyncDescriptor=y}),define(ne[53],oe([1,0,206]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const f=[];function N(w,b,v){b instanceof y.SyncDescriptor||(b=new y.SyncDescriptor(b,[],v)),f.push([w,b])}e.registerSingleton=N;function D(){return f}e.getSingletonServiceDescriptors=D}),define(ne[620],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class y{constructor(D){this.incoming=new Map,this.outgoing=new Map,this.data=D}}e.Node=y;class f{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const w of this._nodes.values())w.outgoing.size===0&&D.push(w);return D}insertEdge(D,w){const b=this.lookupOrInsertNode(D),v=this.lookupOrInsertNode(w);b.outgoing.set(this._hashFn(w),v),v.incoming.set(this._hashFn(D),b)}removeNode(D){const w=this._hashFn(D);this._nodes.delete(w);for(const b of this._nodes.values())b.outgoing.delete(w),b.incoming.delete(w)}lookupOrInsertNode(D){const w=this._hashFn(D);let b=this._nodes.get(w);return b||(b=new y(D),this._nodes.set(w,b)),b}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[w,b]of this._nodes)D.push(`${w}, (incoming)[${[...b.incoming.keys()].join(", ")}], (outgoing)[${[...b.outgoing.keys()].join(",")}]`);return D.join(`
`)}findCycleSlow(){for(const[D,w]of this._nodes){const b=new Set([D]),v=this._findCycle(w,b);if(v)return v}}_findCycle(D,w){for(const[b,v]of D.outgoing){if(w.has(b))return[...w,b].join(" -> ");w.add(b);const u=this._findCycle(v,w);if(u)return u;w.delete(b)}}}e.Graph=f}),define(ne[8],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var y;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function w(b){return b[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=w})(y=e._util||(e._util={})),e.IInstantiationService=N("instantiationService");function f(D,w,b){w[y.DI_TARGET]===w?w[y.DI_DEPENDENCIES].push({id:D,index:b}):(w[y.DI_DEPENDENCIES]=[{id:D,index:b}],w[y.DI_TARGET]=w)}function N(D){if(y.serviceIds.has(D))return y.serviceIds.get(D);const w=function(b,v,u){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");f(w,b,u)};return w.toString=()=>D,y.serviceIds.set(D,w),w}e.createDecorator=N}),define(ne[137],oe([1,0,8,22,19]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,y.createDecorator)("IWorkspaceEditService");function D(h){return(0,N.isObject)(h)&&(Boolean(h.newUri)||Boolean(h.oldUri))}function w(h){return(0,N.isObject)(h)&&f.URI.isUri(h.resource)&&(0,N.isObject)(h.edit)}class b{constructor(i){this.metadata=i}static convert(i){return i.edits.map(n=>{if(w(n))return new v(n.resource,n.edit,n.modelVersionId,n.metadata);if(D(n))return new u(n.oldUri,n.newUri,n.options,n.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=b;class v extends b{constructor(i,n,t,s){super(s);this.resource=i,this.textEdit=n,this.versionId=t}}e.ResourceTextEdit=v;class u extends b{constructor(i,n,t,s){super(s);this.oldResource=i,this.newResource=n,this.options=t}}e.ResourceFileEdit=u}),define(ne[29],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,y.createDecorator)("codeEditorService")}),define(ne[38],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,y.createDecorator)("languageService")}),define(ne[90],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,y.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(ne[20],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,y.createDecorator)("ILanguageFeaturesService")}),define(ne[621],oe([1,0,435,20,53]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this))}_score(b){var v;return(v=this._notebookTypeResolver)===null||v===void 0?void 0:v.call(this,b)}}e.LanguageFeaturesService=D,(0,N.registerSingleton)(f.ILanguageFeaturesService,D,!0)}),define(ne[207],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,y.createDecorator)("markerDecorationsService")}),define(ne[50],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,y.createDecorator)("modelService")}),define(ne[58],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,y.createDecorator)("textModelService")}),define(ne[162],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,y.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,y.createDecorator)("textResourcePropertiesService")}),define(ne[113],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,y.createDecorator)("themeService")}),define(ne[91],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,y.createDecorator)("clipboardService")}),define(ne[26],oe([1,0,4,55,2,79,19,8]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,b.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(v,u){if(!v)throw new Error("invalid command");if(typeof v=="string"){if(!u)throw new Error("invalid command");return this.registerCommand({id:v,handler:u})}if(v.description){const s=[];for(const d of v.description.args)s.push(d.constraint);const l=v.handler;v.handler=function(d,...a){return(0,w.validateConstraints)(a,s),l(d,...a)}}const{id:h}=v;let i=this._commands.get(h);i||(i=new D.LinkedList,this._commands.set(h,i));const n=i.unshift(v),t=(0,N.toDisposable)(()=>{n();const s=this._commands.get(h);(s==null?void 0:s.isEmpty())&&this._commands.delete(h)});return this._onDidRegisterCommand.fire(h),t}registerCommandAlias(v,u){return e.CommandsRegistry.registerCommand(v,(h,...i)=>h.get(e.ICommandService).executeCommand(u,...i))}getCommand(v){const u=this._commands.get(v);if(!(!u||u.isEmpty()))return f.Iterable.first(u)}getCommands(){const v=new Map;for(const u of this._commands.keys()){const h=this.getCommand(u);h&&v.set(u,h)}return v}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>N.Disposable.None,onDidExecuteCommand:()=>N.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ne[282],oe([1,0,21,13,22,50,26,19,444,3,20]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function i(m){return m&&!!m.data}e.isSemanticTokens=i;function n(m){return m&&Array.isArray(m.edits)}e.isSemanticTokensEdits=n;class t{constructor(S,p,C){this.provider=S,this.tokens=p,this.error=C}}e.DocumentSemanticTokensResult=t;function s(m,S){return m.has(S)}e.hasDocumentSemanticTokensProvider=s;function l(m,S){const p=m.orderedGroups(S);return p.length>0?p[0]:[]}function d(m,S,p,C,_){return Le(this,void 0,void 0,function*(){const L=l(m,S),E=yield Promise.all(L.map(I=>Le(this,void 0,void 0,function*(){let T,P=null;try{T=yield I.provideDocumentSemanticTokens(S,I===p?C:null,_)}catch(B){P=B,T=null}return(!T||!i(T)&&!n(T))&&(T=null),new t(I,T,P)})));for(const I of E){if(I.error)throw I.error;if(I.tokens)return I}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=d;function a(m,S){const p=m.orderedGroups(S);return p.length>0?p[0]:null}class o{constructor(S,p){this.provider=S,this.tokens=p}}function r(m,S){return m.has(S)}e.hasDocumentRangeSemanticTokensProvider=r;function c(m,S){const p=m.orderedGroups(S);return p.length>0?p[0]:[]}function g(m,S,p,C){return Le(this,void 0,void 0,function*(){const _=c(m,S),L=yield Promise.all(_.map(E=>Le(this,void 0,void 0,function*(){let I;try{I=yield E.provideDocumentRangeSemanticTokens(S,p,C)}catch(T){(0,f.onUnexpectedExternalError)(T),I=null}return(!I||!i(I))&&(I=null),new o(E,I)})));for(const E of L)if(E.tokens)return E;return L.length>0?L[0]:null})}e.getDocumentRangeSemanticTokens=g,w.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(m,...S)=>Le(void 0,void 0,void 0,function*(){const[p]=S;(0,b.assertType)(p instanceof N.URI);const C=m.get(D.IModelService).getModel(p);if(!C)return;const{documentSemanticTokensProvider:_}=m.get(h.ILanguageFeaturesService),L=a(_,C);return L?L[0].getLegend():m.get(w.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",p)})),w.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(m,...S)=>Le(void 0,void 0,void 0,function*(){const[p]=S;(0,b.assertType)(p instanceof N.URI);const C=m.get(D.IModelService).getModel(p);if(!C)return;const{documentSemanticTokensProvider:_}=m.get(h.ILanguageFeaturesService);if(!s(_,C))return m.get(w.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",p,C.getFullModelRange());const L=yield d(_,C,null,null,y.CancellationToken.None);if(!L)return;const{provider:E,tokens:I}=L;if(!I||!i(I))return;const T=(0,v.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&E.releaseDocumentSemanticTokens(I.resultId),T})),w.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(m,...S)=>Le(void 0,void 0,void 0,function*(){const[p,C]=S;(0,b.assertType)(p instanceof N.URI);const _=m.get(D.IModelService).getModel(p);if(!_)return;const{documentRangeSemanticTokensProvider:L}=m.get(h.ILanguageFeaturesService),E=c(L,_);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!C||!u.Range.isIRange(C))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const I=yield g(L,_,u.Range.lift(C),y.CancellationToken.None);if(!!I)return I.provider.getLegend()})),w.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(m,...S)=>Le(void 0,void 0,void 0,function*(){const[p,C]=S;(0,b.assertType)(p instanceof N.URI),(0,b.assertType)(u.Range.isIRange(C));const _=m.get(D.IModelService).getModel(p);if(!_)return;const{documentRangeSemanticTokensProvider:L}=m.get(h.ILanguageFeaturesService),E=yield g(L,_,u.Range.lift(C),y.CancellationToken.None);if(!(!E||!E.tokens))return(0,v.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(ne[283],oe([1,0,21,13,2,19,22,50,26,20]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class h{constructor(){this.lenses=[],this._disposables=new N.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,s){this._disposables.add(t);for(const l of t.lenses)this.lenses.push({symbol:l,provider:s})}}e.CodeLensModel=h;function i(n,t,s){return Le(this,void 0,void 0,function*(){const l=n.ordered(t),d=new Map,a=new h,o=l.map((r,c)=>Le(this,void 0,void 0,function*(){d.set(r,c);try{const g=yield Promise.resolve(r.provideCodeLenses(t,s));g&&a.add(g,r)}catch(g){(0,f.onUnexpectedExternalError)(g)}}));return yield Promise.all(o),a.lenses=a.lenses.sort((r,c)=>r.symbol.range.startLineNumber<c.symbol.range.startLineNumber?-1:r.symbol.range.startLineNumber>c.symbol.range.startLineNumber?1:d.get(r.provider)<d.get(c.provider)?-1:d.get(r.provider)>d.get(c.provider)?1:r.symbol.range.startColumn<c.symbol.range.startColumn?-1:r.symbol.range.startColumn>c.symbol.range.startColumn?1:0),a})}e.getCodeLensModel=i,v.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(n,...t){let[s,l]=t;(0,D.assertType)(w.URI.isUri(s)),(0,D.assertType)(typeof l=="number"||!l);const{codeLensProvider:d}=n.get(u.ILanguageFeaturesService),a=n.get(b.IModelService).getModel(s);if(!a)throw(0,f.illegalArgument)();const o=[],r=new N.DisposableStore;return i(d,a,y.CancellationToken.None).then(c=>{r.add(c);const g=[];for(const m of c.lenses)l==null||Boolean(m.symbol.command)?o.push(m.symbol):l-- >0&&m.provider.resolveCodeLens&&g.push(Promise.resolve(m.provider.resolveCodeLens(a,m.symbol,y.CancellationToken.None)).then(S=>o.push(S||m.symbol)));return Promise.all(g)}).then(()=>o).finally(()=>{setTimeout(()=>r.dispose(),100)})})}),define(ne[284],oe([1,0,21,13,22,3,50,26,20]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function u(i,n,t){const s=[],d=i.ordered(n).reverse().map(a=>Promise.resolve(a.provideDocumentColors(n,t)).then(o=>{if(Array.isArray(o))for(const r of o)s.push({colorInfo:r,provider:a})}));return Promise.all(d).then(()=>s)}e.getColors=u;function h(i,n,t,s){return Promise.resolve(t.provideColorPresentations(i,n,s))}e.getColorPresentations=h,b.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(i,...n){const[t]=n;if(!(t instanceof N.URI))throw(0,f.illegalArgument)();const{colorProvider:s}=i.get(v.ILanguageFeaturesService),l=i.get(w.IModelService).getModel(t);if(!l)throw(0,f.illegalArgument)();const d=[],o=s.ordered(l).reverse().map(r=>Promise.resolve(r.provideDocumentColors(l,y.CancellationToken.None)).then(c=>{if(Array.isArray(c))for(const g of c)d.push({range:g.range,color:[g.color.red,g.color.green,g.color.blue,g.color.alpha]})}));return Promise.all(o).then(()=>d)}),b.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(i,...n){const[t,s]=n,{uri:l,range:d}=s;if(!(l instanceof N.URI)||!Array.isArray(t)||t.length!==4||!D.Range.isIRange(d))throw(0,f.illegalArgument)();const[a,o,r,c]=t,{colorProvider:g}=i.get(v.ILanguageFeaturesService),m=i.get(w.IModelService).getModel(l);if(!m)throw(0,f.illegalArgument)();const S={range:d,color:{red:a,green:o,blue:r,alpha:c}},p=[],_=g.ordered(m).reverse().map(L=>Promise.resolve(L.provideColorPresentations(m,S,y.CancellationToken.None)).then(E=>{Array.isArray(E)&&p.push(...E)}));return Promise.all(_).then(()=>p)})}),define(ne[622],oe([1,0,18,21,13,2,19,22,3,50,26,20]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class n{constructor(d,a){this._link=d,this._provider=a}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(d){return Le(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,d)).then(a=>(this._link=a||this._link,this._link.url?this.resolve(d):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=n;class t{constructor(d){this._disposables=new D.DisposableStore;let a=[];for(const[o,r]of d){const c=o.links.map(g=>new n(g,r));a=t._union(a,c),(0,D.isDisposable)(o)&&this._disposables.add(o)}this.links=a}dispose(){this._disposables.dispose(),this.links.length=0}static _union(d,a){const o=[];let r,c,g,m;for(r=0,g=0,c=d.length,m=a.length;r<c&&g<m;){const S=d[r],p=a[g];if(v.Range.areIntersectingOrTouching(S.range,p.range)){r++;continue}v.Range.compareRangesUsingStarts(S.range,p.range)<0?(o.push(S),r++):(o.push(p),g++)}for(;r<c;r++)o.push(d[r]);for(;g<m;g++)o.push(a[g]);return o}}e.LinksList=t;function s(l,d,a){const o=[],r=l.ordered(d).reverse().map((c,g)=>Promise.resolve(c.provideLinks(d,a)).then(m=>{m&&(o[g]=[m,c])},N.onUnexpectedExternalError));return Promise.all(r).then(()=>{const c=new t((0,y.coalesce)(o));return a.isCancellationRequested?(c.dispose(),new t([])):c})}e.getLinks=s,h.CommandsRegistry.registerCommand("_executeLinkProvider",(l,...d)=>Le(void 0,void 0,void 0,function*(){let[a,o]=d;(0,w.assertType)(a instanceof b.URI),typeof o!="number"&&(o=0);const{linkProvider:r}=l.get(i.ILanguageFeaturesService),c=l.get(u.IModelService).getModel(a);if(!c)return[];const g=yield s(r,c,f.CancellationToken.None);if(!g)return[];for(let S=0;S<Math.min(o,g.links.length);S++)yield g.links[S].resolve(f.CancellationToken.None);const m=g.links.slice(0);return g.dispose(),m}))}),define(ne[30],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,y.createDecorator)("configurationService");function f(u,h){const i=Object.create(null);for(const n in u)N(i,n,u[n],h);return i}e.toValuesTree=f;function N(u,h,i,n){const t=h.split("."),s=t.pop();let l=u;for(let d=0;d<t.length;d++){const a=t[d];let o=l[a];switch(typeof o){case"undefined":o=l[a]=Object.create(null);break;case"object":break;default:n(`Ignoring ${h} as ${t.slice(0,d+1).join(".")} is ${JSON.stringify(o)}`);return}l=o}if(typeof l=="object"&&l!==null)try{l[s]=i}catch{n(`Ignoring ${h} as ${t.join(".")} is ${JSON.stringify(l)}`)}else n(`Ignoring ${h} as ${t.join(".")} is ${JSON.stringify(l)}`)}e.addToValueTree=N;function D(u,h){const i=h.split(".");w(u,i)}e.removeFromValueTree=D;function w(u,h){const i=h.shift();if(h.length===0){delete u[i];return}if(Object.keys(u).indexOf(i)!==-1){const n=u[i];typeof n=="object"&&!Array.isArray(n)&&(w(n,h),Object.keys(n).length===0&&delete u[i])}}function b(u,h,i){function n(l,d){let a=l;for(const o of d){if(typeof a!="object"||a===null)return;a=a[o]}return a}const t=h.split("."),s=n(u,t);return typeof s=="undefined"?i:s}e.getConfigurationValue=b;function v(u){return u.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=v});var ge=this&&this.__param||function(j,e){return function(y,f){e(y,f,j)}};define(ne[285],oe([1,0,28,132,275,30]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const w=5;class b{constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}static create(a,o){return this._INSTANCE.create(a,o)}create(a,o){if(a!==null&&a.depth>=this._maxCacheDepth)return new v(a,o);let r=v.getStackElementId(a);r.length>0&&(r+="|"),r+=o;let c=this._entries[r];return c||(c=new v(a,o),this._entries[r]=c,c)}}b._INSTANCE=new b(w);class v{constructor(a,o){this.parent=a,this.state=o,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(a){let o="";for(;a!==null;)o.length>0&&(o+="|"),o+=a.state,a=a.parent;return o}static _equals(a,o){for(;a!==null&&o!==null;){if(a===o)return!0;if(a.state!==o.state)return!1;a=a.parent,o=o.parent}return a===null&&o===null}equals(a){return v._equals(this,a)}push(a){return b.create(this,a)}pop(){return this.parent}popall(){let a=this;for(;a.parent;)a=a.parent;return a}switchTo(a){return b.create(this.parent,a)}}class u{constructor(a,o){this.languageId=a,this.state=o}equals(a){return this.languageId===a.languageId&&this.state.equals(a.state)}clone(){return this.state.clone()===this.state?this:new u(this.languageId,this.state)}}class h{constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}static create(a,o){return this._INSTANCE.create(a,o)}create(a,o){if(o!==null)return new i(a,o);if(a!==null&&a.depth>=this._maxCacheDepth)return new i(a,o);const r=v.getStackElementId(a);let c=this._entries[r];return c||(c=new i(a,null),this._entries[r]=c,c)}}h._INSTANCE=new h(w);class i{constructor(a,o){this.stack=a,this.embeddedLanguageData=o}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:h.create(this.stack,this.embeddedLanguageData)}equals(a){return!(a instanceof i)||!this.stack.equals(a.stack)?!1:this.embeddedLanguageData===null&&a.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||a.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(a.embeddedLanguageData)}}class n{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(a){this._languageId=a}emit(a,o){this._lastTokenType===o&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=o,this._lastTokenLanguage=this._languageId,this._tokens.push(new y.Token(a,o,this._languageId)))}nestedLanguageTokenize(a,o,r,c){const g=r.languageId,m=r.state,S=y.TokenizationRegistry.get(g);if(!S)return this.enterLanguage(g),this.emit(c,""),m;const p=S.tokenize(a,o,m);if(c!==0)for(const C of p.tokens)this._tokens.push(new y.Token(C.offset+c,C.type,C.language));else this._tokens=this._tokens.concat(p.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,p.endState}finalize(a){return new y.TokenizationResult(this._tokens,a)}}class t{constructor(a,o){this._languageService=a,this._theme=o,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(a){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(a)}emit(a,o){const r=this._theme.match(this._currentLanguageId,o);this._lastTokenMetadata!==r&&(this._lastTokenMetadata=r,this._tokens.push(a),this._tokens.push(r))}static _merge(a,o,r){const c=a!==null?a.length:0,g=o.length,m=r!==null?r.length:0;if(c===0&&g===0&&m===0)return new Uint32Array(0);if(c===0&&g===0)return r;if(g===0&&m===0)return a;const S=new Uint32Array(c+g+m);a!==null&&S.set(a);for(let p=0;p<g;p++)S[c+p]=o[p];return r!==null&&S.set(r,c+g),S}nestedLanguageTokenize(a,o,r,c){const g=r.languageId,m=r.state,S=y.TokenizationRegistry.get(g);if(!S)return this.enterLanguage(g),this.emit(c,""),m;const p=S.tokenizeEncoded(a,o,m);if(c!==0)for(let C=0,_=p.tokens.length;C<_;C+=2)p.tokens[C]+=c;return this._prependTokens=t._merge(this._prependTokens,this._tokens,p.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,p.endState}finalize(a){return new y.EncodedTokenizationResult(t._merge(this._prependTokens,this._tokens,null),a)}}let s=class Ei{constructor(a,o,r,c,g){this._configurationService=g,this._languageService=a,this._standaloneThemeService=o,this._languageId=r,this._lexer=c,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let m=!1;this._tokenizationRegistryListener=y.TokenizationRegistry.onDidChange(S=>{if(m)return;let p=!1;for(let C=0,_=S.changedLanguages.length;C<_;C++){const L=S.changedLanguages[C];if(this._embeddedLanguages[L]){p=!0;break}}p&&(m=!0,y.TokenizationRegistry.fire([this._languageId]),m=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(S=>{S.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const a=[];for(const o in this._embeddedLanguages){const r=y.TokenizationRegistry.get(o);if(r){if(r instanceof Ei){const c=r.getLoadStatus();c.loaded===!1&&a.push(c.promise)}continue}y.TokenizationRegistry.isResolved(o)||a.push(y.TokenizationRegistry.getOrCreate(o))}return a.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(a).then(o=>{})}}getInitialState(){const a=b.create(null,this._lexer.start);return h.create(a,null)}tokenize(a,o,r){if(a.length>=this._maxTokenizationLineLength)return(0,f.nullTokenize)(this._languageId,r);const c=new n,g=this._tokenize(a,o,r,c);return c.finalize(g)}tokenizeEncoded(a,o,r){if(a.length>=this._maxTokenizationLineLength)return(0,f.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),r);const c=new t(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),g=this._tokenize(a,o,r,c);return c.finalize(g)}_tokenize(a,o,r,c){return r.embeddedLanguageData?this._nestedTokenize(a,o,r,0,c):this._myTokenize(a,o,r,0,c)}_findLeavingNestedLanguageOffset(a,o){let r=this._lexer.tokenizer[o.stack.state];if(!r&&(r=N.findRules(this._lexer,o.stack.state),!r))throw N.createError(this._lexer,"tokenizer state is not defined: "+o.stack.state);let c=-1,g=!1;for(const m of r){if(!N.isIAction(m.action)||m.action.nextEmbedded!=="@pop")continue;g=!0;let S=m.regex;const p=m.regex.source;if(p.substr(0,4)==="^(?:"&&p.substr(p.length-1,1)===")"){const _=(S.ignoreCase?"i":"")+(S.unicode?"u":"");S=new RegExp(p.substr(4,p.length-5),_)}const C=a.search(S);C===-1||C!==0&&m.matchOnlyAtLineStart||(c===-1||C<c)&&(c=C)}if(!g)throw N.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+o.stack.state);return c}_nestedTokenize(a,o,r,c,g){const m=this._findLeavingNestedLanguageOffset(a,r);if(m===-1){const C=g.nestedLanguageTokenize(a,o,r.embeddedLanguageData,c);return h.create(r.stack,new u(r.embeddedLanguageData.languageId,C))}const S=a.substring(0,m);S.length>0&&g.nestedLanguageTokenize(S,!1,r.embeddedLanguageData,c);const p=a.substring(m);return this._myTokenize(p,o,r,c+m,g)}_safeRuleName(a){return a?a.name:"(unknown)"}_myTokenize(a,o,r,c,g){g.enterLanguage(this._languageId);const m=a.length,S=o&&this._lexer.includeLF?a+`
`:a,p=S.length;let C=r.embeddedLanguageData,_=r.stack,L=0,E=null,I=!0;for(;I||L<p;){const T=L,P=_.depth,B=E?E.groups.length:0,R=_.state;let k=null,A=null,O=null,F=null,W=null;if(E){k=E.matches;const G=E.groups.shift();A=G.matched,O=G.action,F=E.rule,E.groups.length===0&&(E=null)}else{if(!I&&L>=p)break;I=!1;let G=this._lexer.tokenizer[R];if(!G&&(G=N.findRules(this._lexer,R),!G))throw N.createError(this._lexer,"tokenizer state is not defined: "+R);const te=S.substr(L);for(const X of G)if((L===0||!X.matchOnlyAtLineStart)&&(k=te.match(X.regex),k)){A=k[0],O=X.action;break}}if(k||(k=[""],A=""),O||(L<p&&(k=[S.charAt(L)],A=k[0]),O=this._lexer.defaultToken),A===null)break;for(L+=A.length;N.isFuzzyAction(O)&&N.isIAction(O)&&O.test;)O=O.test(A,k,R,L===p);let M=null;if(typeof O=="string"||Array.isArray(O))M=O;else if(O.group)M=O.group;else if(O.token!==null&&O.token!==void 0){if(O.tokenSubst?M=N.substituteMatches(this._lexer,O.token,A,k,R):M=O.token,O.nextEmbedded)if(O.nextEmbedded==="@pop"){if(!C)throw N.createError(this._lexer,"cannot pop embedded language if not inside one");C=null}else{if(C)throw N.createError(this._lexer,"cannot enter embedded language from within an embedded language");W=N.substituteMatches(this._lexer,O.nextEmbedded,A,k,R)}if(O.goBack&&(L=Math.max(0,L-O.goBack)),O.switchTo&&typeof O.switchTo=="string"){let G=N.substituteMatches(this._lexer,O.switchTo,A,k,R);if(G[0]==="@"&&(G=G.substr(1)),N.findRules(this._lexer,G))_=_.switchTo(G);else throw N.createError(this._lexer,"trying to switch to a state '"+G+"' that is undefined in rule: "+this._safeRuleName(F))}else{if(O.transform&&typeof O.transform=="function")throw N.createError(this._lexer,"action.transform not supported");if(O.next)if(O.next==="@push"){if(_.depth>=this._lexer.maxStack)throw N.createError(this._lexer,"maximum tokenizer stack size reached: ["+_.state+","+_.parent.state+",...]");_=_.push(R)}else if(O.next==="@pop"){if(_.depth<=1)throw N.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(F));_=_.pop()}else if(O.next==="@popall")_=_.popall();else{let G=N.substituteMatches(this._lexer,O.next,A,k,R);if(G[0]==="@"&&(G=G.substr(1)),N.findRules(this._lexer,G))_=_.push(G);else throw N.createError(this._lexer,"trying to set a next state '"+G+"' that is undefined in rule: "+this._safeRuleName(F))}}O.log&&typeof O.log=="string"&&N.log(this._lexer,this._lexer.languageId+": "+N.substituteMatches(this._lexer,O.log,A,k,R))}if(M===null)throw N.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(F));const z=G=>{const te=this._languageService.getLanguageIdByLanguageName(G)||this._languageService.getLanguageIdByMimeType(G)||G,X=this._getNestedEmbeddedLanguageData(te);if(L<p){const J=a.substr(L);return this._nestedTokenize(J,o,h.create(_,X),c+L,g)}else return h.create(_,X)};if(Array.isArray(M)){if(E&&E.groups.length>0)throw N.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(F));if(k.length!==M.length+1)throw N.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(F));let G=0;for(let te=1;te<k.length;te++)G+=k[te].length;if(G!==A.length)throw N.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(F));E={rule:F,matches:k,groups:[]};for(let te=0;te<M.length;te++)E.groups[te]={action:M[te],matched:k[te+1]};L-=A.length;continue}else{if(M==="@rematch"&&(L-=A.length,A="",k=null,M="",W!==null))return z(W);if(A.length===0){if(p===0||P!==_.depth||R!==_.state||(E?E.groups.length:0)!==B)continue;throw N.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(F))}let G=null;if(N.isString(M)&&M.indexOf("@brackets")===0){const te=M.substr("@brackets".length),X=l(this._lexer,A);if(!X)throw N.createError(this._lexer,"@brackets token returned but no bracket defined as: "+A);G=N.sanitize(X.token+te)}else{const te=M===""?"":M+this._lexer.tokenPostfix;G=N.sanitize(te)}T<m&&g.emit(T+c,G)}if(W!==null)return z(W)}return h.create(_,C)}_getNestedEmbeddedLanguageData(a){if(!this._languageService.isRegisteredLanguageId(a))return new u(a,f.NullState);a!==this._languageId&&(y.TokenizationRegistry.getOrCreate(a),this._embeddedLanguages[a]=!0);const o=y.TokenizationRegistry.get(a);return o?new u(a,o.getInitialState()):new u(a,f.NullState)}};s=De([ge(4,D.IConfigurationService)],s),e.MonarchTokenizer=s;function l(d,a){if(!a)return null;a=N.fixCase(d,a);const o=d.brackets;for(const r of o){if(r.open===a)return{token:r.token,bracketType:1};if(r.close===a)return{token:r.token,bracketType:-1}}return null}}),define(ne[623],oe([1,0,9,81,28,134,75,285]),function(j,e,y,f,N,D,w,b){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const u=(v=window.trustedTypes)===null||v===void 0?void 0:v.createPolicy("standaloneColorizer",{createHTML:s=>s});class h{static colorizeElement(l,d,a,o){o=o||{};const r=o.theme||"vs",c=o.mimeType||a.getAttribute("lang")||a.getAttribute("data-lang");if(!c)return console.error("Mode not detected"),Promise.resolve();const g=d.getLanguageIdByMimeType(c)||c;l.setTheme(r);const m=a.firstChild?a.firstChild.nodeValue:"";a.className+=" "+r;const S=p=>{var C;const _=(C=u==null?void 0:u.createHTML(p))!==null&&C!==void 0?C:p;a.innerHTML=_};return this.colorize(d,m||"",g,o).then(S,p=>console.error(p))}static colorize(l,d,a,o){return Le(this,void 0,void 0,function*(){const r=l.languageIdCodec;let c=4;o&&typeof o.tabSize=="number"&&(c=o.tabSize),y.startsWithUTF8BOM(d)&&(d=d.substr(1));const g=y.splitLines(d);if(!l.isRegisteredLanguageId(a))return n(g,c,r);const m=yield N.TokenizationRegistry.getOrCreate(a);return m?i(g,c,m,r):n(g,c,r)})}static colorizeLine(l,d,a,o,r=4){const c=w.ViewLineRenderingData.isBasicASCII(l,d),g=w.ViewLineRenderingData.containsRTL(l,c,a);return(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,l,!1,c,g,0,o,[],r,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(l,d,a=4){const o=l.getLineContent(d);l.tokenization.forceTokenization(d);const c=l.tokenization.getLineTokens(d).inflate();return this.colorizeLine(o,l.mightContainNonBasicASCII(),l.mightContainRTL(),c,a)}}e.Colorizer=h;function i(s,l,d,a){return new Promise((o,r)=>{const c=()=>{const g=t(s,l,d,a);if(d instanceof b.MonarchTokenizer){const m=d.getLoadStatus();if(m.loaded===!1){m.promise.then(c,r);return}}o(g)};c()})}function n(s,l,d){let a=[];const o=(0<<11|1<<15|2<<24)>>>0,r=new Uint32Array(2);r[0]=0,r[1]=o;for(let c=0,g=s.length;c<g;c++){const m=s[c];r[0]=m.length;const S=new f.LineTokens(r,m,d),p=w.ViewLineRenderingData.isBasicASCII(m,!0),C=w.ViewLineRenderingData.containsRTL(m,p,!0),_=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,m,!1,p,C,0,S,[],l,0,0,0,0,-1,"none",!1,!1,null));a=a.concat(_.html),a.push("<br/>")}return a.join("")}function t(s,l,d,a){let o=[],r=d.getInitialState();for(let c=0,g=s.length;c<g;c++){const m=s[c],S=d.tokenizeEncoded(m,!0,r);f.LineTokens.convertToEndOffset(S.tokens,m.length);const p=new f.LineTokens(S.tokens,m,a),C=w.ViewLineRenderingData.isBasicASCII(m,!0),_=w.ViewLineRenderingData.containsRTL(m,C,!0),L=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,m,!1,C,_,0,p.inflate(),[],l,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(L.html),o.push("<br/>"),r=S.endState}return o.join("")}}),define(ne[286],oe([1,0,18,51,39,19,22,30]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModel=void 0;class v{constructor(n={},t=[],s=[]){this._contents=n,this._keys=t,this._overrides=s,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(n){return n?(0,b.getConfigurationValue)(this.contents,n):this.contents}getOverrideValue(n,t){const s=this.getContentsForOverrideIdentifer(t);return s?n?(0,b.getConfigurationValue)(s,n):s:void 0}override(n){let t=this.overrideConfigurations.get(n);return t||(t=this.createOverrideConfigurationModel(n),this.overrideConfigurations.set(n,t)),t}merge(...n){const t=N.deepClone(this.contents),s=N.deepClone(this.overrides),l=[...this.keys];for(const d of n){this.mergeContents(t,d.contents);for(const a of d.overrides){const[o]=s.filter(r=>y.equals(r.identifiers,a.identifiers));o?(this.mergeContents(o.contents,a.contents),o.keys.push(...a.keys),o.keys=y.distinct(o.keys)):s.push(N.deepClone(a))}for(const a of d.keys)l.indexOf(a)===-1&&l.push(a)}return new v(t,l,s)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(n){const t=this.getContentsForOverrideIdentifer(n);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const s={};for(const l of y.distinct([...Object.keys(this.contents),...Object.keys(t)])){let d=this.contents[l];const a=t[l];a&&(typeof d=="object"&&typeof a=="object"?(d=N.deepClone(d),this.mergeContents(d,a)):d=a),s[l]=d}return new v(s,this.keys,this.overrides)}mergeContents(n,t){for(const s of Object.keys(t)){if(s in n&&D.isObject(n[s])&&D.isObject(t[s])){this.mergeContents(n[s],t[s]);continue}n[s]=N.deepClone(t[s])}}checkAndFreeze(n){return this.frozen&&!Object.isFrozen(n)?N.deepFreeze(n):n}getContentsForOverrideIdentifer(n){let t=null,s=null;const l=d=>{d&&(s?this.mergeContents(s,d):s=N.deepClone(d))};for(const d of this.overrides)y.equals(d.identifiers,[n])?t=d.contents:d.identifiers.includes(n)&&l(d.contents);return l(t),s}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(n,t){this.addKey(n),(0,b.addToValueTree)(this.contents,n,t,s=>{throw new Error(s)})}removeValue(n){this.removeKey(n)&&(0,b.removeFromValueTree)(this.contents,n)}addKey(n){let t=this.keys.length;for(let s=0;s<t;s++)n.indexOf(this.keys[s])===0&&(t=s);this.keys.splice(t,1,n)}removeKey(n){const t=this.keys.indexOf(n);return t!==-1?(this.keys.splice(t,1),!0):!1}}e.ConfigurationModel=v;class u{constructor(n,t,s,l=new v,d=new v,a=new f.ResourceMap,o=new v,r=new f.ResourceMap,c=!0){this._defaultConfiguration=n,this._policyConfiguration=t,this._localUserConfiguration=s,this._remoteUserConfiguration=l,this._workspaceConfiguration=d,this._folderConfigurations=a,this._memoryConfiguration=o,this._memoryConfigurationByResource=r,this._freeze=c,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new f.ResourceMap,this._userConfiguration=null}getValue(n,t,s){return this.getConsolidatedConfigurationModel(n,t,s).getValue(n)}updateValue(n,t,s={}){let l;s.resource?(l=this._memoryConfigurationByResource.get(s.resource),l||(l=new v,this._memoryConfigurationByResource.set(s.resource,l))):l=this._memoryConfiguration,t===void 0?l.removeValue(n):l.setValue(n,t),s.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(n,t,s){const l=this.getConsolidatedConfigurationModel(n,t,s),d=this.getFolderConfigurationModelForResource(t.resource,s),a=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,o=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(n):this._defaultConfiguration.freeze().getValue(n),r=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(n),c=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(n):this.userConfiguration.freeze().getValue(n),g=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(n):this.localUserConfiguration.freeze().getValue(n),m=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(n):this.remoteUserConfiguration.freeze().getValue(n),S=s?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(n):this._workspaceConfiguration.freeze().getValue(n):void 0,p=d?t.overrideIdentifier?d.freeze().override(t.overrideIdentifier).getValue(n):d.freeze().getValue(n):void 0,C=t.overrideIdentifier?a.override(t.overrideIdentifier).getValue(n):a.getValue(n),_=l.getValue(n),L=y.distinct(l.overrides.map(E=>E.identifiers).flat()).filter(E=>l.getOverrideValue(n,E)!==void 0);return{defaultValue:o,policyValue:r,userValue:c,userLocalValue:g,userRemoteValue:m,workspaceValue:S,workspaceFolderValue:p,memoryValue:C,value:_,default:o!==void 0?{value:this._defaultConfiguration.freeze().getValue(n),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(n,t.overrideIdentifier):void 0}:void 0,policy:r!==void 0?{value:r}:void 0,user:c!==void 0?{value:this.userConfiguration.freeze().getValue(n),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(n,t.overrideIdentifier):void 0}:void 0,userLocal:g!==void 0?{value:this.localUserConfiguration.freeze().getValue(n),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(n,t.overrideIdentifier):void 0}:void 0,userRemote:m!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(n),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(n,t.overrideIdentifier):void 0}:void 0,workspace:S!==void 0?{value:this._workspaceConfiguration.freeze().getValue(n),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(n,t.overrideIdentifier):void 0}:void 0,workspaceFolder:p!==void 0?{value:d==null?void 0:d.freeze().getValue(n),override:t.overrideIdentifier?d==null?void 0:d.freeze().getOverrideValue(n,t.overrideIdentifier):void 0}:void 0,memory:C!==void 0?{value:a.getValue(n),override:t.overrideIdentifier?a.getOverrideValue(n,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:L.length?L:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(n,t,s){let l=this.getConsolidatedConfigurationModelForResource(t,s);return t.overrideIdentifier&&(l=l.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(n)!==void 0&&(l=l.merge(this._policyConfiguration)),l}getConsolidatedConfigurationModelForResource({resource:n},t){let s=this.getWorkspaceConsolidatedConfiguration();if(t&&n){const l=t.getFolder(n);l&&(s=this.getFolderConsolidatedConfiguration(l.uri)||s);const d=this._memoryConfigurationByResource.get(n);d&&(s=s.merge(d))}return s}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(n){let t=this._foldersConsolidatedConfigurations.get(n);if(!t){const s=this.getWorkspaceConsolidatedConfiguration(),l=this._folderConfigurations.get(n);l?(t=s.merge(l),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(n,t)):t=s}return t}getFolderConfigurationModelForResource(n,t){if(t&&n){const s=t.getFolder(n);if(s)return this._folderConfigurations.get(s.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((n,t)=>{const{contents:s,overrides:l,keys:d}=this._folderConfigurations.get(t);return n.push([t,{contents:s,overrides:l,keys:d}]),n},[])}}static parse(n){const t=this.parseConfigurationModel(n.defaults),s=this.parseConfigurationModel(n.policy),l=this.parseConfigurationModel(n.user),d=this.parseConfigurationModel(n.workspace),a=n.folders.reduce((o,r)=>(o.set(w.URI.revive(r[0]),this.parseConfigurationModel(r[1])),o),new f.ResourceMap);return new u(t,s,l,new v,d,a,new v,new f.ResourceMap,!1)}static parseConfigurationModel(n){return new v(n.contents,n.keys,n.overrides).freeze()}}e.Configuration=u;class h{constructor(n,t,s,l){this.change=n,this.previous=t,this.currentConfiguraiton=s,this.currentWorkspace=l,this._previousConfiguration=void 0;const d=new Set;n.keys.forEach(o=>d.add(o)),n.overrides.forEach(([,o])=>o.forEach(r=>d.add(r))),this.affectedKeys=[...d.values()];const a=new v;this.affectedKeys.forEach(o=>a.setValue(o,{})),this.affectedKeysTree=a.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=u.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(n,t){var s;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,n)){if(t){const l=this.previousConfiguration?this.previousConfiguration.getValue(n,t,(s=this.previous)===null||s===void 0?void 0:s.workspace):void 0,d=this.currentConfiguraiton.getValue(n,t,this.currentWorkspace);return!N.equals(l,d)}return!0}return!1}doesAffectedKeysTreeContains(n,t){let s=(0,b.toValuesTree)({[t]:!0},()=>{}),l;for(;typeof s=="object"&&(l=Object.keys(s)[0]);){if(n=n[l],!n)return!1;s=s[l]}return!0}}e.ConfigurationChangeEvent=h}),define(ne[16],oe([1,0,17,9,8]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;const D=new Map;D.set("false",!1),D.set("true",!0),D.set("isMac",y.isMacintosh),D.set("isLinux",y.isLinux),D.set("isWindows",y.isWindows),D.set("isWeb",y.isWeb),D.set("isMacNative",y.isMacintosh&&!y.isWeb),D.set("isEdge",y.isEdge),D.set("isFirefox",y.isFirefox),D.set("isChrome",y.isChrome),D.set("isSafari",y.isSafari);const w=Object.prototype.hasOwnProperty;class b{static has(k){return n.create(k)}static equals(k,A){return t.create(k,A)}static regex(k,A){return S.create(k,A)}static not(k){return a.create(k)}static and(...k){return _.create(k,null)}static or(...k){return L.create(k,null,!0)}static deserialize(k,A=!1){if(!!k)return this._deserializeOrExpression(k,A)}static _deserializeOrExpression(k,A){const O=k.split("||");return L.create(O.map(F=>this._deserializeAndExpression(F,A)),null,!0)}static _deserializeAndExpression(k,A){const O=k.split("&&");return _.create(O.map(F=>this._deserializeOne(F,A)),null)}static _deserializeOne(k,A){if(k=k.trim(),k.indexOf("!=")>=0){const O=k.split("!=");return d.create(O[0].trim(),this._deserializeValue(O[1],A))}if(k.indexOf("==")>=0){const O=k.split("==");return t.create(O[0].trim(),this._deserializeValue(O[1],A))}if(k.indexOf("=~")>=0){const O=k.split("=~");return S.create(O[0].trim(),this._deserializeRegexValue(O[1],A))}if(k.indexOf(" in ")>=0){const O=k.split(" in ");return s.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(k)){const O=k.split(">=");return c.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(k)){const O=k.split(">");return r.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(k)){const O=k.split("<=");return m.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(k)){const O=k.split("<");return g.create(O[0].trim(),O[1].trim())}return/^\!\s*/.test(k)?a.create(k.substr(1).trim()):n.create(k)}static _deserializeValue(k,A){if(k=k.trim(),k==="true")return!0;if(k==="false")return!1;const O=/^'([^']*)'$/.exec(k);return O?O[1].trim():k}static _deserializeRegexValue(k,A){if((0,f.isFalsyOrWhitespace)(k)){if(A)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const O=k.indexOf("/"),F=k.lastIndexOf("/");if(O===F||O<0){if(A)throw new Error(`bad regexp-value '${k}', missing /-enclosure`);return console.warn(`bad regexp-value '${k}', missing /-enclosure`),null}const W=k.slice(O+1,F),M=k[F+1]==="i"?"i":"";try{return new RegExp(W,M)}catch(z){if(A)throw new Error(`bad regexp-value '${k}', parse error: ${z}`);return console.warn(`bad regexp-value '${k}', parse error: ${z}`),null}}}e.ContextKeyExpr=b;function v(R,k){const A=R?R.substituteConstants():void 0,O=k?k.substituteConstants():void 0;return!A&&!O?!0:!A||!O?!1:A.equals(O)}e.expressionsAreEqualWithConstantSubstitution=v;function u(R,k){return R.cmp(k)}class h{constructor(){this.type=0}cmp(k){return this.type-k.type}equals(k){return k.type===this.type}substituteConstants(){return this}evaluate(k){return!1}serialize(){return"false"}keys(){return[]}negate(){return i.INSTANCE}}e.ContextKeyFalseExpr=h,h.INSTANCE=new h;class i{constructor(){this.type=1}cmp(k){return this.type-k.type}equals(k){return k.type===this.type}substituteConstants(){return this}evaluate(k){return!0}serialize(){return"true"}keys(){return[]}negate(){return h.INSTANCE}}e.ContextKeyTrueExpr=i,i.INSTANCE=new i;class n{constructor(k,A){this.key=k,this.negated=A,this.type=2}static create(k,A=null){const O=D.get(k);return typeof O=="boolean"?O?i.INSTANCE:h.INSTANCE:new n(k,A)}cmp(k){return k.type!==this.type?this.type-k.type:I(this.key,k.key)}equals(k){return k.type===this.type?this.key===k.key:!1}substituteConstants(){const k=D.get(this.key);return typeof k=="boolean"?k?i.INSTANCE:h.INSTANCE:this}evaluate(k){return!!k.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=n;class t{constructor(k,A,O){this.key=k,this.value=A,this.negated=O,this.type=4}static create(k,A,O=null){if(typeof A=="boolean")return A?n.create(k,O):a.create(k,O);const F=D.get(k);return typeof F=="boolean"?A===(F?"true":"false")?i.INSTANCE:h.INSTANCE:new t(k,A,O)}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){const k=D.get(this.key);if(typeof k=="boolean"){const A=k?"true":"false";return this.value===A?i.INSTANCE:h.INSTANCE}return this}evaluate(k){return k.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=t;class s{constructor(k,A){this.key=k,this.valueKey=A,this.type=10,this.negated=null}static create(k,A){return new s(k,A)}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.valueKey,k.key,k.valueKey)}equals(k){return k.type===this.type?this.key===k.key&&this.valueKey===k.valueKey:!1}substituteConstants(){return this}evaluate(k){const A=k.getValue(this.valueKey),O=k.getValue(this.key);return Array.isArray(A)?A.includes(O):typeof O=="string"&&typeof A=="object"&&A!==null?w.call(A,O):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=l.create(this)),this.negated}}e.ContextKeyInExpr=s;class l{constructor(k){this._actual=k,this.type=11}static create(k){return new l(k)}cmp(k){return k.type!==this.type?this.type-k.type:this._actual.cmp(k._actual)}equals(k){return k.type===this.type?this._actual.equals(k._actual):!1}substituteConstants(){return this}evaluate(k){return!this._actual.evaluate(k)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=l;class d{constructor(k,A,O){this.key=k,this.value=A,this.negated=O,this.type=5}static create(k,A,O=null){if(typeof A=="boolean")return A?a.create(k,O):n.create(k,O);const F=D.get(k);return typeof F=="boolean"?A===(F?"true":"false")?h.INSTANCE:i.INSTANCE:new d(k,A,O)}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){const k=D.get(this.key);if(typeof k=="boolean"){const A=k?"true":"false";return this.value===A?h.INSTANCE:i.INSTANCE}return this}evaluate(k){return k.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=t.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=d;class a{constructor(k,A){this.key=k,this.negated=A,this.type=3}static create(k,A=null){const O=D.get(k);return typeof O=="boolean"?O?h.INSTANCE:i.INSTANCE:new a(k,A)}cmp(k){return k.type!==this.type?this.type-k.type:I(this.key,k.key)}equals(k){return k.type===this.type?this.key===k.key:!1}substituteConstants(){const k=D.get(this.key);return typeof k=="boolean"?k?h.INSTANCE:i.INSTANCE:this}evaluate(k){return!k.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=n.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=a;function o(R,k){if(typeof R=="string"){const A=parseFloat(R);isNaN(A)||(R=A)}return typeof R=="string"||typeof R=="number"?k(R):h.INSTANCE}class r{constructor(k,A,O){this.key=k,this.value=A,this.negated=O,this.type=12}static create(k,A,O=null){return o(A,F=>new r(k,F,O))}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){return this}evaluate(k){return typeof this.value=="string"?!1:parseFloat(k.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=r;class c{constructor(k,A,O){this.key=k,this.value=A,this.negated=O,this.type=13}static create(k,A,O=null){return o(A,F=>new c(k,F,O))}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){return this}evaluate(k){return typeof this.value=="string"?!1:parseFloat(k.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=c;class g{constructor(k,A,O){this.key=k,this.value=A,this.negated=O,this.type=14}static create(k,A,O=null){return o(A,F=>new g(k,F,O))}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){return this}evaluate(k){return typeof this.value=="string"?!1:parseFloat(k.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=g;class m{constructor(k,A,O){this.key=k,this.value=A,this.negated=O,this.type=15}static create(k,A,O=null){return o(A,F=>new m(k,F,O))}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){return this}evaluate(k){return typeof this.value=="string"?!1:parseFloat(k.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=m;class S{constructor(k,A){this.key=k,this.regexp=A,this.type=7,this.negated=null}static create(k,A){return new S(k,A)}cmp(k){if(k.type!==this.type)return this.type-k.type;if(this.key<k.key)return-1;if(this.key>k.key)return 1;const A=this.regexp?this.regexp.source:"",O=k.regexp?k.regexp.source:"";return A<O?-1:A>O?1:0}equals(k){if(k.type===this.type){const A=this.regexp?this.regexp.source:"",O=k.regexp?k.regexp.source:"";return this.key===k.key&&A===O}return!1}substituteConstants(){return this}evaluate(k){const A=k.getValue(this.key);return this.regexp?this.regexp.test(A):!1}serialize(){const k=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${k}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this)),this.negated}}e.ContextKeyRegexExpr=S;class p{constructor(k){this._actual=k,this.type=8}static create(k){return new p(k)}cmp(k){return k.type!==this.type?this.type-k.type:this._actual.cmp(k._actual)}equals(k){return k.type===this.type?this._actual.equals(k._actual):!1}substituteConstants(){return this}evaluate(k){return!this._actual.evaluate(k)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=p;function C(R){let k=null;for(let A=0,O=R.length;A<O;A++){const F=R[A].substituteConstants();if(R[A]!==F&&k===null){k=[];for(let W=0;W<A;W++)k[W]=R[W]}k!==null&&(k[A]=F)}return k===null?R:k}class _{constructor(k,A){this.expr=k,this.negated=A,this.type=6}static create(k,A){return _._normalizeArr(k,A)}cmp(k){if(k.type!==this.type)return this.type-k.type;if(this.expr.length<k.expr.length)return-1;if(this.expr.length>k.expr.length)return 1;for(let A=0,O=this.expr.length;A<O;A++){const F=u(this.expr[A],k.expr[A]);if(F!==0)return F}return 0}equals(k){if(k.type===this.type){if(this.expr.length!==k.expr.length)return!1;for(let A=0,O=this.expr.length;A<O;A++)if(!this.expr[A].equals(k.expr[A]))return!1;return!0}return!1}substituteConstants(){const k=C(this.expr);return k===this.expr?this:_.create(k,this.negated)}evaluate(k){for(let A=0,O=this.expr.length;A<O;A++)if(!this.expr[A].evaluate(k))return!1;return!0}static _normalizeArr(k,A){const O=[];let F=!1;for(const W of k)if(!!W){if(W.type===1){F=!0;continue}if(W.type===0)return h.INSTANCE;if(W.type===6){O.push(...W.expr);continue}O.push(W)}if(O.length===0&&F)return i.INSTANCE;if(O.length!==0){if(O.length===1)return O[0];O.sort(u);for(let W=1;W<O.length;W++)O[W-1].equals(O[W])&&(O.splice(W,1),W--);if(O.length===1)return O[0];for(;O.length>1;){const W=O[O.length-1];if(W.type!==9)break;O.pop();const M=O.pop(),z=O.length===0,G=L.create(W.expr.map(te=>_.create([te,M],null)),null,z);G&&(O.push(G),O.sort(u))}return O.length===1?O[0]:new _(O,A)}}serialize(){return this.expr.map(k=>k.serialize()).join(" && ")}keys(){const k=[];for(const A of this.expr)k.push(...A.keys());return k}negate(){if(!this.negated){const k=[];for(const A of this.expr)k.push(A.negate());this.negated=L.create(k,this,!0)}return this.negated}}class L{constructor(k,A){this.expr=k,this.negated=A,this.type=9}static create(k,A,O){return L._normalizeArr(k,A,O)}cmp(k){if(k.type!==this.type)return this.type-k.type;if(this.expr.length<k.expr.length)return-1;if(this.expr.length>k.expr.length)return 1;for(let A=0,O=this.expr.length;A<O;A++){const F=u(this.expr[A],k.expr[A]);if(F!==0)return F}return 0}equals(k){if(k.type===this.type){if(this.expr.length!==k.expr.length)return!1;for(let A=0,O=this.expr.length;A<O;A++)if(!this.expr[A].equals(k.expr[A]))return!1;return!0}return!1}substituteConstants(){const k=C(this.expr);return k===this.expr?this:L.create(k,this.negated,!1)}evaluate(k){for(let A=0,O=this.expr.length;A<O;A++)if(this.expr[A].evaluate(k))return!0;return!1}static _normalizeArr(k,A,O){let F=[],W=!1;if(k){for(let M=0,z=k.length;M<z;M++){const G=k[M];if(!!G){if(G.type===0){W=!0;continue}if(G.type===1)return i.INSTANCE;if(G.type===9){F=F.concat(G.expr);continue}F.push(G)}}if(F.length===0&&W)return h.INSTANCE;F.sort(u)}if(F.length!==0){if(F.length===1)return F[0];for(let M=1;M<F.length;M++)F[M-1].equals(F[M])&&(F.splice(M,1),M--);if(F.length===1)return F[0];if(O){for(let M=0;M<F.length;M++)for(let z=M+1;z<F.length;z++)P(F[M],F[z])&&(F.splice(z,1),z--);if(F.length===1)return F[0]}return new L(F,A)}}serialize(){return this.expr.map(k=>k.serialize()).join(" || ")}keys(){const k=[];for(const A of this.expr)k.push(...A.keys());return k}negate(){if(!this.negated){const k=[];for(const A of this.expr)k.push(A.negate());for(;k.length>1;){const A=k.shift(),O=k.shift(),F=[];for(const M of B(A))for(const z of B(O))F.push(_.create([M,z],null));const W=k.length===0;k.unshift(L.create(F,null,W))}this.negated=k[0]}return this.negated}}class E extends n{constructor(k,A,O){super(k,null);this._defaultValue=A,typeof O=="object"?E._info.push(Object.assign(Object.assign({},O),{key:k})):O!==!0&&E._info.push({key:k,description:O,type:A!=null?typeof A:void 0})}static all(){return E._info.values()}bindTo(k){return k.createKey(this.key,this._defaultValue)}getValue(k){return k.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(k){return t.create(this.key,k)}}e.RawContextKey=E,E._info=[],e.IContextKeyService=(0,N.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function I(R,k){return R<k?-1:R>k?1:0}function T(R,k,A,O){return R<A?-1:R>A?1:k<O?-1:k>O?1:0}function P(R,k){if(k.type===6&&R.type!==9&&R.type!==6){for(const F of k.expr)if(R.equals(F))return!0}const A=R.negate(),O=B(A).concat(B(k));O.sort(u);for(let F=0;F<O.length;F++){const M=O[F].negate();for(let z=F+1;z<O.length;z++){const G=O[z];if(M.equals(G))return!0}}return!1}e.implies=P;function B(R){return R.type===9?R.expr:[R]}}),define(ne[24],oe([1,0,529,16]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var N;(function(D){D.editorSimpleInput=new f.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new f.RawContextKey("editorTextFocus",!1,y.localize(0,null)),D.focus=new f.RawContextKey("editorFocus",!1,y.localize(1,null)),D.textInputFocus=new f.RawContextKey("textInputFocus",!1,y.localize(2,null)),D.readOnly=new f.RawContextKey("editorReadonly",!1,y.localize(3,null)),D.inDiffEditor=new f.RawContextKey("inDiffEditor",!1,y.localize(4,null)),D.columnSelection=new f.RawContextKey("editorColumnSelection",!1,y.localize(5,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new f.RawContextKey("editorHasSelection",!1,y.localize(6,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new f.RawContextKey("editorHasMultipleSelections",!1,y.localize(7,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new f.RawContextKey("editorTabMovesFocus",!1,y.localize(8,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new f.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new f.RawContextKey("canUndo",!1,!0),D.canRedo=new f.RawContextKey("canRedo",!1,!0),D.hoverVisible=new f.RawContextKey("editorHoverVisible",!1,y.localize(9,null)),D.inCompositeEditor=new f.RawContextKey("inCompositeEditor",void 0,y.localize(10,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new f.RawContextKey("editorLangId","",y.localize(11,null)),D.hasCompletionItemProvider=new f.RawContextKey("editorHasCompletionItemProvider",!1,y.localize(12,null)),D.hasCodeActionsProvider=new f.RawContextKey("editorHasCodeActionsProvider",!1,y.localize(13,null)),D.hasCodeLensProvider=new f.RawContextKey("editorHasCodeLensProvider",!1,y.localize(14,null)),D.hasDefinitionProvider=new f.RawContextKey("editorHasDefinitionProvider",!1,y.localize(15,null)),D.hasDeclarationProvider=new f.RawContextKey("editorHasDeclarationProvider",!1,y.localize(16,null)),D.hasImplementationProvider=new f.RawContextKey("editorHasImplementationProvider",!1,y.localize(17,null)),D.hasTypeDefinitionProvider=new f.RawContextKey("editorHasTypeDefinitionProvider",!1,y.localize(18,null)),D.hasHoverProvider=new f.RawContextKey("editorHasHoverProvider",!1,y.localize(19,null)),D.hasDocumentHighlightProvider=new f.RawContextKey("editorHasDocumentHighlightProvider",!1,y.localize(20,null)),D.hasDocumentSymbolProvider=new f.RawContextKey("editorHasDocumentSymbolProvider",!1,y.localize(21,null)),D.hasReferenceProvider=new f.RawContextKey("editorHasReferenceProvider",!1,y.localize(22,null)),D.hasRenameProvider=new f.RawContextKey("editorHasRenameProvider",!1,y.localize(23,null)),D.hasSignatureHelpProvider=new f.RawContextKey("editorHasSignatureHelpProvider",!1,y.localize(24,null)),D.hasInlayHintsProvider=new f.RawContextKey("editorHasInlayHintsProvider",!1,y.localize(25,null)),D.hasDocumentFormattingProvider=new f.RawContextKey("editorHasDocumentFormattingProvider",!1,y.localize(26,null)),D.hasDocumentSelectionFormattingProvider=new f.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,y.localize(27,null)),D.hasMultipleDocumentFormattingProvider=new f.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,y.localize(28,null)),D.hasMultipleDocumentSelectionFormattingProvider=new f.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,y.localize(29,null))})(N=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(ne[208],oe([1,0,21,13,19,22,11,28,20,58,26,16]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new i.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new i.RawContextKey("parameterHintsMultipleSignatures",!1)};function n(t,s,l,d,a){return Le(this,void 0,void 0,function*(){const o=t.ordered(s);for(const r of o)try{const c=yield r.provideSignatureHelp(s,l,a,d);if(c)return c}catch(c){(0,f.onUnexpectedExternalError)(c)}})}e.provideSignatureHelp=n,h.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(t,...s)=>Le(void 0,void 0,void 0,function*(){const[l,d,a]=s;(0,N.assertType)(D.URI.isUri(l)),(0,N.assertType)(w.Position.isIPosition(d)),(0,N.assertType)(typeof a=="string"||!a);const o=t.get(v.ILanguageFeaturesService),r=yield t.get(u.ITextModelService).createModelReference(l);try{const c=yield n(o.signatureHelpProvider,r.object.textEditorModel,w.Position.lift(d),{triggerKind:b.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:a},y.CancellationToken.None);return c?(setTimeout(()=>c.dispose(),0),c.value):void 0}finally{r.dispose()}}))}),define(ne[624],oe([1,0,10,13,4,2,107,28,208]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var u;(function(n){n.Default={type:0};class t{constructor(d,a){this.request=d,this.previouslyActiveHints=a,this.type=2}}n.Pending=t;class s{constructor(d){this.hints=d,this.type=1}}n.Active=s})(u||(u={}));class h extends D.Disposable{constructor(t,s,l=h.DEFAULT_DELAY){super();this._onChangedHints=this._register(new N.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=u.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new w.CharacterSet,this.retriggerChars=new w.CharacterSet,this.triggerId=0,this.editor=t,this.providers=s,this.throttledDelayer=new y.Delayer(l),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(d=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(d=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(d=>this.onCursorChange(d))),this._register(this.editor.onDidChangeModelContent(d=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(d=>this.onDidType(d))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){this._state.type===2&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=u.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,s){const l=this.editor.getModel();if(!l||!this.providers.has(l))return;const d=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(d),s).catch(f.onUnexpectedError)}next(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,s=this.state.hints.activeSignature,l=s%t==t-1,d=this.editor.getOption(77).cycle;if((t<2||l)&&!d){this.cancel();return}this.updateActiveSignature(l&&d?0:s+1)}previous(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,s=this.state.hints.activeSignature,l=s===0,d=this.editor.getOption(77).cycle;if((t<2||l)&&!d){this.cancel();return}this.updateActiveSignature(l&&d?t-1:s-1)}updateActiveSignature(t){this.state.type===1&&(this.state=new u.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}doTrigger(t){return Le(this,void 0,void 0,function*(){const s=this.state.type===1||this.state.type===2,l=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const d=this._pendingTriggers.reduce(i);this._pendingTriggers=[];const a={triggerKind:d.triggerKind,triggerCharacter:d.triggerCharacter,isRetrigger:s,activeSignatureHelp:l};if(!this.editor.hasModel())return!1;const o=this.editor.getModel(),r=this.editor.getPosition();this.state=new u.Pending((0,y.createCancelablePromise)(c=>(0,v.provideSignatureHelp)(this.providers,o,r,a,c)),l);try{const c=yield this.state.request;return t!==this.triggerId?(c==null||c.dispose(),!1):!c||!c.value.signatures||c.value.signatures.length===0?(c==null||c.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new u.Active(c.value),this._lastSignatureHelpResult.value=c,this._onChangedHints.fire(this.state.hints),!0)}catch(c){return t===this.triggerId&&(this.state=u.Default),(0,f.onUnexpectedError)(c),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new w.CharacterSet,this.retriggerChars=new w.CharacterSet;const t=this.editor.getModel();if(!!t)for(const s of this.providers.ordered(t)){for(const l of s.signatureHelpTriggerCharacters||[])this.triggerChars.add(l.charCodeAt(0)),this.retriggerChars.add(l.charCodeAt(0));for(const l of s.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(l.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const s=t.length-1,l=t.charCodeAt(s);(this.triggerChars.has(l)||this.isTriggered&&this.retriggerChars.has(l))&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:t.charAt(s)})}onCursorChange(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(77).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=h,h.DEFAULT_DELAY=120;function i(n,t){switch(t.triggerKind){case b.SignatureHelpTriggerKind.Invoke:return t;case b.SignatureHelpTriggerKind.ContentChange:return n;case b.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}}),define(ne[625],oe([1,0,16]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let f=class xt{constructor(D,w){this._editor=D,this._index=0,this._ckOtherSuggestions=xt.OtherSuggestions.bindTo(w)}dispose(){this.reset()}reset(){var D;this._ckOtherSuggestions.reset(),(D=this._listener)===null||D===void 0||D.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:D,index:w},b){if(D.items.length===0){this.reset();return}if(xt._moveIndex(!0,D,w)===w){this.reset();return}this._acceptNext=b,this._model=D,this._index=w,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(D,w,b){let v=b;for(;v=(v+w.items.length+(D?1:-1))%w.items.length,!(v===b||!w.items[v].completion.additionalTextEdits););return v}next(){this._move(!0)}prev(){this._move(!1)}_move(D){if(!!this._model)try{this._ignore=!0,this._index=xt._moveIndex(D,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};f.OtherSuggestions=new y.RawContextKey("hasOtherSuggestions",!1),f=De([ge(1,y.IContextKeyService)],f),e.SuggestAlternatives=f}),define(ne[626],oe([1,0,16]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let f=class Di{constructor(D,w){this._editor=D,this._enabled=!1,this._ckAtEnd=Di.AtEnd.bindTo(w),this._configListener=this._editor.onDidChangeConfiguration(b=>b.hasChanged(112)&&this._update()),this._update()}dispose(){var D;this._configListener.dispose(),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._ckAtEnd.reset()}_update(){const D=this._editor.getOption(112)==="on";if(this._enabled!==D)if(this._enabled=D,this._enabled){const w=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const b=this._editor.getModel(),v=this._editor.getSelection(),u=b.getWordAtPosition(v.getStartPosition());if(!u){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(u.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(w),w()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};f.AtEnd=new y.RawContextKey("atEndOfWord",!1),f=De([ge(1,y.IContextKeyService)],f),e.WordContextKey=f}),define(ne[69],oe([1,0,16,8]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,f.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new y.RawContextKey("accessibilityModeEnabled",!1)}),define(ne[627],oe([1,0,36,18,4,2,39,17,239,279,413,240,34,151,183,69]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let d=class extends D.Disposable{constructor(p,C,_,L){super();this._accessibilityService=L,this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new N.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new n.ComputeOptionsMemory,this.isSimpleWidget=p,this._containerObserver=this._register(new v.ElementSizeObserver(_,C.dimension)),this._rawOptions=m(C),this._validatedOptions=g.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(t.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(i.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(u.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(y.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const p=this._computeOptions(),C=g.checkEquals(this.options,p);C!==null&&(this.options=p,this._onDidChangeFast.fire(C),this._onDidChange.fire(C))}_computeOptions(){const p=this._readEnvConfiguration(),C=s.BareFontInfo.createFromValidatedSettings(this._validatedOptions,p.pixelRatio,this.isSimpleWidget),_=this._readFontInfo(C),L={memory:this._computeOptionsMemory,outerWidth:p.outerWidth,outerHeight:p.outerHeight-this._reservedHeight,fontInfo:_,extraEditorClassName:p.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:p.emptySelectionClipboard,pixelRatio:p.pixelRatio,tabFocusMode:i.TabFocus.getTabFocusMode(),accessibilitySupport:p.accessibilitySupport};return g.computeOptions(this._validatedOptions,L)}_readEnvConfiguration(){return{extraEditorClassName:o(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:y.isWebKit||y.isFirefox,pixelRatio:y.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(p){return u.FontMeasurements.readFontInfo(p)}getRawOptions(){return this._rawOptions}updateOptions(p){const C=m(p);!g.applyUpdate(this._rawOptions,C)||(this._validatedOptions=g.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(p){this._containerObserver.observe(p)}setIsDominatedByLongLines(p){this._isDominatedByLongLines!==p&&(this._isDominatedByLongLines=p,this._recomputeOptions())}setModelLineCount(p){const C=a(p);this._lineNumbersDigitCount!==C&&(this._lineNumbersDigitCount=C,this._recomputeOptions())}setViewLineCount(p){this._viewLineCount!==p&&(this._viewLineCount=p,this._recomputeOptions())}setReservedHeight(p){this._reservedHeight!==p&&(this._reservedHeight=p,this._recomputeOptions())}};d=De([ge(3,l.IAccessibilityService)],d),e.EditorConfiguration=d;function a(S){let p=0;for(;S;)S=Math.floor(S/10),p++;return p||1}function o(){let S="";return!y.isSafari&&!y.isWebkitWebView&&(S+="no-user-select "),y.isSafari&&(S+="no-minimap-shadow ",S+="enable-user-select "),b.isMacintosh&&(S+="mac "),S}class r{constructor(){this._values=[]}_read(p){return this._values[p]}get(p){return this._values[p]}_write(p,C){this._values[p]=C}}class c{constructor(){this._values=[]}_read(p){if(p>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[p]}get(p){return this._read(p)}_write(p,C){this._values[p]=C}}e.ComputedEditorOptions=c;class g{static validateOptions(p){const C=new r;for(const _ of n.editorOptionsRegistry){const L=_.name==="_never_"?void 0:p[_.name];C._write(_.id,_.validate(L))}return C}static computeOptions(p,C){const _=new c;for(const L of n.editorOptionsRegistry)_._write(L.id,L.compute(C,_,p._read(L.id)));return _}static _deepEquals(p,C){if(typeof p!="object"||typeof C!="object"||!p||!C)return p===C;if(Array.isArray(p)||Array.isArray(C))return Array.isArray(p)&&Array.isArray(C)?f.equals(p,C):!1;if(Object.keys(p).length!==Object.keys(C).length)return!1;for(const _ in p)if(!g._deepEquals(p[_],C[_]))return!1;return!0}static checkEquals(p,C){const _=[];let L=!1;for(const E of n.editorOptionsRegistry){const I=!g._deepEquals(p._read(E.id),C._read(E.id));_[E.id]=I,I&&(L=!0)}return L?new n.ConfigurationChangedEvent(_):null}static applyUpdate(p,C){let _=!1;for(const L of n.editorOptionsRegistry)if(C.hasOwnProperty(L.name)){const E=L.applyUpdate(p[L.name],C[L.name]);p[L.name]=E.newValue,_=_||E.didChange}return _}}function m(S){const p=w.deepClone(S);return(0,h.migrateOptions)(p),p}}),define(ne[628],oe([1,0,4,55,2,51,39,22,602,26,30,16]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const n="data-keybinding-context";class t{constructor(L,E){this._id=L,this._parent=E,this._value=Object.create(null),this._value._contextId=L}setValue(L,E){return this._value[L]!==E?(this._value[L]=E,!0):!1}removeValue(L){return L in this._value?(delete this._value[L],!0):!1}getValue(L){const E=this._value[L];return typeof E=="undefined"&&this._parent?this._parent.getValue(L):E}}e.Context=t;class s extends t{constructor(){super(-1,null)}setValue(L,E){return!1}removeValue(L){return!1}getValue(L){}}s.INSTANCE=new s;class l extends t{constructor(L,E,I){super(L,null);this._configurationService=E,this._values=D.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(T=>{if(T.source===6){const P=Array.from(f.Iterable.map(this._values,([B])=>B));this._values.clear(),I.fire(new o(P))}else{const P=[];for(const B of T.affectedKeys){const R=`config.${B}`,k=this._values.findSuperstr(R);k!==void 0&&(P.push(...f.Iterable.map(k,([A])=>A)),this._values.deleteSuperstr(R)),this._values.has(R)&&(P.push(R),this._values.delete(R))}I.fire(new o(P))}})}dispose(){this._listener.dispose()}getValue(L){if(L.indexOf(l._keyPrefix)!==0)return super.getValue(L);if(this._values.has(L))return this._values.get(L);const E=L.substr(l._keyPrefix.length),I=this._configurationService.getValue(E);let T;switch(typeof I){case"number":case"boolean":case"string":T=I;break;default:Array.isArray(I)?T=JSON.stringify(I):T=I}return this._values.set(L,T),T}setValue(L,E){return super.setValue(L,E)}removeValue(L){return super.removeValue(L)}}l._keyPrefix="config.";class d{constructor(L,E,I){this._service=L,this._key=E,this._defaultValue=I,this.reset()}set(L){this._service.setContext(this._key,L)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class a{constructor(L){this.key=L}affectsSome(L){return L.has(this.key)}}class o{constructor(L){this.keys=L}affectsSome(L){for(const E of this.keys)if(L.has(E))return!0;return!1}}class r{constructor(L){this.events=L}affectsSome(L){for(const E of this.events)if(E.affectsSome(L))return!0;return!1}}class c{constructor(L){this._onDidChangeContext=new y.PauseableEmitter({merge:E=>new r(E)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=L}createKey(L,E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d(this,L,E)}bufferChangeEvents(L){this._onDidChangeContext.pause();try{L()}finally{this._onDidChangeContext.resume()}}createScoped(L){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new m(this,L)}contextMatchesRules(L){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const E=this.getContextValuesContainer(this._myContextId);return L?L.evaluate(E):!0}getContextKeyValue(L){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(L)}setContext(L,E){if(this._isDisposed)return;const I=this.getContextValuesContainer(this._myContextId);!I||I.setValue(L,E)&&this._onDidChangeContext.fire(new a(L))}removeContext(L){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(L)&&this._onDidChangeContext.fire(new a(L))}getContext(L){return this._isDisposed?s.INSTANCE:this.getContextValuesContainer(S(L))}}e.AbstractContextKeyService=c;let g=class extends c{constructor(L){super(0);this._contexts=new Map,this._toDispose=new N.DisposableStore,this._lastContextId=0;const E=new l(this._myContextId,L,this._onDidChangeContext);this._contexts.set(this._myContextId,E),this._toDispose.add(E)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(L){return this._isDisposed?s.INSTANCE:this._contexts.get(L)||s.INSTANCE}createChildContext(L=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const E=++this._lastContextId;return this._contexts.set(E,new t(E,this.getContextValuesContainer(L))),E}disposeContext(L){this._isDisposed||this._contexts.delete(L)}};g=De([ge(0,h.IConfigurationService)],g),e.ContextKeyService=g;class m extends c{constructor(L,E){super(L.createChildContext());if(this._parentChangeListener=new N.MutableDisposable,this._parent=L,this._updateParentChangeListener(),this._domNode=E,this._domNode.hasAttribute(n)){let I="";this._domNode.classList&&(I=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${I?": "+I:""}`)}this._domNode.setAttribute(n,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(n),this._isDisposed=!0)}getContextValuesContainer(L){return this._isDisposed?s.INSTANCE:this._parent.getContextValuesContainer(L)}createChildContext(L=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(L)}disposeContext(L){this._isDisposed||this._parent.disposeContext(L)}}function S(_){for(;_;){if(_.hasAttribute(n)){const L=_.getAttribute(n);return L?parseInt(L,10):NaN}_=_.parentElement}return 0}function p(_,L,E){_.get(i.IContextKeyService).createKey(String(L),C(E))}e.setContext=p;function C(_){return(0,w.cloneAndChange)(_,L=>{if(typeof L=="object"&&L.$mid===1)return b.URI.revive(L).toString();if(L instanceof b.URI)return L.toString()})}u.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,p),u.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((_,L)=>_.key.localeCompare(L.key))},description:{description:(0,v.localize)(0,null),args:[]}}),u.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const _=[],L=new Set;for(const E of i.RawContextKey.all())L.has(E.key)||(L.add(E.key),_.push(E));_.sort((E,I)=>E.key.localeCompare(I.key)),console.log(JSON.stringify(_,void 0,2))})}),define(ne[287],oe([1,0,17,603,16]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.IsDevelopmentContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new N.RawContextKey("isMac",y.isMacintosh,(0,f.localize)(0,null)),e.IsLinuxContext=new N.RawContextKey("isLinux",y.isLinux,(0,f.localize)(1,null)),e.IsWindowsContext=new N.RawContextKey("isWindows",y.isWindows,(0,f.localize)(2,null)),e.IsWebContext=new N.RawContextKey("isWeb",y.isWeb,(0,f.localize)(3,null)),e.IsMacNativeContext=new N.RawContextKey("isMacNative",y.isMacintosh&&!y.isWeb,(0,f.localize)(4,null)),e.IsIOSContext=new N.RawContextKey("isIOS",y.isIOS,(0,f.localize)(5,null)),e.IsDevelopmentContext=new N.RawContextKey("isDevelopment",!1,!0),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new N.RawContextKey(e.InputFocusedContextKey,!1,(0,f.localize)(6,null))}),define(ne[82],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,y.createDecorator)("contextViewService"),e.IContextMenuService=(0,y.createDecorator)("contextMenuService")}),define(ne[114],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,y.createDecorator)("dialogService")}),define(ne[209],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ByteSize=e.FileKind=e.IFileService=void 0,e.IFileService=(0,y.createDecorator)("fileService");var f;(function(D){D[D.FILE=0]="FILE",D[D.FOLDER=1]="FOLDER",D[D.ROOT_FOLDER=2]="ROOT_FOLDER"})(f=e.FileKind||(e.FileKind={}));class N{}e.ByteSize=N,N.KB=1024,N.MB=N.KB*N.KB}),define(ne[163],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class y{constructor(...N){this._entries=new Map;for(const[D,w]of N)this.set(D,w)}set(N,D){const w=this._entries.get(N);return this._entries.set(N,D),w}get(N){return this._entries.get(N)}}e.ServiceCollection=y}),define(ne[629],oe([1,0,10,13,206,620,8,163]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const v=!1;class u extends Error{constructor(t){var s;super("cyclic dependency between services");this.message=(s=t.findCycleSlow())!==null&&s!==void 0?s:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class h{constructor(t=new b.ServiceCollection,s=!1,l){this._activeInstantiations=new Set,this._services=t,this._strict=s,this._parent=l,this._services.set(w.IInstantiationService,this)}createChild(t){return new h(t,this._strict,this)}invokeFunction(t,...s){const l=i.traceInvocation(t);let d=!1;try{return t({get:o=>{if(d)throw(0,f.illegalState)("service accessor is only valid during the invocation of its target method");const r=this._getOrCreateServiceInstance(o,l);if(!r)throw new Error(`[invokeFunction] unknown service '${o}'`);return r}},...s)}finally{d=!0,l.stop()}}createInstance(t,...s){let l,d;return t instanceof N.SyncDescriptor?(l=i.traceCreation(t.ctor),d=this._createInstance(t.ctor,t.staticArguments.concat(s),l)):(l=i.traceCreation(t),d=this._createInstance(t,s,l)),l.stop(),d}_createInstance(t,s=[],l){const d=w._util.getServiceDependencies(t).sort((r,c)=>r.index-c.index),a=[];for(const r of d){const c=this._getOrCreateServiceInstance(r.id,l);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${r.id}.`,!1),a.push(c)}const o=d.length>0?d[0].index:s.length;if(s.length!==o){console.trace(`[createInstance] First service dependency of ${t.name} at position ${o+1} conflicts with ${s.length} static arguments`);const r=o-s.length;r>0?s=s.concat(new Array(r)):s=s.slice(0,o)}return new t(...[...s,...a])}_setServiceInstance(t,s){if(this._services.get(t)instanceof N.SyncDescriptor)this._services.set(t,s);else if(this._parent)this._parent._setServiceInstance(t,s);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){const s=this._services.get(t);return!s&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):s}_getOrCreateServiceInstance(t,s){const l=this._getServiceInstanceOrDescriptor(t);return l instanceof N.SyncDescriptor?this._safeCreateAndCacheServiceInstance(t,l,s.branch(t,!0)):(s.branch(t,!1),l)}_safeCreateAndCacheServiceInstance(t,s,l){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,s,l)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,s,l){const d=new D.Graph(r=>r.id.toString());let a=0;const o=[{id:t,desc:s,_trace:l}];for(;o.length;){const r=o.pop();if(d.lookupOrInsertNode(r),a++>1e3)throw new u(d);for(const c of w._util.getServiceDependencies(r.desc.ctor)){const g=this._getServiceInstanceOrDescriptor(c.id);if(g||this._throwIfStrict(`[createInstance] ${t} depends on ${c.id} which is NOT registered.`,!0),g instanceof N.SyncDescriptor){const m={id:c.id,desc:g,_trace:r._trace.branch(c.id,!0)};d.insertEdge(r,m),o.push(m)}}}for(;;){const r=d.roots();if(r.length===0){if(!d.isEmpty())throw new u(d);break}for(const{data:c}of r){if(this._getServiceInstanceOrDescriptor(c.id)instanceof N.SyncDescriptor){const m=this._createServiceInstanceWithOwner(c.id,c.desc.ctor,c.desc.staticArguments,c.desc.supportsDelayedInstantiation,c._trace);this._setServiceInstance(c.id,m)}d.removeNode(c)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,s,l=[],d,a){if(this._services.get(t)instanceof N.SyncDescriptor)return this._createServiceInstance(s,l,d,a);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,s,l,d,a);throw new Error(`illegalState - creating UNKNOWN service instance ${s.name}`)}_createServiceInstance(t,s=[],l,d){if(l){const a=new y.IdleValue(()=>this._createInstance(t,s,d));return new Proxy(Object.create(null),{get(o,r){if(r in o)return o[r];const c=a.value;let g=c[r];return typeof g!="function"||(g=g.bind(c),o[r]=g),g},set(o,r,c){return a.value[r]=c,!0}})}else return this._createInstance(t,s,d)}_throwIfStrict(t,s){if(s&&console.warn(s),this._strict)throw new Error(t)}}e.InstantiationService=h;class i{constructor(t,s){this.type=t,this.name=s,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return v?new i(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):i._None}static traceCreation(t){return v?new i(0,t.name):i._None}branch(t,s){const l=new i(2,t.toString());return this._dep.push([t,s,l]),l}stop(){const t=Date.now()-this._start;i._totals+=t;let s=!1;function l(a,o){const r=[],c=new Array(a+1).join("	");for(const[g,m,S]of o._dep)if(m&&S){s=!0,r.push(`${c}CREATES -> ${g}`);const p=l(a+1,S);p&&r.push(p)}else r.push(`${c}uses -> ${g}`);return r.join(`
`)}const d=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${l(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(t>2||s)&&console.log(d.join(`
`))}}e.Trace=i,i._None=new class extends i{constructor(){super(-1,null)}stop(){}branch(){return this}},i._totals=0}),define(ne[630],oe([1,0,10,4,2,606]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const w=/^(cursor|delete)/;class b extends N.Disposable{constructor(h,i,n,t,s){super();this._contextKeyService=h,this._commandService=i,this._telemetryService=n,this._notificationService=t,this._logService=s,this._onDidUpdateKeybindings=this._register(new f.Emitter),this._currentChord=null,this._currentChordChecker=new y.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new y.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:f.Event.None}dispose(){super.dispose()}_log(h){this._logging&&this._logService.info(`[KeybindingService]: ${h}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(h,i){const n=this._getResolver().lookupPrimaryKeybinding(h,i||this._contextKeyService);if(!!n)return n.resolvedKeybinding}dispatchEvent(h,i){return this._dispatch(h,i)}softDispatch(h,i){this._log("/ Soft dispatching keyboard event");const n=this.resolveKeyboardEvent(h);if(n.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[t]=n.getDispatchParts();if(t===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const s=this._contextKeyService.getContext(i),l=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(s,l,t)}_enterChordMode(h,i){this._currentChord={keypress:h,label:i},this._currentChordStatusMessage=this._notificationService.status(D.localize(0,null,i));const n=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-n>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(h,i){return this._doDispatch(this.resolveKeyboardEvent(h),i,!1)}_singleModifierDispatch(h,i){const n=this.resolveKeyboardEvent(h),[t]=n.getSingleModifierDispatchParts();if(t)return this._ignoreSingleModifiers.has(t)?(this._log(`+ Ignoring single modifier ${t} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${t}.`),this._currentSingleModifier=t,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):t===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${t} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,i,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[s]=n.getParts();return this._ignoreSingleModifiers=new v(s),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(h,i,n=!1){let t=!1;if(h.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let s=null,l=null;if(n){const[r]=h.getSingleModifierDispatchParts();s=r,l=r}else[s]=h.getDispatchParts(),l=this._currentChord?this._currentChord.keypress:null;if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),t;const d=this._contextKeyService.getContext(i),a=h.getLabel(),o=this._getResolver().resolve(d,l,s);return this._logService.trace("KeybindingService#dispatch",a,o==null?void 0:o.commandId),o&&o.enterChord?(t=!0,this._enterChordMode(s,a),this._log("+ Entering chord mode..."),t):(this._currentChord&&(!o||!o.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${a}".`),this._notificationService.status(D.localize(1,null,this._currentChord.label,a),{hideAfter:10*1e3}),t=!0),this._leaveChordMode(),o&&o.commandId&&(o.bubble||(t=!0),this._log(`+ Invoking command ${o.commandId}.`),typeof o.commandArgs=="undefined"?this._commandService.executeCommand(o.commandId).then(void 0,r=>this._notificationService.warn(r)):this._commandService.executeCommand(o.commandId,o.commandArgs).then(void 0,r=>this._notificationService.warn(r)),w.test(o.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:o.commandId,from:"keybinding"})),t)}mightProducePrintableCharacter(h){return h.ctrlKey||h.metaKey?!1:h.keyCode>=31&&h.keyCode<=56||h.keyCode>=21&&h.keyCode<=30}}e.AbstractKeybindingService=b;class v{constructor(h){this._ctrlKey=h?h.ctrlKey:!1,this._shiftKey=h?h.shiftKey:!1,this._altKey=h?h.altKey:!1,this._metaKey=h?h.metaKey:!1}has(h){switch(h){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}v.EMPTY=new v(null)}),define(ne[631],oe([1,0,13,205,104]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends N.ResolvedKeybinding{constructor(b,v){super();if(v.length===0)throw(0,y.illegalArgument)("parts");this._os=b,this._parts=v}getLabel(){return f.UILabelProvider.toLabel(this._os,this._parts,b=>this._getLabel(b))}getAriaLabel(){return f.AriaLabelProvider.toLabel(this._os,this._parts,b=>this._getAriaLabel(b))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:f.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,b=>this._getElectronAccelerator(b))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(b=>this._getPart(b))}_getPart(b){return new N.ResolvedKeybindingPart(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,this._getLabel(b),this._getAriaLabel(b))}getDispatchParts(){return this._parts.map(b=>this._getDispatchPart(b))}getSingleModifierDispatchParts(){return this._parts.map(b=>this._getSingleModifierDispatchPart(b))}}e.BaseResolvedKeybinding=D}),define(ne[43],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,y.createDecorator)("keybindingService")}),define(ne[632],oe([1,0,16]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class f{constructor(b,v,u){this._log=u,this._defaultKeybindings=b,this._defaultBoundCommands=new Map;for(const h of b){const i=h.command;i&&i.charAt(0)!=="-"&&this._defaultBoundCommands.set(i,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=f.handleRemovals([].concat(b).concat(v));for(let h=0,i=this._keybindings.length;h<i;h++){const n=this._keybindings[h];n.keypressParts.length!==0&&(n.when&&n.when.type===0||this._addKeyPress(n.keypressParts[0],n))}}static _isTargetedForRemoval(b,v,u,h){return!(v&&b.keypressParts[0]!==v||u&&b.keypressParts[1]!==u||h&&(!b.when||!(0,y.expressionsAreEqualWithConstantSubstitution)(h,b.when)))}static handleRemovals(b){const v=new Map;for(let h=0,i=b.length;h<i;h++){const n=b[h];if(n.command&&n.command.charAt(0)==="-"){const t=n.command.substring(1);v.has(t)?v.get(t).push(n):v.set(t,[n])}}if(v.size===0)return b;const u=[];for(let h=0,i=b.length;h<i;h++){const n=b[h];if(!n.command||n.command.length===0){u.push(n);continue}if(n.command.charAt(0)==="-")continue;const t=v.get(n.command);if(!t||!n.isDefault){u.push(n);continue}let s=!1;for(const l of t){const d=l.keypressParts[0],a=l.keypressParts[1],o=l.when;if(this._isTargetedForRemoval(n,d,a,o)){s=!0;break}}if(!s){u.push(n);continue}}return u}_addKeyPress(b,v){const u=this._map.get(b);if(typeof u=="undefined"){this._map.set(b,[v]),this._addToLookupMap(v);return}for(let h=u.length-1;h>=0;h--){const i=u[h];if(i.command===v.command)continue;const n=i.keypressParts.length>1,t=v.keypressParts.length>1;n&&t&&i.keypressParts[1]!==v.keypressParts[1]||f.whenIsEntirelyIncluded(i.when,v.when)&&this._removeFromLookupMap(i)}u.push(v),this._addToLookupMap(v)}_addToLookupMap(b){if(!b.command)return;let v=this._lookupMap.get(b.command);typeof v=="undefined"?(v=[b],this._lookupMap.set(b.command,v)):v.push(b)}_removeFromLookupMap(b){if(!b.command)return;const v=this._lookupMap.get(b.command);if(typeof v!="undefined"){for(let u=0,h=v.length;u<h;u++)if(v[u]===b){v.splice(u,1);return}}}static whenIsEntirelyIncluded(b,v){return!v||v.type===1?!0:!b||b.type===1?!1:(0,y.implies)(b,v)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(b,v){const u=this._lookupMap.get(b);if(typeof u=="undefined"||u.length===0)return null;if(u.length===1)return u[0];for(let h=u.length-1;h>=0;h--){const i=u[h];if(v.contextMatchesRules(i.when))return i}return u[u.length-1]}resolve(b,v,u){this._log(`| Resolving ${u}${v?` chorded from ${v}`:""}`);let h=null;if(v!==null){const n=this._map.get(v);if(typeof n=="undefined")return this._log("\\ No keybinding entries."),null;h=[];for(let t=0,s=n.length;t<s;t++){const l=n[t];l.keypressParts[1]===u&&h.push(l)}}else{const n=this._map.get(u);if(typeof n=="undefined")return this._log("\\ No keybinding entries."),null;h=n}const i=this._findCommand(b,h);return i?v===null&&i.keypressParts.length>1&&i.keypressParts[1]!==null?(this._log(`\\ From ${h.length} keybinding entries, matched chord, when: ${N(i.when)}, source: ${D(i)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${h.length} keybinding entries, matched ${i.command}, when: ${N(i.when)}, source: ${D(i)}.`),{enterChord:!1,leaveChord:i.keypressParts.length>1,commandId:i.command,commandArgs:i.commandArgs,bubble:i.bubble}):(this._log(`\\ From ${h.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(b,v){for(let u=v.length-1;u>=0;u--){const h=v[u];if(!!f._contextMatchesRules(b,h.when))return h}return null}static _contextMatchesRules(b,v){return v?v.evaluate(b):!0}}e.KeybindingResolver=f;function N(w){return w?`${w.serialize()}`:"no when condition"}function D(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(ne[288],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class y{constructor(D,w,b,v,u,h,i){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.keypressParts=D?f(D.getDispatchParts()):[],D&&this.keypressParts.length===0&&(this.keypressParts=f(D.getSingleModifierDispatchParts())),this.bubble=w?w.charCodeAt(0)===94:!1,this.command=this.bubble?w.substr(1):w,this.commandArgs=b,this.when=v,this.isDefault=u,this.extensionId=h,this.isBuiltinExtension=i}}e.ResolvedKeybindingItem=y;function f(N){const D=[];for(let w=0,b=N.length;w<b;w++){const v=N[w];if(!v)return D;D.push(v)}return D}e.removeElementsAfterNulls=f}),define(ne[633],oe([1,0,59,104,631,288]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class w extends N.BaseResolvedKeybinding{constructor(v,u){super(u,v.parts)}_keyCodeToUILabel(v){if(this._os===2)switch(v){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return y.KeyCodeUtils.toString(v)}_getLabel(v){return v.isDuplicateModifierCase()?"":this._keyCodeToUILabel(v.keyCode)}_getAriaLabel(v){return v.isDuplicateModifierCase()?"":y.KeyCodeUtils.toString(v.keyCode)}_getElectronAccelerator(v){return y.KeyCodeUtils.toElectronAccelerator(v.keyCode)}_getDispatchPart(v){return w.getDispatchStr(v)}static getDispatchStr(v){if(v.isModifierKey())return null;let u="";return v.ctrlKey&&(u+="ctrl+"),v.shiftKey&&(u+="shift+"),v.altKey&&(u+="alt+"),v.metaKey&&(u+="meta+"),u+=y.KeyCodeUtils.toString(v.keyCode),u}_getSingleModifierDispatchPart(v){return v.keyCode===5&&!v.shiftKey&&!v.altKey&&!v.metaKey?"ctrl":v.keyCode===4&&!v.ctrlKey&&!v.altKey&&!v.metaKey?"shift":v.keyCode===6&&!v.ctrlKey&&!v.shiftKey&&!v.metaKey?"alt":v.keyCode===57&&!v.ctrlKey&&!v.shiftKey&&!v.altKey?"meta":null}static _scanCodeToKeyCode(v){const u=y.IMMUTABLE_CODE_TO_KEY_CODE[v];if(u!==-1)return u;switch(v){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(v){if(!v)return null;if(v instanceof f.SimpleKeybinding)return v;const u=this._scanCodeToKeyCode(v.scanCode);return u===0?null:new f.SimpleKeybinding(v.ctrlKey,v.shiftKey,v.altKey,v.metaKey,u)}static resolveUserBinding(v,u){const h=(0,D.removeElementsAfterNulls)(v.map(i=>this._resolveSimpleUserBinding(i)));return h.length>0?[new w(new f.ChordKeybinding(h),u)]:[]}}e.USLayoutResolvedKeybinding=w}),define(ne[138],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,y.createDecorator)("labelService")}),define(ne[115],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,y.createDecorator)("layoutService")}),define(ne[289],oe([1,0,7,4,115,29,53]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let b=class{constructor(h){this._codeEditorService=h,this.onDidLayout=f.Event.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=y.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var h;(h=this._codeEditorService.getFocusedCodeEditor())===null||h===void 0||h.focus()}};b=De([ge(0,D.ICodeEditorService)],b);let v=class extends b{constructor(h,i){super(i);this._container=h}get hasContainer(){return!1}get container(){return this._container}};v=De([ge(1,D.ICodeEditorService)],v),e.EditorScopedLayoutService=v,(0,w.registerSingleton)(N.ILayoutService,b)}),define(ne[634],oe([1,0,7,4,2,69,30,16,115]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let u=class extends N.Disposable{constructor(i,n,t){super();this._contextKeyService=i,this._layoutService=n,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new f.Emitter,this._onDidChangeReducedMotion=new f.Emitter,this._accessibilityModeEnabledContext=D.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const s=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(d=>{d.affectsConfiguration("editor.accessibilitySupport")&&(s(),this._onDidChangeScreenReaderOptimized.fire()),d.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),s(),this._register(this.onDidChangeScreenReaderOptimized(()=>s()));const l=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=l.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(l)}initReducedMotionListeners(i){if(!this._layoutService.hasContainer)return;this._register((0,y.addDisposableListener)(i,"change",()=>{this._systemMotionReduced=i.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const n=()=>{const t=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",t),this._layoutService.container.classList.toggle("enable-motion",!t)};n(),this._register(this.onDidChangeReducedMotion(()=>n()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const i=this._configMotionReduced;return i==="on"||i==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};u=De([ge(0,b.IContextKeyService),ge(1,v.ILayoutService),ge(2,w.IConfigurationService)],u),e.AccessibilityService=u}),define(ne[635],oe([1,0,231,2,115]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends f.Disposable{constructor(b){super();this.layoutService=b,this.currentViewDisposable=f.Disposable.None,this.container=b.hasContainer?b.container:null,this.contextView=this._register(new y.ContextView(this.container,1)),this.layout(),this._register(b.onDidLayout(()=>this.layout()))}setContainer(b,v){this.contextView.setContainer(b,v||1)}showContextView(b,v,u){v?v!==this.container&&(this.container=v,this.setContainer(v,u?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(b);const h=(0,f.toDisposable)(()=>{this.currentViewDisposable===h&&this.hideContextView()});return this.currentViewDisposable=h,h}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(b){this.contextView.hide(b)}};D=De([ge(0,N.ILayoutService)],D),e.ContextViewService=D}),define(ne[70],oe([1,0,4,2,8]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,N.createDecorator)("logService");var D;(function(u){u[u.Trace=0]="Trace",u[u.Debug=1]="Debug",u[u.Info=2]="Info",u[u.Warning=3]="Warning",u[u.Error=4]="Error",u[u.Critical=5]="Critical",u[u.Off=6]="Off"})(D=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=D.Info;class w extends f.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new y.Emitter)}setLevel(h){this.level!==h&&(this.level=h,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=w;class b extends w{constructor(h=e.DEFAULT_LOG_LEVEL){super();this.setLevel(h)}trace(h,...i){this.getLevel()<=D.Trace&&console.log("%cTRACE","color: #888",h,...i)}debug(h,...i){this.getLevel()<=D.Debug&&console.log("%cDEBUG","background: #eee; color: #888",h,...i)}info(h,...i){this.getLevel()<=D.Info&&console.log("%c INFO","color: #33f",h,...i)}error(h,...i){this.getLevel()<=D.Error&&console.log("%c  ERR","color: #f33",h,...i)}dispose(){}}e.ConsoleLogger=b;class v extends f.Disposable{constructor(h){super();this.logger=h,this._register(h)}getLevel(){return this.logger.getLevel()}trace(h,...i){this.logger.trace(h,...i)}debug(h,...i){this.logger.debug(h,...i)}info(h,...i){this.logger.info(h,...i)}error(h,...i){this.logger.error(h,...i)}}e.LogService=v}),define(ne[636],oe([1,0,36,7,10,2,115,70]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let v=class extends D.Disposable{constructor(h,i){super();this.layoutService=h,this.logService=i,this.mapTextToType=new Map,this.findText="",this.resources=[],(y.isSafari||y.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const h=()=>{const i=new N.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=i,navigator.clipboard.write([new ClipboardItem({"text/plain":i.p})]).catch(n=>Le(this,void 0,void 0,function*(){(!(n instanceof Error)||n.name!=="NotAllowedError"||!i.isRejected)&&this.logService.error(n)}))};this.layoutService.hasContainer&&(this._register((0,f.addDisposableListener)(this.layoutService.container,"click",h)),this._register((0,f.addDisposableListener)(this.layoutService.container,"keydown",h)))}writeText(h,i){return Le(this,void 0,void 0,function*(){if(i){this.mapTextToType.set(i,h);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(h);try{return yield navigator.clipboard.writeText(h)}catch(s){console.error(s)}const n=document.activeElement,t=document.body.appendChild((0,f.$)("textarea",{"aria-hidden":!0}));t.style.height="1px",t.style.width="1px",t.style.position="absolute",t.value=h,t.focus(),t.select(),document.execCommand("copy"),n instanceof HTMLElement&&n.focus(),document.body.removeChild(t)})}readText(h){return Le(this,void 0,void 0,function*(){if(h)return this.mapTextToType.get(h)||"";try{return yield navigator.clipboard.readText()}catch(i){return console.error(i),""}})}readFindText(){return Le(this,void 0,void 0,function*(){return this.findText})}writeFindText(h){return Le(this,void 0,void 0,function*(){this.findText=h})}readResources(){return Le(this,void 0,void 0,function*(){return this.resources})}};v=De([ge(0,w.ILayoutService),ge(1,b.ILogService)],v),e.BrowserClipboardService=v}),define(ne[83],oe([1,0,73,608,8]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(b){b[b.Hint=1]="Hint",b[b.Info=2]="Info",b[b.Warning=4]="Warning",b[b.Error=8]="Error"})(D=e.MarkerSeverity||(e.MarkerSeverity={})),function(b){function v(t,s){return s-t}b.compare=v;const u=Object.create(null);u[b.Error]=(0,f.localize)(0,null),u[b.Warning]=(0,f.localize)(1,null),u[b.Info]=(0,f.localize)(2,null);function h(t){return u[t]||""}b.toString=h;function i(t){switch(t){case y.default.Error:return b.Error;case y.default.Warning:return b.Warning;case y.default.Info:return b.Info;case y.default.Ignore:return b.Hint}}b.fromSeverity=i;function n(t){switch(t){case b.Error:return y.default.Error;case b.Warning:return y.default.Warning;case b.Info:return y.default.Info;case b.Hint:return y.default.Ignore}}b.toSeverity=n}(D=e.MarkerSeverity||(e.MarkerSeverity={}));var w;(function(b){const v="";function u(i){return h(i,!0)}b.makeKey=u;function h(i,n){const t=[v];return i.source?t.push(i.source.replace("\xA6","\\\xA6")):t.push(v),i.code?typeof i.code=="string"?t.push(i.code.replace("\xA6","\\\xA6")):t.push(i.code.value.replace("\xA6","\\\xA6")):t.push(v),i.severity!==void 0&&i.severity!==null?t.push(D.toString(i.severity)):t.push(v),i.message&&n?t.push(i.message.replace("\xA6","\\\xA6")):t.push(v),i.startLineNumber!==void 0&&i.startLineNumber!==null?t.push(i.startLineNumber.toString()):t.push(v),i.startColumn!==void 0&&i.startColumn!==null?t.push(i.startColumn.toString()):t.push(v),i.endLineNumber!==void 0&&i.endLineNumber!==null?t.push(i.endLineNumber.toString()):t.push(v),i.endColumn!==void 0&&i.endColumn!==null?t.push(i.endColumn.toString()):t.push(v),t.push(v),t.join("\xA6")}b.makeKeyOptionalMessage=h})(w=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,N.createDecorator)("markerService")}),define(ne[637],oe([1,0,18,4,2,79,9,22,3,53,8,83,30]),function(j,e,y,f,N,D,w,b,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class t{constructor(a,o,r){this.marker=a,this.index=o,this.total=r}}e.MarkerCoordinate=t;let s=class{constructor(a,o,r){this._markerService=o,this._configService=r,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new N.DisposableStore,this._markers=[],this._nextIdx=-1,b.URI.isUri(a)?this._resourceFilter=S=>S.toString()===a.toString():a&&(this._resourceFilter=a);const c=this._configService.getValue("problems.sortOrder"),g=(S,p)=>{let C=(0,w.compare)(S.resource.toString(),p.resource.toString());return C===0&&(c==="position"?C=v.Range.compareRangesUsingStarts(S,p)||i.MarkerSeverity.compare(S.severity,p.severity):C=i.MarkerSeverity.compare(S.severity,p.severity)||v.Range.compareRangesUsingStarts(S,p)),C},m=()=>{this._markers=this._markerService.read({resource:b.URI.isUri(a)?a:void 0,severities:i.MarkerSeverity.Error|i.MarkerSeverity.Warning|i.MarkerSeverity.Info}),typeof a=="function"&&(this._markers=this._markers.filter(S=>this._resourceFilter(S.resource))),this._markers.sort(g)};m(),this._dispoables.add(o.onMarkerChanged(S=>{(!this._resourceFilter||S.some(p=>this._resourceFilter(p)))&&(m(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(a){return!this._resourceFilter&&!a?!0:!this._resourceFilter||!a?!1:this._resourceFilter(a)}get selected(){const a=this._markers[this._nextIdx];return a&&new t(a,this._nextIdx+1,this._markers.length)}_initIdx(a,o,r){let c=!1,g=this._markers.findIndex(m=>m.resource.toString()===a.uri.toString());g<0&&(g=(0,y.binarySearch)(this._markers,{resource:a.uri},(m,S)=>(0,w.compare)(m.resource.toString(),S.resource.toString())),g<0&&(g=~g));for(let m=g;m<this._markers.length;m++){let S=v.Range.lift(this._markers[m]);if(S.isEmpty()){const p=a.getWordAtPosition(S.getStartPosition());p&&(S=new v.Range(S.startLineNumber,p.startColumn,S.startLineNumber,p.endColumn))}if(o&&(S.containsPosition(o)||o.isBeforeOrEqual(S.getStartPosition()))){this._nextIdx=m,c=!0;break}if(this._markers[m].resource.toString()!==a.uri.toString())break}c||(this._nextIdx=r?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(a,o,r){if(this._markers.length===0)return!1;const c=this._nextIdx;return this._nextIdx===-1?this._initIdx(o,r,a):a?this._nextIdx=(this._nextIdx+1)%this._markers.length:a||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),c!==this._nextIdx}find(a,o){let r=this._markers.findIndex(c=>c.resource.toString()===a.toString());if(!(r<0)){for(;r<this._markers.length;r++)if(v.Range.containsPosition(this._markers[r],o))return new t(this._markers[r],r+1,this._markers.length)}}};s=De([ge(1,i.IMarkerService),ge(2,n.IConfigurationService)],s),e.MarkerList=s,e.IMarkerNavigationService=(0,h.createDecorator)("IMarkerNavigationService");let l=class{constructor(a,o){this._markerService=a,this._configService=o,this._provider=new D.LinkedList}getMarkerList(a){for(const o of this._provider){const r=o.getMarkerList(a);if(r)return r}return new s(a,this._markerService,this._configService)}};l=De([ge(0,i.IMarkerService),ge(1,n.IConfigurationService)],l),(0,u.registerSingleton)(e.IMarkerNavigationService,l,!0)}),define(ne[638],oe([1,0,18,4,55,51,44,22,83]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class u{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(t,s,l){let d=this._byResource.get(t);d||(d=new Map,this._byResource.set(t,d)),d.set(s,l);let a=this._byOwner.get(s);a||(a=new D.ResourceMap,this._byOwner.set(s,a)),a.set(t,l)}get(t,s){const l=this._byResource.get(t);return l==null?void 0:l.get(s)}delete(t,s){let l=!1,d=!1;const a=this._byResource.get(t);a&&(l=a.delete(s));const o=this._byOwner.get(s);if(o&&(d=o.delete(t)),l!==d)throw new Error("illegal state");return l&&d}values(t){var s,l,d,a;return typeof t=="string"?(l=(s=this._byOwner.get(t))===null||s===void 0?void 0:s.values())!==null&&l!==void 0?l:N.Iterable.empty():b.URI.isUri(t)?(a=(d=this._byResource.get(t))===null||d===void 0?void 0:d.values())!==null&&a!==void 0?a:N.Iterable.empty():N.Iterable.map(N.Iterable.concat(...this._byOwner.values()),o=>o[1])}}class h{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const s of t){const l=this._data.get(s);l&&this._substract(l);const d=this._resourceStats(s);this._add(d),this._data.set(s,d)}}_resourceStats(t){const s={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===w.Schemas.inMemory||t.scheme===w.Schemas.walkThrough||t.scheme===w.Schemas.walkThroughSnippet)return s;for(const{severity:l}of this._service.read({resource:t}))l===v.MarkerSeverity.Error?s.errors+=1:l===v.MarkerSeverity.Warning?s.warnings+=1:l===v.MarkerSeverity.Info?s.infos+=1:s.unknowns+=1;return s}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class i{constructor(){this._onMarkerChanged=new f.DebounceEmitter({delay:0,merge:i._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new u,this._stats=new h(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,s){for(const l of s||[])this.changeOne(t,l,[])}changeOne(t,s,l){if((0,y.isFalsyOrEmpty)(l))this._data.delete(s,t)&&this._onMarkerChanged.fire([s]);else{const d=[];for(const a of l){const o=i._toMarker(t,s,a);o&&d.push(o)}this._data.set(s,t,d),this._onMarkerChanged.fire([s])}}static _toMarker(t,s,l){let{code:d,severity:a,message:o,source:r,startLineNumber:c,startColumn:g,endLineNumber:m,endColumn:S,relatedInformation:p,tags:C}=l;if(!!o)return c=c>0?c:1,g=g>0?g:1,m=m>=c?m:c,S=S>0?S:g,{resource:s,owner:t,code:d,severity:a,message:o,source:r,startLineNumber:c,startColumn:g,endLineNumber:m,endColumn:S,relatedInformation:p,tags:C}}changeAll(t,s){const l=[],d=this._data.values(t);if(d)for(const a of d){const o=N.Iterable.first(a);o&&(l.push(o.resource),this._data.delete(o.resource,t))}if((0,y.isNonEmptyArray)(s)){const a=new D.ResourceMap;for(const{resource:o,marker:r}of s){const c=i._toMarker(t,o,r);if(!c)continue;const g=a.get(o);g?g.push(c):(a.set(o,[c]),l.push(o))}for(const[o,r]of a)this._data.set(o,t,r)}l.length>0&&this._onMarkerChanged.fire(l)}read(t=Object.create(null)){let{owner:s,resource:l,severities:d,take:a}=t;if((!a||a<0)&&(a=-1),s&&l){const o=this._data.get(l,s);if(o){const r=[];for(const c of o)if(i._accept(c,d)){const g=r.push(c);if(a>0&&g===a)break}return r}else return[]}else if(!s&&!l){const o=[];for(const r of this._data.values())for(const c of r)if(i._accept(c,d)){const g=o.push(c);if(a>0&&g===a)return o}return o}else{const o=this._data.values(l??s),r=[];for(const c of o)for(const g of c)if(i._accept(g,d)){const m=r.push(g);if(a>0&&m===a)return r}return r}}static _accept(t,s){return s===void 0||(s&t.severity)===t.severity}static _merge(t){const s=new D.ResourceMap;for(const l of t)for(const d of l)s.set(d,!0);return Array.from(s.keys())}}e.MarkerService=i}),define(ne[40],oe([1,0,73,8]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=y.default,e.INotificationService=(0,f.createDecorator)("notificationService");class N{}e.NoOpNotification=N}),define(ne[45],oe([1,0,2,9,22,8]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,D.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return y.Disposable.None},registerValidator(){return y.Disposable.None},registerExternalUriResolver(){return y.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return y.Disposable.None},open(){return Le(this,void 0,void 0,function*(){return!1})},resolveExternalUri(u){return Le(this,void 0,void 0,function*(){return{resolved:u,dispose(){}}})}});function w(u,h){return N.URI.isUri(u)?(0,f.equalsIgnoreCase)(u.scheme,h):(0,f.startsWithIgnoreCase)(u,h+":")}e.matchesScheme=w;function b(u,...h){return h.some(i=>w(u,i))}e.matchesSomeScheme=b;function v(u){let h;const i=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(u.fragment);return i&&(h={startLineNumber:parseInt(i[1]),startColumn:i[2]?parseInt(i[2]):1,endLineNumber:i[4]?parseInt(i[4]):void 0,endColumn:i[4]?i[5]?parseInt(i[5]):1:void 0},u=u.with({fragment:""})),{selection:h,uri:u}}e.extractSelection=v}),define(ne[639],oe([1,0,7,21,79,51,178,44,42,22,29,26,615,45]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let s=class{constructor(o){this._commandService=o}open(o,r){return Le(this,void 0,void 0,function*(){if(!(0,t.matchesScheme)(o,b.Schemas.command))return!1;if(!(r==null?void 0:r.allowCommands))return!0;typeof o=="string"&&(o=u.URI.parse(o));let c=[];try{c=(0,w.parse)(decodeURIComponent(o.query))}catch{try{c=(0,w.parse)(o.query)}catch{}}return Array.isArray(c)||(c=[c]),yield this._commandService.executeCommand(o.path,...c),!0})}};s=De([ge(0,i.ICommandService)],s);let l=class{constructor(o){this._editorService=o}open(o,r){return Le(this,void 0,void 0,function*(){typeof o=="string"&&(o=u.URI.parse(o));const{selection:c,uri:g}=(0,t.extractSelection)(o);return o=g,o.scheme===b.Schemas.file&&(o=(0,v.normalizePath)(o)),yield this._editorService.openCodeEditor({resource:o,options:Object.assign({selection:c,source:(r==null?void 0:r.fromUserGesture)?n.EditorOpenSource.USER:n.EditorOpenSource.API},r==null?void 0:r.editorOptions)},this._editorService.getFocusedCodeEditor(),r==null?void 0:r.openToSide),!0})}};l=De([ge(0,h.ICodeEditorService)],l);let d=class{constructor(o,r){this._openers=new N.LinkedList,this._validators=new N.LinkedList,this._resolvers=new N.LinkedList,this._resolvedUriTargets=new D.ResourceMap(c=>c.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new N.LinkedList,this._defaultExternalOpener={openExternal:c=>Le(this,void 0,void 0,function*(){return(0,t.matchesSomeScheme)(c,b.Schemas.http,b.Schemas.https)?y.windowOpenNoOpener(c):window.location.href=c,!0})},this._openers.push({open:(c,g)=>Le(this,void 0,void 0,function*(){return(g==null?void 0:g.openExternal)||(0,t.matchesSomeScheme)(c,b.Schemas.mailto,b.Schemas.http,b.Schemas.https,b.Schemas.vsls)?(yield this._doOpenExternal(c,g),!0):!1})}),this._openers.push(new s(r)),this._openers.push(new l(o))}registerOpener(o){return{dispose:this._openers.unshift(o)}}registerValidator(o){return{dispose:this._validators.push(o)}}registerExternalUriResolver(o){return{dispose:this._resolvers.push(o)}}setDefaultExternalOpener(o){this._defaultExternalOpener=o}registerExternalOpener(o){return{dispose:this._externalOpeners.push(o)}}open(o,r){var c;return Le(this,void 0,void 0,function*(){const g=typeof o=="string"?u.URI.parse(o):o,m=(c=this._resolvedUriTargets.get(g))!==null&&c!==void 0?c:o;for(const S of this._validators)if(!(yield S.shouldOpen(m)))return!1;for(const S of this._openers)if(yield S.open(o,r))return!0;return!1})}resolveExternalUri(o,r){return Le(this,void 0,void 0,function*(){for(const c of this._resolvers)try{const g=yield c.resolveExternalUri(o,r);if(g)return this._resolvedUriTargets.has(g.resolved)||this._resolvedUriTargets.set(g.resolved,o),g}catch{}throw new Error("Could not resolve external URI: "+o.toString())})}_doOpenExternal(o,r){return Le(this,void 0,void 0,function*(){const c=typeof o=="string"?u.URI.parse(o):o;let g;try{g=(yield this.resolveExternalUri(c,r)).resolved}catch{g=c}let m;if(typeof o=="string"&&c.toString()===g.toString()?m=o:m=encodeURI(g.toString(!0)),r==null?void 0:r.allowContributedOpeners){const S=typeof(r==null?void 0:r.allowContributedOpeners)=="string"?r==null?void 0:r.allowContributedOpeners:void 0;for(const p of this._externalOpeners)if(yield p.openExternal(m,{sourceUri:c,preferredOpenerId:S},f.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(m,{sourceUri:c},f.CancellationToken.None)})}dispose(){this._validators.clear()}};d=De([ge(0,h.ICodeEditorService),ge(1,i.ICommandService)],d),e.OpenerService=d}),define(ne[71],oe([1,0,123,51,122,53,8,70,45]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,w.createDecorator)("ILanguageFeatureDebounceService");var u;(function(n){const t=new WeakMap;let s=0;function l(d){let a=t.get(d);return a===void 0&&(a=++s,t.set(d,a)),a}n.of=l})(u||(u={}));class h{constructor(t,s,l,d,a,o){this._logService=t,this._name=s,this._registry=l,this._default=d,this._min=a,this._max=o,this._cache=new f.LRUCache(50,.7)}_key(t){return t.id+this._registry.all(t).reduce((s,l)=>(0,y.doHash)(u.of(l),s),0)}get(t){const s=this._key(t),l=this._cache.get(s);return l?(0,N.clamp)(l.value,this._min,this._max):this.default()}update(t,s){const l=this._key(t);let d=this._cache.get(l);d||(d=new N.SlidingWindowAverage(6),this._cache.set(l,d));const a=(0,N.clamp)(d.update(s),this._min,this._max);return(0,v.matchesScheme)(t.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${t.uri.toString()} is ${a}ms`),a}_overall(){const t=new N.MovingAverage;for(const[,s]of this._cache)t.update(s.value);return t.value}default(){const t=this._overall()|0||this._default;return(0,N.clamp)(t,this._min,this._max)}}let i=class{constructor(t){this._logService=t,this._data=new Map}for(t,s,l){var d,a,o;const r=(d=l==null?void 0:l.min)!==null&&d!==void 0?d:50,c=(a=l==null?void 0:l.max)!==null&&a!==void 0?a:Math.pow(r,2),g=(o=l==null?void 0:l.key)!==null&&o!==void 0?o:void 0,m=`${u.of(t)},${r}${g?","+g:""}`;let S=this._data.get(m);return S||(S=new h(this._logService,s,t,this._overallAverage()|0||r*1.5,r,c),this._data.set(m,S)),S}_overallAverage(){const t=new N.MovingAverage;for(const s of this._data.values())t.update(s.default());return t.value}};i=De([ge(0,b.ILogService)],i),e.LanguageFeatureDebounceService=i,(0,D.registerSingleton)(e.ILanguageFeatureDebounceService,i,!0)}),define(ne[210],oe([1,0,18,21,13,55,51,11,3,71,8,53,50,2,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class l{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(g,m){let S;typeof g=="string"?S=`${m.id}/${g}`:(S=`${m.id}/${g.name}`,m.children.get(S)!==void 0&&(S=`${m.id}/${g.name}_${g.range.startLineNumber}_${g.range.startColumn}`));let p=S;for(let C=0;m.children.get(p)!==void 0;C++)p=`${S}_${C}`;return p}static empty(g){return g.children.size===0}}e.TreeElement=l;class d extends l{constructor(g,m,S){super();this.id=g,this.parent=m,this.symbol=S,this.children=new Map}}e.OutlineElement=d;class a extends l{constructor(g,m,S,p){super();this.id=g,this.parent=m,this.label=S,this.order=p,this.children=new Map}}e.OutlineGroup=a;class o extends l{constructor(g){super();this.uri=g,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(g,m,S){const p=new f.CancellationTokenSource(S),C=new o(m.uri),_=g.ordered(m),L=_.map((I,T)=>{var P;const B=l.findId(`provider_${T}`,C),R=new a(B,C,(P=I.displayName)!==null&&P!==void 0?P:"Unknown Outline Provider",T);return Promise.resolve(I.provideDocumentSymbols(m,p.token)).then(k=>{for(const A of k||[])o._makeOutlineElement(A,R);return R},k=>((0,N.onUnexpectedExternalError)(k),R)).then(k=>{l.empty(k)?k.remove():C._groups.set(B,k)})}),E=g.onDidChange(()=>{const I=g.ordered(m);(0,y.equals)(I,_)||p.cancel()});return Promise.all(L).then(()=>p.token.isCancellationRequested&&!S.isCancellationRequested?o.create(g,m,S):C._compact()).finally(()=>{E.dispose()})}static _makeOutlineElement(g,m){const S=l.findId(g,m),p=new d(S,m,g);if(g.children)for(const C of g.children)o._makeOutlineElement(C,p);m.children.set(p.id,p)}_compact(){let g=0;for(const[m,S]of this._groups)S.children.size===0?this._groups.delete(m):g+=1;if(g!==1)this.children=this._groups;else{const m=D.Iterable.first(this._groups.values());for(const[,S]of m.children)S.parent=this,this.children.set(S.id,S)}return this}getTopLevelSymbols(){const g=[];for(const m of this.children.values())m instanceof d?g.push(m.symbol):g.push(...D.Iterable.map(m.children.values(),S=>S.symbol));return g.sort((m,S)=>v.Range.compareRangesUsingStarts(m.range,S.range))}asListOfDocumentSymbols(){const g=this.getTopLevelSymbols(),m=[];return o._flattenDocumentSymbols(m,g,""),m.sort((S,p)=>b.Position.compare(v.Range.getStartPosition(S.range),v.Range.getStartPosition(p.range))||b.Position.compare(v.Range.getEndPosition(p.range),v.Range.getEndPosition(S.range)))}static _flattenDocumentSymbols(g,m,S){for(const p of m)g.push({kind:p.kind,tags:p.tags,name:p.name,detail:p.detail,containerName:p.containerName||S,range:p.range,selectionRange:p.selectionRange,children:void 0}),p.children&&o._flattenDocumentSymbols(g,p.children,p.name)}}e.OutlineModel=o,e.IOutlineModelService=(0,h.createDecorator)("IOutlineModelService");let r=class{constructor(g,m,S){this._languageFeaturesService=g,this._disposables=new t.DisposableStore,this._cache=new w.LRUCache(10,.7),this._debounceInformation=m.for(g.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(S.onModelRemoved(p=>{this._cache.delete(p.id)}))}dispose(){this._disposables.dispose()}getOrCreate(g,m){return Le(this,void 0,void 0,function*(){const S=this._languageFeaturesService.documentSymbolProvider,p=S.ordered(g);let C=this._cache.get(g.id);if(!C||C.versionId!==g.getVersionId()||!(0,y.equals)(C.provider,p)){const L=new f.CancellationTokenSource;C={versionId:g.getVersionId(),provider:p,promiseCnt:0,source:L,promise:o.create(S,g,L.token),model:void 0},this._cache.set(g.id,C);const E=Date.now();C.promise.then(I=>{C.model=I,this._debounceInformation.update(g,Date.now()-E)}).catch(I=>{this._cache.delete(g.id)})}if(C.model)return C.model;C.promiseCnt+=1;const _=m.onCancellationRequested(()=>{--C.promiseCnt==0&&(C.source.cancel(),this._cache.delete(g.id))});try{return yield C.promise}finally{_.dispose()}})}};r=De([ge(0,s.ILanguageFeaturesService),ge(1,u.ILanguageFeatureDebounceService),ge(2,n.IModelService)],r),e.OutlineModelService=r,(0,i.registerSingleton)(e.IOutlineModelService,r,!0)}),define(ne[640],oe([1,0,21,19,22,58,210,26]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),b.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(v,...u){return Le(this,void 0,void 0,function*(){const[h]=u;(0,f.assertType)(N.URI.isUri(h));const i=v.get(w.IOutlineModelService),t=yield v.get(D.ITextModelService).createModelReference(h);try{return(yield i.getOrCreate(t.object.textEditorModel,y.CancellationToken.None)).getTopLevelSymbols()}finally{t.dispose()}})})}),define(ne[77],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=void 0,e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class f{constructor(D){this.callback=D}report(D){this._value=D,this.callback(this._value)}}e.Progress=f,f.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,y.createDecorator)("editorProgressService")}),define(ne[641],oe([1,0,10,21,2]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var D;(function(u){u[u.NO_ACTION=0]="NO_ACTION",u[u.CLOSE_PICKER=1]="CLOSE_PICKER",u[u.REFRESH_PICKER=2]="REFRESH_PICKER",u[u.REMOVE_ITEM=3]="REMOVE_ITEM"})(D=e.TriggerAction||(e.TriggerAction={}));function w(u){const h=u;return Array.isArray(h.items)}function b(u){const h=u;return!!h.picks&&h.additionalPicks instanceof Promise}class v extends N.Disposable{constructor(h,i){super();this.prefix=h,this.options=i}provide(h,i){var n;const t=new N.DisposableStore;h.canAcceptInBackground=!!((n=this.options)===null||n===void 0?void 0:n.canAcceptInBackground),h.matchOnLabel=h.matchOnDescription=h.matchOnDetail=h.sortByLabel=!1;let s;const l=t.add(new N.MutableDisposable),d=()=>Le(this,void 0,void 0,function*(){const a=l.value=new N.DisposableStore;s==null||s.dispose(!0),h.busy=!1,s=new f.CancellationTokenSource(i);const o=s.token,r=h.value.substr(this.prefix.length).trim(),c=this._getPicks(r,a,o),g=(m,S)=>{var p;let C,_;if(w(m)?(C=m.items,_=m.active):C=m,C.length===0){if(S)return!1;r.length>0&&((p=this.options)===null||p===void 0?void 0:p.noResultsPick)&&(C=[this.options.noResultsPick])}return h.items=C,_&&(h.activeItems=[_]),!0};if(c!==null)if(b(c)){let m=!1,S=!1;yield Promise.all([(()=>Le(this,void 0,void 0,function*(){yield(0,y.timeout)(v.FAST_PICKS_RACE_DELAY),!o.isCancellationRequested&&(S||(m=g(c.picks,!0)))}))(),(()=>Le(this,void 0,void 0,function*(){h.busy=!0;try{const p=yield c.additionalPicks;if(o.isCancellationRequested)return;let C,_;w(c.picks)?(C=c.picks.items,_=c.picks.active):C=c.picks;let L,E;if(w(p)?(L=p.items,E=p.active):L=p,L.length>0||!m){let I;if(!_&&!E){const T=h.activeItems[0];T&&C.indexOf(T)!==-1&&(I=T)}g({items:[...C,...L],active:_||E||I})}}finally{o.isCancellationRequested||(h.busy=!1),S=!0}}))()])}else if(!(c instanceof Promise))g(c);else{h.busy=!0;try{const m=yield c;if(o.isCancellationRequested)return;g(m)}finally{o.isCancellationRequested||(h.busy=!1)}}});return t.add(h.onDidChangeValue(()=>d())),d(),t.add(h.onDidAccept(a=>{const[o]=h.selectedItems;typeof(o==null?void 0:o.accept)=="function"&&(a.inBackground||h.hide(),o.accept(h.keyMods,a))})),t.add(h.onDidTriggerItemButton(({button:a,item:o})=>Le(this,void 0,void 0,function*(){var r,c;if(typeof o.trigger=="function"){const g=(c=(r=o.buttons)===null||r===void 0?void 0:r.indexOf(a))!==null&&c!==void 0?c:-1;if(g>=0){const m=o.trigger(g,h.keyMods),S=typeof m=="number"?m:yield m;if(i.isCancellationRequested)return;switch(S){case D.NO_ACTION:break;case D.CLOSE_PICKER:h.hide();break;case D.REFRESH_PICKER:d();break;case D.REMOVE_ITEM:{const p=h.items.indexOf(o);if(p!==-1){const C=h.items.slice(),_=C.splice(p,1),L=h.activeItems.filter(I=>I!==_[0]),E=h.keepScrollPosition;h.keepScrollPosition=!0,h.items=C,L&&(h.activeItems=L),h.keepScrollPosition=E}break}}}}}))),t}}e.PickerQuickAccessProvider=v,v.FAST_PICKS_RACE_DELAY=200});var Jt=this&&this.__createBinding||(Object.create?function(j,e,y,f){f===void 0&&(f=y);var N=Object.getOwnPropertyDescriptor(e,y);(!N||("get"in N?!e.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return e[y]}}),Object.defineProperty(j,f,N)}:function(j,e,y,f){f===void 0&&(f=y),j[f]=e[y]}),ei=this&&this.__exportStar||function(j,e){for(var y in j)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&Jt(e,j,y)};define(ne[84],oe([1,0,8,229]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,ei(f,e),e.IQuickInputService=(0,y.createDecorator)("quickInputService")}),define(ne[35],oe([1,0,221,19]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class N{constructor(){this.data=new Map}add(w,b){y.ok(f.isString(w)),y.ok(f.isObject(b)),y.ok(!this.data.has(w),"There is already an extension with this id"),this.data.set(w,b)}as(w){return this.data.get(w)||null}}e.Registry=new N}),define(ne[642],oe([1,0,121,18,10,102,178,44,17,73,19,22,604,114,617,618,209,8,45,35]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.containsDragType=e.extractFileListData=e.createDraggedEditorInputFromRawResourcesData=e.extractEditorsDropData=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};function c(L,E){var I,T;return Le(this,void 0,void 0,function*(){const P=[];if(E.dataTransfer&&E.dataTransfer.types.length>0){const B=E.dataTransfer.getData(e.CodeDataTransfers.EDITORS);if(B)try{P.push(...(0,w.parse)(B))}catch{}else try{const A=E.dataTransfer.getData(y.DataTransfers.RESOURCES);P.push(...g(A))}catch{}if((I=E.dataTransfer)===null||I===void 0?void 0:I.files)for(let A=0;A<E.dataTransfer.files.length;A++){const O=E.dataTransfer.files[A];if(O&&O.path)try{P.push({resource:i.URI.file(O.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const R=E.dataTransfer.getData(e.CodeDataTransfers.FILES);if(R)try{const A=JSON.parse(R);for(const O of A)P.push({resource:i.URI.file(O),isExternal:!0,allowWorkspaceOpen:!0})}catch{}if(v.isWeb&&C(E,y.DataTransfers.FILES)&&E.dataTransfer.items){const F=yield L.get(a.IInstantiationService).invokeFunction(W=>m(W,E));for(const W of F)P.push({resource:W.resource,contents:(T=W.contents)===null||T===void 0?void 0:T.toString(),isExternal:!0,allowWorkspaceOpen:W.isDirectory})}const k=r.Registry.as(e.Extensions.DragAndDropContribution).getAll();for(const A of k){const O=E.dataTransfer.getData(A.dataFormatKey);if(O)try{P.push(...A.getEditorInputs(O))}catch{}}}return P})}e.extractEditorsDropData=c;function g(L){const E=[];if(L){const I=JSON.parse(L);for(const T of I)if(T.indexOf(":")>0){const{selection:P,uri:B}=(0,o.extractSelection)(i.URI.parse(T));E.push({resource:B,options:{selection:P}})}}return E}e.createDraggedEditorInputFromRawResourcesData=g;function m(L,E){var I,T;return Le(this,void 0,void 0,function*(){if(l.WebFileSystemAccess.supported(window)){const B=(I=E.dataTransfer)===null||I===void 0?void 0:I.items;if(B)return S(L,B)}const P=(T=E.dataTransfer)===null||T===void 0?void 0:T.files;return P?p(L,P):[]})}function S(L,E){return Le(this,void 0,void 0,function*(){const I=L.get(d.IFileService).getProvider(b.Schemas.file);if(!(I instanceof s.HTMLFileSystemProvider))return[];const T=[];for(let P=0;P<E.length;P++){const B=E[P];if(B){const R=new N.DeferredPromise;T.push(R),(()=>Le(this,void 0,void 0,function*(){try{const k=yield B.getAsFileSystemHandle();if(!k){R.complete(void 0);return}l.WebFileSystemAccess.isFileSystemFileHandle(k)?R.complete({resource:yield I.registerFileHandle(k),isDirectory:!1}):l.WebFileSystemAccess.isFileSystemDirectoryHandle(k)?R.complete({resource:yield I.registerDirectoryHandle(k),isDirectory:!0}):R.complete(void 0)}catch{R.complete(void 0)}}))()}}return(0,f.coalesce)(yield Promise.all(T.map(P=>P.p)))})}function p(L,E){return Le(this,void 0,void 0,function*(){const I=L.get(t.IDialogService),T=[];for(let P=0;P<E.length;P++){const B=E.item(P);if(B){if(B.size>100*d.ByteSize.MB){I.show(u.default.Warning,(0,n.localize)(0,null));continue}const R=new N.DeferredPromise;T.push(R);const k=new FileReader;k.onerror=()=>R.complete(void 0),k.onabort=()=>R.complete(void 0),k.onload=A=>Le(this,void 0,void 0,function*(){var O;const F=B.name,W=(0,h.withNullAsUndefined)((O=A.target)===null||O===void 0?void 0:O.result);if(typeof F!="string"||typeof W=="undefined"){R.complete(void 0);return}R.complete({resource:i.URI.from({scheme:b.Schemas.untitled,path:F}),contents:typeof W=="string"?D.VSBuffer.fromString(W):D.VSBuffer.wrap(new Uint8Array(W))})}),k.readAsArrayBuffer(B)}}return(0,f.coalesce)(yield Promise.all(T.map(P=>P.p)))})}e.extractFileListData=p;function C(L,...E){if(!L.dataTransfer)return!1;const I=L.dataTransfer.types,T=[];for(let P=0;P<I.length;P++)T.push(I[P].toLowerCase());for(const P of E)if(T.indexOf(P.toLowerCase())>=0)return!0;return!1}e.containsDragType=C;class _{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},r.Registry.add(e.Extensions.DragAndDropContribution,new _)}),define(ne[211],oe([1,0,4,35]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function N(b){return b.length>0&&b.charAt(b.length-1)==="#"?b.substring(0,b.length-1):b}class D{constructor(){this._onDidChangeSchema=new y.Emitter,this.schemasById={}}registerSchema(v,u){this.schemasById[N(v)]=u,this._onDidChangeSchema.fire(v)}notifySchemaChanged(v){this._onDidChangeSchema.fire(v)}}const w=new D;f.Registry.add(e.Extensions.JSONContribution,w)}),define(ne[99],oe([1,0,18,4,19,601,30,211,35]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const u=v.Registry.as(b.Extensions.JSONContribution);class h{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new f.Emitter,this._onDidUpdateConfiguration=new f.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(o,r=!0){this.registerConfigurations([o],r)}registerConfigurations(o,r=!0){const c=this.doRegisterConfigurations(o,r);u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:c})}registerDefaultConfigurations(o){var r;const c=[],g=[];for(const{overrides:m,source:S}of o)for(const p in m)if(c.push(p),e.OVERRIDE_PROPERTY_REGEX.test(p)){const C=this.configurationDefaultsOverrides.get(p),_=(r=C==null?void 0:C.valuesSources)!==null&&r!==void 0?r:new Map;if(S)for(const T of Object.keys(m[p]))_.set(T,S);const L=Object.assign(Object.assign({},(C==null?void 0:C.value)||{}),m[p]);this.configurationDefaultsOverrides.set(p,{source:S,value:L,valuesSources:_});const E=(0,w.getLanguageTagSettingPlainKey)(p),I={type:"object",default:L,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:L,source:N.isString(S)?void 0:S,defaultValueSource:S};g.push(...t(p)),this.configurationProperties[p]=I,this.defaultLanguageConfigurationOverridesNode.properties[p]=I}else{this.configurationDefaultsOverrides.set(p,{value:m[p],source:S});const C=this.configurationProperties[p];C&&(this.updatePropertyDefaultValue(p,C),this.updateSchema(p,C))}this.registerOverrideIdentifiers(g),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:c,defaultsOverrides:!0})}registerOverrideIdentifiers(o){for(const r of o)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(o,r){const c=[];return o.forEach(g=>{c.push(...this.validateAndRegisterProperties(g,r,g.extensionInfo,g.restrictedProperties)),this.configurationContributors.push(g),this.registerJSONConfiguration(g)}),c}validateAndRegisterProperties(o,r=!0,c,g,m=3){var S;m=N.isUndefinedOrNull(o.scope)?m:o.scope;const p=[],C=o.properties;if(C)for(const L in C){const E=C[L];if(r&&d(L,E)){delete C[L];continue}if(E.source=c,E.defaultDefaultValue=C[L].default,this.updatePropertyDefaultValue(L,E),e.OVERRIDE_PROPERTY_REGEX.test(L)?E.scope=void 0:(E.scope=N.isUndefinedOrNull(E.scope)?m:E.scope,E.restricted=N.isUndefinedOrNull(E.restricted)?!!(g==null?void 0:g.includes(L)):E.restricted),C[L].hasOwnProperty("included")&&!C[L].included){this.excludedConfigurationProperties[L]=C[L],delete C[L];continue}else this.configurationProperties[L]=C[L],((S=C[L].policy)===null||S===void 0?void 0:S.name)&&this.policyConfigurations.set(C[L].policy.name,L);!C[L].deprecationMessage&&C[L].markdownDeprecationMessage&&(C[L].deprecationMessage=C[L].markdownDeprecationMessage),p.push(L)}const _=o.allOf;if(_)for(const L of _)p.push(...this.validateAndRegisterProperties(L,r,c,g,m));return p}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(o){const r=c=>{const g=c.properties;if(g)for(const S in g)this.updateSchema(S,g[S]);const m=c.allOf;m&&m.forEach(r)};r(o)}updateSchema(o,r){switch(e.allSettings.properties[o]=r,r.scope){case 1:e.applicationSettings.properties[o]=r;break;case 2:e.machineSettings.properties[o]=r;break;case 6:e.machineOverridableSettings.properties[o]=r;break;case 3:e.windowSettings.properties[o]=r;break;case 4:e.resourceSettings.properties[o]=r;break;case 5:e.resourceSettings.properties[o]=r,this.resourceLanguageSettingsSchema.properties[o]=r;break}}updateOverridePropertyPatternKey(){for(const o of this.overrideIdentifiers.values()){const r=`[${o}]`,c={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,c),e.allSettings.properties[r]=c,e.applicationSettings.properties[r]=c,e.machineSettings.properties[r]=c,e.machineOverridableSettings.properties[r]=c,e.windowSettings.properties[r]=c,e.resourceSettings.properties[r]=c}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const o={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=o,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=o,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=o,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=o,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=o,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=o,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(o,r){const c=this.configurationDefaultsOverrides.get(o);let g=c==null?void 0:c.value,m=c==null?void 0:c.source;N.isUndefined(g)&&(g=r.defaultDefaultValue,m=void 0),N.isUndefined(g)&&(g=s(r.type)),r.default=g,r.defaultValueSource=m}}const i="\\[([^\\]]+)\\]",n=new RegExp(i,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${i})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function t(a){const o=[];if(e.OVERRIDE_PROPERTY_REGEX.test(a)){let r=n.exec(a);for(;r==null?void 0:r.length;){const c=r[1].trim();c&&o.push(c),r=n.exec(a)}}return(0,y.distinct)(o)}e.overrideIdentifiersFromKey=t;function s(a){switch(Array.isArray(a)?a[0]:a){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=s;const l=new h;v.Registry.add(e.Extensions.Configuration,l);function d(a,o){var r,c,g,m;return a.trim()?e.OVERRIDE_PROPERTY_REGEX.test(a)?D.localize(7,null,a):l.getConfigurationProperties()[a]!==void 0?D.localize(8,null,a):((r=o.policy)===null||r===void 0?void 0:r.name)&&l.getPolicyConfigurations().get((c=o.policy)===null||c===void 0?void 0:c.name)!==void 0?D.localize(9,null,a,(g=o.policy)===null||g===void 0?void 0:g.name,l.getPolicyConfigurations().get((m=o.policy)===null||m===void 0?void 0:m.name)):null:D.localize(6,null)}e.validateProperty=d}),define(ne[290],oe([1,0,34,152,522,99,35]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:N.localize(0,null),scope:5});const b=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:f.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:N.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:f.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:N.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:f.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:N.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:f.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:N.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:f.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:N.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:N.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[N.localize(7,null),N.localize(8,null),N.localize(9,null)],description:N.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[N.localize(11,null),N.localize(12,null),N.localize(13,null)],default:"configuredByTheme",description:N.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:N.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:N.localize(16,null)},"editor.language.brackets":{type:["array","null"],default:null,description:N.localize(17,null),items:{type:"array",items:[{type:"string",description:N.localize(18,null)},{type:"string",description:N.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:N.localize(20,null),items:{type:"array",items:[{type:"string",description:N.localize(21,null)},{type:"string",description:N.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:N.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:N.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:N.localize(25,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:N.localize(26,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:N.localize(27,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:N.localize(28,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[N.localize(29,null),N.localize(30,null),N.localize(31,null)]}}});function v(s){return typeof s.type!="undefined"||typeof s.anyOf!="undefined"}for(const s of y.editorOptionsRegistry){const l=s.schema;if(typeof l!="undefined")if(v(l))b.properties[`editor.${s.name}`]=l;else for(const d in l)Object.hasOwnProperty.call(l,d)&&(b.properties[d]=l[d])}let u=null;function h(){return u===null&&(u=Object.create(null),Object.keys(b.properties).forEach(s=>{u[s]=!0})),u}function i(s){return h()[`editor.${s}`]||!1}e.isEditorConfigurationKey=i;function n(s){return h()[`diffEditor.${s}`]||!1}e.isDiffEditorConfigurationKey=n,w.Registry.as(D.Extensions.Configuration).registerConfiguration(b)}),define(ne[72],oe([1,0,530,4,35,105,99]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class b{constructor(){this._onDidChangeLanguages=new f.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(u){return this._languages.push(u),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let h=0,i=this._languages.length;h<i;h++)if(this._languages[h]===u){this._languages.splice(h,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=b,e.ModesRegistry=new b,N.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[y.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),N.Registry.as(w.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(ne[32],oe([1,0,4,2,9,131,97,110,428,433,429,432,190,8,30,38,53,72,431]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class r{constructor(k){this.languageId=k}affects(k){return this.languageId?this.languageId===k:!0}}e.LanguageConfigurationServiceChangeEvent=r,e.ILanguageConfigurationService=(0,t.createDecorator)("languageConfigurationService");let c=class extends f.Disposable{constructor(k,A){super();this.configurationService=k,this.languageService=A,this._registry=this._register(new P),this.onDidChangeEmitter=this._register(new y.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const O=new Set(Object.values(m));this._register(this.configurationService.onDidChangeConfiguration(F=>{const W=F.change.keys.some(z=>O.has(z)),M=F.change.overrides.filter(([z,G])=>G.some(te=>O.has(te))).map(([z])=>z);if(W)this.configurations.clear(),this.onDidChangeEmitter.fire(new r(void 0));else for(const z of M)this.languageService.isRegisteredLanguageId(z)&&(this.configurations.delete(z),this.onDidChangeEmitter.fire(new r(z)))})),this._register(this._registry.onDidChange(F=>{this.configurations.delete(F.languageId),this.onDidChangeEmitter.fire(new r(F.languageId))}))}register(k,A,O){return this._registry.register(k,A,O)}getLanguageConfiguration(k){let A=this.configurations.get(k);return A||(A=g(k,this._registry,this.configurationService,this.languageService),this.configurations.set(k,A)),A}};c=De([ge(0,s.IConfigurationService),ge(1,l.ILanguageService)],c),e.LanguageConfigurationService=c;function g(R,k,A,O){let F=k.getLanguageConfiguration(R);if(!F){if(!O.isRegisteredLanguageId(R))throw new Error(`Language id "${R}" is not configured nor known`);F=new B(R,{})}const W=S(F.languageId,A),M=E([F.underlyingConfig,W]);return new B(F.languageId,M)}const m={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function S(R,k){const A=k.getValue(m.brackets,{overrideIdentifier:R}),O=k.getValue(m.colorizedBracketPairs,{overrideIdentifier:R});return{brackets:p(A),colorizedBracketPairs:p(O)}}function p(R){if(!!Array.isArray(R))return R.map(k=>{if(!(!Array.isArray(k)||k.length!==2))return[k[0],k[1]]}).filter(k=>!!k)}function C(R,k,A){const O=R.getLineContent(k);let F=N.getLeadingWhitespace(O);return F.length>A-1&&(F=F.substring(0,A-1)),F}e.getIndentationAtPosition=C;function _(R,k,A){R.tokenization.forceTokenization(k);const O=R.tokenization.getLineTokens(k),F=typeof A=="undefined"?R.getLineMaxColumn(k)-1:A-1;return(0,b.createScopedLineTokens)(O,F)}e.getScopedLineTokens=_;class L{constructor(k){this.languageId=k,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(k,A){const O=new I(k,A,++this._order);return this._entries.push(O),this._resolved=null,(0,f.toDisposable)(()=>{for(let F=0;F<this._entries.length;F++)if(this._entries[F]===O){this._entries.splice(F,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const k=this._resolve();k&&(this._resolved=new B(this.languageId,k))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),E(this._entries.map(k=>k.configuration)))}}function E(R){let k={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const A of R)k={comments:A.comments||k.comments,brackets:A.brackets||k.brackets,wordPattern:A.wordPattern||k.wordPattern,indentationRules:A.indentationRules||k.indentationRules,onEnterRules:A.onEnterRules||k.onEnterRules,autoClosingPairs:A.autoClosingPairs||k.autoClosingPairs,surroundingPairs:A.surroundingPairs||k.surroundingPairs,autoCloseBefore:A.autoCloseBefore||k.autoCloseBefore,folding:A.folding||k.folding,colorizedBracketPairs:A.colorizedBracketPairs||k.colorizedBracketPairs,__electricCharacterSupport:A.__electricCharacterSupport||k.__electricCharacterSupport};return k}class I{constructor(k,A,O){this.configuration=k,this.priority=A,this.order=O}static cmp(k,A){return k.priority===A.priority?k.order-A.order:k.priority-A.priority}}class T{constructor(k){this.languageId=k}}e.LanguageConfigurationChangeEvent=T;class P extends f.Disposable{constructor(){super();this._entries=new Map,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(a.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(k,A,O=0){let F=this._entries.get(k);F||(F=new L(k),this._entries.set(k,F));const W=F.register(A,O);return this._onDidChange.fire(new T(k)),(0,f.toDisposable)(()=>{W.dispose(),this._onDidChange.fire(new T(k))})}getLanguageConfiguration(k){const A=this._entries.get(k);return(A==null?void 0:A.getResolvedConfiguration())||null}}e.LanguageConfigurationRegistry=P;class B{constructor(k,A){this.languageId=k,this.underlyingConfig=A,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i.OnEnterSupport(this.underlyingConfig):null,this.comments=B._handleComments(this.underlyingConfig),this.characterPair=new v.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new h.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new o.LanguageBracketsConfiguration(k,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new n.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new u.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(k,A,O,F){return this._onEnterSupport?this._onEnterSupport.onEnter(k,A,O,F):null}getAutoClosingPairs(){return new w.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(k){const A=k.comments;if(!A)return null;const O={};if(A.lineComment&&(O.lineCommentToken=A.lineComment),A.blockComment){const[F,W]=A.blockComment;O.blockCommentStartToken=F,O.blockCommentEndToken=W}return O}}e.ResolvedLanguageConfiguration=B,(0,d.registerSingleton)(e.ILanguageConfigurationService,c)}),define(ne[291],oe([1,0,10,2,228,343,3,32,449,50,162,9,18,70,57,13,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const a=60*1e3,o=5*60*1e3;function r(L,E){const I=L.getModel(E);return!(!I||I.isTooLargeForSyncing())}let c=class extends f.Disposable{constructor(E,I,T,P,B){super();this._modelService=E,this._workerManager=this._register(new m(this._modelService,P)),this._logService=T,this._register(B.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(R,k)=>r(this._modelService,R.uri)?this._workerManager.withWorker().then(A=>A.computeLinks(R.uri)).then(A=>A&&{links:A}):Promise.resolve({links:[]})})),this._register(B.completionProvider.register("*",new g(this._workerManager,I,this._modelService,P)))}dispose(){super.dispose()}canComputeUnicodeHighlights(E){return r(this._modelService,E)}computedUnicodeHighlights(E,I,T){return this._workerManager.withWorker().then(P=>P.computedUnicodeHighlights(E,I,T))}computeDiff(E,I,T,P){return this._workerManager.withWorker().then(B=>B.computeDiff(E,I,T,P))}computeMoreMinimalEdits(E,I){if((0,n.isNonEmptyArray)(I)){if(!r(this._modelService,E))return Promise.resolve(I);const T=s.StopWatch.create(!0),P=this._workerManager.withWorker().then(B=>B.computeMoreMinimalEdits(E,I));return P.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",E.toString(!0),T.elapsed())),Promise.race([P,(0,y.timeout)(1e3).then(()=>I)])}else return Promise.resolve(void 0)}canNavigateValueSet(E){return r(this._modelService,E)}navigateValueSet(E,I,T){return this._workerManager.withWorker().then(P=>P.navigateValueSet(E,I,T))}canComputeWordRanges(E){return r(this._modelService,E)}computeWordRanges(E,I){return this._workerManager.withWorker().then(T=>T.computeWordRanges(E,I))}};c=De([ge(0,u.IModelService),ge(1,h.ITextResourceConfigurationService),ge(2,t.ILogService),ge(3,b.ILanguageConfigurationService),ge(4,d.ILanguageFeaturesService)],c),e.EditorWorkerService=c;class g{constructor(E,I,T,P){this.languageConfigurationService=P,this._debugDisplayName="wordbasedCompletions",this._workerManager=E,this._configurationService=I,this._modelService=T}provideCompletionItems(E,I){return Le(this,void 0,void 0,function*(){const T=this._configurationService.getValue(E.uri,I,"editor");if(!T.wordBasedSuggestions)return;const P=[];if(T.wordBasedSuggestionsMode==="currentDocument")r(this._modelService,E.uri)&&P.push(E.uri);else for(const W of this._modelService.getModels())!r(this._modelService,W.uri)||(W===E?P.unshift(W.uri):(T.wordBasedSuggestionsMode==="allDocuments"||W.getLanguageId()===E.getLanguageId())&&P.push(W.uri));if(P.length===0)return;const B=this.languageConfigurationService.getLanguageConfiguration(E.getLanguageId()).getWordDefinition(),R=E.getWordAtPosition(I),k=R?new w.Range(I.lineNumber,R.startColumn,I.lineNumber,R.endColumn):w.Range.fromPositions(I),A=k.setEndPosition(I.lineNumber,I.column),F=yield(yield this._workerManager.withWorker()).textualSuggest(P,R==null?void 0:R.word,B);if(!!F)return{duration:F.duration,suggestions:F.words.map(W=>({kind:18,label:W,insertText:W,range:{insert:A,replace:k}}))}})}}class m extends f.Disposable{constructor(E,I){super();this.languageConfigurationService=I,this._modelService=E,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new y.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(o/2)),this._register(this._modelService.onModelRemoved(P=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>o&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class S extends f.Disposable{constructor(E,I,T){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=E,this._modelService=I,!T){const P=new y.IntervalTimer;P.cancelAndSet(()=>this._checkStopModelSync(),Math.round(a/2)),this._register(P)}}dispose(){for(const E in this._syncedModels)(0,f.dispose)(this._syncedModels[E]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(E,I){for(const T of E){const P=T.toString();this._syncedModels[P]||this._beginModelSync(T,I),this._syncedModels[P]&&(this._syncedModelsLastUsedTime[P]=new Date().getTime())}}_checkStopModelSync(){const E=new Date().getTime(),I=[];for(const T in this._syncedModelsLastUsedTime)E-this._syncedModelsLastUsedTime[T]>a&&I.push(T);for(const T of I)this._stopModelSync(T)}_beginModelSync(E,I){const T=this._modelService.getModel(E);if(!T||!I&&T.isTooLargeForSyncing())return;const P=E.toString();this._proxy.acceptNewModel({url:T.uri.toString(),lines:T.getLinesContent(),EOL:T.getEOL(),versionId:T.getVersionId()});const B=new f.DisposableStore;B.add(T.onDidChangeContent(R=>{this._proxy.acceptModelChanged(P.toString(),R)})),B.add(T.onWillDispose(()=>{this._stopModelSync(P)})),B.add((0,f.toDisposable)(()=>{this._proxy.acceptRemovedModel(P)})),this._syncedModels[P]=B}_stopModelSync(E){const I=this._syncedModels[E];delete this._syncedModels[E],delete this._syncedModelsLastUsedTime[E],(0,f.dispose)(I)}}class p{constructor(E){this._instance=E,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class C{constructor(E){this._workerClient=E}fhr(E,I){return this._workerClient.fhr(E,I)}}e.EditorWorkerHost=C;class _ extends f.Disposable{constructor(E,I,T,P){super();this.languageConfigurationService=P,this._disposed=!1,this._modelService=E,this._keepIdleModels=I,this._workerFactory=new D.DefaultWorkerFactory(T),this._worker=null,this._modelManager=null}fhr(E,I){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new N.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new C(this)))}catch(E){(0,N.logOnceWebWorkerWarning)(E),this._worker=new p(new v.EditorSimpleWorker(new C(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,E=>((0,N.logOnceWebWorkerWarning)(E),this._worker=new p(new v.EditorSimpleWorker(new C(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(E){return this._modelManager||(this._modelManager=this._register(new S(E,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(E,I=!1){return Le(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,l.canceled)()):this._getProxy().then(T=>(this._getOrCreateModelManager(T).ensureSyncedResources(E,I),T))})}computedUnicodeHighlights(E,I,T){return this._withSyncedResources([E]).then(P=>P.computeUnicodeHighlights(E.toString(),I,T))}computeDiff(E,I,T,P){return this._withSyncedResources([E,I],!0).then(B=>B.computeDiff(E.toString(),I.toString(),T,P))}computeMoreMinimalEdits(E,I){return this._withSyncedResources([E]).then(T=>T.computeMoreMinimalEdits(E.toString(),I))}computeLinks(E){return this._withSyncedResources([E]).then(I=>I.computeLinks(E.toString()))}textualSuggest(E,I,T){return Le(this,void 0,void 0,function*(){const P=yield this._withSyncedResources(E),B=T.source,R=(0,i.regExpFlags)(T);return P.textualSuggest(E.map(k=>k.toString()),I,B,R)})}computeWordRanges(E,I){return this._withSyncedResources([E]).then(T=>{const P=this._modelService.getModel(E);if(!P)return Promise.resolve(null);const B=this.languageConfigurationService.getLanguageConfiguration(P.getLanguageId()).getWordDefinition(),R=B.source,k=(0,i.regExpFlags)(B);return T.computeWordRanges(E.toString(),I,R,k)})}navigateValueSet(E,I,T){return this._withSyncedResources([E]).then(P=>{const B=this._modelService.getModel(E);if(!B)return null;const R=this.languageConfigurationService.getLanguageConfiguration(B.getLanguageId()).getWordDefinition(),k=R.source,A=(0,i.regExpFlags)(R);return P.navigateValueSet(E.toString(),I,T,k,A)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=_}),define(ne[643],oe([1,0,291,19]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function N(w,b,v){return new D(w,b,v)}e.createWebWorker=N;class D extends y.EditorWorkerClient{constructor(b,v,u){super(b,u.keepIdleModels||!1,u.label,v);this._foreignModuleId=u.moduleId,this._foreignModuleCreateData=u.createData||null,this._foreignModuleHost=u.host||null,this._foreignProxy=null}fhr(b,v){if(!this._foreignModuleHost||typeof this._foreignModuleHost[b]!="function")return Promise.reject(new Error("Missing method "+b+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[b].apply(this._foreignModuleHost,v))}catch(u){return Promise.reject(u)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(b=>{const v=this._foreignModuleHost?f.getAllMethodNames(this._foreignModuleHost):[];return b.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,v).then(u=>{this._foreignModuleCreateData=null;const h=(t,s)=>b.fmr(t,s),i=(t,s)=>function(){const l=Array.prototype.slice.call(arguments,0);return s(t,l)},n={};for(const t of u)n[t]=i(t,h);return n})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(b){return this._withSyncedResources(b).then(v=>this.getProxy())}}}),define(ne[212],oe([1,0,9,97,110,32]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function w(n,t,s){const l=n.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let d,a=-1;for(d=t-1;d>=1;d--){if(n.tokenization.getLanguageIdAtPosition(d,0)!==l)return a;const o=n.getLineContent(d);if(s.shouldIgnore(o)||/^\s+$/.test(o)||o===""){a=d;continue}return d}}return-1}function b(n,t,s,l=!0,d){if(n<4)return null;const a=d.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!a)return null;if(s<=1)return{indentation:"",action:null};const o=w(t,s,a);if(o<0)return null;if(o<1)return{indentation:"",action:null};const r=t.getLineContent(o);if(a.shouldIncrease(r)||a.shouldIndentNextLine(r))return{indentation:y.getLeadingWhitespace(r),action:f.IndentAction.Indent,line:o};if(a.shouldDecrease(r))return{indentation:y.getLeadingWhitespace(r),action:null,line:o};{if(o===1)return{indentation:y.getLeadingWhitespace(t.getLineContent(o)),action:null,line:o};const c=o-1,g=a.getIndentMetadata(t.getLineContent(c));if(!(g&(1|2))&&g&4){let m=0;for(let S=c-1;S>0;S--)if(!a.shouldIndentNextLine(t.getLineContent(S))){m=S;break}return{indentation:y.getLeadingWhitespace(t.getLineContent(m+1)),action:null,line:m+1}}if(l)return{indentation:y.getLeadingWhitespace(t.getLineContent(o)),action:null,line:o};for(let m=o;m>0;m--){const S=t.getLineContent(m);if(a.shouldIncrease(S))return{indentation:y.getLeadingWhitespace(S),action:f.IndentAction.Indent,line:m};if(a.shouldIndentNextLine(S)){let p=0;for(let C=m-1;C>0;C--)if(!a.shouldIndentNextLine(t.getLineContent(m))){p=C;break}return{indentation:y.getLeadingWhitespace(t.getLineContent(p+1)),action:null,line:p+1}}else if(a.shouldDecrease(S))return{indentation:y.getLeadingWhitespace(S),action:null,line:m}}return{indentation:y.getLeadingWhitespace(t.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=b;function v(n,t,s,l,d,a){if(n<4)return null;const o=a.getLanguageConfiguration(s);if(!o)return null;const r=a.getLanguageConfiguration(s).indentRulesSupport;if(!r)return null;const c=b(n,t,l,void 0,a),g=t.getLineContent(l);if(c){const m=c.line;if(m!==void 0){const S=o.onEnter(n,"",t.getLineContent(m),"");if(S){let p=y.getLeadingWhitespace(t.getLineContent(m));return S.removeText&&(p=p.substring(0,p.length-S.removeText)),S.indentAction===f.IndentAction.Indent||S.indentAction===f.IndentAction.IndentOutdent?p=d.shiftIndent(p):S.indentAction===f.IndentAction.Outdent&&(p=d.unshiftIndent(p)),r.shouldDecrease(g)&&(p=d.unshiftIndent(p)),S.appendText&&(p+=S.appendText),y.getLeadingWhitespace(p)}}return r.shouldDecrease(g)?c.action===f.IndentAction.Indent?c.indentation:d.unshiftIndent(c.indentation):c.action===f.IndentAction.Indent?d.shiftIndent(c.indentation):c.indentation}return null}e.getGoodIndentForLine=v;function u(n,t,s,l,d){if(n<4)return null;t.tokenization.forceTokenization(s.startLineNumber);const a=t.tokenization.getLineTokens(s.startLineNumber),o=(0,N.createScopedLineTokens)(a,s.startColumn-1),r=o.getLineContent();let c=!1,g;o.firstCharOffset>0&&a.getLanguageId(0)!==o.languageId?(c=!0,g=r.substr(0,s.startColumn-1-o.firstCharOffset)):g=a.getLineContent().substring(0,s.startColumn-1);let m;s.isEmpty()?m=r.substr(s.startColumn-1-o.firstCharOffset):m=(0,D.getScopedLineTokens)(t,s.endLineNumber,s.endColumn).getLineContent().substr(s.endColumn-1-o.firstCharOffset);const S=d.getLanguageConfiguration(o.languageId).indentRulesSupport;if(!S)return null;const p=g,C=y.getLeadingWhitespace(g),_={tokenization:{getLineTokens:T=>t.tokenization.getLineTokens(T),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(T,P)=>t.getLanguageIdAtPosition(T,P)},getLineContent:T=>T===s.startLineNumber?p:t.getLineContent(T)},L=y.getLeadingWhitespace(a.getLineContent()),E=b(n,_,s.startLineNumber+1,void 0,d);if(!E){const T=c?L:C;return{beforeEnter:T,afterEnter:T}}let I=c?L:E.indentation;return E.action===f.IndentAction.Indent&&(I=l.shiftIndent(I)),S.shouldDecrease(m)&&(I=l.unshiftIndent(I)),{beforeEnter:c?L:C,afterEnter:I}}e.getIndentForEnter=u;function h(n,t,s,l,d,a){if(n<4)return null;const o=(0,D.getScopedLineTokens)(t,s.startLineNumber,s.startColumn);if(o.firstCharOffset)return null;const r=a.getLanguageConfiguration(o.languageId).indentRulesSupport;if(!r)return null;const c=o.getLineContent(),g=c.substr(0,s.startColumn-1-o.firstCharOffset);let m;if(s.isEmpty()?m=c.substr(s.startColumn-1-o.firstCharOffset):m=(0,D.getScopedLineTokens)(t,s.endLineNumber,s.endColumn).getLineContent().substr(s.endColumn-1-o.firstCharOffset),!r.shouldDecrease(g+m)&&r.shouldDecrease(g+l+m)){const S=b(n,t,s.startLineNumber,!1,a);if(!S)return null;let p=S.indentation;return S.action!==f.IndentAction.Indent&&(p=d.unshiftIndent(p)),p}return null}e.getIndentActionForType=h;function i(n,t,s){const l=s.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;return!l||t<1||t>n.getLineCount()?null:l.getIndentMetadata(n.getLineContent(t))}e.getIndentMetadata=i}),define(ne[213],oe([1,0,97,32]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function N(D,w,b,v){const u=(0,f.getScopedLineTokens)(w,b.startLineNumber,b.startColumn),h=v.getLanguageConfiguration(u.languageId);if(!h)return null;const i=u.getLineContent(),n=i.substr(0,b.startColumn-1-u.firstCharOffset);let t;b.isEmpty()?t=i.substr(b.startColumn-1-u.firstCharOffset):t=(0,f.getScopedLineTokens)(w,b.endLineNumber,b.endColumn).getLineContent().substr(b.endColumn-1-u.firstCharOffset);let s="";if(b.startLineNumber>1&&u.firstCharOffset===0){const c=(0,f.getScopedLineTokens)(w,b.startLineNumber-1);c.languageId===u.languageId&&(s=c.getLineContent())}const l=h.onEnter(D,s,n,t);if(!l)return null;const d=l.indentAction;let a=l.appendText;const o=l.removeText||0;a?d===y.IndentAction.Indent&&(a="	"+a):d===y.IndentAction.Indent||d===y.IndentAction.IndentOutdent?a="	":a="";let r=(0,f.getIndentationAtPosition)(w,b.startLineNumber,b.startColumn);return o&&(r=r.substring(0,r.length-o)),{indentAction:d,appendText:a,removeText:o,indentation:r}}e.getEnterAction=N}),define(ne[214],oe([1,0,9,67,3,23,213,32]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const v=Object.create(null);function u(i,n){if(n<=0)return"";v[i]||(v[i]=["",i]);const t=v[i];for(let s=t.length;s<=n;s++)t[s]=t[s-1]+i;return t[n]}e.cachedStringRepeat=u;let h=class ii{constructor(n,t,s){this._languageConfigurationService=s,this._opts=t,this._selection=n,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(n,t,s,l,d){const a=f.CursorColumns.visibleColumnFromColumn(n,t,s);if(d){const o=u(" ",l),c=f.CursorColumns.prevIndentTabStop(a,l)/l;return u(o,c)}else{const o="	",c=f.CursorColumns.prevRenderTabStop(a,s)/s;return u(o,c)}}static shiftIndent(n,t,s,l,d){const a=f.CursorColumns.visibleColumnFromColumn(n,t,s);if(d){const o=u(" ",l),c=f.CursorColumns.nextIndentTabStop(a,l)/l;return u(o,c)}else{const o="	",c=f.CursorColumns.nextRenderTabStop(a,s)/s;return u(o,c)}}_addEditOperation(n,t,s){this._useLastEditRangeForCursorEndPosition?n.addTrackedEditOperation(t,s):n.addEditOperation(t,s)}getEditOperations(n,t){const s=this._selection.startLineNumber;let l=this._selection.endLineNumber;this._selection.endColumn===1&&s!==l&&(l=l-1);const{tabSize:d,indentSize:a,insertSpaces:o}=this._opts,r=s===l;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(n.getLineContent(s))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,g=0;for(let m=s;m<=l;m++,c=g){g=0;const S=n.getLineContent(m);let p=y.firstNonWhitespaceIndex(S);if(this._opts.isUnshift&&(S.length===0||p===0)||!r&&!this._opts.isUnshift&&S.length===0)continue;if(p===-1&&(p=S.length),m>1&&f.CursorColumns.visibleColumnFromColumn(S,p+1,d)%a!=0&&n.tokenization.isCheapToTokenize(m-1)){const L=(0,w.getEnterAction)(this._opts.autoIndent,n,new N.Range(m-1,n.getLineMaxColumn(m-1),m-1,n.getLineMaxColumn(m-1)),this._languageConfigurationService);if(L){if(g=c,L.appendText)for(let E=0,I=L.appendText.length;E<I&&g<a&&L.appendText.charCodeAt(E)===32;E++)g++;L.removeText&&(g=Math.max(0,g-L.removeText));for(let E=0;E<g&&!(p===0||S.charCodeAt(p-1)!==32);E++)p--}}if(this._opts.isUnshift&&p===0)continue;let C;this._opts.isUnshift?C=ii.unshiftIndent(S,p+1,d,a,o):C=ii.shiftIndent(S,p+1,d,a,o),this._addEditOperation(t,new N.Range(m,1,m,p+1),C),m===s&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=p+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&n.getLineLength(s)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=o?u(" ",a):"	";for(let g=s;g<=l;g++){const m=n.getLineContent(g);let S=y.firstNonWhitespaceIndex(m);if(!(this._opts.isUnshift&&(m.length===0||S===0))&&!(!r&&!this._opts.isUnshift&&m.length===0)&&(S===-1&&(S=m.length),!(this._opts.isUnshift&&S===0)))if(this._opts.isUnshift){S=Math.min(S,a);for(let p=0;p<S;p++)if(m.charCodeAt(p)===9){S=p+1;break}this._addEditOperation(t,new N.Range(g,1,g,S+1),"")}else this._addEditOperation(t,new N.Range(g,1,g,1),c),g===s&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(n,t){if(this._useLastEditRangeForCursorEndPosition){const l=t.getInverseEditOperations()[0];return new D.Selection(l.range.endLineNumber,l.range.endColumn,l.range.endLineNumber,l.range.endColumn)}const s=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const l=this._selection.startColumn;return s.startColumn<=l?s:s.getDirection()===0?new D.Selection(s.startLineNumber,l,s.endLineNumber,s.endColumn):new D.Selection(s.endLineNumber,s.endColumn,s.startLineNumber,l)}return s}};h=De([ge(2,b.ILanguageConfigurationService)],h),e.ShiftCommand=h}),define(ne[215],oe([1,0,13,9,108,214,419,62,130,3,11,97,32,110,212,213]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class d{static indent(p,C,_){if(C===null||_===null)return[];const L=[];for(let E=0,I=_.length;E<I;E++)L[E]=new D.ShiftCommand(_[E],{isUnshift:!1,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService);return L}static outdent(p,C,_){const L=[];for(let E=0,I=_.length;E<I;E++)L[E]=new D.ShiftCommand(_[E],{isUnshift:!0,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService);return L}static shiftIndent(p,C,_){return _=_||1,D.ShiftCommand.shiftIndent(C,C.length+_,p.tabSize,p.indentSize,p.insertSpaces)}static unshiftIndent(p,C,_){return _=_||1,D.ShiftCommand.unshiftIndent(C,C.length+_,p.tabSize,p.indentSize,p.insertSpaces)}static _distributedPaste(p,C,_,L){const E=[];for(let I=0,T=_.length;I<T;I++)E[I]=new N.ReplaceCommand(_[I],L[I]);return new b.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(p,C,_,L,E){const I=[];for(let T=0,P=_.length;T<P;T++){const B=_[T],R=B.getPosition();if(E&&!B.isEmpty()&&(E=!1),E&&L.indexOf(`
`)!==L.length-1&&(E=!1),E){const k=new u.Range(R.lineNumber,1,R.lineNumber,1);I[T]=new N.ReplaceCommandThatPreservesSelection(k,L,B,!0)}else I[T]=new N.ReplaceCommand(B,L)}return new b.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(p,C,_,L,E){if(L||C.length===1)return null;if(E&&E.length===C.length)return E;if(p.multiCursorPaste==="spread"){_.charCodeAt(_.length-1)===10&&(_=_.substr(0,_.length-1)),_.charCodeAt(_.length-1)===13&&(_=_.substr(0,_.length-1));const I=f.splitLines(_);if(I.length===C.length)return I}return null}static paste(p,C,_,L,E,I){const T=this._distributePasteToCursors(p,_,L,E,I);return T?(_=_.sort(u.Range.compareRangesUsingStarts),this._distributedPaste(p,C,_,T)):this._simplePaste(p,C,_,L,E)}static _goodIndentForLine(p,C,_){let L=null,E="";const I=(0,s.getInheritIndentForLine)(p.autoIndent,C,_,!1,p.languageConfigurationService);if(I)L=I.action,E=I.indentation;else if(_>1){let T;for(T=_-1;T>=1;T--){const R=C.getLineContent(T);if(f.lastNonWhitespaceIndex(R)>=0)break}if(T<1)return null;const P=C.getLineMaxColumn(T),B=(0,l.getEnterAction)(p.autoIndent,C,new u.Range(T,P,T,P),p.languageConfigurationService);B&&(E=B.indentation+B.appendText)}return L&&(L===i.IndentAction.Indent&&(E=d.shiftIndent(p,E)),L===i.IndentAction.Outdent&&(E=d.unshiftIndent(p,E)),E=p.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(p,C,_,L){let E="";const I=_.getStartPosition();if(p.insertSpaces){const T=p.visibleColumnFromColumn(C,I),P=p.indentSize,B=P-T%P;for(let R=0;R<B;R++)E+=" "}else E="	";return new N.ReplaceCommand(_,E,L)}static tab(p,C,_){const L=[];for(let E=0,I=_.length;E<I;E++){const T=_[E];if(T.isEmpty()){const P=C.getLineContent(T.startLineNumber);if(/^\s*$/.test(P)&&C.tokenization.isCheapToTokenize(T.startLineNumber)){let B=this._goodIndentForLine(p,C,T.startLineNumber);B=B||"	";const R=p.normalizeIndentation(B);if(!P.startsWith(R)){L[E]=new N.ReplaceCommand(new u.Range(T.startLineNumber,1,T.startLineNumber,P.length+1),R,!0);continue}}L[E]=this._replaceJumpToNextIndent(p,C,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const P=C.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==P){L[E]=this._replaceJumpToNextIndent(p,C,T,!1);continue}}L[E]=new D.ShiftCommand(T,{isUnshift:!1,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService)}}return L}static compositionType(p,C,_,L,E,I,T,P){const B=L.map(R=>this._compositionType(_,R,E,I,T,P));return new b.EditOperationResult(4,B,{shouldPushStackElementBefore:c(p,4),shouldPushStackElementAfter:!1})}static _compositionType(p,C,_,L,E,I){if(!C.isEmpty())return null;const T=C.getPosition(),P=Math.max(1,T.column-L),B=Math.min(p.getLineMaxColumn(T.lineNumber),T.column+E),R=new u.Range(T.lineNumber,P,T.lineNumber,B);return p.getValueInRange(R)===_&&I===0?null:new N.ReplaceCommandWithOffsetCursorState(R,_,0,I)}static _typeCommand(p,C,_){return _?new N.ReplaceCommandWithoutChangingPosition(p,C,!0):new N.ReplaceCommand(p,C,!0)}static _enter(p,C,_,L){if(p.autoIndent===0)return d._typeCommand(L,`
`,_);if(!C.tokenization.isCheapToTokenize(L.getStartPosition().lineNumber)||p.autoIndent===1){const P=C.getLineContent(L.startLineNumber),B=f.getLeadingWhitespace(P).substring(0,L.startColumn-1);return d._typeCommand(L,`
`+p.normalizeIndentation(B),_)}const E=(0,l.getEnterAction)(p.autoIndent,C,L,p.languageConfigurationService);if(E){if(E.indentAction===i.IndentAction.None)return d._typeCommand(L,`
`+p.normalizeIndentation(E.indentation+E.appendText),_);if(E.indentAction===i.IndentAction.Indent)return d._typeCommand(L,`
`+p.normalizeIndentation(E.indentation+E.appendText),_);if(E.indentAction===i.IndentAction.IndentOutdent){const P=p.normalizeIndentation(E.indentation),B=p.normalizeIndentation(E.indentation+E.appendText),R=`
`+B+`
`+P;return _?new N.ReplaceCommandWithoutChangingPosition(L,R,!0):new N.ReplaceCommandWithOffsetCursorState(L,R,-1,B.length-P.length,!0)}else if(E.indentAction===i.IndentAction.Outdent){const P=d.unshiftIndent(p,E.indentation);return d._typeCommand(L,`
`+p.normalizeIndentation(P+E.appendText),_)}}const I=C.getLineContent(L.startLineNumber),T=f.getLeadingWhitespace(I).substring(0,L.startColumn-1);if(p.autoIndent>=4){const P=(0,s.getIndentForEnter)(p.autoIndent,C,L,{unshiftIndent:B=>d.unshiftIndent(p,B),shiftIndent:B=>d.shiftIndent(p,B),normalizeIndentation:B=>p.normalizeIndentation(B)},p.languageConfigurationService);if(P){let B=p.visibleColumnFromColumn(C,L.getEndPosition());const R=L.endColumn,k=C.getLineContent(L.endLineNumber),A=f.firstNonWhitespaceIndex(k);if(A>=0?L=L.setEndPosition(L.endLineNumber,Math.max(L.endColumn,A+1)):L=L.setEndPosition(L.endLineNumber,C.getLineMaxColumn(L.endLineNumber)),_)return new N.ReplaceCommandWithoutChangingPosition(L,`
`+p.normalizeIndentation(P.afterEnter),!0);{let O=0;return R<=A+1&&(p.insertSpaces||(B=Math.ceil(B/p.indentSize)),O=Math.min(B+1-p.normalizeIndentation(P.afterEnter).length-1,0)),new N.ReplaceCommandWithOffsetCursorState(L,`
`+p.normalizeIndentation(P.afterEnter),0,O,!0)}}}return d._typeCommand(L,`
`+p.normalizeIndentation(T),_)}static _isAutoIndentType(p,C,_){if(p.autoIndent<4)return!1;for(let L=0,E=_.length;L<E;L++)if(!C.tokenization.isCheapToTokenize(_[L].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(p,C,_,L){const E=(0,n.getIndentationAtPosition)(C,_.startLineNumber,_.startColumn),I=(0,s.getIndentActionForType)(p.autoIndent,C,_,L,{shiftIndent:T=>d.shiftIndent(p,T),unshiftIndent:T=>d.unshiftIndent(p,T)},p.languageConfigurationService);if(I===null)return null;if(I!==p.normalizeIndentation(E)){const T=C.getLineFirstNonWhitespaceColumn(_.startLineNumber);return T===0?d._typeCommand(new u.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),p.normalizeIndentation(I)+L,!1):d._typeCommand(new u.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),p.normalizeIndentation(I)+C.getLineContent(_.startLineNumber).substring(T-1,_.startColumn-1)+L,!1)}return null}static _isAutoClosingOvertype(p,C,_,L,E){if(p.autoClosingOvertype==="never"||!p.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let I=0,T=_.length;I<T;I++){const P=_[I];if(!P.isEmpty())return!1;const B=P.getPosition(),R=C.getLineContent(B.lineNumber);if(R.charAt(B.column-1)!==E)return!1;const A=(0,b.isQuote)(E);if((B.column>2?R.charCodeAt(B.column-2):0)===92&&A)return!1;if(p.autoClosingOvertype==="auto"){let F=!1;for(let W=0,M=L.length;W<M;W++){const z=L[W];if(B.lineNumber===z.startLineNumber&&B.column===z.startColumn){F=!0;break}}if(!F)return!1}}return!0}static _runAutoClosingOvertype(p,C,_,L,E){const I=[];for(let T=0,P=L.length;T<P;T++){const R=L[T].getPosition(),k=new u.Range(R.lineNumber,R.column,R.lineNumber,R.column+1);I[T]=new N.ReplaceCommand(k,E)}return new b.EditOperationResult(4,I,{shouldPushStackElementBefore:c(p,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(p,C){const _=C.charAt(0),L=p.autoClosingPairs.autoClosingPairsOpenByStart.get(_)||[],E=p.autoClosingPairs.autoClosingPairsCloseByStart.get(_)||[],I=L.some(P=>C.startsWith(P.open)),T=E.some(P=>C.startsWith(P.close));return!I&&T}static _findAutoClosingPairOpen(p,C,_,L){const E=p.autoClosingPairs.autoClosingPairsOpenByEnd.get(L);if(!E)return null;let I=null;for(const T of E)if(I===null||T.open.length>I.open.length){let P=!0;for(const B of _)if(C.getValueInRange(new u.Range(B.lineNumber,B.column-T.open.length+1,B.lineNumber,B.column))+L!==T.open){P=!1;break}P&&(I=T)}return I}static _findContainedAutoClosingPair(p,C){if(C.open.length<=1)return null;const _=C.close.charAt(C.close.length-1),L=p.autoClosingPairs.autoClosingPairsCloseByEnd.get(_)||[];let E=null;for(const I of L)I.open!==C.open&&C.open.includes(I.open)&&C.close.endsWith(I.close)&&(!E||I.open.length>E.open.length)&&(E=I);return E}static _getAutoClosingPairClose(p,C,_,L,E){const I=(0,b.isQuote)(L),T=I?p.autoClosingQuotes:p.autoClosingBrackets,P=I?p.shouldAutoCloseBefore.quote:p.shouldAutoCloseBefore.bracket;if(T==="never")return null;for(const F of _)if(!F.isEmpty())return null;const B=_.map(F=>{const W=F.getPosition();return E?{lineNumber:W.lineNumber,beforeColumn:W.column-L.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),R=this._findAutoClosingPairOpen(p,C,B.map(F=>new h.Position(F.lineNumber,F.beforeColumn)),L);if(!R)return null;const k=this._findContainedAutoClosingPair(p,R),A=k?k.close:"";let O=!0;for(const F of B){const{lineNumber:W,beforeColumn:M,afterColumn:z}=F,G=C.getLineContent(W),te=G.substring(0,M-1),X=G.substring(z-1);if(X.startsWith(A)||(O=!1),X.length>0){const Z=X.charAt(0);if(!d._isBeforeClosingBrace(p,X)&&!P(Z))return null}if(R.open.length===1&&(L==="'"||L==='"')&&T!=="always"){const Z=(0,v.getMapForWordSeparators)(p.wordSeparators);if(te.length>0){const x=te.charCodeAt(te.length-1);if(Z.get(x)===0)return null}}if(!C.tokenization.isCheapToTokenize(W))return null;C.tokenization.forceTokenization(W);const J=C.tokenization.getLineTokens(W),ie=(0,t.createScopedLineTokens)(J,M-1);if(!R.shouldAutoClose(ie,M-ie.firstCharOffset))return null;const re=R.findNeutralCharacter();if(re){const Z=C.tokenization.getTokenTypeIfInsertingCharacter(W,M,re);if(!R.isOK(Z))return null}}return O?R.close.substring(0,R.close.length-A.length):R.close}static _runAutoClosingOpenCharType(p,C,_,L,E,I,T){const P=[];for(let B=0,R=L.length;B<R;B++){const k=L[B];P[B]=new a(k,E,!I,T)}return new b.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(p,C){return(0,b.isQuote)(C)?p.autoSurround==="quotes"||p.autoSurround==="languageDefined":p.autoSurround==="brackets"||p.autoSurround==="languageDefined"}static _isSurroundSelectionType(p,C,_,L){if(!d._shouldSurroundChar(p,L)||!p.surroundingPairs.hasOwnProperty(L))return!1;const E=(0,b.isQuote)(L);for(const I of _){if(I.isEmpty())return!1;let T=!0;for(let P=I.startLineNumber;P<=I.endLineNumber;P++){const B=C.getLineContent(P),R=P===I.startLineNumber?I.startColumn-1:0,k=P===I.endLineNumber?I.endColumn-1:B.length,A=B.substring(R,k);if(/[^ \t]/.test(A)){T=!1;break}}if(T)return!1;if(E&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const P=C.getValueInRange(I);if((0,b.isQuote)(P))return!1}}return!0}static _runSurroundSelectionType(p,C,_,L,E){const I=[];for(let T=0,P=L.length;T<P;T++){const B=L[T],R=C.surroundingPairs[E];I[T]=new w.SurroundSelectionCommand(B,E,R)}return new b.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(p,C,_){return!!(_.length===1&&C.tokenization.isCheapToTokenize(_[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(p,C,_,L,E){if(!C.electricChars.hasOwnProperty(E)||!L.isEmpty())return null;const I=L.getPosition();_.tokenization.forceTokenization(I.lineNumber);const T=_.tokenization.getLineTokens(I.lineNumber);let P;try{P=C.onElectricCharacter(E,T,I.column)}catch(B){return(0,y.onUnexpectedError)(B),null}if(!P)return null;if(P.matchOpenBracket){const B=(T.getLineContent()+E).lastIndexOf(P.matchOpenBracket)+1,R=_.bracketPairs.findMatchingBracketUp(P.matchOpenBracket,{lineNumber:I.lineNumber,column:B},500);if(R){if(R.startLineNumber===I.lineNumber)return null;const k=_.getLineContent(R.startLineNumber),A=f.getLeadingWhitespace(k),O=C.normalizeIndentation(A),F=_.getLineContent(I.lineNumber),W=_.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,M=F.substring(W-1,I.column-1),z=O+M+E,G=new u.Range(I.lineNumber,1,I.lineNumber,I.column),te=new N.ReplaceCommand(G,z);return new b.EditOperationResult(r(z,p),[te],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(p,C,_,L,E,I){if(!L)return null;let T=null;for(const k of L)if(T===null)T=k.insertedText;else if(T!==k.insertedText)return null;if(!T||T.length!==1)return null;const P=T;let B=!1;for(const k of L)if(k.deletedText.length!==0){B=!0;break}if(B){if(!d._shouldSurroundChar(C,P)||!C.surroundingPairs.hasOwnProperty(P))return null;const k=(0,b.isQuote)(P);for(const F of L)if(F.deletedSelectionStart!==0||F.deletedSelectionEnd!==F.deletedText.length||/^[ \t]+$/.test(F.deletedText)||k&&(0,b.isQuote)(F.deletedText))return null;const A=[];for(const F of E){if(!F.isEmpty())return null;A.push(F.getPosition())}if(A.length!==L.length)return null;const O=[];for(let F=0,W=A.length;F<W;F++)O.push(new w.CompositionSurroundSelectionCommand(A[F],L[F].deletedText,P));return new b.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(C,_,E,I,P)){const k=E.map(A=>new N.ReplaceCommand(new u.Range(A.positionLineNumber,A.positionColumn,A.positionLineNumber,A.positionColumn+1),"",!1));return new b.EditOperationResult(4,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const R=this._getAutoClosingPairClose(C,_,E,P,!0);return R!==null?this._runAutoClosingOpenCharType(p,C,_,E,P,!0,R):null}static typeWithInterceptors(p,C,_,L,E,I,T){if(!p&&T===`
`){const R=[];for(let k=0,A=E.length;k<A;k++)R[k]=d._enter(_,L,!1,E[k]);return new b.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!p&&this._isAutoIndentType(_,L,E)){const R=[];let k=!1;for(let A=0,O=E.length;A<O;A++)if(R[A]=this._runAutoIndentType(_,L,E[A],T),!R[A]){k=!0;break}if(!k)return new b.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(_,L,E,I,T))return this._runAutoClosingOvertype(C,_,L,E,T);if(!p){const R=this._getAutoClosingPairClose(_,L,E,T,!1);if(R)return this._runAutoClosingOpenCharType(C,_,L,E,T,!1,R)}if(!p&&this._isSurroundSelectionType(_,L,E,T))return this._runSurroundSelectionType(C,_,L,E,T);if(!p&&this._isTypeInterceptorElectricChar(_,L,E)){const R=this._typeInterceptorElectricChar(C,_,L,E[0],T);if(R)return R}const P=[];for(let R=0,k=E.length;R<k;R++)P[R]=new N.ReplaceCommand(E[R],T);const B=r(T,C);return new b.EditOperationResult(B,P,{shouldPushStackElementBefore:c(C,B),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(p,C,_,L,E){const I=[];for(let P=0,B=L.length;P<B;P++)I[P]=new N.ReplaceCommand(L[P],E);const T=r(E,p);return new b.EditOperationResult(T,I,{shouldPushStackElementBefore:c(p,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(p,C,_){if(C===null||_===null)return[];const L=[];for(let E=0,I=_.length;E<I;E++){let T=_[E].positionLineNumber;if(T===1)L[E]=new N.ReplaceCommandWithoutChangingPosition(new u.Range(1,1,1,1),`
`);else{T--;const P=C.getLineMaxColumn(T);L[E]=this._enter(p,C,!1,new u.Range(T,P,T,P))}}return L}static lineInsertAfter(p,C,_){if(C===null||_===null)return[];const L=[];for(let E=0,I=_.length;E<I;E++){const T=_[E].positionLineNumber,P=C.getLineMaxColumn(T);L[E]=this._enter(p,C,!1,new u.Range(T,P,T,P))}return L}static lineBreakInsert(p,C,_){const L=[];for(let E=0,I=_.length;E<I;E++)L[E]=this._enter(p,C,!0,_[E]);return L}}e.TypeOperations=d;class a extends N.ReplaceCommandWithOffsetCursorState{constructor(p,C,_,L){super(p,(_?C:"")+L,0,-L.length);this._openCharacter=C,this._closeCharacter=L,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(p,C){const L=C.getInverseEditOperations()[0].range;return this.closeCharacterRange=new u.Range(L.startLineNumber,L.endColumn-this._closeCharacter.length,L.endLineNumber,L.endColumn),this.enclosingRange=new u.Range(L.startLineNumber,L.endColumn-this._openCharacter.length-this._closeCharacter.length,L.endLineNumber,L.endColumn),super.computeCursorState(p,C)}}e.TypeWithAutoClosingCommand=a;class o{constructor(p,C,_,L,E,I){this.deletedText=p,this.deletedSelectionStart=C,this.deletedSelectionEnd=_,this.insertedText=L,this.insertedSelectionStart=E,this.insertedSelectionEnd=I}}e.CompositionOutcome=o;function r(S,p){return S===" "?p===5||p===6?6:5:4}function c(S,p){return m(S)&&!m(p)?!0:S===5?!1:g(S)!==g(p)}function g(S){return S===6||S===5?"space":S}function m(S){return S===4||S===5||S===6}}),define(ne[292],oe([1,0,13,9,427,62,420,188,215,3,23,98,195,2,196]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class l extends t.Disposable{constructor(m,S,p,C){super();this._model=m,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=S,this._coordinatesConverter=p,this.context=new w.CursorContext(this._model,this._viewModel,this._coordinatesConverter,C),this._cursors=new N.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,t.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(m){this.context=new w.CursorContext(this._model,this._viewModel,this._coordinatesConverter,m),this._cursors.updateContext(this.context)}onLineMappingChanged(m){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(m,"viewModel",0,this.getCursorStates())}setHasFocus(m){this._hasFocus=m}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const m=this._cursors.getSelections();for(let S=0;S<this._autoClosedActions.length;S++){const p=this._autoClosedActions[S];p.isValid(m)||(p.dispose(),this._autoClosedActions.splice(S,1),S--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(m,S,p,C){let _=!1;C!==null&&C.length>l.MAX_CURSOR_COUNT&&(C=C.slice(0,l.MAX_CURSOR_COUNT),_=!0);const L=d.from(this._model,this);return this._cursors.setStates(C),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(m,S,p,L,_)}setCursorColumnSelectData(m){this._columnSelectData=m}revealPrimary(m,S,p,C,_,L){const E=this._cursors.getViewPositions();let I=null,T=null;E.length>1?T=this._cursors.getViewSelections():I=u.Range.fromPositions(E[0],E[0]),m.emitViewEvent(new n.ViewRevealRangeRequestEvent(S,p,I,T,C,_,L))}saveState(){const m=[],S=this._cursors.getSelections();for(let p=0,C=S.length;p<C;p++){const _=S[p];m.push({inSelectionMode:!_.isEmpty(),selectionStart:{lineNumber:_.selectionStartLineNumber,column:_.selectionStartColumn},position:{lineNumber:_.positionLineNumber,column:_.positionColumn}})}return m}restoreState(m,S){const p=[];for(let C=0,_=S.length;C<_;C++){const L=S[C];let E=1,I=1;L.position&&L.position.lineNumber&&(E=L.position.lineNumber),L.position&&L.position.column&&(I=L.position.column);let T=E,P=I;L.selectionStart&&L.selectionStart.lineNumber&&(T=L.selectionStart.lineNumber),L.selectionStart&&L.selectionStart.column&&(P=L.selectionStart.column),p.push({selectionStartLineNumber:T,selectionStartColumn:P,positionLineNumber:E,positionColumn:I})}this.setStates(m,"restoreState",0,D.CursorState.fromModelSelections(p)),this.revealPrimary(m,"restoreState",!1,0,!0,1)}onModelContentChanged(m,S){if(S instanceof i.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(m,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const p=S.rawContentChangedEvent;if(this._knownModelVersionId=p.versionId,this._isHandling)return;const C=p.containsEvent(1);if(this._prevEditOperationType=0,C)this._cursors.dispose(),this._cursors=new N.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(m,"model",1,null,!1);else if(this._hasFocus&&p.resultingSelection&&p.resultingSelection.length>0){const _=D.CursorState.fromModelSelections(p.resultingSelection);this.setStates(m,"modelChange",p.isUndoing?5:p.isRedoing?6:2,_)&&this.revealPrimary(m,"modelChange",!1,0,!0,0)}else{const _=this._cursors.readSelectionFromMarkers();this.setStates(m,"modelChange",2,D.CursorState.fromModelSelections(_))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const m=this._cursors.getPrimaryCursor(),S=m.viewState.selectionStart.getStartPosition(),p=m.viewState.position;return{isReal:!1,fromViewLineNumber:S.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,S),toViewLineNumber:p.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,p)}}getSelections(){return this._cursors.getSelections()}setSelections(m,S,p,C){this.setStates(m,S,C,D.CursorState.fromModelSelections(p))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(m){this._prevEditOperationType=m}_pushAutoClosedAction(m,S){const p=[],C=[];for(let E=0,I=m.length;E<I;E++)p.push({range:m[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),C.push({range:S[E],options:{description:"auto-closed-enclosing",stickiness:1}});const _=this._model.deltaDecorations([],p),L=this._model.deltaDecorations([],C);this._autoClosedActions.push(new a(this._model,_,L))}_executeEditOperation(m){if(!m)return;m.shouldPushStackElementBefore&&this._model.pushStackElement();const S=o.executeCommands(this._model,this._cursors.getSelections(),m.commands);if(S){this._interpretCommandResult(S);const p=[],C=[];for(let _=0;_<m.commands.length;_++){const L=m.commands[_];L instanceof v.TypeWithAutoClosingCommand&&L.enclosingRange&&L.closeCharacterRange&&(p.push(L.closeCharacterRange),C.push(L.enclosingRange))}p.length>0&&this._pushAutoClosedAction(p,C),this._prevEditOperationType=m.type}m.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(m){(!m||m.length===0)&&(m=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(m),this._cursors.normalize()}_emitStateChangedIfNecessary(m,S,p,C,_){const L=d.from(this._model,this);if(L.equals(C))return!1;const E=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(m.emitViewEvent(new n.ViewCursorStateChangedEvent(I,E)),!C||C.cursorState.length!==L.cursorState.length||L.cursorState.some((T,P)=>!T.modelState.equals(C.cursorState[P].modelState))){const T=C?C.cursorState.map(B=>B.modelState.selection):null,P=C?C.modelVersionId:0;m.emitOutgoingEvent(new s.CursorStateChangedEvent(T,E,P,L.modelVersionId,S||"keyboard",p,_))}return!0}_findAutoClosingPairs(m){if(!m.length)return null;const S=[];for(let p=0,C=m.length;p<C;p++){const _=m[p];if(!_.text||_.text.indexOf(`
`)>=0)return null;const L=_.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!L)return null;const E=L[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!I||I.length!==1)return null;const T=I[0].open,P=_.text.length-L[2].length-1,B=_.text.lastIndexOf(T,P-1);if(B===-1)return null;S.push([B,P])}return S}executeEdits(m,S,p,C){let _=null;S==="snippet"&&(_=this._findAutoClosingPairs(p)),_&&(p[0]._isTracked=!0);const L=[],E=[],I=this._model.pushEditOperations(this.getSelections(),p,T=>{if(_)for(let B=0,R=_.length;B<R;B++){const[k,A]=_[B],O=T[B],F=O.range.startLineNumber,W=O.range.startColumn-1+k,M=O.range.startColumn-1+A;L.push(new u.Range(F,M+1,F,M+2)),E.push(new u.Range(F,W+1,F,M+2))}const P=C(T);return P&&(this._isHandling=!0),P});I&&(this._isHandling=!1,this.setSelections(m,S,I,0)),L.length>0&&this._pushAutoClosedAction(L,E)}_executeEdit(m,S,p,C=0){if(this.context.cursorConfig.readOnly)return;const _=d.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),m()}catch(L){(0,y.onUnexpectedError)(L)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(S,p,C,_,!1)&&this.revealPrimary(S,p,!1,0,!0,0)}getAutoClosedCharacters(){return a.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(m){this._compositionState=new c(this._model,this.getSelections())}endComposition(m,S){const p=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{S==="keyboard"&&this._executeEditOperation(v.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,p,this.getSelections(),this.getAutoClosedCharacters()))},m,S)}type(m,S,p){this._executeEdit(()=>{if(p==="keyboard"){const C=S.length;let _=0;for(;_<C;){const L=f.nextCharLength(S,_),E=S.substr(_,L);this._executeEditOperation(v.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),_+=L}}else this._executeEditOperation(v.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),S))},m,p)}compositionType(m,S,p,C,_,L){if(S.length===0&&p===0&&C===0){if(_!==0){const E=this.getSelections().map(I=>{const T=I.getPosition();return new h.Selection(T.lineNumber,T.column+_,T.lineNumber,T.column+_)});this.setSelections(m,L,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(v.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),S,p,C,_))},m,L)}paste(m,S,p,C,_){this._executeEdit(()=>{this._executeEditOperation(v.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),S,p,C||[]))},m,_,4)}cut(m,S){this._executeEdit(()=>{this._executeEditOperation(b.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},m,S)}executeCommand(m,S,p){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[S],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},m,p)}executeCommands(m,S,p){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,S,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},m,p)}}e.CursorsController=l,l.MAX_CURSOR_COUNT=1e4;class d{constructor(m,S){this.modelVersionId=m,this.cursorState=S}static from(m,S){return new d(m.getVersionId(),S.getCursorStates())}equals(m){if(!m||this.modelVersionId!==m.modelVersionId||this.cursorState.length!==m.cursorState.length)return!1;for(let S=0,p=this.cursorState.length;S<p;S++)if(!this.cursorState[S].equals(m.cursorState[S]))return!1;return!0}}class a{constructor(m,S,p){this._model=m,this._autoClosedCharactersDecorations=S,this._autoClosedEnclosingDecorations=p}static getAllAutoClosedCharacters(m){let S=[];for(const p of m)S=S.concat(p.getAutoClosedCharactersRanges());return S}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const m=[];for(let S=0;S<this._autoClosedCharactersDecorations.length;S++){const p=this._model.getDecorationRange(this._autoClosedCharactersDecorations[S]);p&&m.push(p)}return m}isValid(m){const S=[];for(let p=0;p<this._autoClosedEnclosingDecorations.length;p++){const C=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[p]);if(C&&(S.push(C),C.startLineNumber!==C.endLineNumber))return!1}S.sort(u.Range.compareRangesUsingStarts),m.sort(u.Range.compareRangesUsingStarts);for(let p=0;p<m.length;p++)if(p>=S.length||!S[p].strictContainsRange(m[p]))return!1;return!0}}class o{static executeCommands(m,S,p){const C={model:m,selectionsBefore:S,trackedRanges:[],trackedRangesDirection:[]},_=this._innerExecuteCommands(C,p);for(let L=0,E=C.trackedRanges.length;L<E;L++)C.model._setTrackedRange(C.trackedRanges[L],null,0);return _}static _innerExecuteCommands(m,S){if(this._arrayIsEmpty(S))return null;const p=this._getEditOperations(m,S);if(p.operations.length===0)return null;const C=p.operations,_=this._getLoserCursorMap(C);if(_.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const L=[];for(let T=0,P=C.length;T<P;T++)_.hasOwnProperty(C[T].identifier.major.toString())||L.push(C[T]);p.hadTrackedEditOperation&&L.length>0&&(L[0]._isTracked=!0);let E=m.model.pushEditOperations(m.selectionsBefore,L,T=>{const P=[];for(let k=0;k<m.selectionsBefore.length;k++)P[k]=[];for(const k of T)!k.identifier||P[k.identifier.major].push(k);const B=(k,A)=>k.identifier.minor-A.identifier.minor,R=[];for(let k=0;k<m.selectionsBefore.length;k++)P[k].length>0?(P[k].sort(B),R[k]=S[k].computeCursorState(m.model,{getInverseEditOperations:()=>P[k],getTrackedSelection:A=>{const O=parseInt(A,10),F=m.model._getTrackedRange(m.trackedRanges[O]);return m.trackedRangesDirection[O]===0?new h.Selection(F.startLineNumber,F.startColumn,F.endLineNumber,F.endColumn):new h.Selection(F.endLineNumber,F.endColumn,F.startLineNumber,F.startColumn)}})):R[k]=m.selectionsBefore[k];return R});E||(E=m.selectionsBefore);const I=[];for(const T in _)_.hasOwnProperty(T)&&I.push(parseInt(T,10));I.sort((T,P)=>P-T);for(const T of I)E.splice(T,1);return E}static _arrayIsEmpty(m){for(let S=0,p=m.length;S<p;S++)if(m[S])return!1;return!0}static _getEditOperations(m,S){let p=[],C=!1;for(let _=0,L=S.length;_<L;_++){const E=S[_];if(E){const I=this._getEditOperationsFromCommand(m,_,E);p=p.concat(I.operations),C=C||I.hadTrackedEditOperation}}return{operations:p,hadTrackedEditOperation:C}}static _getEditOperationsFromCommand(m,S,p){const C=[];let _=0;const L=(B,R,k=!1)=>{u.Range.isEmpty(B)&&R===""||C.push({identifier:{major:S,minor:_++},range:B,text:R,forceMoveMarkers:k,isAutoWhitespaceEdit:p.insertsAutoWhitespace})};let E=!1;const P={addEditOperation:L,addTrackedEditOperation:(B,R,k)=>{E=!0,L(B,R,k)},trackSelection:(B,R)=>{const k=h.Selection.liftSelection(B);let A;if(k.isEmpty())if(typeof R=="boolean")R?A=2:A=3;else{const W=m.model.getLineMaxColumn(k.startLineNumber);k.startColumn===W?A=2:A=3}else A=1;const O=m.trackedRanges.length,F=m.model._setTrackedRange(null,k,A);return m.trackedRanges[O]=F,m.trackedRangesDirection[O]=k.getDirection(),O.toString()}};try{p.getEditOperations(m.model,P)}catch(B){return(0,y.onUnexpectedError)(B),{operations:[],hadTrackedEditOperation:!1}}return{operations:C,hadTrackedEditOperation:E}}static _getLoserCursorMap(m){m=m.slice(0),m.sort((p,C)=>-u.Range.compareRangesUsingEnds(p.range,C.range));const S={};for(let p=1;p<m.length;p++){const C=m[p-1],_=m[p];if(u.Range.getStartPosition(C.range).isBefore(u.Range.getEndPosition(_.range))){let L;C.identifier.major>_.identifier.major?L=C.identifier.major:L=_.identifier.major,S[L.toString()]=!0;for(let E=0;E<m.length;E++)m[E].identifier.major===L&&(m.splice(E,1),E<p&&p--,E--);p>0&&p--}}return S}}class r{constructor(m,S,p){this.text=m,this.startSelection=S,this.endSelection=p}}class c{constructor(m,S){this._original=c._capture(m,S)}static _capture(m,S){const p=[];for(const C of S){if(C.startLineNumber!==C.endLineNumber)return null;p.push(new r(m.getLineContent(C.startLineNumber),C.startColumn-1,C.endColumn-1))}return p}deduceOutcome(m,S){if(!this._original)return null;const p=c._capture(m,S);if(!p||this._original.length!==p.length)return null;const C=[];for(let _=0,L=this._original.length;_<L;_++)C.push(c._deduceOutcome(this._original[_],p[_]));return C}static _deduceOutcome(m,S){const p=Math.min(m.startSelection,S.startSelection,f.commonPrefixLength(m.text,S.text)),C=Math.min(m.text.length-m.endSelection,S.text.length-S.endSelection,f.commonSuffixLength(m.text,S.text)),_=m.text.substring(p,m.text.length-C),L=S.text.substring(p,S.text.length-C);return new v.CompositionOutcome(_,m.startSelection-p,m.endSelection-p,L,S.startSelection-p,S.endSelection-p)}}}),define(ne[644],oe([1,0,44,42,72,209]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;const w=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function b(h,i,n,t){const s=t===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:t===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(n){let l;if(n.scheme===y.Schemas.data)l=f.DataUri.parseMetaData(n).get(f.DataUri.META_DATA_LABEL);else{const d=n.path.match(w);d?(l=u(d[2].toLowerCase()),d[1]&&s.push(`${u(d[1].toLowerCase())}-name-dir-icon`)):l=u(n.authority.toLowerCase())}if(t===D.FileKind.FOLDER)s.push(`${l}-name-folder-icon`);else{if(l){if(s.push(`${l}-name-file-icon`),s.push("name-file-icon"),l.length<=255){const a=l.split(".");for(let o=1;o<a.length;o++)s.push(`${a.slice(o).join(".")}-ext-file-icon`)}s.push("ext-file-icon")}const d=v(h,i,n);d&&s.push(`${u(d)}-lang-file-icon`)}}return s}e.getIconClasses=b;function v(h,i,n){if(!n)return null;let t=null;if(n.scheme===y.Schemas.data){const l=f.DataUri.parseMetaData(n).get(f.DataUri.META_DATA_MIME);l&&(t=i.getLanguageIdByMimeType(l))}else{const s=h.getModel(n);s&&(t=s.getLanguageId())}return t&&t!==N.PLAINTEXT_LANGUAGE_ID?t:i.guessLanguageIdByFilepathOrFirstLine(n)}function u(h){return h.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=u}),define(ne[645],oe([1,0,224,105,44,80,42,9,72]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let u=[],h=[],i=[];function n(c,g=!1){t(c,!1,g)}e.registerPlatformLanguageAssociation=n;function t(c,g,m){const S=s(c,g);u.push(S),S.userConfigured?i.push(S):h.push(S),m&&!S.userConfigured&&u.forEach(p=>{p.mime===S.mime||p.userConfigured||(S.extension&&p.extension===S.extension&&console.warn(`Overwriting extension <<${S.extension}>> to now point to mime <<${S.mime}>>`),S.filename&&p.filename===S.filename&&console.warn(`Overwriting filename <<${S.filename}>> to now point to mime <<${S.mime}>>`),S.filepattern&&p.filepattern===S.filepattern&&console.warn(`Overwriting filepattern <<${S.filepattern}>> to now point to mime <<${S.mime}>>`),S.firstline&&p.firstline===S.firstline&&console.warn(`Overwriting firstline <<${S.firstline}>> to now point to mime <<${S.mime}>>`))})}function s(c,g){return{id:c.id,mime:c.mime,filename:c.filename,extension:c.extension,filepattern:c.filepattern,firstline:c.firstline,userConfigured:g,filenameLowercase:c.filename?c.filename.toLowerCase():void 0,extensionLowercase:c.extension?c.extension.toLowerCase():void 0,filepatternLowercase:c.filepattern?(0,y.parse)(c.filepattern.toLowerCase()):void 0,filepatternOnPath:c.filepattern?c.filepattern.indexOf(D.posix.sep)>=0:!1}}function l(){u=u.filter(c=>c.userConfigured),h=[]}e.clearPlatformLanguageAssociations=l;function d(c,g){return a(c,g).map(m=>m.id)}e.getLanguageIds=d;function a(c,g){let m;if(c)switch(c.scheme){case N.Schemas.file:m=c.fsPath;break;case N.Schemas.data:{m=w.DataUri.parseMetaData(c).get(w.DataUri.META_DATA_LABEL);break}case N.Schemas.vscodeNotebookCell:m=void 0;break;default:m=c.path}if(!m)return[{id:"unknown",mime:f.Mimes.unknown}];m=m.toLowerCase();const S=(0,D.basename)(m),p=o(m,S,i);if(p)return[p,{id:v.PLAINTEXT_LANGUAGE_ID,mime:f.Mimes.text}];const C=o(m,S,h);if(C)return[C,{id:v.PLAINTEXT_LANGUAGE_ID,mime:f.Mimes.text}];if(g){const _=r(g);if(_)return[_,{id:v.PLAINTEXT_LANGUAGE_ID,mime:f.Mimes.text}]}return[{id:"unknown",mime:f.Mimes.unknown}]}function o(c,g,m){var S;let p,C,_;for(let L=m.length-1;L>=0;L--){const E=m[L];if(g===E.filenameLowercase){p=E;break}if(E.filepattern&&(!C||E.filepattern.length>C.filepattern.length)){const I=E.filepatternOnPath?c:g;((S=E.filepatternLowercase)===null||S===void 0?void 0:S.call(E,I))&&(C=E)}E.extension&&(!_||E.extension.length>_.extension.length)&&g.endsWith(E.extensionLowercase)&&(_=E)}if(p)return p;if(C)return C;if(_)return _}function r(c){if((0,b.startsWithUTF8BOM)(c)&&(c=c.substr(1)),c.length>0)for(let g=u.length-1;g>=0;g--){const m=u[g];if(!m.firstline)continue;const S=c.match(m.firstline);if(S&&S.length>0)return m}}}),define(ne[646],oe([1,0,13,4,2,9,645,72,99,35]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const h=Object.prototype.hasOwnProperty,i="vs.editor.nullLanguage";class n{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(i,0),this._register(b.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(l,d){this._languageIdToLanguage[d]=l,this._languageToLanguageId.set(l,d)}register(l){if(this._languageToLanguageId.has(l))return;const d=this._nextLanguageId++;this._register(l,d)}encodeLanguageId(l){return this._languageToLanguageId.get(l)||0}decodeLanguageId(l){return this._languageIdToLanguage[l]||i}}e.LanguageIdCodec=n;class t extends N.Disposable{constructor(l=!0,d=!1){super();this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,t.instanceCount++,this._warnOnOverwrite=d,this.languageIdCodec=new n,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},l&&(this._initializeFromRegistry(),this._register(b.ModesRegistry.onDidChangeLanguages(a=>{this._initializeFromRegistry()})))}dispose(){t.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,w.clearPlatformLanguageAssociations)();const l=[].concat(b.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(l)}_registerLanguages(l){for(const d of l)this._registerLanguage(d);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(d=>{const a=this._languages[d];a.name&&(this._nameMap[a.name]=a.identifier),a.aliases.forEach(o=>{this._lowercaseNameMap[o.toLowerCase()]=a.identifier}),a.mimetypes.forEach(o=>{this._mimeTypesMap[o]=a.identifier})}),u.Registry.as(v.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(l){const d=l.id;let a;h.call(this._languages,d)?a=this._languages[d]:(this.languageIdCodec.register(d),a={identifier:d,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[d]=a),this._mergeLanguage(a,l)}_mergeLanguage(l,d){const a=d.id;let o=null;if(Array.isArray(d.mimetypes)&&d.mimetypes.length>0&&(l.mimetypes.push(...d.mimetypes),o=d.mimetypes[0]),o||(o=`text/x-${a}`,l.mimetypes.push(o)),Array.isArray(d.extensions)){d.configuration?l.extensions=d.extensions.concat(l.extensions):l.extensions=l.extensions.concat(d.extensions);for(const g of d.extensions)(0,w.registerPlatformLanguageAssociation)({id:a,mime:o,extension:g},this._warnOnOverwrite)}if(Array.isArray(d.filenames))for(const g of d.filenames)(0,w.registerPlatformLanguageAssociation)({id:a,mime:o,filename:g},this._warnOnOverwrite),l.filenames.push(g);if(Array.isArray(d.filenamePatterns))for(const g of d.filenamePatterns)(0,w.registerPlatformLanguageAssociation)({id:a,mime:o,filepattern:g},this._warnOnOverwrite);if(typeof d.firstLine=="string"&&d.firstLine.length>0){let g=d.firstLine;g.charAt(0)!=="^"&&(g="^"+g);try{const m=new RegExp(g);(0,D.regExpLeadsToEndlessLoop)(m)||(0,w.registerPlatformLanguageAssociation)({id:a,mime:o,firstline:m},this._warnOnOverwrite)}catch(m){(0,y.onUnexpectedError)(m)}}l.aliases.push(a);let r=null;if(typeof d.aliases!="undefined"&&Array.isArray(d.aliases)&&(d.aliases.length===0?r=[null]:r=d.aliases),r!==null)for(const g of r)!g||g.length===0||l.aliases.push(g);const c=r!==null&&r.length>0;if(!(c&&r[0]===null)){const g=(c?r[0]:null)||a;(c||!l.name)&&(l.name=g)}d.configuration&&l.configurationFiles.push(d.configuration),d.icon&&l.icons.push(d.icon)}isRegisteredLanguageId(l){return l?h.call(this._languages,l):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(l){const d=l.toLowerCase();return h.call(this._lowercaseNameMap,d)?this._lowercaseNameMap[d]:null}getLanguageIdByMimeType(l){return l&&h.call(this._mimeTypesMap,l)?this._mimeTypesMap[l]:null}guessLanguageIdByFilepathOrFirstLine(l,d){return!l&&!d?[]:(0,w.getLanguageIds)(l,d)}}e.LanguagesRegistry=t,t.instanceCount=0}),define(ne[647],oe([1,0,4,2,646,18,28,72]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class v extends f.Disposable{constructor(i=!1){super();this._onDidEncounterLanguage=this._register(new y.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new y.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,v.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new N.LanguagesRegistry(!0,i)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){v.instanceCount--,super.dispose()}isRegisteredLanguageId(i){return this._registry.isRegisteredLanguageId(i)}getLanguageIdByLanguageName(i){return this._registry.getLanguageIdByLanguageName(i)}getLanguageIdByMimeType(i){return this._registry.getLanguageIdByMimeType(i)}guessLanguageIdByFilepathOrFirstLine(i,n){const t=this._registry.guessLanguageIdByFilepathOrFirstLine(i,n);return(0,D.firstOrDefault)(t,null)}createById(i){return new u(this.onDidChange,()=>this._createAndGetLanguageIdentifier(i))}createByFilepathOrFirstLine(i,n){return new u(this.onDidChange,()=>{const t=this.guessLanguageIdByFilepathOrFirstLine(i,n);return this._createAndGetLanguageIdentifier(t)})}_createAndGetLanguageIdentifier(i){return(!i||!this.isRegisteredLanguageId(i))&&(i=b.PLAINTEXT_LANGUAGE_ID),this._encounteredLanguages.has(i)||(this._encounteredLanguages.add(i),w.TokenizationRegistry.getOrCreate(i),this._onDidEncounterLanguage.fire(i)),i}}e.LanguageService=v,v.instanceCount=0;class u{constructor(i,n){this._onDidChangeLanguages=i,this._selector=n,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new y.Emitter({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const i=this._selector();i!==this.languageId&&(this.languageId=i,this._emitter&&this._emitter.fire(this.languageId))}}}),define(ne[648],oe([1,0,9,214,3,23,97,32,269,212,213]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let i=class{constructor(t,s,l,d){this._languageConfigurationService=d,this._selection=t,this._isMovingDown=s,this._autoIndent=l,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,s){const l=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===l){this._selectionId=s.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=s.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let d=this._selection;d.startLineNumber<d.endLineNumber&&d.endColumn===1&&(this._moveEndPositionDown=!0,d=d.setEndPosition(d.endLineNumber-1,t.getLineMaxColumn(d.endLineNumber-1)));const{tabSize:a,indentSize:o,insertSpaces:r}=t.getOptions(),c=this.buildIndentConverter(a,o,r),g={tokenization:{getLineTokens:m=>t.tokenization.getLineTokens(m),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(m,S)=>t.getLanguageIdAtPosition(m,S)},getLineContent:null};if(d.startLineNumber===d.endLineNumber&&t.getLineMaxColumn(d.startLineNumber)===1){const m=d.startLineNumber,S=this._isMovingDown?m+1:m-1;t.getLineMaxColumn(S)===1?s.addEditOperation(new N.Range(1,1,1,1),null):(s.addEditOperation(new N.Range(m,1,m,1),t.getLineContent(S)),s.addEditOperation(new N.Range(S,1,S,t.getLineMaxColumn(S)),null)),d=new D.Selection(S,1,S,1)}else{let m,S;if(this._isMovingDown){m=d.endLineNumber+1,S=t.getLineContent(m),s.addEditOperation(new N.Range(m-1,t.getLineMaxColumn(m-1),m,t.getLineMaxColumn(m)),null);let p=S;if(this.shouldAutoIndent(t,d)){const C=this.matchEnterRule(t,c,a,m,d.startLineNumber-1);if(C!==null){const L=y.getLeadingWhitespace(t.getLineContent(m)),E=C+v.getSpaceCnt(L,a);p=v.generateIndent(E,a,r)+this.trimLeft(S)}else{g.getLineContent=E=>E===d.startLineNumber?t.getLineContent(m):t.getLineContent(E);const L=(0,u.getGoodIndentForLine)(this._autoIndent,g,t.getLanguageIdAtPosition(m,1),d.startLineNumber,c,this._languageConfigurationService);if(L!==null){const E=y.getLeadingWhitespace(t.getLineContent(m)),I=v.getSpaceCnt(L,a),T=v.getSpaceCnt(E,a);I!==T&&(p=v.generateIndent(I,a,r)+this.trimLeft(S))}}s.addEditOperation(new N.Range(d.startLineNumber,1,d.startLineNumber,1),p+`
`);const _=this.matchEnterRuleMovingDown(t,c,a,d.startLineNumber,m,p);if(_!==null)_!==0&&this.getIndentEditsOfMovingBlock(t,s,d,a,r,_);else{g.getLineContent=E=>E===d.startLineNumber?p:E>=d.startLineNumber+1&&E<=d.endLineNumber+1?t.getLineContent(E-1):t.getLineContent(E);const L=(0,u.getGoodIndentForLine)(this._autoIndent,g,t.getLanguageIdAtPosition(m,1),d.startLineNumber+1,c,this._languageConfigurationService);if(L!==null){const E=y.getLeadingWhitespace(t.getLineContent(d.startLineNumber)),I=v.getSpaceCnt(L,a),T=v.getSpaceCnt(E,a);if(I!==T){const P=I-T;this.getIndentEditsOfMovingBlock(t,s,d,a,r,P)}}}}else s.addEditOperation(new N.Range(d.startLineNumber,1,d.startLineNumber,1),p+`
`)}else if(m=d.startLineNumber-1,S=t.getLineContent(m),s.addEditOperation(new N.Range(m,1,m+1,1),null),s.addEditOperation(new N.Range(d.endLineNumber,t.getLineMaxColumn(d.endLineNumber),d.endLineNumber,t.getLineMaxColumn(d.endLineNumber)),`
`+S),this.shouldAutoIndent(t,d)){g.getLineContent=C=>C===m?t.getLineContent(d.startLineNumber):t.getLineContent(C);const p=this.matchEnterRule(t,c,a,d.startLineNumber,d.startLineNumber-2);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(t,s,d,a,r,p);else{const C=(0,u.getGoodIndentForLine)(this._autoIndent,g,t.getLanguageIdAtPosition(d.startLineNumber,1),m,c,this._languageConfigurationService);if(C!==null){const _=y.getLeadingWhitespace(t.getLineContent(d.startLineNumber)),L=v.getSpaceCnt(C,a),E=v.getSpaceCnt(_,a);if(L!==E){const I=L-E;this.getIndentEditsOfMovingBlock(t,s,d,a,r,I)}}}}}this._selectionId=s.trackSelection(d)}buildIndentConverter(t,s,l){return{shiftIndent:d=>f.ShiftCommand.shiftIndent(d,d.length+1,t,s,l),unshiftIndent:d=>f.ShiftCommand.unshiftIndent(d,d.length+1,t,s,l)}}parseEnterResult(t,s,l,d,a){if(a){let o=a.indentation;a.indentAction===w.IndentAction.None||a.indentAction===w.IndentAction.Indent?o=a.indentation+a.appendText:a.indentAction===w.IndentAction.IndentOutdent?o=a.indentation:a.indentAction===w.IndentAction.Outdent&&(o=s.unshiftIndent(a.indentation)+a.appendText);const r=t.getLineContent(d);if(this.trimLeft(r).indexOf(this.trimLeft(o))>=0){const c=y.getLeadingWhitespace(t.getLineContent(d));let g=y.getLeadingWhitespace(o);const m=(0,u.getIndentMetadata)(t,d,this._languageConfigurationService);m!==null&&m&2&&(g=s.unshiftIndent(g));const S=v.getSpaceCnt(g,l),p=v.getSpaceCnt(c,l);return S-p}}return null}matchEnterRuleMovingDown(t,s,l,d,a,o){if(y.lastNonWhitespaceIndex(o)>=0){const r=t.getLineMaxColumn(a),c=(0,h.getEnterAction)(this._autoIndent,t,new N.Range(a,r,a,r),this._languageConfigurationService);return this.parseEnterResult(t,s,l,d,c)}else{let r=d-1;for(;r>=1;){const m=t.getLineContent(r);if(y.lastNonWhitespaceIndex(m)>=0)break;r--}if(r<1||d>t.getLineCount())return null;const c=t.getLineMaxColumn(r),g=(0,h.getEnterAction)(this._autoIndent,t,new N.Range(r,c,r,c),this._languageConfigurationService);return this.parseEnterResult(t,s,l,d,g)}}matchEnterRule(t,s,l,d,a,o){let r=a;for(;r>=1;){let m;if(r===a&&o!==void 0?m=o:m=t.getLineContent(r),y.lastNonWhitespaceIndex(m)>=0)break;r--}if(r<1||d>t.getLineCount())return null;const c=t.getLineMaxColumn(r),g=(0,h.getEnterAction)(this._autoIndent,t,new N.Range(r,c,r,c),this._languageConfigurationService);return this.parseEnterResult(t,s,l,d,g)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,s){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(s.startLineNumber))return!1;const l=t.getLanguageIdAtPosition(s.startLineNumber,1),d=t.getLanguageIdAtPosition(s.endLineNumber,1);return!(l!==d||this._languageConfigurationService.getLanguageConfiguration(l).indentRulesSupport===null)}getIndentEditsOfMovingBlock(t,s,l,d,a,o){for(let r=l.startLineNumber;r<=l.endLineNumber;r++){const c=t.getLineContent(r),g=y.getLeadingWhitespace(c),S=v.getSpaceCnt(g,d)+o,p=v.generateIndent(S,d,a);p!==g&&(s.addEditOperation(new N.Range(r,1,r,g.length+1),p),r===l.endLineNumber&&l.endColumn<=g.length+1&&p===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,s){let l=s.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&l.startLineNumber<l.endLineNumber&&(l=l.setEndPosition(l.endLineNumber,2)),l}};i=De([ge(3,b.ILanguageConfigurationService)],i),e.MoveLinesCommand=i}),define(ne[116],oe([1,0,342,45,38,13,261,4,2,68,72]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let n=class Ii{constructor(s,l,d){this._options=s,this._languageService=l,this._openerService=d,this._onDidRenderAsync=new b.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(s,l,d){if(!s)return{element:document.createElement("span"),dispose:()=>{}};const a=new v.DisposableStore;return{element:a.add((0,y.renderMarkdown)(s,Object.assign(Object.assign({},this._getRenderOptions(s,a)),l),d)).element,dispose:()=>a.dispose()}}_getRenderOptions(s,l){return{codeBlockRenderer:(d,a)=>Le(this,void 0,void 0,function*(){var o,r,c;let g;d?g=this._languageService.getLanguageIdByLanguageName(d):this._options.editor&&(g=(o=this._options.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),g||(g=h.PLAINTEXT_LANGUAGE_ID);const m=yield(0,w.tokenizeToString)(this._languageService,a,g),S=document.createElement("span");if(S.innerHTML=(c=(r=Ii._ttpTokenizer)===null||r===void 0?void 0:r.createHTML(m))!==null&&c!==void 0?c:m,this._options.editor){const p=this._options.editor.getOption(45);(0,u.applyFontInfo)(S,p)}else this._options.codeBlockFontFamily&&(S.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(S.style.fontSize=this._options.codeBlockFontSize),S}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>this._openerService.open(d,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:s.isTrusted}).catch(D.onUnexpectedError),disposables:l}}}};n._ttpTokenizer=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("tokenizeToString",{createHTML(t){return t}}),n=De([ge(1,N.ILanguageService),ge(2,f.IOpenerService)],n),e.MarkdownRenderer=n}),define(ne[649],oe([1,0,7,18,65,2,116,268,45,236]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const h=y.$;class i extends D.Disposable{constructor(s,l,d=v.NullOpenerService){super();this._renderDisposeables=this._register(new D.DisposableStore),this._editor=s,this._isVisible=!1,this._messages=[],this._hover=this._register(new u.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new w.MarkdownRenderer({editor:this._editor},l,d)),this._computer=new n(this._editor),this._hoverOperation=this._register(new b.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(a=>{this._withResult(a.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(45)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(l=>this._editor.applyFontInfo(l))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(s){this._computer.lineNumber!==s&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=s,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(s){this._messages=s,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(s,l){this._renderDisposeables.clear();const d=document.createDocumentFragment();for(const a of l){const o=h("div.hover-row.markdown-hover"),r=y.append(o,h("div.hover-contents")),c=this._renderDisposeables.add(this._markdownRenderer.render(a.value));r.appendChild(c.element),d.appendChild(o)}this._updateContents(d),this._showAt(s)}_updateContents(s){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(s),this._updateFont()}_showAt(s){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const l=this._editor.getLayoutInfo(),d=this._editor.getTopForLineNumber(s),a=this._editor.getScrollTop(),o=this._editor.getOption(60),r=this._hover.containerDomNode.clientHeight,c=d-a-(r-o)/2;this._hover.containerDomNode.style.left=`${l.glyphMarginLeft+l.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(c),0)}px`}}e.MarginHoverWidget=i,i.ID="editor.contrib.modesGlyphHoverWidget";class n{constructor(s){this._editor=s,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(s){this._lineNumber=s}computeSync(){const s=a=>({value:a}),l=this._editor.getLineDecorations(this._lineNumber),d=[];if(!l)return d;for(const a of l){if(!a.options.glyphMarginClassName)continue;const o=a.options.glyphMarginHoverMessage;!o||(0,N.isEmptyMarkdownString)(o)||d.push(...(0,f.asArray)(o).map(s))}return d}}}),define(ne[293],oe([1,0,36,7,74,27,4,65,2,116,34,273,590,8]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function s(a){return!!a&&Boolean(a.completion.documentation||a.completion.detail&&a.completion.detail!==a.completion.label)}e.canExpandCompletionItem=s;let l=class{constructor(o,r){this._editor=o,this._onDidClose=new w.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new w.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new v.DisposableStore,this._renderDisposeable=new v.DisposableStore,this._borderWidth=1,this._size=new f.Dimension(330,0),this.domNode=f.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=r.createInstance(u.MarkdownRenderer,{editor:o}),this._body=f.$(".body"),this._scrollbar=new N.DomScrollableElement(this._body,{}),f.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=f.append(this._body,f.$(".header")),this._close=f.append(this._header,f.$("span"+D.Codicon.close.cssSelector)),this._close.title=n.localize(0,null),this._type=f.append(this._header,f.$("p.type")),this._docs=f.append(this._body,f.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(45)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const o=this._editor.getOptions(),r=o.get(45),c=r.getMassagedFontFamily(y.isSafari?h.EDITOR_FONT_DEFAULTS.fontFamily:null),g=o.get(108)||r.fontSize,m=o.get(109)||r.lineHeight,S=r.fontWeight,p=`${g}px`,C=`${m}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=`${m/g}`,this.domNode.style.fontWeight=S,this.domNode.style.fontFeatureSettings=r.fontFeatureSettings,this._type.style.fontFamily=c,this._close.style.height=C,this._close.style.width=C}getLayoutInfo(){const o=this._editor.getOption(109)||this._editor.getOption(45).lineHeight,r=this._borderWidth,c=r*2;return{lineHeight:o,borderWidth:r,borderHeight:c,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=n.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(o,r){var c,g;this._renderDisposeable.clear();let{detail:m,documentation:S}=o.completion;if(r){let p="";p+=`score: ${o.score[0]}
`,p+=`prefix: ${(c=o.word)!==null&&c!==void 0?c:"(no prefix)"}
`,p+=`word: ${o.completion.filterText?o.completion.filterText+" (filterText)":o.textLabel}
`,p+=`distance: ${o.distance} (localityBonus-setting)
`,p+=`index: ${o.idx}, based on ${o.completion.sortText&&`sortText: "${o.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(g=o.completion.commitCharacters)===null||g===void 0?void 0:g.join("")}
`,S=new b.MarkdownString().appendCodeblock("empty",p),m=`Provider: ${o.provider._debugDisplayName}`}if(!r&&!s(o)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),m){const p=m.length>1e5?`${m.substr(0,1e5)}\u2026`:m;this._type.textContent=p,this._type.title=p,f.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else f.clearNode(this._type),this._type.title="",f.hide(this._type),this.domNode.classList.add("no-type");if(f.clearNode(this._docs),typeof S=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=S;else if(S){this._docs.classList.add("markdown-docs"),f.clearNode(this._docs);const p=this._markdownRenderer.render(S);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(o,r){const c=new f.Dimension(o,r);f.Dimension.equals(c,this._size)||(this._size=c,f.size(this.domNode,o,r)),this._scrollbar.scanDomNode()}scrollDown(o=8){this._body.scrollTop+=o}scrollUp(o=8){this._body.scrollTop-=o}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(o){this._borderWidth=o}get borderWidth(){return this._borderWidth}};l=De([ge(1,t.IInstantiationService)],l),e.SuggestDetailsWidget=l;class d{constructor(o,r){this.widget=o,this._editor=r,this._disposables=new v.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new i.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(o.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let c,g,m=0,S=0;this._disposables.add(this._resizable.onDidWillResize(()=>{c=this._topLeft,g=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(c&&g){this.widget.layout(p.dimension.width,p.dimension.height);let C=!1;p.west&&(S=g.width-p.dimension.width,C=!0),p.north&&(m=g.height-p.dimension.height,C=!0),C&&this._applyTopLeft({top:c.top+m,left:c.left+S})}p.done&&(c=void 0,g=void 0,m=0,S=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(o=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),o&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(o,r){var c;const g=o.getBoundingClientRect();this._anchorBox=g,this._preferAlignAtTop=r,this._placeAtAnchor(this._anchorBox,(c=this._userSize)!==null&&c!==void 0?c:this.widget.size,r)}_placeAtAnchor(o,r,c){var g;const m=f.getClientArea(document.body),S=this.widget.getLayoutInfo(),p=new f.Dimension(220,2*S.lineHeight),C=o.top,_=function(){const O=m.width-(o.left+o.width+S.borderWidth+S.horizontalPadding),F=-S.borderWidth+o.left+o.width,W=new f.Dimension(O,m.height-o.top-S.borderHeight-S.verticalPadding),M=W.with(void 0,o.top+o.height-S.borderHeight-S.verticalPadding);return{top:C,left:F,fit:O-r.width,maxSizeTop:W,maxSizeBottom:M,minSize:p.with(Math.min(O,p.width))}}(),L=function(){const O=o.left-S.borderWidth-S.horizontalPadding,F=Math.max(S.horizontalPadding,o.left-r.width-S.borderWidth),W=new f.Dimension(O,m.height-o.top-S.borderHeight-S.verticalPadding),M=W.with(void 0,o.top+o.height-S.borderHeight-S.verticalPadding);return{top:C,left:F,fit:O-r.width,maxSizeTop:W,maxSizeBottom:M,minSize:p.with(Math.min(O,p.width))}}(),E=function(){const O=o.left,F=-S.borderWidth+o.top+o.height,W=new f.Dimension(o.width-S.borderHeight,m.height-o.top-o.height-S.verticalPadding);return{top:F,left:O,fit:W.height-r.height,maxSizeBottom:W,maxSizeTop:W,minSize:p.with(W.width)}}(),I=[_,L,E],T=(g=I.find(O=>O.fit>=0))!==null&&g!==void 0?g:I.sort((O,F)=>F.fit-O.fit)[0],P=o.top+o.height-S.borderHeight;let B,R=r.height;const k=Math.max(T.maxSizeTop.height,T.maxSizeBottom.height);R>k&&(R=k);let A;c?R<=T.maxSizeTop.height?(B=!0,A=T.maxSizeTop):(B=!1,A=T.maxSizeBottom):R<=T.maxSizeBottom.height?(B=!1,A=T.maxSizeBottom):(B=!0,A=T.maxSizeTop),this._applyTopLeft({left:T.left,top:B?T.top:P-R}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!B,T===_,B,T!==_),this._resizable.minSize=T.minSize,this._resizable.maxSize=A,this._resizable.layout(R,Math.min(A.width,r.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(o){this._topLeft=o,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=d}),define(ne[650],oe([1,0,30,286,99,35]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfigurationModel=void 0;class w extends f.ConfigurationModel{constructor(v={}){const u=D.Registry.as(N.Extensions.Configuration).getConfigurationProperties(),h=Object.keys(u),i=Object.create(null),n=[];for(const t in u){const s=v[t],l=s!==void 0?s:u[t].default;(0,y.addToValueTree)(i,t,l,d=>console.error(`Conflict in default settings: ${d}`))}for(const t of Object.keys(i))N.OVERRIDE_PROPERTY_REGEX.test(t)&&n.push({identifiers:(0,N.overrideIdentifiersFromKey)(t),keys:Object.keys(i[t]),contents:(0,y.toValuesTree)(i[t],s=>console.error(`Conflict in default settings file: ${s}`))});super(i,h,n)}}e.DefaultConfigurationModel=w}),define(ne[100],oe([1,0,104,17,26,35]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class w{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(u){if(f.OS===1){if(u&&u.win)return u.win}else if(f.OS===2){if(u&&u.mac)return u.mac}else if(u&&u.linux)return u.linux;return u}registerKeybindingRule(u){const h=w.bindToCurrentPlatform(u);if(h&&h.primary){const i=(0,y.createKeybinding)(h.primary,f.OS);i&&this._registerDefaultKeybinding(i,u.id,u.args,u.weight,0,u.when)}if(h&&Array.isArray(h.secondary))for(let i=0,n=h.secondary.length;i<n;i++){const t=h.secondary[i],s=(0,y.createKeybinding)(t,f.OS);s&&this._registerDefaultKeybinding(s,u.id,u.args,u.weight,-i-1,u.when)}}registerCommandAndKeybindingRule(u){this.registerKeybindingRule(u),N.CommandsRegistry.registerCommand(u)}static _mightProduceChar(u){return u>=21&&u<=30||u>=31&&u<=56?!0:u===80||u===81||u===82||u===83||u===84||u===85||u===86||u===110||u===111||u===87||u===88||u===89||u===90||u===91||u===92}_assertNoCtrlAlt(u,h){u.ctrlKey&&u.altKey&&!u.metaKey&&w._mightProduceChar(u.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",u," for ",h)}_registerDefaultKeybinding(u,h,i,n,t,s){f.OS===1&&this._assertNoCtrlAlt(u.parts[0],h),this._coreKeybindings.push({keybinding:u.parts,command:h,commandArgs:i,when:s,weight1:n,weight2:t,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new w,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function b(v,u){return v.weight1!==u.weight1?v.weight1-u.weight1:v.command<u.command?-1:v.command>u.command?1:v.weight2-u.weight2}}),define(ne[294],oe([1,0,502,503,16,100,605,2]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new N.RawContextKey("suggestWidgetVisible",!1,(0,w.localize)(0,null));const v="historyNavigationWidgetFocus",u="historyNavigationForwardsEnabled",h="historyNavigationBackwardsEnabled";let i;const n=[];function t(d,a){if(n.includes(a))throw new Error("Cannot register the same widget multiple times");n.push(a);const o=new b.DisposableStore,r=o.add(d.createScoped(a.element)),c=new N.RawContextKey(v,!1).bindTo(r),g=new N.RawContextKey(u,!0).bindTo(r),m=new N.RawContextKey(h,!0).bindTo(r),S=()=>{c.set(!0),i=a},p=()=>{c.set(!1),i===a&&(i=void 0)};return a.element===document.activeElement&&S(),o.add(a.onDidFocus(()=>S())),o.add(a.onDidBlur(()=>p())),o.add((0,b.toDisposable)(()=>{n.splice(n.indexOf(a),1),p()})),{scopedContextKeyService:r,historyNavigationForwardsEnablement:g,historyNavigationBackwardsEnablement:m,dispose(){o.dispose()}}}e.registerAndCreateHistoryNavigationContext=t;let s=class extends y.FindInput{constructor(a,o,r,c,g=!1){super(a,o,g,r);this._register(t(c,this.inputBox))}};s=De([ge(3,N.IContextKeyService)],s),e.ContextScopedFindInput=s;let l=class extends f.ReplaceInput{constructor(a,o,r,c,g=!1){super(a,o,g,r);this._register(t(c,this.inputBox))}};l=De([ge(3,N.IContextKeyService)],l),e.ContextScopedReplaceInput=l,D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:N.ContextKeyExpr.and(N.ContextKeyExpr.has(v),N.ContextKeyExpr.equals(h,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:d=>{i&&i.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:N.ContextKeyExpr.and(N.ContextKeyExpr.has(v),N.ContextKeyExpr.equals(u,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:d=>{i&&i.showNextValue()}})}),define(ne[117],oe([1,0,18,2,35]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(b){b[b.PRESERVE=0]="PRESERVE",b[b.LAST=1]="LAST"})(D=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class w{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(v){return v.prefix.length===0?this.defaultProvider=v:this.providers.push(v),this.providers.sort((u,h)=>h.prefix.length-u.prefix.length),(0,f.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(v),1),this.defaultProvider===v&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,y.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(v){return v&&this.providers.find(h=>v.startsWith(h.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=w,N.Registry.add(e.Extensions.Quickaccess,new w)}),define(ne[651],oe([1,0,610,35,2,43,117,84]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let v=class zt{constructor(h,i){this.quickInputService=h,this.keybindingService=i,this.registry=f.Registry.as(w.Extensions.Quickaccess)}provide(h){const i=new N.DisposableStore;return i.add(h.onDidAccept(()=>{const[n]=h.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),i.add(h.onDidChangeValue(n=>{const t=this.registry.getQuickAccessProvider(n.substr(zt.PREFIX.length));t&&t.prefix&&t.prefix!==zt.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),h.items=this.getQuickAccessProviders(),i}getQuickAccessProviders(){const h=[];for(const i of this.registry.getQuickAccessProviders().sort((n,t)=>n.prefix.localeCompare(t.prefix)))if(i.prefix!==zt.PREFIX)for(const n of i.helpEntries){const t=n.prefix||i.prefix,s=t||"\u2026";h.push({prefix:t,label:s,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,y.localize)(0,null,s,n.description),description:n.description})}return h}};v.PREFIX="?",v=De([ge(0,b.IQuickInputService),ge(1,D.IKeybindingService)],v),e.HelpQuickAccessProvider=v}),define(ne[652],oe([1,0,35,117,76,651]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),y.Registry.as(f.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:N.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(ne[653],oe([1,0,10,21,94,2,8,117,84,35]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let h=class extends D.Disposable{constructor(n,t){super();this.quickInputService=n,this.instantiationService=t,this.registry=u.Registry.as(b.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(n="",t){this.doShowOrPick(n,!1,t)}doShowOrPick(n,t,s){var l;const[d,a]=this.getOrInstantiateProvider(n),o=this.visibleQuickAccess,r=o==null?void 0:o.descriptor;if(o&&a&&r===a){n!==a.prefix&&!(s==null?void 0:s.preserveValue)&&(o.picker.value=n),this.adjustValueSelection(o.picker,a,s);return}if(a&&!(s==null?void 0:s.preserveValue)){let p;if(o&&r&&r!==a){const C=o.value.substr(r.prefix.length);C&&(p=`${a.prefix}${C}`)}if(!p){const C=d==null?void 0:d.defaultFilterValue;C===b.DefaultQuickAccessFilterValue.LAST?p=this.lastAcceptedPickerValues.get(a):typeof C=="string"&&(p=`${a.prefix}${C}`)}typeof p=="string"&&(n=p)}const c=new D.DisposableStore,g=c.add(this.quickInputService.createQuickPick());g.value=n,this.adjustValueSelection(g,a,s),g.placeholder=a==null?void 0:a.placeholder,g.quickNavigate=s==null?void 0:s.quickNavigateConfiguration,g.hideInput=!!g.quickNavigate&&!o,(typeof(s==null?void 0:s.itemActivation)=="number"||(s==null?void 0:s.quickNavigateConfiguration))&&(g.itemActivation=(l=s==null?void 0:s.itemActivation)!==null&&l!==void 0?l:v.ItemActivation.SECOND),g.contextKey=a==null?void 0:a.contextKey,g.filterValue=p=>p.substring(a?a.prefix.length:0),(a==null?void 0:a.placeholder)&&(g.ariaLabel=a==null?void 0:a.placeholder);let m;t&&(m=new y.DeferredPromise,c.add((0,N.once)(g.onWillAccept)(p=>{p.veto(),g.hide()}))),c.add(this.registerPickerListeners(g,d,a,n));const S=c.add(new f.CancellationTokenSource);if(d&&c.add(d.provide(g,S.token)),(0,N.once)(g.onDidHide)(()=>{g.selectedItems.length===0&&S.cancel(),c.dispose(),m==null||m.complete(g.selectedItems.slice(0))}),g.show(),t)return m==null?void 0:m.p}adjustValueSelection(n,t,s){var l;let d;(s==null?void 0:s.preserveValue)?d=[n.value.length,n.value.length]:d=[(l=t==null?void 0:t.prefix.length)!==null&&l!==void 0?l:0,n.value.length],n.valueSelection=d}registerPickerListeners(n,t,s,l){const d=new D.DisposableStore,a=this.visibleQuickAccess={picker:n,descriptor:s,value:l};return d.add((0,D.toDisposable)(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(n.onDidChangeValue(o=>{const[r]=this.getOrInstantiateProvider(o);r!==t?this.show(o,{preserveValue:!0}):a.value=o})),s&&d.add(n.onDidAccept(()=>{this.lastAcceptedPickerValues.set(s,n.value)})),d}getOrInstantiateProvider(n){const t=this.registry.getQuickAccessProvider(n);if(!t)return[void 0,void 0];let s=this.mapProviderToDescriptor.get(t);return s||(s=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,s)),[s,t]}};h=De([ge(0,v.IQuickInputService),ge(1,w.IInstantiationService)],h),e.QuickAccessController=h}),define(ne[85],oe([1,0,4,2,19,344,8]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const b="__$__targetStorageMarker";e.IStorageService=(0,w.createDecorator)("storageService");var v;(function(i){i[i.NONE=0]="NONE",i[i.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));class u extends f.Disposable{constructor(n={flushInterval:u.DEFAULT_FLUSH_INTERVAL}){super();this.options=n,this._onDidChangeValue=this._register(new y.PauseableEmitter),this._onDidChangeTarget=this._register(new y.PauseableEmitter),this._onWillSaveState=this._register(new y.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(n,t){t===b?(n===0?this._globalKeyTargets=void 0:n===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:n})):this._onDidChangeValue.fire({scope:n,key:t,target:this.getKeyTargets(n)[t]})}get(n,t,s){var l;return(l=this.getStorage(t))===null||l===void 0?void 0:l.get(n,s)}getBoolean(n,t,s){var l;return(l=this.getStorage(t))===null||l===void 0?void 0:l.getBoolean(n,s)}getNumber(n,t,s){var l;return(l=this.getStorage(t))===null||l===void 0?void 0:l.getNumber(n,s)}store(n,t,s,l){if((0,N.isUndefinedOrNull)(t)){this.remove(n,s);return}this.withPausedEmitters(()=>{var d;this.updateKeyTarget(n,s,l),(d=this.getStorage(s))===null||d===void 0||d.set(n,t)})}remove(n,t){this.withPausedEmitters(()=>{var s;this.updateKeyTarget(n,t,void 0),(s=this.getStorage(t))===null||s===void 0||s.delete(n)})}withPausedEmitters(n){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{n()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(n,t,s){var l,d;const a=this.getKeyTargets(t);typeof s=="number"?a[n]!==s&&(a[n]=s,(l=this.getStorage(t))===null||l===void 0||l.set(b,JSON.stringify(a))):typeof a[n]=="number"&&(delete a[n],(d=this.getStorage(t))===null||d===void 0||d.set(b,JSON.stringify(a)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(n){return n===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(n){const t=this.get(b,n);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}}e.AbstractStorageService=u,u.DEFAULT_FLUSH_INTERVAL=60*1e3;class h extends u{constructor(){super();this.globalStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(n=>this.emitDidChangeValue(1,n))),this._register(this.globalStorage.onDidChangeStorage(n=>this.emitDidChangeValue(0,n)))}getStorage(n){return n===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=h}),define(ne[654],oe([1,0,10,94,51,3,283,53,8,85]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,v.createDecorator)("ICodeLensCache");class h{constructor(t,s){this.lineCount=t,this.data=s}}let i=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new N.LRUCache(20,.75);const s="codelens/cache";(0,y.runWhenIdle)(()=>t.remove(s,1));const l="codelens/cache2",d=t.get(l,1,"{}");this._deserialize(d),(0,f.once)(t.onWillSaveState)(a=>{a.reason===u.WillSaveStateReason.SHUTDOWN&&t.store(l,this._serialize(),1,1)})}put(t,s){const l=s.lenses.map(o=>{var r;return{range:o.symbol.range,command:o.symbol.command&&{id:"",title:(r=o.symbol.command)===null||r===void 0?void 0:r.title}}}),d=new w.CodeLensModel;d.add({lenses:l,dispose:()=>{}},this._fakeProvider);const a=new h(t.getLineCount(),d);this._cache.set(t.uri.toString(),a)}get(t){const s=this._cache.get(t.uri.toString());return s&&s.lineCount===t.getLineCount()?s.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[s,l]of this._cache){const d=new Set;for(const a of l.data.lenses)d.add(a.symbol.range.startLineNumber);t[s]={lineCount:l.lineCount,lines:[...d.values()]}}return JSON.stringify(t)}_deserialize(t){try{const s=JSON.parse(t);for(const l in s){const d=s[l],a=[];for(const r of d.lines)a.push({range:new D.Range(r,1,r,11)});const o=new w.CodeLensModel;o.add({lenses:a,dispose(){}},this._fakeProvider),this._cache.set(l,new h(d.lineCount,o))}}catch{}}};i=De([ge(0,u.IStorageService)],i),e.CodeLensCache=i,(0,b.registerSingleton)(e.ICodeLensCache,i)}),define(ne[295],oe([1,0,10,2,51,28,30,53,8,85]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class h{constructor(d){this.name=d}select(d,a,o){if(o.length===0)return 0;const r=o[0].score[0];for(let c=0;c<o.length;c++){const{score:g,completion:m}=o[c];if(g[0]!==r)break;if(m.preselect)return c}return 0}}e.Memory=h;class i extends h{constructor(){super("first")}memorize(d,a,o){}toJSON(){}fromJSON(){}}e.NoMemory=i;class n extends h{constructor(){super("recentlyUsed");this._cache=new N.LRUCache(300,.66),this._seq=0}memorize(d,a,o){const r=`${d.getLanguageId()}/${o.textLabel}`;this._cache.set(r,{touch:this._seq++,type:o.completion.kind,insertText:o.completion.insertText})}select(d,a,o){if(o.length===0)return 0;const r=d.getLineContent(a.lineNumber).substr(a.column-10,a.column-1);if(/\s$/.test(r))return super.select(d,a,o);const c=o[0].score[0];let g=-1,m=-1,S=-1;for(let p=0;p<o.length&&o[p].score[0]===c;p++){const C=`${d.getLanguageId()}/${o[p].textLabel}`,_=this._cache.peek(C);if(_&&_.touch>S&&_.type===o[p].completion.kind&&_.insertText===o[p].completion.insertText&&(S=_.touch,m=p),o[p].completion.preselect&&g===-1)return g=p}return m!==-1?m:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(d){this._cache.clear();const a=0;for(const[o,r]of d)r.touch=a,r.type=typeof r.type=="number"?r.type:D.CompletionItemKinds.fromString(r.type),this._cache.set(o,r);this._seq=this._cache.size}}e.LRUMemory=n;class t extends h{constructor(){super("recentlyUsedByPrefix");this._trie=N.TernarySearchTree.forStrings(),this._seq=0}memorize(d,a,o){const{word:r}=d.getWordUntilPosition(a),c=`${d.getLanguageId()}/${r}`;this._trie.set(c,{type:o.completion.kind,insertText:o.completion.insertText,touch:this._seq++})}select(d,a,o){const{word:r}=d.getWordUntilPosition(a);if(!r)return super.select(d,a,o);const c=`${d.getLanguageId()}/${r}`;let g=this._trie.get(c);if(g||(g=this._trie.findSubstr(c)),g)for(let m=0;m<o.length;m++){const{kind:S,insertText:p}=o[m].completion;if(S===g.type&&p===g.insertText)return m}return super.select(d,a,o)}toJSON(){const d=[];return this._trie.forEach((a,o)=>d.push([o,a])),d.sort((a,o)=>-(a[1].touch-o[1].touch)).forEach((a,o)=>a[1].touch=o),d.slice(0,200)}fromJSON(d){if(this._trie.clear(),d.length>0){this._seq=d[0][1].touch+1;for(const[a,o]of d)o.type=typeof o.type=="number"?o.type:D.CompletionItemKinds.fromString(o.type),this._trie.set(a,o)}}}e.PrefixMemory=t;let s=class Vt{constructor(d,a){this._storageService=d,this._configService=a,this._disposables=new f.DisposableStore,this._persistSoon=new y.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(d.onWillSaveState(o=>{o.reason===u.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(d,a,o){this._withStrategy(d,a).memorize(d,a,o),this._persistSoon.schedule()}select(d,a,o){return this._withStrategy(d,a).select(d,a,o)}_withStrategy(d,a){var o;const r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:d.getLanguageIdAtPosition(a.lineNumber,a.column),resource:d.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==r){this._saveState();const c=Vt._strategyCtors.get(r)||i;this._strategy=new c;try{const m=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,S=this._storageService.get(`${Vt._storagePrefix}/${r}`,m);S&&this._strategy.fromJSON(JSON.parse(S))}catch{}}return this._strategy}_saveState(){if(this._strategy){const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,o=JSON.stringify(this._strategy);this._storageService.store(`${Vt._storagePrefix}/${this._strategy.name}`,o,a,1)}}};s._strategyCtors=new Map([["recentlyUsedByPrefix",t],["recentlyUsed",n],["first",i]]),s._storagePrefix="suggest/memories",s=De([ge(0,u.IStorageService),ge(1,w.IConfigurationService)],s),e.SuggestMemoryService=s,e.ISuggestMemoryService=(0,v.createDecorator)("ISuggestMemories"),(0,b.registerSingleton)(e.ISuggestMemoryService,s,!0)}),define(ne[92],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,y.createDecorator)("telemetryService")}),define(ne[655],oe([1,0,507,13,64,2,51,73,19,609,26,30,114,8,43,641,85,92]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let o=class Ht extends l.PickerQuickAccessProvider{constructor(g,m,S,p,C,_){super(Ht.PREFIX,g);this.instantiationService=m,this.keybindingService=S,this.commandService=p,this.telemetryService=C,this.dialogService=_,this.commandsHistory=this._register(this.instantiationService.createInstance(r)),this.options=g}_getPicks(g,m,S){return Le(this,void 0,void 0,function*(){const p=yield this.getCommandPicks(m,S);if(S.isCancellationRequested)return[];const C=[];for(const I of p){const T=(0,v.withNullAsUndefined)(Ht.WORD_FILTER(g,I.label)),P=I.commandAlias?(0,v.withNullAsUndefined)(Ht.WORD_FILTER(g,I.commandAlias)):void 0;T||P?(I.highlights={label:T,detail:this.options.showAlias?P:void 0},C.push(I)):g===I.commandId&&C.push(I)}const _=new Map;for(const I of C){const T=_.get(I.label);T?(I.description=I.commandId,T.description=T.commandId):_.set(I.label,I)}C.sort((I,T)=>{const P=this.commandsHistory.peek(I.commandId),B=this.commandsHistory.peek(T.commandId);return P&&B?P>B?-1:1:P?-1:B?1:I.label.localeCompare(T.label)});const L=[];let E=!1;for(let I=0;I<C.length;I++){const T=C[I],P=this.keybindingService.lookupKeybinding(T.commandId),B=P?(0,u.localize)(0,null,T.label,P.getAriaLabel()):T.label;I===0&&this.commandsHistory.peek(T.commandId)&&(L.push({type:"separator",label:(0,u.localize)(1,null)}),E=!0),I!==0&&E&&!this.commandsHistory.peek(T.commandId)&&(L.push({type:"separator",label:(0,u.localize)(2,null)}),E=!1),L.push(Object.assign(Object.assign({},T),{ariaLabel:B,detail:this.options.showAlias&&T.commandAlias!==T.label?T.commandAlias:void 0,keybinding:P,accept:()=>Le(this,void 0,void 0,function*(){this.commandsHistory.push(T.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:T.commandId,from:"quick open"});try{yield this.commandService.executeCommand(T.commandId)}catch(R){(0,f.isCancellationError)(R)||this.dialogService.show(b.default.Error,(0,u.localize)(3,null,T.label,(0,y.toErrorMessage)(R)))}})}))}return L})}};o.PREFIX=">",o.WORD_FILTER=(0,N.or)(N.matchesPrefix,N.matchesWords,N.matchesContiguousSubString),o=De([ge(1,t.IInstantiationService),ge(2,s.IKeybindingService),ge(3,h.ICommandService),ge(4,a.ITelemetryService),ge(5,n.IDialogService)],o),e.AbstractCommandsQuickAccessProvider=o;let r=class st extends D.Disposable{constructor(g,m){super();this.storageService=g,this.configurationService=m,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=st.getConfiguredCommandHistoryLength(this.configurationService),st.cache&&st.cache.limit!==this.configuredCommandsHistoryLength&&(st.cache.limit=this.configuredCommandsHistoryLength,st.saveState(this.storageService))}load(){const g=this.storageService.get(st.PREF_KEY_CACHE,0);let m;if(g)try{m=JSON.parse(g)}catch{}const S=st.cache=new w.LRUCache(this.configuredCommandsHistoryLength,1);if(m){let p;m.usesLRU?p=m.entries:p=m.entries.sort((C,_)=>C.value-_.value),p.forEach(C=>S.set(C.key,C.value))}st.counter=this.storageService.getNumber(st.PREF_KEY_COUNTER,0,st.counter)}push(g){!st.cache||(st.cache.set(g,st.counter++),st.saveState(this.storageService))}peek(g){var m;return(m=st.cache)===null||m===void 0?void 0:m.peek(g)}static saveState(g){if(!st.cache)return;const m={usesLRU:!0,entries:[]};st.cache.forEach((S,p)=>m.entries.push({key:p,value:S})),g.store(st.PREF_KEY_CACHE,JSON.stringify(m),0,0),g.store(st.PREF_KEY_COUNTER,st.counter,0,0)}static getConfiguredCommandHistoryLength(g){var m,S;const C=(S=(m=g.getValue().workbench)===null||m===void 0?void 0:m.commandPalette)===null||S===void 0?void 0:S.history;return typeof C=="number"?C:st.DEFAULT_COMMANDS_HISTORY_LENGTH}};r.DEFAULT_COMMANDS_HISTORY_LENGTH=50,r.PREF_KEY_CACHE="commandPalette.mru.cache",r.PREF_KEY_COUNTER="commandPalette.mru.counter",r.counter=1,r=De([ge(0,d.IStorageService),ge(1,i.IConfigurationService)],r),e.CommandsHistory=r}),define(ne[656],oe([1,0,106,655]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class N extends f.AbstractCommandsQuickAccessProvider{constructor(w,b,v,u,h,i){super(w,b,v,u,h,i)}getCodeEditorCommandPicks(){const w=this.activeTextEditorControl;if(!w)return[];const b=[];for(const v of w.getSupportedActions())b.push({commandId:v.id,commandAlias:v.alias,label:(0,y.stripIcons)(v.label)||v.id});return b}}e.AbstractEditorCommandsQuickAccessProvider=N}),define(ne[25],oe([1,0,10,31,4,19,611,211,35]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.checkboxBorder=e.checkboxForeground=e.checkboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function u(T){return`--vscode-${T.replace(/\./g,"-")}`}e.asCssVariableName=u,e.Extensions={ColorContribution:"base.contributions.colors"};class h{constructor(){this._onDidChangeSchema=new N.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(P,B,R,k=!1,A){const O={id:P,description:R,defaults:B,needsTransparency:k,deprecationMessage:A};this.colorsById[P]=O;const F={type:"string",description:R,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return A&&(F.deprecationMessage=A),this.colorSchema.properties[P]=F,this.colorReferenceSchema.enum.push(P),this.colorReferenceSchema.enumDescriptions.push(R),this._onDidChangeSchema.fire(),P}getColors(){return Object.keys(this.colorsById).map(P=>this.colorsById[P])}resolveDefaultColor(P,B){const R=this.colorsById[P];if(R&&R.defaults){const k=R.defaults[B.type];return L(k,B)}}getColorSchema(){return this.colorSchema}toString(){const P=(B,R)=>{const k=B.indexOf(".")===-1?0:1,A=R.indexOf(".")===-1?0:1;return k!==A?k-A:B.localeCompare(R)};return Object.keys(this.colorsById).sort(P).map(B=>`- \`${B}\`: ${this.colorsById[B].description}`).join(`
`)}}const i=new h;v.Registry.add(e.Extensions.ColorContribution,i);function n(T){return T===null||typeof T.hcLight=="undefined"&&(T.hcDark===null||typeof T.hcDark=="string"?T.hcLight=T.hcDark:T.hcLight=T.light),T}function t(T,P,B,R,k){return i.registerColor(T,n(P),B,R,k)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},w.localize(0,null)),e.disabledForeground=t("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},w.localize(1,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},w.localize(2,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:S(e.foreground,.7),hcDark:S(e.foreground,.7),hcLight:S(e.foreground,.7)},w.localize(3,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},w.localize(4,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},w.localize(5,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},w.localize(6,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},w.localize(7,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},w.localize(8,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:f.Color.black,hcLight:"#292929"},w.localize(9,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},w.localize(10,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},w.localize(11,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},w.localize(12,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},w.localize(13,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:f.Color.white,hcLight:"#292929"},w.localize(14,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:f.Color.black,hcLight:"#F2F2F2"},w.localize(15,null)),e.widgetShadow=t("widget.shadow",{dark:S(f.Color.black,.36),light:S(f.Color.black,.16),hcDark:null,hcLight:null},w.localize(16,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:f.Color.white,hcDark:f.Color.black,hcLight:f.Color.white},w.localize(17,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},w.localize(18,null)),e.inputBorder=t("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(19,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(20,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},w.localize(21,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:S(e.focusBorder,.4),light:S(e.focusBorder,.2),hcDark:f.Color.transparent,hcLight:f.Color.transparent},w.localize(22,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:f.Color.white,light:f.Color.black,hcDark:null,hcLight:e.foreground},w.localize(23,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:S(e.foreground,.5),dark:S(e.foreground,.5),hcDark:S(e.foreground,.7),hcLight:S(e.foreground,.7)},w.localize(24,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:f.Color.black,hcLight:f.Color.white},w.localize(25,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},w.localize(26,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(27,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:f.Color.black,hcLight:f.Color.white},w.localize(28,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},w.localize(29,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(30,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:f.Color.black,hcLight:f.Color.white},w.localize(31,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},w.localize(32,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(33,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:f.Color.white,hcDark:f.Color.black,hcLight:f.Color.white},w.localize(34,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hcDark:f.Color.black,hcLight:f.Color.white},w.localize(35,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:f.Color.white,hcLight:e.foreground},w.localize(36,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(37,null)),e.checkboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},w.localize(38,null)),e.checkboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},w.localize(39,null)),e.checkboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},w.localize(40,null)),e.buttonForeground=t("button.foreground",{dark:f.Color.white,light:f.Color.white,hcDark:f.Color.white,hcLight:f.Color.white},w.localize(41,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},w.localize(42,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:m(e.buttonBackground,.2),light:g(e.buttonBackground,.2),hcDark:null,hcLight:null},w.localize(43,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(44,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:f.Color.white,light:f.Color.white,hcDark:f.Color.white,hcLight:e.foreground},w.localize(45,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:f.Color.white},w.localize(46,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:m(e.buttonSecondaryBackground,.2),light:g(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},w.localize(47,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:f.Color.black,hcLight:"#0F4A85"},w.localize(48,null)),e.badgeForeground=t("badge.foreground",{dark:f.Color.white,light:"#333",hcDark:f.Color.white,hcLight:f.Color.white},w.localize(49,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},w.localize(50,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:f.Color.fromHex("#797979").transparent(.4),light:f.Color.fromHex("#646464").transparent(.4),hcDark:S(e.contrastBorder,.6),hcLight:S(e.contrastBorder,.4)},w.localize(51,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:f.Color.fromHex("#646464").transparent(.7),light:f.Color.fromHex("#646464").transparent(.7),hcDark:S(e.contrastBorder,.8),hcLight:S(e.contrastBorder,.8)},w.localize(52,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:f.Color.fromHex("#BFBFBF").transparent(.4),light:f.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(53,null)),e.progressBarBackground=t("progressBar.background",{dark:f.Color.fromHex("#0E70C0"),light:f.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(54,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(55,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},w.localize(56,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hcDark:f.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},w.localize(57,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(58,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},w.localize(59,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hcDark:f.Color.fromHex("#FFCC00").transparent(.8),hcLight:"#"},w.localize(60,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(61,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},w.localize(62,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hcDark:f.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},w.localize(63,null)),e.editorHintForeground=t("editorHint.foreground",{dark:f.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},w.localize(64,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hcDark:f.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},w.localize(65,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},w.localize(66,null)),e.editorBackground=t("editor.background",{light:"#fffffe",dark:"#1E1E1E",hcDark:f.Color.black,hcLight:f.Color.white},w.localize(67,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:f.Color.white,hcLight:e.foreground},w.localize(68,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:f.Color.white},w.localize(69,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},w.localize(70,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(71,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},w.localize(72,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},w.localize(73,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},w.localize(74,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new f.Color(new f.RGBA(255,255,255,.105)),light:new f.Color(new f.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:f.Color.white},w.localize(75,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:f.Color.white,hcLight:"#0F4A85"},w.localize(76,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:f.Color.white,hcLight:"#0F4A85"},w.localize(77,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new f.Color(new f.RGBA(128,128,128,.17)),light:new f.Color(new f.RGBA(221,221,221,.4)),hcDark:f.Color.transparent,hcLight:f.Color.transparent},w.localize(78,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:f.Color.fromHex("#CCCCCC"),light:f.Color.fromHex("#555555"),hcDark:f.Color.white,hcLight:e.foreground},w.localize(79,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new f.Color(new f.RGBA(51,51,51,.6)),light:new f.Color(new f.RGBA(204,204,204,.4)),hcDark:new f.Color(new f.RGBA(111,195,223)),hcLight:e.contrastBorder},w.localize(80,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new f.Color(new f.RGBA(68,68,68,.6)),light:new f.Color(new f.RGBA(187,187,187,.4)),hcDark:new f.Color(new f.RGBA(111,195,223)),hcLight:e.foreground},w.localize(81,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},w.localize(82,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:f.Color.white},w.localize(83,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:S(e.editorSelectionBackground,.5),dark:S(e.editorSelectionBackground,.5),hcDark:S(e.editorSelectionBackground,.7),hcLight:S(e.editorSelectionBackground,.5)},w.localize(84,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:_(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:_(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},w.localize(85,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},w.localize(86,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},w.localize(87,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},w.localize(88,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},w.localize(89,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},w.localize(90,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},w.localize(91,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:S(e.activeContrastBorder,.4),hcLight:S(e.activeContrastBorder,.4)},w.localize(92,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:S(e.editorFindMatchHighlight,.66),dark:S(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},w.localize(93,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:S(e.editorFindMatchHighlightBorder,.66),dark:S(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},w.localize(94,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},w.localize(95,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},w.localize(96,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},w.localize(97,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},w.localize(98,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:m(e.editorHoverBackground,.2),light:g(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},w.localize(99,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:f.Color.blue,hcDark:f.Color.cyan,hcLight:"#292929"},w.localize(100,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:S(e.badgeForeground,.8),light:S(e.badgeForeground,.8),hcDark:e.badgeForeground,hcLight:e.badgeForeground},w.localize(101,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:S(e.badgeBackground,.6),light:S(e.badgeBackground,.3),hcDark:e.badgeBackground,hcLight:e.badgeBackground},w.localize(102,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},w.localize(103,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},w.localize(104,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},w.localize(105,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},w.localize(106,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},w.localize(107,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},w.localize(108,null)),e.defaultInsertColor=new f.Color(new f.RGBA(155,185,85,.2)),e.defaultRemoveColor=new f.Color(new f.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},w.localize(109,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},w.localize(110,null),!0),e.diffInsertedLine=t("diffEditor.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(111,null),!0),e.diffRemovedLine=t("diffEditor.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(112,null),!0),e.diffInsertedLineGutter=t("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(113,null)),e.diffRemovedLineGutter=t("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(114,null)),e.diffOverviewRulerInserted=t("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(115,null)),e.diffOverviewRulerRemoved=t("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(116,null)),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},w.localize(117,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},w.localize(118,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(119,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},w.localize(120,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(121,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(122,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},w.localize(123,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hcDark:null,hcLight:f.Color.fromHex("#0F4A85").transparent(.1)},w.localize(124,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:f.Color.white,light:f.Color.white,hcDark:null,hcLight:null},w.localize(125,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(126,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:f.Color.fromHex("#0F4A85").transparent(.1)},w.localize(127,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(128,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(129,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(130,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(131,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:f.Color.fromHex("#0F4A85").transparent(.1)},w.localize(132,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(133,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},w.localize(134,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},w.localize(135,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:C(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},w.localize(136,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},w.localize(137,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},w.localize(138,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},w.localize(139,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hcDark:f.Color.black,hcLight:f.Color.white},w.localize(140,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:f.Color.transparent,light:f.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},w.localize(141,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(142,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},w.localize(143,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},w.localize(144,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},w.localize(145,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},w.localize(146,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:S(e.foreground,.04),light:S(e.foreground,.04),hcDark:null,hcLight:null},w.localize(147,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},w.localize(148,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,w.localize(149,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},w.localize(150,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},w.localize(151,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},w.localize(152,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(153,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.foreground,hcDark:e.selectForeground,hcLight:e.selectForeground},w.localize(154,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},w.localize(155,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},w.localize(156,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},w.localize(157,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},w.localize(158,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},w.localize(159,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},w.localize(160,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},w.localize(161,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:m(e.toolbarHoverBackground,.1),light:g(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},w.localize(162,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new f.Color(new f.RGBA(124,124,124,.3)),light:new f.Color(new f.RGBA(10,50,100,.2)),hcDark:new f.Color(new f.RGBA(124,124,124,.3)),hcLight:new f.Color(new f.RGBA(10,50,100,.2))},w.localize(163,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(164,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(165,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new f.Color(new f.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},w.localize(166,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:S(e.foreground,.8),dark:S(e.foreground,.8),hcDark:S(e.foreground,.8),hcLight:S(e.foreground,.8)},w.localize(167,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},w.localize(168,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:g(e.foreground,.2),dark:m(e.foreground,.1),hcDark:m(e.foreground,.1),hcLight:m(e.foreground,.1)},w.localize(169,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:g(e.foreground,.2),dark:m(e.foreground,.1),hcDark:m(e.foreground,.1),hcLight:m(e.foreground,.1)},w.localize(170,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},w.localize(171,null));const s=.5,l=f.Color.fromHex("#40C8AE").transparent(s),d=f.Color.fromHex("#40A6FF").transparent(s),a=f.Color.fromHex("#606060").transparent(.4),o=.4,r=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:l,light:l,hcDark:null,hcLight:null},w.localize(172,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:S(e.mergeCurrentHeaderBackground,o),light:S(e.mergeCurrentHeaderBackground,o),hcDark:S(e.mergeCurrentHeaderBackground,o),hcLight:S(e.mergeCurrentHeaderBackground,o)},w.localize(173,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:d,light:d,hcDark:null,hcLight:null},w.localize(174,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:S(e.mergeIncomingHeaderBackground,o),light:S(e.mergeIncomingHeaderBackground,o),hcDark:S(e.mergeIncomingHeaderBackground,o),hcLight:S(e.mergeIncomingHeaderBackground,o)},w.localize(175,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:a,light:a,hcDark:null,hcLight:null},w.localize(176,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:S(e.mergeCommonHeaderBackground,o),light:S(e.mergeCommonHeaderBackground,o),hcDark:S(e.mergeCommonHeaderBackground,o),hcLight:S(e.mergeCommonHeaderBackground,o)},w.localize(177,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},w.localize(178,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:S(e.mergeCurrentHeaderBackground,r),light:S(e.mergeCurrentHeaderBackground,r),hcDark:e.mergeBorder,hcLight:e.mergeBorder},w.localize(179,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:S(e.mergeIncomingHeaderBackground,r),light:S(e.mergeIncomingHeaderBackground,r),hcDark:e.mergeBorder,hcLight:e.mergeBorder},w.localize(180,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:S(e.mergeCommonHeaderBackground,r),light:S(e.mergeCommonHeaderBackground,r),hcDark:e.mergeBorder,hcLight:e.mergeBorder},w.localize(181,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},w.localize(182,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},w.localize(183,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},w.localize(184,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},w.localize(185,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},w.localize(186,null),!0),e.minimapError=t("minimap.errorHighlight",{dark:new f.Color(new f.RGBA(255,18,18,.7)),light:new f.Color(new f.RGBA(255,18,18,.7)),hcDark:new f.Color(new f.RGBA(255,50,50,1)),hcLight:"#B5200D"},w.localize(187,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},w.localize(188,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(189,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:f.Color.fromHex("#000f"),light:f.Color.fromHex("#000f"),hcDark:f.Color.fromHex("#000f"),hcLight:f.Color.fromHex("#000f")},w.localize(190,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:S(e.scrollbarSliderBackground,.5),dark:S(e.scrollbarSliderBackground,.5),hcDark:S(e.scrollbarSliderBackground,.5),hcLight:S(e.scrollbarSliderBackground,.5)},w.localize(191,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:S(e.scrollbarSliderHoverBackground,.5),dark:S(e.scrollbarSliderHoverBackground,.5),hcDark:S(e.scrollbarSliderHoverBackground,.5),hcLight:S(e.scrollbarSliderHoverBackground,.5)},w.localize(192,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:S(e.scrollbarSliderActiveBackground,.5),dark:S(e.scrollbarSliderActiveBackground,.5),hcDark:S(e.scrollbarSliderActiveBackground,.5),hcLight:S(e.scrollbarSliderActiveBackground,.5)},w.localize(193,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},w.localize(194,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},w.localize(195,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},w.localize(196,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},w.localize(197,null)),e.chartsLines=t("charts.lines",{dark:S(e.foreground,.5),light:S(e.foreground,.5),hcDark:S(e.foreground,.5),hcLight:S(e.foreground,.5)},w.localize(198,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},w.localize(199,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},w.localize(200,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},w.localize(201,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},w.localize(202,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},w.localize(203,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},w.localize(204,null));function c(T,P){var B,R,k;switch(T.op){case 0:return(B=L(T.value,P))===null||B===void 0?void 0:B.darken(T.factor);case 1:return(R=L(T.value,P))===null||R===void 0?void 0:R.lighten(T.factor);case 2:return(k=L(T.value,P))===null||k===void 0?void 0:k.transparent(T.factor);case 3:for(const A of T.values){const O=L(A,P);if(O)return O}return;case 5:return L(P.defines(T.if)?T.then:T.else,P);case 4:{const A=L(T.value,P);if(!A)return;const O=L(T.background,P);return O?A.isDarkerThan(O)?f.Color.getLighterColor(A,O,T.factor).transparent(T.transparency):f.Color.getDarkerColor(A,O,T.factor).transparent(T.transparency):A.transparent(T.factor*T.transparency)}default:throw(0,D.assertNever)(T)}}e.executeTransform=c;function g(T,P){return{op:0,value:T,factor:P}}e.darken=g;function m(T,P){return{op:1,value:T,factor:P}}e.lighten=m;function S(T,P){return{op:2,value:T,factor:P}}e.transparent=S;function p(...T){return{op:3,values:T}}e.oneOf=p;function C(T,P,B){return{op:5,if:T,then:P,else:B}}e.ifDefinedThenElse=C;function _(T,P,B,R){return{op:4,value:T,background:P,factor:B,transparency:R}}function L(T,P){if(T!==null){if(typeof T=="string")return T[0]==="#"?f.Color.fromHex(T):P.getColor(T);if(T instanceof f.Color)return T;if(typeof T=="object")return c(T,P)}}e.resolveColorValue=L,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const E=v.Registry.as(b.Extensions.JSONContribution);E.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const I=new y.RunOnceScheduler(()=>E.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{I.isScheduled()||I.schedule()})}),define(ne[139],oe([1,0,7,124,63,10,2,25]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class v{constructor(m,S){this.x=m,this.y=S,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new u(this.x-y.StandardWindow.scrollX,this.y-y.StandardWindow.scrollY)}}e.PageCoordinates=v;class u{constructor(m,S){this.clientX=m,this.clientY=S,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new v(this.clientX+y.StandardWindow.scrollX,this.clientY+y.StandardWindow.scrollY)}}e.ClientCoordinates=u;class h{constructor(m,S,p,C){this.x=m,this.y=S,this.width=p,this.height=C,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=h;class i{constructor(m,S){this.x=m,this.y=S,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=i;function n(g){const m=y.getDomNodePagePosition(g);return new h(m.left,m.top,m.width,m.height)}e.createEditorPagePosition=n;function t(g,m,S){const p=m.width/g.offsetWidth,C=m.height/g.offsetHeight,_=(S.x-m.x)/p,L=(S.y-m.y)/C;return new i(_,L)}e.createCoordinatesRelativeToEditor=t;class s extends N.StandardMouseEvent{constructor(m,S,p){super(m);this._editorMouseEventBrand=void 0,this.isFromPointerCapture=S,this.pos=new v(this.posx,this.posy),this.editorPos=n(p),this.relativePos=t(p,this.editorPos,this.pos)}}e.EditorMouseEvent=s;class l{constructor(m){this._editorViewDomNode=m}_create(m){return new s(m,!1,this._editorViewDomNode)}onContextMenu(m,S){return y.addDisposableListener(m,"contextmenu",p=>{S(this._create(p))})}onMouseUp(m,S){return y.addDisposableListener(m,"mouseup",p=>{S(this._create(p))})}onMouseDown(m,S){return y.addDisposableListener(m,y.EventType.MOUSE_DOWN,p=>{S(this._create(p))})}onPointerDown(m,S){return y.addDisposableListener(m,y.EventType.POINTER_DOWN,p=>{S(this._create(p),p.pointerId)})}onMouseLeave(m,S){return y.addDisposableNonBubblingMouseOutListener(m,p=>{S(this._create(p))})}onMouseMove(m,S){return y.addDisposableListener(m,"mousemove",p=>S(this._create(p)))}}e.EditorMouseEventFactory=l;class d{constructor(m){this._editorViewDomNode=m}_create(m){return new s(m,!1,this._editorViewDomNode)}onPointerUp(m,S){return y.addDisposableListener(m,"pointerup",p=>{S(this._create(p))})}onPointerDown(m,S){return y.addDisposableListener(m,y.EventType.POINTER_DOWN,p=>{S(this._create(p),p.pointerId)})}onPointerLeave(m,S){return y.addDisposableNonBubblingPointerOutListener(m,p=>{S(this._create(p))})}onPointerMove(m,S){return y.addDisposableListener(m,"pointermove",p=>S(this._create(p)))}}e.EditorPointerEventFactory=d;class a extends w.Disposable{constructor(m){super();this._editorViewDomNode=m,this._globalPointerMoveMonitor=this._register(new f.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(m,S,p,C,_){this._keydownListener=y.addStandardDisposableListener(document,"keydown",L=>{L.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,L.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(m,S,p,L=>{C(new s(L,!0,this._editorViewDomNode))},L=>{this._keydownListener.dispose(),_(L)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=a;class o{constructor(m){this._editor=m,this._instanceId=++o._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(m){const S=this.getOrCreateRule(m);return S.increaseRefCount(),{className:S.className,dispose:()=>{S.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(m){const S=this.computeUniqueKey(m);let p=this._rules.get(S);if(!p){const C=this._counter++;p=new r(S,`dyn-rule-${this._instanceId}-${C}`,y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,m),this._rules.set(S,p)}return p}computeUniqueKey(m){return JSON.stringify(m)}garbageCollect(){for(const m of this._rules.values())m.hasReferences()||(this._rules.delete(m.key),m.dispose())}}e.DynamicCssRules=o,o._idPool=0;class r{constructor(m,S,p,C){this.key=m,this.className=S,this.properties=C,this._referenceCount=0,this._styleElement=y.createStyleSheet(p),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(m,S){let p=`.${m} {`;for(const C in S){const _=S[C];let L;typeof _=="object"?L=`var(${(0,b.asCssVariableName)(_.id)})`:L=_,p+=`
	${c(C)}: ${L};`}return p+=`
}`,p}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function c(g){return g.replace(/(^[A-Z])/,([m])=>m.toLowerCase()).replace(/([A-Z])/g,([m])=>`-${m.toLowerCase()}`)}}),define(ne[140],oe([1,0,25]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function f(v,u){const h=Object.create(null);for(const i in u){const n=u[i];n&&(h[i]=(0,y.resolveColorValue)(n,v))}return h}e.computeStyles=f;function N(v,u,h){function i(){const n=f(v.getColorTheme(),u);typeof h=="function"?h(n):h.style(n)}return i(),v.onDidColorThemeChange(i)}e.attachStyler=N;function D(v,u,h){return N(u,{badgeBackground:(h==null?void 0:h.badgeBackground)||y.badgeBackground,badgeForeground:(h==null?void 0:h.badgeForeground)||y.badgeForeground,badgeBorder:y.contrastBorder},v)}e.attachBadgeStyler=D;function w(v,u,h){return N(u,Object.assign(Object.assign({},e.defaultListStyles),h||{}),v)}e.attachListStyler=w,e.defaultListStyles={listFocusBackground:y.listFocusBackground,listFocusForeground:y.listFocusForeground,listFocusOutline:y.listFocusOutline,listActiveSelectionBackground:y.listActiveSelectionBackground,listActiveSelectionForeground:y.listActiveSelectionForeground,listActiveSelectionIconForeground:y.listActiveSelectionIconForeground,listFocusAndSelectionBackground:y.listActiveSelectionBackground,listFocusAndSelectionForeground:y.listActiveSelectionForeground,listInactiveSelectionBackground:y.listInactiveSelectionBackground,listInactiveSelectionIconForeground:y.listInactiveSelectionIconForeground,listInactiveSelectionForeground:y.listInactiveSelectionForeground,listInactiveFocusBackground:y.listInactiveFocusBackground,listInactiveFocusOutline:y.listInactiveFocusOutline,listHoverBackground:y.listHoverBackground,listHoverForeground:y.listHoverForeground,listDropBackground:y.listDropBackground,listSelectionOutline:y.activeContrastBorder,listHoverOutline:y.activeContrastBorder,listFilterWidgetBackground:y.listFilterWidgetBackground,listFilterWidgetOutline:y.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:y.listFilterWidgetNoMatchesOutline,listMatchesShadow:y.widgetShadow,treeIndentGuidesStroke:y.treeIndentGuidesStroke,tableColumnsBorder:y.tableColumnsBorder,tableOddRowsBackgroundColor:y.tableOddRowsBackgroundColor},e.defaultMenuStyles={shadowColor:y.widgetShadow,borderColor:y.menuBorder,foregroundColor:y.menuForeground,backgroundColor:y.menuBackground,selectionForegroundColor:y.menuSelectionForeground,selectionBackgroundColor:y.menuSelectionBackground,selectionBorderColor:y.menuSelectionBorder,separatorColor:y.menuSeparatorBackground,scrollbarShadow:y.scrollbarShadow,scrollbarSliderBackground:y.scrollbarSliderBackground,scrollbarSliderHoverBackground:y.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:y.scrollbarSliderActiveBackground};function b(v,u,h){return N(u,Object.assign(Object.assign({},e.defaultMenuStyles),h),v)}e.attachMenuStyler=b}),define(ne[657],oe([1,0,7,63,504,49,13,2,140]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class u{constructor(i,n,t,s,l){this.contextViewService=i,this.telemetryService=n,this.notificationService=t,this.keybindingService=s,this.themeService=l,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(i){this.options=i}showContextMenu(i){const n=i.getActions();if(!n.length)return;this.focusToReturn=document.activeElement;let t;const s=(0,y.isHTMLElement)(i.domForShadowRoot)?i.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>i.getAnchor(),canRelayout:!1,anchorAlignment:i.anchorAlignment,anchorAxisAlignment:i.anchorAxisAlignment,render:l=>{const d=i.getMenuClassName?i.getMenuClassName():"";d&&(l.className+=" "+d),this.options.blockMouse&&(this.block=l.appendChild((0,y.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,y.addDisposableListener)(this.block,y.EventType.MOUSE_DOWN,r=>r.stopPropagation()));const a=new b.DisposableStore,o=i.actionRunner||new D.ActionRunner;return o.onBeforeRun(this.onActionRun,this,a),o.onDidRun(this.onDidActionRun,this,a),t=new N.Menu(l,n,{actionViewItemProvider:i.getActionViewItem,context:i.getActionsContext?i.getActionsContext():null,actionRunner:o,getKeyBinding:i.getKeyBinding?i.getKeyBinding:r=>this.keybindingService.lookupKeybinding(r.id)}),a.add((0,v.attachMenuStyler)(t,this.themeService)),t.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),t.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add((0,y.addDisposableListener)(window,y.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add((0,y.addDisposableListener)(window,y.EventType.MOUSE_DOWN,r=>{if(r.defaultPrevented)return;const c=new f.StandardMouseEvent(r);let g=c.target;if(!c.rightButton){for(;g;){if(g===l)return;g=g.parentElement}this.contextViewService.hideContextView(!0)}})),(0,b.combinedDisposable)(a,t)},focus:()=>{t&&t.focus(!!i.autoSelectFirstItem)},onHide:l=>{var d;(d=i.onHide)===null||d===void 0||d.call(i,!!l),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},s,!!s)}onActionRun(i){this.telemetryService.publicLog2("workbenchActionExecuted",{id:i.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(i){i.error&&!(0,w.isCancellationError)(i.error)&&this.notificationService.error(i.error)}}e.ContextMenuHandler=u}),define(ne[56],oe([1,0]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var y;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(y=e.ColorScheme||(e.ColorScheme={}));function f(D){return D===y.HIGH_CONTRAST_DARK||D===y.HIGH_CONTRAST_LIGHT}e.isHighContrast=f;function N(D){return D===y.DARK||D===y.HIGH_CONTRAST_DARK}e.isDark=N}),define(ne[296],oe([1,0,36,33,17,414,128,159,134,56,34]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const i=function(){return N.isNative?!0:!(N.isLinux||y.isFirefox||y.isSafari)}();let n=!0;class t{constructor(S,p){this._domNode=S,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=p}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const S=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=S.left,this._clientRectScale=S.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}e.DomReadingContext=t;class s{constructor(S,p){this.themeType=p;const C=S.options,_=C.get(45);this.renderWhitespace=C.get(89),this.renderControlCharacters=C.get(84),this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.useMonospaceOptimizations=_.isMonospace&&!C.get(29),this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.lineHeight=C.get(60),this.stopRenderingLineAfter=C.get(106),this.fontLigatures=C.get(46)}equals(S){return this.themeType===S.themeType&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.spaceWidth===S.spaceWidth&&this.middotWidth===S.middotWidth&&this.wsmiddotWidth===S.wsmiddotWidth&&this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineHeight===S.lineHeight&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.fontLigatures===S.fontLigatures}}e.ViewLineOptions=s;class l{constructor(S){this._options=S,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(S){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,f.createFastDomNode)(S);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(S){this._isMaybeInvalid=!0,this._options=S}onSelectionChanged(){return(0,u.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(S,p,C,_){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const L=C.getViewLineRenderingData(S),E=this._options,I=b.LineDecoration.filter(L.inlineDecorations,S,L.minColumn,L.maxColumn);let T=null;if((0,u.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const k=C.selections;for(const A of k){if(A.endLineNumber<S||A.startLineNumber>S)continue;const O=A.startLineNumber===S?A.startColumn:L.minColumn,F=A.endLineNumber===S?A.endColumn:L.maxColumn;O<F&&((0,u.isHighContrast)(E.themeType)||this._options.renderWhitespace!=="selection"?I.push(new b.LineDecoration(O,F,"inline-selected-text",0)):(T||(T=[]),T.push(new v.LineRange(O-1,F-1))))}}const P=new v.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,L.minColumn-1,L.tokens,I,L.tabSize,L.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==h.EditorFontLigatures.OFF,T);if(this._renderedViewLine&&this._renderedViewLine.input.equals(P))return!1;_.appendASCIIString('<div style="top:'),_.appendASCIIString(String(p)),_.appendASCIIString("px;height:"),_.appendASCIIString(String(this._options.lineHeight)),_.appendASCIIString('px;" class="'),_.appendASCIIString(l.CLASS_NAME),_.appendASCIIString('">');const B=(0,v.renderViewLine)(P,_);_.appendASCIIString("</div>");let R=null;return n&&i&&L.isBasicASCII&&E.useMonospaceOptimizations&&B.containsForeignElements===0&&L.content.length<300&&P.lineTokens.getCount()<100&&(R=new d(this._renderedViewLine?this._renderedViewLine.domNode:null,P,B.characterMapping)),R||(R=r(this._renderedViewLine?this._renderedViewLine.domNode:null,P,B.characterMapping,B.containsRTL,B.containsForeignElements)),this._renderedViewLine=R,!0}layoutLine(S,p){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(p),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof d:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof d?this._renderedViewLine.monospaceAssumptionsAreValid():n}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof d&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(S,p,C,_){if(!this._renderedViewLine)return null;p=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,p)),C=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,C));const L=this._renderedViewLine.input.stopRenderingLineAfter;let E=!1;L!==-1&&p>L+1&&C>L+1&&(E=!0),L!==-1&&p>L+1&&(p=L+1),L!==-1&&C>L+1&&(C=L+1);const I=this._renderedViewLine.getVisibleRangesForRange(S,p,C,_);return I&&I.length>0?new w.VisibleRanges(E,I):null}getColumnOfNodeOffset(S,p,C){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(S,p,C):1}}e.ViewLine=l,l.CLASS_NAME="view-line";class d{constructor(S,p,C){this.domNode=S,this.input=p,this._characterMapping=C,this._charWidth=p.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return n;const S=this.getWidth(),p=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(S-p)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),n=!1),n}toSlowRenderedLine(){return r(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(S,p,C,_){const L=this._getCharPosition(p),E=this._getCharPosition(C);return[new w.FloatHorizontalRange(L,E-L)]}_getCharPosition(S){const p=this._characterMapping.getHorizontalOffset(S);return this._charWidth*p}getColumnOfNodeOffset(S,p,C){const _=p.textContent.length;let L=-1;for(;p;)p=p.previousSibling,L++;return this._characterMapping.getColumn(new v.DomPosition(L,C),_)}}class a{constructor(S,p,C,_,L){if(this.domNode=S,this.input=p,this._characterMapping=C,this._isWhitespaceOnly=/^\s*$/.test(p.lineContent),this._containsForeignElements=L,this._cachedWidth=-1,this._pixelOffsetCache=null,!_||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,I=this._characterMapping.length;E<=I;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(S){return S.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(S,p,C,_){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const L=this._readPixelOffset(this.domNode,S,p,_);if(L===-1)return null;const E=this._readPixelOffset(this.domNode,S,C,_);return E===-1?null:[new w.FloatHorizontalRange(L,E-L)]}return this._readVisibleRangesForRange(this.domNode,S,p,C,_)}_readVisibleRangesForRange(S,p,C,_,L){if(C===_){const E=this._readPixelOffset(S,p,C,L);return E===-1?null:[new w.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(S,C,_,L)}_readPixelOffset(S,p,C,_){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const L=this._getReadingTarget(S);return L.firstChild?L.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const L=this._pixelOffsetCache[C];if(L!==-1)return L;const E=this._actualReadPixelOffset(S,p,C,_);return this._pixelOffsetCache[C]=E,E}return this._actualReadPixelOffset(S,p,C,_)}_actualReadPixelOffset(S,p,C,_){if(this._characterMapping.length===0){const T=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),0,0,0,0,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);return!T||T.length===0?-1:T[0].left}if(C===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const L=this._characterMapping.getDomPosition(C),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),L.partIndex,L.charIndex,L.partIndex,L.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);if(!E||E.length===0)return-1;const I=E[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getHorizontalOffset(C),P=Math.round(this.input.spaceWidth*T);if(Math.abs(P-I)<=1)return P}return I}_readRawVisibleRangesForRange(S,p,C,_){if(p===1&&C===this._characterMapping.length)return[new w.FloatHorizontalRange(0,this.getWidth())];const L=this._characterMapping.getDomPosition(p),E=this._characterMapping.getDomPosition(C);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),L.partIndex,L.charIndex,E.partIndex,E.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode)}getColumnOfNodeOffset(S,p,C){const _=p.textContent.length;let L=-1;for(;p;)p=p.previousSibling,L++;return this._characterMapping.getColumn(new v.DomPosition(L,C),_)}}class o extends a{_readVisibleRangesForRange(S,p,C,_,L){const E=super._readVisibleRangesForRange(S,p,C,_,L);if(!E||E.length===0||C===_||C===1&&_===this._characterMapping.length)return E;if(!this.input.containsRTL){const I=this._readPixelOffset(S,p,_,L);if(I!==-1){const T=E[E.length-1];T.left<I&&(T.width=I-T.left)}}return E}}const r=function(){return y.isWebKit?c:g}();function c(m,S,p,C,_){return new o(m,S,p,C,_)}function g(m,S,p,C,_){return new a(m,S,p,C,_)}}),define(ne[297],oe([1,0,139,52,296,11,3,67,7,248]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class h{constructor(C=null){this.hitTarget=C,this.type=0}}class i{constructor(C,_,L){this.position=C,this.spanNode=_,this.injectedText=L,this.type=1}}var n;(function(p){function C(_,L,E){const I=_.getPositionFromDOMInfo(L,E);return I?new i(I,L,null):new h(L)}p.createFromDOMInfo=C})(n||(n={}));class t{constructor(C,_){this.lastViewCursorsRenderData=C,this.lastTextareaPosition=_}}e.PointerHandlerLastRenderData=t;class s{static _deduceRage(C,_=null){return!_&&C?new w.Range(C.lineNumber,C.column,C.lineNumber,C.column):_??null}static createUnknown(C,_,L){return{type:0,element:C,mouseColumn:_,position:L,range:this._deduceRage(L)}}static createTextarea(C,_){return{type:1,element:C,mouseColumn:_,position:null,range:null}}static createMargin(C,_,L,E,I,T){return{type:C,element:_,mouseColumn:L,position:E,range:I,detail:T}}static createViewZone(C,_,L,E,I){return{type:C,element:_,mouseColumn:L,position:E,range:this._deduceRage(E),detail:I}}static createContentText(C,_,L,E,I){return{type:6,element:C,mouseColumn:_,position:L,range:this._deduceRage(L,E),detail:I}}static createContentEmpty(C,_,L,E){return{type:7,element:C,mouseColumn:_,position:L,range:this._deduceRage(L),detail:E}}static createContentWidget(C,_,L){return{type:9,element:C,mouseColumn:_,position:null,range:null,detail:L}}static createScrollbar(C,_,L){return{type:11,element:C,mouseColumn:_,position:L,range:this._deduceRage(L)}}static createOverlayWidget(C,_,L){return{type:12,element:C,mouseColumn:_,position:null,range:null,detail:L}}static createOutsideEditor(C,_){return{type:13,element:null,mouseColumn:C,position:_,range:this._deduceRage(_)}}static _typeToString(C){return C===1?"TEXTAREA":C===2?"GUTTER_GLYPH_MARGIN":C===3?"GUTTER_LINE_NUMBERS":C===4?"GUTTER_LINE_DECORATIONS":C===5?"GUTTER_VIEW_ZONE":C===6?"CONTENT_TEXT":C===7?"CONTENT_EMPTY":C===8?"CONTENT_VIEW_ZONE":C===9?"CONTENT_WIDGET":C===10?"OVERVIEW_RULER":C===11?"SCROLLBAR":C===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(C){return this._typeToString(C.type)+": "+C.position+" - "+C.range+" - "+JSON.stringify(C.detail)}}e.MouseTarget=s;class l{static isTextArea(C){return C.length===2&&C[0]===3&&C[1]===6}static isChildOfViewLines(C){return C.length>=4&&C[0]===3&&C[3]===7}static isStrictChildOfViewLines(C){return C.length>4&&C[0]===3&&C[3]===7}static isChildOfScrollableElement(C){return C.length>=2&&C[0]===3&&C[1]===5}static isChildOfMinimap(C){return C.length>=2&&C[0]===3&&C[1]===8}static isChildOfContentWidgets(C){return C.length>=4&&C[0]===3&&C[3]===1}static isChildOfOverflowingContentWidgets(C){return C.length>=1&&C[0]===2}static isChildOfOverlayWidgets(C){return C.length>=2&&C[0]===3&&C[1]===4}}class d{constructor(C,_,L){this.viewModel=C.viewModel;const E=C.configuration.options;this.layoutInfo=E.get(132),this.viewDomNode=_.viewDomNode,this.lineHeight=E.get(60),this.stickyTabStops=E.get(105),this.typicalHalfwidthCharacterWidth=E.get(45).typicalHalfwidthCharacterWidth,this.lastRenderData=L,this._context=C,this._viewHelper=_}getZoneAtCoord(C){return d.getZoneAtCoord(this._context,C)}static getZoneAtCoord(C,_){const L=C.viewLayout.getWhitespaceAtVerticalOffset(_);if(L){const E=L.verticalOffset+L.height/2,I=C.viewModel.getLineCount();let T=null,P,B=null;return L.afterLineNumber!==I&&(B=new D.Position(L.afterLineNumber+1,1)),L.afterLineNumber>0&&(T=new D.Position(L.afterLineNumber,C.viewModel.getLineMaxColumn(L.afterLineNumber))),B===null?P=T:T===null?P=B:_<E?P=T:P=B,{viewZoneId:L.id,afterLineNumber:L.afterLineNumber,positionBefore:T,positionAfter:B,position:P}}return null}getFullLineRangeAtCoord(C){if(this._context.viewLayout.isAfterLines(C)){const E=this._context.viewModel.getLineCount(),I=this._context.viewModel.getLineMaxColumn(E);return{range:new w.Range(E,I,E,I),isAfterLines:!0}}const _=this._context.viewLayout.getLineNumberAtVerticalOffset(C),L=this._context.viewModel.getLineMaxColumn(_);return{range:new w.Range(_,1,_,L),isAfterLines:!1}}getLineNumberAtVerticalOffset(C){return this._context.viewLayout.getLineNumberAtVerticalOffset(C)}isAfterLines(C){return this._context.viewLayout.isAfterLines(C)}isInTopPadding(C){return this._context.viewLayout.isInTopPadding(C)}isInBottomPadding(C){return this._context.viewLayout.isInBottomPadding(C)}getVerticalOffsetForLineNumber(C){return this._context.viewLayout.getVerticalOffsetForLineNumber(C)}findAttribute(C,_){return d._findAttribute(C,_,this._viewHelper.viewDomNode)}static _findAttribute(C,_,L){for(;C&&C!==document.body;){if(C.hasAttribute&&C.hasAttribute(_))return C.getAttribute(_);if(C===L)return null;C=C.parentNode}return null}getLineWidth(C){return this._viewHelper.getLineWidth(C)}visibleRangeForPosition(C,_){return this._viewHelper.visibleRangeForPosition(C,_)}getPositionFromDOMInfo(C,_){return this._viewHelper.getPositionFromDOMInfo(C,_)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=d;class a{constructor(C,_,L,E){this.editorPos=_,this.pos=L,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,C.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=C.getCurrentScrollLeft()+this.relativePos.x-C.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<C.layoutInfo.contentLeft&&this.relativePos.x>=C.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,g._getMouseColumn(this.mouseContentHorizontalOffset,C.typicalHalfwidthCharacterWidth))}}class o extends a{constructor(C,_,L,E,I){super(C,_,L,E);this._ctx=C,I?(this.target=I,this.targetPath=f.PartFingerprints.collect(I,C.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(C=null){return C&&C.column<this._ctx.viewModel.getLineMaxColumn(C.lineNumber)?b.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(C.lineNumber),C.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(C=null){return s.createUnknown(this.target,this._getMouseColumn(C),C)}fulfillTextarea(){return s.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(C,_,L,E){return s.createMargin(C,this.target,this._getMouseColumn(_),_,L,E)}fulfillViewZone(C,_,L){return s.createViewZone(C,this.target,this._getMouseColumn(_),_,L)}fulfillContentText(C,_,L){return s.createContentText(this.target,this._getMouseColumn(C),C,_,L)}fulfillContentEmpty(C,_){return s.createContentEmpty(this.target,this._getMouseColumn(C),C,_)}fulfillContentWidget(C){return s.createContentWidget(this.target,this._getMouseColumn(),C)}fulfillScrollbar(C){return s.createScrollbar(this.target,this._getMouseColumn(C),C)}fulfillOverlayWidget(C){return s.createOverlayWidget(this.target,this._getMouseColumn(),C)}withTarget(C){return new o(this._ctx,this.editorPos,this.pos,this.relativePos,C)}}const r={isAfterLines:!0};function c(p){return{isAfterLines:!1,horizontalDistanceToText:p}}class g{constructor(C,_){this._context=C,this._viewHelper=_}mouseTargetIsWidget(C){const _=C.target,L=f.PartFingerprints.collect(_,this._viewHelper.viewDomNode);return!!(l.isChildOfContentWidgets(L)||l.isChildOfOverflowingContentWidgets(L)||l.isChildOfOverlayWidgets(L))}createMouseTarget(C,_,L,E,I){const T=new d(this._context,this._viewHelper,C),P=new o(T,_,L,E,I);try{return g._createMouseTarget(T,P,!1)}catch{return P.fulfillUnknown()}}static _createMouseTarget(C,_,L){if(_.target===null){if(L)return _.fulfillUnknown();const T=g._doHitTest(C,_);return T.type===1?g.createMouseTargetFromHitTestPosition(C,_,T.spanNode,T.position,T.injectedText):this._createMouseTarget(C,_.withTarget(T.hitTarget),!0)}const E=_;let I=null;return I=I||g._hitTestContentWidget(C,E),I=I||g._hitTestOverlayWidget(C,E),I=I||g._hitTestMinimap(C,E),I=I||g._hitTestScrollbarSlider(C,E),I=I||g._hitTestViewZone(C,E),I=I||g._hitTestMargin(C,E),I=I||g._hitTestViewCursor(C,E),I=I||g._hitTestTextArea(C,E),I=I||g._hitTestViewLines(C,E,L),I=I||g._hitTestScrollbar(C,E),I||_.fulfillUnknown()}static _hitTestContentWidget(C,_){if(l.isChildOfContentWidgets(_.targetPath)||l.isChildOfOverflowingContentWidgets(_.targetPath)){const L=C.findAttribute(_.target,"widgetId");return L?_.fulfillContentWidget(L):_.fulfillUnknown()}return null}static _hitTestOverlayWidget(C,_){if(l.isChildOfOverlayWidgets(_.targetPath)){const L=C.findAttribute(_.target,"widgetId");return L?_.fulfillOverlayWidget(L):_.fulfillUnknown()}return null}static _hitTestViewCursor(C,_){if(_.target){const L=C.lastRenderData.lastViewCursorsRenderData;for(const E of L)if(_.target===E.domNode)return _.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(_.isInContentArea){const L=C.lastRenderData.lastViewCursorsRenderData,E=_.mouseContentHorizontalOffset,I=_.mouseVerticalOffset;for(const T of L){if(E<T.contentLeft||E>T.contentLeft+T.width)continue;const P=C.getVerticalOffsetForLineNumber(T.position.lineNumber);if(P<=I&&I<=P+T.height)return _.fulfillContentText(T.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(C,_){const L=C.getZoneAtCoord(_.mouseVerticalOffset);if(L){const E=_.isInContentArea?8:5;return _.fulfillViewZone(E,L.position,L)}return null}static _hitTestTextArea(C,_){return l.isTextArea(_.targetPath)?C.lastRenderData.lastTextareaPosition?_.fulfillContentText(C.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):_.fulfillTextarea():null}static _hitTestMargin(C,_){if(_.isInMarginArea){const L=C.getFullLineRangeAtCoord(_.mouseVerticalOffset),E=L.range.getStartPosition();let I=Math.abs(_.relativePos.x);const T={isAfterLines:L.isAfterLines,glyphMarginLeft:C.layoutInfo.glyphMarginLeft,glyphMarginWidth:C.layoutInfo.glyphMarginWidth,lineNumbersWidth:C.layoutInfo.lineNumbersWidth,offsetX:I};return I-=C.layoutInfo.glyphMarginLeft,I<=C.layoutInfo.glyphMarginWidth?_.fulfillMargin(2,E,L.range,T):(I-=C.layoutInfo.glyphMarginWidth,I<=C.layoutInfo.lineNumbersWidth?_.fulfillMargin(3,E,L.range,T):(I-=C.layoutInfo.lineNumbersWidth,_.fulfillMargin(4,E,L.range,T)))}return null}static _hitTestViewLines(C,_,L){if(!l.isChildOfViewLines(_.targetPath))return null;if(C.isInTopPadding(_.mouseVerticalOffset))return _.fulfillContentEmpty(new D.Position(1,1),r);if(C.isAfterLines(_.mouseVerticalOffset)||C.isInBottomPadding(_.mouseVerticalOffset)){const I=C.viewModel.getLineCount(),T=C.viewModel.getLineMaxColumn(I);return _.fulfillContentEmpty(new D.Position(I,T),r)}if(L){if(l.isStrictChildOfViewLines(_.targetPath)){const I=C.getLineNumberAtVerticalOffset(_.mouseVerticalOffset);if(C.viewModel.getLineLength(I)===0){const P=C.getLineWidth(I),B=c(_.mouseContentHorizontalOffset-P);return _.fulfillContentEmpty(new D.Position(I,1),B)}const T=C.getLineWidth(I);if(_.mouseContentHorizontalOffset>=T){const P=c(_.mouseContentHorizontalOffset-T),B=new D.Position(I,C.viewModel.getLineMaxColumn(I));return _.fulfillContentEmpty(B,P)}}return _.fulfillUnknown()}const E=g._doHitTest(C,_);return E.type===1?g.createMouseTargetFromHitTestPosition(C,_,E.spanNode,E.position,E.injectedText):this._createMouseTarget(C,_.withTarget(E.hitTarget),!0)}static _hitTestMinimap(C,_){if(l.isChildOfMinimap(_.targetPath)){const L=C.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=C.viewModel.getLineMaxColumn(L);return _.fulfillScrollbar(new D.Position(L,E))}return null}static _hitTestScrollbarSlider(C,_){if(l.isChildOfScrollableElement(_.targetPath)&&_.target&&_.target.nodeType===1){const L=_.target.className;if(L&&/\b(slider|scrollbar)\b/.test(L)){const E=C.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),I=C.viewModel.getLineMaxColumn(E);return _.fulfillScrollbar(new D.Position(E,I))}}return null}static _hitTestScrollbar(C,_){if(l.isChildOfScrollableElement(_.targetPath)){const L=C.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=C.viewModel.getLineMaxColumn(L);return _.fulfillScrollbar(new D.Position(L,E))}return null}getMouseColumn(C){const _=this._context.configuration.options,L=_.get(132),E=this._context.viewLayout.getCurrentScrollLeft()+C.x-L.contentLeft;return g._getMouseColumn(E,_.get(45).typicalHalfwidthCharacterWidth)}static _getMouseColumn(C,_){return C<0?1:Math.round(C/_)+1}static createMouseTargetFromHitTestPosition(C,_,L,E,I){const T=E.lineNumber,P=E.column,B=C.getLineWidth(T);if(_.mouseContentHorizontalOffset>B){const z=c(_.mouseContentHorizontalOffset-B);return _.fulfillContentEmpty(E,z)}const R=C.visibleRangeForPosition(T,P);if(!R)return _.fulfillUnknown(E);const k=R.left;if(_.mouseContentHorizontalOffset===k)return _.fulfillContentText(E,null,{mightBeForeignElement:!!I,injectedText:I});const A=[];if(A.push({offset:R.left,column:P}),P>1){const z=C.visibleRangeForPosition(T,P-1);z&&A.push({offset:z.left,column:P-1})}const O=C.viewModel.getLineMaxColumn(T);if(P<O){const z=C.visibleRangeForPosition(T,P+1);z&&A.push({offset:z.left,column:P+1})}A.sort((z,G)=>z.offset-G.offset);const F=_.pos.toClientCoordinates(),W=L.getBoundingClientRect(),M=W.left<=F.clientX&&F.clientX<=W.right;for(let z=1;z<A.length;z++){const G=A[z-1],te=A[z];if(G.offset<=_.mouseContentHorizontalOffset&&_.mouseContentHorizontalOffset<=te.offset){const X=new w.Range(T,G.column,T,te.column);return _.fulfillContentText(E,X,{mightBeForeignElement:!M||!!I,injectedText:I})}}return _.fulfillContentText(E,null,{mightBeForeignElement:!M||!!I,injectedText:I})}static _doHitTestWithCaretRangeFromPoint(C,_){const L=C.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),I=C.getVerticalOffsetForLineNumber(L)+Math.floor(C.lineHeight/2);let T=_.pos.y+(I-_.mouseVerticalOffset);T<=_.editorPos.y&&(T=_.editorPos.y+1),T>=_.editorPos.y+_.editorPos.height&&(T=_.editorPos.y+_.editorPos.height-1);const P=new y.PageCoordinates(_.pos.x,T),B=this._actualDoHitTestWithCaretRangeFromPoint(C,P.toClientCoordinates());return B.type===1?B:this._actualDoHitTestWithCaretRangeFromPoint(C,_.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(C,_){const L=v.getShadowRoot(C.viewDomNode);let E;if(L?typeof L.caretRangeFromPoint=="undefined"?E=m(L,_.clientX,_.clientY):E=L.caretRangeFromPoint(_.clientX,_.clientY):E=document.caretRangeFromPoint(_.clientX,_.clientY),!E||!E.startContainer)return new h;const I=E.startContainer;if(I.nodeType===I.TEXT_NODE){const T=I.parentNode,P=T?T.parentNode:null,B=P?P.parentNode:null;return(B&&B.nodeType===B.ELEMENT_NODE?B.className:null)===N.ViewLine.CLASS_NAME?n.createFromDOMInfo(C,T,E.startOffset):new h(I.parentNode)}else if(I.nodeType===I.ELEMENT_NODE){const T=I.parentNode,P=T?T.parentNode:null;return(P&&P.nodeType===P.ELEMENT_NODE?P.className:null)===N.ViewLine.CLASS_NAME?n.createFromDOMInfo(C,I,I.textContent.length):new h(I)}return new h}static _doHitTestWithCaretPositionFromPoint(C,_){const L=document.caretPositionFromPoint(_.clientX,_.clientY);if(L.offsetNode.nodeType===L.offsetNode.TEXT_NODE){const E=L.offsetNode.parentNode,I=E?E.parentNode:null,T=I?I.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===N.ViewLine.CLASS_NAME?n.createFromDOMInfo(C,L.offsetNode.parentNode,L.offset):new h(L.offsetNode.parentNode)}if(L.offsetNode.nodeType===L.offsetNode.ELEMENT_NODE){const E=L.offsetNode.parentNode,I=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,T=E?E.parentNode:null,P=T&&T.nodeType===T.ELEMENT_NODE?T.className:null;if(I===N.ViewLine.CLASS_NAME){const B=L.offsetNode.childNodes[Math.min(L.offset,L.offsetNode.childNodes.length-1)];if(B)return n.createFromDOMInfo(C,B,0)}else if(P===N.ViewLine.CLASS_NAME)return n.createFromDOMInfo(C,L.offsetNode,0)}return new h(L.offsetNode)}static _snapToSoftTabBoundary(C,_){const L=_.getLineContent(C.lineNumber),{tabSize:E}=_.model.getOptions(),I=u.AtomicTabMoveOperations.atomicPosition(L,C.column-1,E,2);return I!==-1?new D.Position(C.lineNumber,I+1):C}static _doHitTest(C,_){let L=new h;if(typeof document.caretRangeFromPoint=="function"?L=this._doHitTestWithCaretRangeFromPoint(C,_):document.caretPositionFromPoint&&(L=this._doHitTestWithCaretPositionFromPoint(C,_.pos.toClientCoordinates())),L.type===1){const E=C.viewModel.getInjectedTextAt(L.position),I=C.viewModel.normalizePosition(L.position,2);(E||!I.equals(L.position))&&(L=new i(I,L.spanNode,E))}return L.type===1&&C.stickyTabStops&&(L=new i(this._snapToSoftTabBoundary(L.position,C.viewModel),L.spanNode,L.injectedText)),L}}e.MouseTargetFactory=g;function m(p,C,_){const L=document.createRange();let E=p.elementFromPoint(C,_);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const I=E.getBoundingClientRect(),T=window.getComputedStyle(E,null).getPropertyValue("font"),P=E.innerText;let B=I.left,R=0,k;if(C>I.left+I.width)R=P.length;else{const A=S.getInstance();for(let O=0;O<P.length+1;O++){if(k=A.getCharWidth(P.charAt(O),T)/2,B+=k,C<B){R=O;break}B+=k}}L.setStart(E.firstChild,R),L.setEnd(E.firstChild,R)}return L}e.shadowCaretRangeFromPoint=m;class S{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return S._INSTANCE||(S._INSTANCE=new S),S._INSTANCE}getCharWidth(C,_){const L=C+_;if(this._cache[L])return this._cache[L];const E=this._canvas.getContext("2d");E.font=_;const T=E.measureText(C).width;return this._cache[L]=T,T}}S._INSTANCE=null}),define(ne[658],oe([1,0,7,63,10,2,17,297,139,151,11,23,133]),function(j,e,y,f,N,D,w,b,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class t extends n.ViewEventHandler{constructor(a,o,r){super();this._context=a,this.viewController=o,this.viewHelper=r,this.mouseTargetFactory=new b.MouseTargetFactory(this._context,r),this._mouseDownOperation=this._register(new s(this._context,this.viewController,this.viewHelper,(S,p)=>this._createMouseTarget(S,p),S=>this._getMouseColumn(S))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(132).height;const c=new v.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(c.onContextMenu(this.viewHelper.viewDomNode,S=>this._onContextMenu(S,!0))),this._register(c.onMouseMove(this.viewHelper.viewDomNode,S=>this._onMouseMove(S))),this._register(c.onMouseUp(this.viewHelper.viewDomNode,S=>this._onMouseUp(S))),this._register(c.onMouseLeave(this.viewHelper.viewDomNode,S=>this._onMouseLeave(S)));let g=0;this._register(c.onPointerDown(this.viewHelper.viewDomNode,(S,p)=>{g=p})),this._register(y.addDisposableListener(this.viewHelper.viewDomNode,y.EventType.POINTER_UP,S=>{this._mouseDownOperation.onPointerUp()})),this._register(c.onMouseDown(this.viewHelper.viewDomNode,S=>this._onMouseDown(S,g)));const m=S=>{if(this.viewController.emitMouseWheel(S),!this._context.configuration.options.get(69))return;const p=new f.StandardWheelEvent(S);if(w.isMacintosh?(S.metaKey||S.ctrlKey)&&!S.shiftKey&&!S.altKey:S.ctrlKey&&!S.metaKey&&!S.shiftKey&&!S.altKey){const _=u.EditorZoom.getZoomLevel(),L=p.deltaY>0?1:-1;u.EditorZoom.setZoomLevel(_+L),p.preventDefault(),p.stopPropagation()}};this._register(y.addDisposableListener(this.viewHelper.viewDomNode,y.EventType.MOUSE_WHEEL,m,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(a){if(a.hasChanged(132)){const o=this._context.configuration.options.get(132).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(a){return this._mouseDownOperation.onCursorStateChanged(a),!1}onFocusChanged(a){return!1}onScrollChanged(a){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(a,o){const c=new v.ClientCoordinates(a,o).toPageCoordinates(),g=(0,v.createEditorPagePosition)(this.viewHelper.viewDomNode);if(c.y<g.y||c.y>g.y+g.height||c.x<g.x||c.x>g.x+g.width)return null;const m=(0,v.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,g,c);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,c,m,null)}_createMouseTarget(a,o){let r=a.target;if(!this.viewHelper.viewDomNode.contains(r)){const c=y.getShadowRoot(this.viewHelper.viewDomNode);c&&(r=c.elementsFromPoint(a.posx,a.posy).find(g=>this.viewHelper.viewDomNode.contains(g)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),a.editorPos,a.pos,a.relativePos,o?r:null)}_getMouseColumn(a){return this.mouseTargetFactory.getMouseColumn(a.relativePos)}_onContextMenu(a,o){this.viewController.emitContextMenu({event:a,target:this._createMouseTarget(a,o)})}_onMouseMove(a){this.mouseTargetFactory.mouseTargetIsWidget(a)||a.preventDefault(),!(this._mouseDownOperation.isActive()||a.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:a,target:this._createMouseTarget(a,!0)})}_onMouseLeave(a){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:a,target:null})}_onMouseUp(a){this.viewController.emitMouseUp({event:a,target:this._createMouseTarget(a,!0)})}_onMouseDown(a,o){const r=this._createMouseTarget(a,!0),c=r.type===6||r.type===7,g=r.type===2||r.type===3||r.type===4,m=r.type===3,S=this._context.configuration.options.get(99),p=r.type===8||r.type===5,C=r.type===9;let _=a.leftButton||a.middleButton;w.isMacintosh&&a.leftButton&&a.ctrlKey&&(_=!1);const L=()=>{a.preventDefault(),this.viewHelper.focusTextArea()};if(_&&(c||m&&S))L(),this._mouseDownOperation.start(r.type,a,o);else if(g)a.preventDefault();else if(p){const E=r.detail;_&&this.viewHelper.shouldSuppressMouseDownOnViewZone(E.viewZoneId)&&(L(),this._mouseDownOperation.start(r.type,a,o),a.preventDefault())}else C&&this.viewHelper.shouldSuppressMouseDownOnWidget(r.detail)&&(L(),a.preventDefault());this.viewController.emitMouseDown({event:a,target:r})}}e.MouseHandler=t;class s extends D.Disposable{constructor(a,o,r,c,g){super();this._context=a,this._viewController=o,this._viewHelper=r,this._createMouseTarget=c,this._getMouseColumn=g,this._mouseMoveMonitor=this._register(new v.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new N.TimeoutTimer),this._mouseState=new l,this._currentSelection=new i.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(a){this._lastMouseEvent=a,this._mouseState.setModifiers(a);const o=this._findMousePosition(a,!1);!o||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:a,target:o}):this._dispatchMouse(o,!0))}start(a,o,r){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(a===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const c=this._findMousePosition(o,!0);if(!c||!c.position)return;this._mouseState.trySetCount(o.detail,c.position),o.detail=this._mouseState.count;const g=this._context.configuration.options;if(!g.get(82)&&g.get(31)&&!g.get(18)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&c.type===6&&c.position&&this._currentSelection.containsPosition(c.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,r,o.buttons,m=>this._onMouseDownThenMove(m),m=>{const S=this._findMousePosition(this._lastMouseEvent,!1);m&&m instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:S?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(c,o.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,r,o.buttons,m=>this._onMouseDownThenMove(m),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const a=this._findMousePosition(this._lastMouseEvent,!1);!a||this._mouseState.isDragAndDrop||this._dispatchMouse(a,!0)},10)}onCursorStateChanged(a){this._currentSelection=a.selections[0]}_getPositionOutsideEditor(a){const o=a.editorPos,r=this._context.viewModel,c=this._context.viewLayout,g=this._getMouseColumn(a);if(a.posy<o.y){const S=Math.max(c.getCurrentScrollTop()-(o.y-a.posy),0),p=b.HitTestContext.getZoneAtCoord(this._context,S);if(p){const _=this._helpPositionJumpOverViewZone(p);if(_)return b.MouseTarget.createOutsideEditor(g,_)}const C=c.getLineNumberAtVerticalOffset(S);return b.MouseTarget.createOutsideEditor(g,new h.Position(C,1))}if(a.posy>o.y+o.height){const S=c.getCurrentScrollTop()+a.relativePos.y,p=b.HitTestContext.getZoneAtCoord(this._context,S);if(p){const _=this._helpPositionJumpOverViewZone(p);if(_)return b.MouseTarget.createOutsideEditor(g,_)}const C=c.getLineNumberAtVerticalOffset(S);return b.MouseTarget.createOutsideEditor(g,new h.Position(C,r.getLineMaxColumn(C)))}const m=c.getLineNumberAtVerticalOffset(c.getCurrentScrollTop()+a.relativePos.y);return a.posx<o.x?b.MouseTarget.createOutsideEditor(g,new h.Position(m,1)):a.posx>o.x+o.width?b.MouseTarget.createOutsideEditor(g,new h.Position(m,r.getLineMaxColumn(m))):null}_findMousePosition(a,o){const r=this._getPositionOutsideEditor(a);if(r)return r;const c=this._createMouseTarget(a,o);if(!c.position)return null;if(c.type===8||c.type===5){const m=this._helpPositionJumpOverViewZone(c.detail);if(m)return b.MouseTarget.createViewZone(c.type,c.element,c.mouseColumn,m,c.detail)}return c}_helpPositionJumpOverViewZone(a){const o=new h.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),r=a.positionBefore,c=a.positionAfter;return r&&c?r.isBefore(o)?r:c:null}_dispatchMouse(a,o){!a.position||this._viewController.dispatchMouse({position:a.position,mouseColumn:a.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:a.type===6&&a.detail.injectedText!==null})}}class l{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(a){this._altKey=a.altKey,this._ctrlKey=a.ctrlKey,this._metaKey=a.metaKey,this._shiftKey=a.shiftKey}setStartButtons(a){this._leftButton=a.leftButton,this._middleButton=a.middleButton}setStartedOnLineNumbers(a){this._startedOnLineNumbers=a}trySetCount(a,o){const r=new Date().getTime();r-this._lastSetMouseDownCountTime>l.CLEAR_MOUSE_DOWN_COUNT_TIME&&(a=1),this._lastSetMouseDownCountTime=r,a>this._lastMouseDownCount+1&&(a=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(a,this._lastMouseDownPositionEqualCount)}}l.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ne[659],oe([1,0,7,17,60,2,658,139,174,185]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class h extends w.MouseHandler{constructor(s,l,d){super(s,l,d);this._register(N.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Tap,o=>this.onTap(o))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Change,o=>this.onChange(o))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Contextmenu,o=>this._onContextMenu(new b.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",o=>{const r=o.pointerType;if(r==="mouse"){this._lastPointerType="mouse";return}else r==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const a=new b.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(a.onPointerMove(this.viewHelper.viewDomNode,o=>this._onMouseMove(o))),this._register(a.onPointerUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(a.onPointerLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(a.onPointerDown(this.viewHelper.viewDomNode,(o,r)=>this._onMouseDown(o,r)))}onTap(s){if(!s.initialTarget||!this.viewHelper.linesContentDomNode.contains(s.initialTarget))return;s.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new b.EditorMouseEvent(s,!1,this.viewHelper.viewDomNode),!1);l.position&&this.viewController.dispatchMouse({position:l.position,mouseColumn:l.position.column,startedOnLineNumbers:!1,mouseDownCount:s.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:l.type===6&&l.detail.injectedText!==null})}onChange(s){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-s.translationX,-s.translationY)}_onMouseDown(s,l){s.browserEvent.pointerType!=="touch"&&super._onMouseDown(s,l)}}e.PointerEventHandler=h;class i extends w.MouseHandler{constructor(s,l,d){super(s,l,d);this._register(N.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Tap,a=>this.onTap(a))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Change,a=>this.onChange(a))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Contextmenu,a=>this._onContextMenu(new b.EditorMouseEvent(a,!1,this.viewHelper.viewDomNode),!1)))}onTap(s){s.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new b.EditorMouseEvent(s,!1,this.viewHelper.viewDomNode),!1);if(l.position){const d=document.createEvent("CustomEvent");d.initEvent(u.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(d),this.viewController.moveTo(l.position)}}onChange(s){this._context.viewModel.viewLayout.deltaScrollNow(-s.translationX,-s.translationY)}}class n extends D.Disposable{constructor(s,l,d){super();f.isIOS&&v.BrowserFeatures.pointerEvents?this.handler=this._register(new h(s,l,d)):window.TouchEvent?this.handler=this._register(new i(s,l,d)):this.handler=this._register(new w.MouseHandler(s,l,d))}getTargetAtClientPoint(s,l){return this.handler.getTargetAtClientPoint(s,l)}}e.PointerHandler=n}),define(ne[660],oe([1,0,17,10,68,186,52,296,11,3,128,148,373]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class n{constructor(){this._currentVisibleRange=new u.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(a){this._currentVisibleRange=a}}class t{constructor(a,o,r,c,g,m,S){this.minimalReveal=a,this.lineNumber=o,this.startColumn=r,this.endColumn=c,this.startScrollTop=g,this.stopScrollTop=m,this.scrollType=S,this.type="range",this.minLineNumber=o,this.maxLineNumber=o}}class s{constructor(a,o,r,c,g){this.minimalReveal=a,this.selections=o,this.startScrollTop=r,this.stopScrollTop=c,this.scrollType=g,this.type="selections";let m=o[0].startLineNumber,S=o[0].endLineNumber;for(let p=1,C=o.length;p<C;p++){const _=o[p];m=Math.min(m,_.startLineNumber),S=Math.max(S,_.endLineNumber)}this.minLineNumber=m,this.maxLineNumber=S}}class l extends w.ViewPart{constructor(a,o){super(a);this._linesContent=o,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new D.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const r=this._context.configuration,c=this._context.configuration.options,g=c.get(45),m=c.get(133),S=c.get(132);this._lineHeight=c.get(60),this._typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this._isViewportWrapping=m.isViewportWrapping,this._revealHorizontalRightPadding=c.get(90),this._horizontalScrollbarHeight=S.horizontalScrollbarHeight,this._cursorSurroundingLines=c.get(25),this._cursorSurroundingLinesStyle=c.get(26),this._canUseLayerHinting=!c.get(28),this._viewLineOptions=new b.ViewLineOptions(r,this._context.theme.type),w.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,N.applyFontInfo)(this.domNode,g),this._maxLineWidth=0,this._asyncUpdateLineWidths=new f.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new f.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new n,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new b.ViewLine(this._viewLineOptions)}onConfigurationChanged(a){this._visibleLines.onConfigurationChanged(a),a.hasChanged(133)&&(this._maxLineWidth=0);const o=this._context.configuration.options,r=o.get(45),c=o.get(133),g=o.get(132);return this._lineHeight=o.get(60),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=c.isViewportWrapping,this._revealHorizontalRightPadding=o.get(90),this._horizontalScrollbarHeight=g.horizontalScrollbarHeight,this._cursorSurroundingLines=o.get(25),this._cursorSurroundingLinesStyle=o.get(26),this._canUseLayerHinting=!o.get(28),(0,N.applyFontInfo)(this.domNode,r),this._onOptionsMaybeChanged(),a.hasChanged(132)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const a=this._context.configuration,o=new b.ViewLineOptions(a,this._context.theme.type);if(!this._viewLineOptions.equals(o)){this._viewLineOptions=o;const r=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let g=r;g<=c;g++)this._visibleLines.getVisibleLine(g).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(a){const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let c=!1;for(let g=o;g<=r;g++)c=this._visibleLines.getVisibleLine(g).onSelectionChanged()||c;return c}onDecorationsChanged(a){{const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let c=o;c<=r;c++)this._visibleLines.getVisibleLine(c).onDecorationsChanged()}return!0}onFlushed(a){const o=this._visibleLines.onFlushed(a);return this._maxLineWidth=0,o}onLinesChanged(a){return this._visibleLines.onLinesChanged(a)}onLinesDeleted(a){return this._visibleLines.onLinesDeleted(a)}onLinesInserted(a){return this._visibleLines.onLinesInserted(a)}onRevealRangeRequest(a){const o=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),a.source,a.minimalReveal,a.range,a.selections,a.verticalType);if(o===-1)return!1;let r=this._context.viewLayout.validateScrollPosition({scrollTop:o});a.revealHorizontal?a.range&&a.range.startLineNumber!==a.range.endLineNumber?r={scrollTop:r.scrollTop,scrollLeft:0}:a.range?this._horizontalRevealRequest=new t(a.minimalReveal,a.range.startLineNumber,a.range.startColumn,a.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,a.scrollType):a.selections&&a.selections.length>0&&(this._horizontalRevealRequest=new s(a.minimalReveal,a.selections,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,a.scrollType)):this._horizontalRevealRequest=null;const g=Math.abs(this._context.viewLayout.getCurrentScrollTop()-r.scrollTop)<=this._lineHeight?1:a.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(r,g),!0}onScrollChanged(a){if(this._horizontalRevealRequest&&a.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&a.scrollTopChanged){const o=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),r=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(a.scrollTop<o||a.scrollTop>r)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(a.scrollWidth),this._visibleLines.onScrollChanged(a)||!0}onTokensChanged(a){return this._visibleLines.onTokensChanged(a)}onZonesChanged(a){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(a)}onThemeChanged(a){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(a,o){const r=this._getViewLineDomNode(a);if(r===null)return null;const c=this._getLineNumberFor(r);if(c===-1||c<1||c>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(c)===1)return new v.Position(c,1);const g=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();if(c<g||c>m)return null;let S=this._visibleLines.getVisibleLine(c).getColumnOfNodeOffset(c,a,o);const p=this._context.viewModel.getLineMinColumn(c);return S<p&&(S=p),new v.Position(c,S)}_getViewLineDomNode(a){for(;a&&a.nodeType===1;){if(a.className===b.ViewLine.CLASS_NAME)return a;a=a.parentElement}return null}_getLineNumberFor(a){const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let c=o;c<=r;c++){const g=this._visibleLines.getVisibleLine(c);if(a===g.getDomNode())return c}return-1}getLineWidth(a){const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();return a<o||a>r?-1:this._visibleLines.getVisibleLine(a).getWidth()}linesVisibleRangesForRange(a,o){if(this.shouldRender())return null;const r=a.endLineNumber,c=u.Range.intersectRanges(a,this._lastRenderedData.getCurrentVisibleRange());if(!c)return null;const g=[];let m=0;const S=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let p=0;o&&(p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(c.startLineNumber,1)).lineNumber);const C=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let L=c.startLineNumber;L<=c.endLineNumber;L++){if(L<C||L>_)continue;const E=L===c.startLineNumber?c.startColumn:1,I=L===c.endLineNumber?c.endColumn:this._context.viewModel.getLineMaxColumn(L),T=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(L,E,I,S);if(!!T){if(o&&L<r){const P=p;p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(L+1,1)).lineNumber,P!==p&&(T.ranges[T.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}g[m++]=new h.LineVisibleRanges(T.outsideRenderedLine,L,h.HorizontalRange.from(T.ranges))}}return m===0?null:g}_visibleRangesForLineRange(a,o,r){return this.shouldRender()||a<this._visibleLines.getStartLineNumber()||a>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(a).getVisibleRangesForRange(a,o,r,new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(a){const o=this._visibleRangesForLineRange(a.lineNumber,a.column,a.column);return o?new h.HorizontalPosition(o.outsideRenderedLine,o.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(a){const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let c=1,g=!0;for(let m=o;m<=r;m++){const S=this._visibleLines.getVisibleLine(m);if(a&&!S.getWidthIsFast()){g=!1;continue}c=Math.max(c,S.getWidth())}return g&&o===1&&r===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(c),g}_checkMonospaceFontAssumptions(){let a=-1,o=-1;const r=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let g=r;g<=c;g++){const m=this._visibleLines.getVisibleLine(g);if(m.needsMonospaceFontCheck()){const S=m.getWidth();S>o&&(o=S,a=g)}}if(a!==-1&&!this._visibleLines.getVisibleLine(a).monospaceAssumptionsAreValid())for(let g=r;g<=c;g++)this._visibleLines.getVisibleLine(g).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(a){if(this._visibleLines.renderLines(a),this._lastRenderedData.setCurrentVisibleRange(a.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const r=this._horizontalRevealRequest;if(a.startLineNumber<=r.minLineNumber&&r.maxLineNumber<=a.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const c=this._computeScrollLeftToReveal(r);c&&(this._isViewportWrapping||this._ensureMaxLineWidth(c.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:c.scrollLeft},r.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const r=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let g=r;g<=c;g++)if(this._visibleLines.getVisibleLine(g).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const o=this._context.viewLayout.getCurrentScrollTop()-a.bigNumbersDelta;this._linesContent.setTop(-o),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(a){const o=Math.ceil(a);this._maxLineWidth<o&&(this._maxLineWidth=o,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(a,o,r,c,g,m){const S=a.top,p=a.height,C=S+p;let _,L,E;if(g&&g.length>0){let P=g[0].startLineNumber,B=g[0].endLineNumber;for(let R=1,k=g.length;R<k;R++){const A=g[R];P=Math.min(P,A.startLineNumber),B=Math.max(B,A.endLineNumber)}_=!1,L=this._context.viewLayout.getVerticalOffsetForLineNumber(P),E=this._context.viewLayout.getVerticalOffsetForLineNumber(B)+this._lineHeight}else if(c)_=!0,L=this._context.viewLayout.getVerticalOffsetForLineNumber(c.startLineNumber),E=this._context.viewLayout.getVerticalOffsetForLineNumber(c.endLineNumber)+this._lineHeight;else return-1;if((o==="mouse"||r)&&this._cursorSurroundingLinesStyle==="default")r||(L-=this._lineHeight);else{const P=Math.min(p/this._lineHeight/2,this._cursorSurroundingLines);L-=P*this._lineHeight,E+=Math.max(0,P-1)*this._lineHeight}(m===0||m===4)&&(E+=r?this._horizontalScrollbarHeight:this._lineHeight);let T;if(E-L>p){if(!_)return-1;T=L}else if(m===5||m===6)if(m===6&&S<=L&&E<=C)T=S;else{const P=Math.max(5*this._lineHeight,p*.2),B=L-P,R=E-p;T=Math.max(R,B)}else if(m===1||m===2)if(m===2&&S<=L&&E<=C)T=S;else{const P=(L+E)/2;T=Math.max(0,P-p/2)}else T=this._computeMinimumScrolling(S,C,L,E,m===3,m===4);return T}_computeScrollLeftToReveal(a){const o=this._context.viewLayout.getCurrentViewport(),r=o.left,c=r+o.width;let g=1073741824,m=0;if(a.type==="range"){const p=this._visibleRangesForLineRange(a.lineNumber,a.startColumn,a.endColumn);if(!p)return null;for(const C of p.ranges)g=Math.min(g,Math.round(C.left)),m=Math.max(m,Math.round(C.left+C.width))}else for(const p of a.selections){if(p.startLineNumber!==p.endLineNumber)return null;const C=this._visibleRangesForLineRange(p.startLineNumber,p.startColumn,p.endColumn);if(!C)return null;for(const _ of C.ranges)g=Math.min(g,Math.round(_.left)),m=Math.max(m,Math.round(_.left+_.width))}return a.minimalReveal||(g=Math.max(0,g-l.HORIZONTAL_EXTRA_PX),m+=this._revealHorizontalRightPadding),a.type==="selections"&&m-g>o.width?null:{scrollLeft:this._computeMinimumScrolling(r,c,g,m),maxHorizontalOffset:m}}_computeMinimumScrolling(a,o,r,c,g,m){a=a|0,o=o|0,r=r|0,c=c|0,g=!!g,m=!!m;const S=o-a;if(c-r<S){if(g)return r;if(m)return Math.max(0,c-S);if(r<a)return r;if(c>o)return Math.max(0,c-S)}else return r;return a}}e.ViewLines=l,l.HORIZONTAL_EXTRA_PX=30}),define(ne[15],oe([1,0,27,4,2,8,35,56]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,D.createDecorator)("themeService");var v;(function(d){function a(o){return o&&typeof o=="object"&&typeof o.id=="string"}d.isThemeColor=a})(v=e.ThemeColor||(e.ThemeColor={}));function u(d){return{id:d}}e.themeColorFromId=u;var h;(function(d){function a(C){return C&&typeof C=="object"&&typeof C.id=="string"&&(typeof C.color=="undefined"||v.isThemeColor(C.color))}d.isThemeIcon=a;const o=new RegExp(`^\\$\\((${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?)\\)$`);function r(C){const _=o.exec(C);if(!_)return;const[,L]=_;return{id:L}}d.fromString=r;function c(C){return{id:C}}d.fromId=c;function g(C,_){let L=C.id;const E=L.lastIndexOf("~");return E!==-1&&(L=L.substring(0,E)),_&&(L=`${L}~${_}`),{id:L}}d.modify=g;function m(C){const _=C.id.lastIndexOf("~");if(_!==-1)return C.id.substring(_+1)}d.getModifier=m;function S(C,_){var L,E;return C.id===_.id&&((L=C.color)===null||L===void 0?void 0:L.id)===((E=_.color)===null||E===void 0?void 0:E.id)}d.isEqual=S;function p(C,_){return{id:C.id,color:_?u(_):void 0}}d.asThemeIcon=p,d.asClassNameArray=y.CSSIcon.asClassNameArray,d.asClassName=y.CSSIcon.asClassName,d.asCSSSelector=y.CSSIcon.asCSSSelector})(h=e.ThemeIcon||(e.ThemeIcon={}));function i(d){switch(d){case b.ColorScheme.DARK:return"vs-dark";case b.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case b.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=i,e.Extensions={ThemingContribution:"base.contributions.theming"};class n{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new f.Emitter}onColorThemeChange(a){return this.themingParticipants.push(a),this.onThemingParticipantAddedEmitter.fire(a),(0,N.toDisposable)(()=>{const o=this.themingParticipants.indexOf(a);this.themingParticipants.splice(o,1)})}getThemingParticipants(){return this.themingParticipants}}const t=new n;w.Registry.add(e.Extensions.ThemingContribution,t);function s(d){return t.onColorThemeChange(d)}e.registerThemingParticipant=s;class l extends N.Disposable{constructor(a){super();this.themeService=a,this.theme=a.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(o=>this.onThemeChange(o)))}onThemeChange(a){this.theme=a,this.updateStyles()}updateStyles(){}}e.Themable=l}),define(ne[661],oe([1,0,4,2,15]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let D=class extends f.Disposable{constructor(v){super();this._themeService=v,this._onCodeEditorAdd=this._register(new y.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new y.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new y.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new y.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(v){this._codeEditors[v.getId()]=v,this._onCodeEditorAdd.fire(v)}removeCodeEditor(v){delete this._codeEditors[v.getId()]&&this._onCodeEditorRemove.fire(v)}listCodeEditors(){return Object.keys(this._codeEditors).map(v=>this._codeEditors[v])}addDiffEditor(v){this._diffEditors[v.getId()]=v,this._onDiffEditorAdd.fire(v)}removeDiffEditor(v){delete this._diffEditors[v.getId()]&&this._onDiffEditorRemove.fire(v)}listDiffEditors(){return Object.keys(this._diffEditors).map(v=>this._diffEditors[v])}getFocusedCodeEditor(){let v=null;const u=this.listCodeEditors();for(const h of u){if(h.hasTextFocus())return h;h.hasWidgetFocus()&&(v=h)}return v}removeDecorationType(v){const u=this._decorationOptionProviders.get(v);u&&(u.refCount--,u.refCount<=0&&(this._decorationOptionProviders.delete(v),u.dispose(),this.listCodeEditors().forEach(h=>h.removeDecorations(v))))}setModelProperty(v,u,h){const i=v.toString();let n;this._modelProperties.has(i)?n=this._modelProperties.get(i):(n=new Map,this._modelProperties.set(i,n)),n.set(u,h)}getModelProperty(v,u){const h=v.toString();if(this._modelProperties.has(h))return this._modelProperties.get(h).get(u)}};D=De([ge(0,N.IThemeService)],D),e.AbstractCodeEditorService=D;class w{constructor(v){this._styleSheet=v}}e.GlobalStyleSheet=w}),define(ne[662],oe([1,0,7,33,74,52,15,25]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class v extends D.ViewPart{constructor(h,i,n,t){super(h);const s=this._context.configuration.options,l=s.get(93),d=s.get(68),a=s.get(35),o=s.get(96),r={listenOnDomNode:n.domNode,className:"editor-scrollable "+(0,w.getThemeTypeSelector)(h.theme.type),useShadows:!1,lazyRender:!0,vertical:l.vertical,horizontal:l.horizontal,verticalHasArrows:l.verticalHasArrows,horizontalHasArrows:l.horizontalHasArrows,verticalScrollbarSize:l.verticalScrollbarSize,verticalSliderSize:l.verticalSliderSize,horizontalScrollbarSize:l.horizontalScrollbarSize,horizontalSliderSize:l.horizontalSliderSize,handleMouseWheel:l.handleMouseWheel,alwaysConsumeMouseWheel:l.alwaysConsumeMouseWheel,arrowSize:l.arrowSize,mouseWheelScrollSensitivity:d,fastScrollSensitivity:a,scrollPredominantAxis:o,scrollByPage:l.scrollByPage};this.scrollbar=this._register(new N.SmoothScrollableElement(i.domNode,r,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,f.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const c=(g,m,S)=>{const p={};if(m){const C=g.scrollTop;C&&(p.scrollTop=this._context.viewLayout.getCurrentScrollTop()+C,g.scrollTop=0)}if(S){const C=g.scrollLeft;C&&(p.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+C,g.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(p,1)};this._register(y.addDisposableListener(n.domNode,"scroll",g=>c(n.domNode,!0,!0))),this._register(y.addDisposableListener(i.domNode,"scroll",g=>c(i.domNode,!0,!1))),this._register(y.addDisposableListener(t.domNode,"scroll",g=>c(t.domNode,!0,!1))),this._register(y.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",g=>c(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const h=this._context.configuration.options,i=h.get(132);this.scrollbarDomNode.setLeft(i.contentLeft),h.get(66).side==="right"?this.scrollbarDomNode.setWidth(i.contentWidth+i.minimap.minimapWidth):this.scrollbarDomNode.setWidth(i.contentWidth),this.scrollbarDomNode.setHeight(i.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(h){this.scrollbar.delegateVerticalScrollbarPointerDown(h)}onConfigurationChanged(h){if(h.hasChanged(93)||h.hasChanged(68)||h.hasChanged(35)){const i=this._context.configuration.options,n=i.get(93),t=i.get(68),s=i.get(35),l=i.get(96),d={vertical:n.vertical,horizontal:n.horizontal,verticalScrollbarSize:n.verticalScrollbarSize,horizontalScrollbarSize:n.horizontalScrollbarSize,scrollByPage:n.scrollByPage,handleMouseWheel:n.handleMouseWheel,mouseWheelScrollSensitivity:t,fastScrollSensitivity:s,scrollPredominantAxis:l};this.scrollbar.updateOptions(d)}return h.hasChanged(132)&&this._setLayout(),!0}onScrollChanged(h){return!0}onThemeChanged(h){return this.scrollbar.updateClassName("editor-scrollable "+(0,w.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(h){}render(h){this.scrollbar.renderNow()}}e.EditorScrollbar=v,(0,w.registerThemingParticipant)((u,h)=>{const i=u.getColor(b.scrollbarShadow);i&&h.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${i} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${i} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${i} 6px 6px 6px -6px inset;
			}
		`);const n=u.getColor(b.scrollbarSliderBackground);n&&h.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${n};
			}
		`);const t=u.getColor(b.scrollbarSliderHoverBackground);t&&h.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${t};
			}
		`);const s=u.getColor(b.scrollbarSliderActiveBackground);s&&h.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${s};
			}
		`)})}),define(ne[663],oe([1,0,7,33,124,2,17,9,186,52,34,3,246,263,75,25,15,23,60,417,48,94,376]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const m=140,S=2;class p{constructor(k,A,O){const F=k.options,W=F.get(130),M=F.get(132),z=M.minimap,G=F.get(45),te=F.get(66);this.renderMinimap=z.renderMinimap,this.size=te.size,this.minimapHeightIsEditorHeight=z.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(95),this.showSlider=te.showSlider,this.pixelRatio=W,this.typicalHalfwidthCharacterWidth=G.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(60),this.minimapLeft=z.minimapLeft,this.minimapWidth=z.minimapWidth,this.minimapHeight=M.height,this.canvasInnerWidth=z.minimapCanvasInnerWidth,this.canvasInnerHeight=z.minimapCanvasInnerHeight,this.canvasOuterWidth=z.minimapCanvasOuterWidth,this.canvasOuterHeight=z.minimapCanvasOuterHeight,this.isSampling=z.minimapIsSampling,this.editorHeight=M.height,this.fontScale=z.minimapScale,this.minimapLineHeight=z.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,g.once)(()=>r.MinimapCharRendererFactory.create(this.fontScale,G.fontFamily)),this.defaultBackgroundColor=O.getColor(2),this.backgroundColor=p._getMinimapBackground(A,this.defaultBackgroundColor),this.foregroundAlpha=p._getMinimapForegroundOpacity(A)}static _getMinimapBackground(k,A){const O=k.getColor(l.minimapBackground);return O?new n.RGBA8(O.rgba.r,O.rgba.g,O.rgba.b,Math.round(255*O.rgba.a)):A}static _getMinimapForegroundOpacity(k){const A=k.getColor(l.minimapForegroundOpacity);return A?n.RGBA8._clamp(Math.round(255*A.rgba.a)):255}equals(k){return this.renderMinimap===k.renderMinimap&&this.size===k.size&&this.minimapHeightIsEditorHeight===k.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===k.scrollBeyondLastLine&&this.showSlider===k.showSlider&&this.pixelRatio===k.pixelRatio&&this.typicalHalfwidthCharacterWidth===k.typicalHalfwidthCharacterWidth&&this.lineHeight===k.lineHeight&&this.minimapLeft===k.minimapLeft&&this.minimapWidth===k.minimapWidth&&this.minimapHeight===k.minimapHeight&&this.canvasInnerWidth===k.canvasInnerWidth&&this.canvasInnerHeight===k.canvasInnerHeight&&this.canvasOuterWidth===k.canvasOuterWidth&&this.canvasOuterHeight===k.canvasOuterHeight&&this.isSampling===k.isSampling&&this.editorHeight===k.editorHeight&&this.fontScale===k.fontScale&&this.minimapLineHeight===k.minimapLineHeight&&this.minimapCharWidth===k.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(k.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(k.backgroundColor)&&this.foregroundAlpha===k.foregroundAlpha}}class C{constructor(k,A,O,F,W,M,z,G){this.scrollTop=k,this.scrollHeight=A,this.sliderNeeded=O,this._computedSliderRatio=F,this.sliderTop=W,this.sliderHeight=M,this.startLineNumber=z,this.endLineNumber=G}getDesiredScrollTopFromDelta(k){return Math.round(this.scrollTop+k/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(k){return Math.round((k-this.sliderHeight/2)/this._computedSliderRatio)}static create(k,A,O,F,W,M,z,G,te,X,J){const ie=k.pixelRatio,re=k.minimapLineHeight,Z=Math.floor(k.canvasInnerHeight/re),x=k.lineHeight;if(k.minimapHeightIsEditorHeight){const de=G*k.lineHeight+(k.scrollBeyondLastLine?W-k.lineHeight:0),H=Math.max(1,Math.floor(W*W/de)),$=Math.max(0,k.minimapHeight-H),K=$/(X-W),V=te*K,Q=$>0,ee=Math.floor(k.canvasInnerHeight/k.minimapLineHeight);return new C(te,X,Q,K,V,H,1,Math.min(z,ee))}let U;if(M&&O!==z){const de=O-A+1;U=Math.floor(de*re/ie)}else{const de=W/x;U=Math.floor(de*re/ie)}let q;k.scrollBeyondLastLine?q=(z-1)*re/ie:q=Math.max(0,z*re/ie-U),q=Math.min(k.minimapHeight-U,q);const le=q/(X-W),se=te*le;let Y=0;if(k.scrollBeyondLastLine&&(Y=W/x-1),Z>=z+Y){const de=1,H=z,$=q>0;return new C(te,X,$,le,se,U,de,H)}else{let de=Math.max(1,Math.floor(A-se*ie/re));J&&J.scrollHeight===X&&(J.scrollTop>te&&(de=Math.min(de,J.startLineNumber)),J.scrollTop<te&&(de=Math.max(de,J.startLineNumber)));const H=Math.min(z,de+Z-1),$=(te-F)/x,K=(A-de+$)*re/ie;return new C(te,X,!0,le,K,U,de,H)}}}class _{constructor(k){this.dy=k}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class L{constructor(k,A,O){this.renderedLayout=k,this._imageData=A,this._renderedLines=new v.RenderedLinesCollection(()=>_.INVALID),this._renderedLines._set(k.startLineNumber,O)}linesEquals(k){if(!this.scrollEquals(k))return!1;const O=this._renderedLines._get().lines;for(let F=0,W=O.length;F<W;F++)if(O[F].dy===-1)return!1;return!0}scrollEquals(k){return this.renderedLayout.startLineNumber===k.startLineNumber&&this.renderedLayout.endLineNumber===k.endLineNumber}_get(){const k=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:k.rendLineNumberStart,lines:k.lines}}onLinesChanged(k,A){return this._renderedLines.onLinesChanged(k,A)}onLinesDeleted(k,A){this._renderedLines.onLinesDeleted(k,A)}onLinesInserted(k,A){this._renderedLines.onLinesInserted(k,A)}onTokensChanged(k){return this._renderedLines.onTokensChanged(k)}}class E{constructor(k,A,O,F){this._backgroundFillData=E._createBackgroundFillData(A,O,F),this._buffers=[k.createImageData(A,O),k.createImageData(A,O)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const k=this._buffers[this._lastUsedBuffer];return k.data.set(this._backgroundFillData),k}static _createBackgroundFillData(k,A,O){const F=O.r,W=O.g,M=O.b,z=O.a,G=new Uint8ClampedArray(k*A*4);let te=0;for(let X=0;X<A;X++)for(let J=0;J<k;J++)G[te]=F,G[te+1]=W,G[te+2]=M,G[te+3]=z,te+=4;return G}}class I{constructor(k,A){this.samplingRatio=k,this.minimapLines=A}static compute(k,A,O){if(k.renderMinimap===0||!k.isSampling)return[null,[]];const F=k.pixelRatio,W=k.lineHeight,M=k.scrollBeyondLastLine,{minimapLineCount:z}=h.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:A,scrollBeyondLastLine:M,height:k.editorHeight,lineHeight:W,pixelRatio:F}),G=A/z,te=G/2;if(!O||O.minimapLines.length===0){const se=[];if(se[0]=1,z>1){for(let Y=0,de=z-1;Y<de;Y++)se[Y]=Math.round(Y*G+te);se[z-1]=A}return[new I(G,se),[]]}const X=O.minimapLines,J=X.length,ie=[];let re=0,Z=0,x=1;const U=10;let q=[],le=null;for(let se=0;se<z;se++){const Y=Math.max(x,Math.round(se*G)),de=Math.max(Y,Math.round((se+1)*G));for(;re<J&&X[re]<Y;){if(q.length<U){const $=re+1+Z;le&&le.type==="deleted"&&le._oldIndex===re-1?le.deleteToLineNumber++:(le={type:"deleted",_oldIndex:re,deleteFromLineNumber:$,deleteToLineNumber:$},q.push(le)),Z--}re++}let H;if(re<J&&X[re]<=de)H=X[re],re++;else if(se===0?H=1:se+1===z?H=A:H=Math.round(se*G+te),q.length<U){const $=re+1+Z;le&&le.type==="inserted"&&le._i===se-1?le.insertToLineNumber++:(le={type:"inserted",_i:se,insertFromLineNumber:$,insertToLineNumber:$},q.push(le)),Z++}ie[se]=H,x=H}if(q.length<U)for(;re<J;){const se=re+1+Z;le&&le.type==="deleted"&&le._oldIndex===re-1?le.deleteToLineNumber++:(le={type:"deleted",_oldIndex:re,deleteFromLineNumber:se,deleteToLineNumber:se},q.push(le)),Z--,re++}else q=[{type:"flush"}];return[new I(G,ie),q]}modelLineToMinimapLine(k){return Math.min(this.minimapLines.length,Math.max(1,Math.round(k/this.samplingRatio)))}modelLineRangeToMinimapLineRange(k,A){let O=this.modelLineToMinimapLine(k)-1;for(;O>0&&this.minimapLines[O-1]>=k;)O--;let F=this.modelLineToMinimapLine(A)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=A;)F++;if(O===F){const W=this.minimapLines[O];if(W<k||W>A)return null}return[O+1,F+1]}decorationLineRangeToMinimapLineRange(k,A){let O=this.modelLineToMinimapLine(k),F=this.modelLineToMinimapLine(A);return k!==A&&F===O&&(F===this.minimapLines.length?O>1&&O--:F++),[O,F]}onLinesDeleted(k){const A=k.toLineNumber-k.fromLineNumber+1;let O=this.minimapLines.length,F=0;for(let W=this.minimapLines.length-1;W>=0&&!(this.minimapLines[W]<k.fromLineNumber);W--)this.minimapLines[W]<=k.toLineNumber?(this.minimapLines[W]=Math.max(1,k.fromLineNumber-1),O=Math.min(O,W),F=Math.max(F,W)):this.minimapLines[W]-=A;return[O,F]}onLinesInserted(k){const A=k.toLineNumber-k.fromLineNumber+1;for(let O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<k.fromLineNumber);O--)this.minimapLines[O]+=A}}class T extends u.ViewPart{constructor(k){super(k);this.tokensColorTracker=t.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);const[A]=I.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=A,this._shouldCheckSampling=!1,this._actual=new P(k.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const k=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(k)?!1:(this.options=k,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(k){return this._onOptionsMaybeChanged()}onCursorStateChanged(k){return this._selections=k.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(k){return k.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(k){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(k){if(this._samplingState){const A=this._samplingState.modelLineRangeToMinimapLineRange(k.fromLineNumber,k.fromLineNumber+k.count-1);return A?this._actual.onLinesChanged(A[0],A[1]-A[0]+1):!1}else return this._actual.onLinesChanged(k.fromLineNumber,k.count)}onLinesDeleted(k){if(this._samplingState){const[A,O]=this._samplingState.onLinesDeleted(k);return A<=O&&this._actual.onLinesChanged(A+1,O-A+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(k.fromLineNumber,k.toLineNumber)}onLinesInserted(k){return this._samplingState?(this._samplingState.onLinesInserted(k),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(k.fromLineNumber,k.toLineNumber)}onScrollChanged(k){return this._actual.onScrollChanged()}onThemeChanged(k){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(k){if(this._samplingState){const A=[];for(const O of k.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(O.fromLineNumber,O.toLineNumber);F&&A.push({fromLineNumber:F[0],toLineNumber:F[1]})}return A.length?this._actual.onTokensChanged(A):!1}else return this._actual.onTokensChanged(k.ranges)}onTokensColorsChanged(k){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(k){return this._actual.onZonesChanged()}prepareRender(k){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(k){let A=k.visibleRange.startLineNumber,O=k.visibleRange.endLineNumber;this._samplingState&&(A=this._samplingState.modelLineToMinimapLine(A),O=this._samplingState.modelLineToMinimapLine(O));const F={viewportContainsWhitespaceGaps:k.viewportData.whitespaceViewportData.length>0,scrollWidth:k.scrollWidth,scrollHeight:k.scrollHeight,viewportStartLineNumber:A,viewportEndLineNumber:O,viewportStartLineNumberVerticalOffset:k.getVerticalOffsetForLineNumber(A),scrollTop:k.scrollTop,scrollLeft:k.scrollLeft,viewportWidth:k.viewportWidth,viewportHeight:k.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const k=Boolean(this._samplingState),[A,O]=I.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=A,k&&this._samplingState)for(const F of O)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(k){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[k-1]):this._context.viewModel.getLineContent(k)}getLineMaxColumn(k){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[k-1]):this._context.viewModel.getLineMaxColumn(k)}getMinimapLinesRenderingData(k,A,O){if(this._samplingState){const F=[];for(let W=0,M=A-k+1;W<M;W++)O[W]?F[W]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[k+W-1]):F[W]=null;return F}return this._context.viewModel.getMinimapLinesRenderingData(k,A,O).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const k of this._selections){const[A,O]=this._samplingState.decorationLineRangeToMinimapLineRange(k.startLineNumber,k.endLineNumber);this._minimapSelections.push(new a.Selection(A,k.startColumn,O,k.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(k,A){let O;if(this._samplingState){const W=this._samplingState.minimapLines[k-1],M=this._samplingState.minimapLines[A-1];O=new i.Range(W,1,M,this._context.viewModel.getLineMaxColumn(M))}else O=new i.Range(k,1,A,this._context.viewModel.getLineMaxColumn(A));const F=this._context.viewModel.getDecorationsInViewport(O);if(this._samplingState){const W=[];for(const M of F){if(!M.options.minimap)continue;const z=M.range,G=this._samplingState.modelLineToMinimapLine(z.startLineNumber),te=this._samplingState.modelLineToMinimapLine(z.endLineNumber);W.push(new s.ViewModelDecoration(new i.Range(G,z.startColumn,te,z.endColumn),M.options))}return W}return F}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(k){this._samplingState&&(k=this._samplingState.minimapLines[k-1]),this._context.viewModel.revealRange("mouse",!1,new i.Range(k,1,k,1),1,0)}setScrollTop(k){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:k},1)}}e.Minimap=T;class P extends D.Disposable{constructor(k,A){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=k,this._model=A,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(l.minimapSelection),this._domNode=(0,f.createFastDomNode)(document.createElement("div")),u.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,f.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,f.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,f.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,f.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,f.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=y.addStandardDisposableListener(this._domNode.domNode,y.EventType.POINTER_DOWN,O=>{if(O.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(O.button===0&&this._lastRenderData){const te=y.getDomNodePagePosition(this._slider.domNode),X=te.top+te.height/2;this._startSliderDragging(O,X,this._lastRenderData.renderedLayout)}return}const W=this._model.options.minimapLineHeight,M=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*O.offsetY;let G=Math.floor(M/W)+this._lastRenderData.renderedLayout.startLineNumber;G=Math.min(G,this._model.getLineCount()),this._model.revealLineNumber(G)}),this._sliderPointerMoveMonitor=new N.GlobalPointerMoveMonitor,this._sliderPointerDownListener=y.addStandardDisposableListener(this._slider.domNode,y.EventType.POINTER_DOWN,O=>{O.preventDefault(),O.stopPropagation(),O.button===0&&this._lastRenderData&&this._startSliderDragging(O,O.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=o.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=y.addDisposableListener(this._domNode.domNode,o.EventType.Start,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(O))},{passive:!1}),this._sliderTouchMoveListener=y.addDisposableListener(this._domNode.domNode,o.EventType.Change,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(O)},{passive:!1}),this._sliderTouchEndListener=y.addStandardDisposableListener(this._domNode.domNode,o.EventType.End,O=>{O.preventDefault(),O.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(k,A,O){if(!k.target||!(k.target instanceof Element))return;const F=k.pageX;this._slider.toggleClassName("active",!0);const W=(M,z)=>{const G=Math.abs(z-F);if(w.isWindows&&G>m){this._model.setScrollTop(O.scrollTop);return}const te=M-A;this._model.setScrollTop(O.getDesiredScrollTopFromDelta(te))};k.pageY!==A&&W(k.pageY,F),this._sliderPointerMoveMonitor.startMonitoring(k.target,k.pointerId,k.buttons,M=>W(M.pageY,M.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(k){const A=this._domNode.domNode.getBoundingClientRect().top,O=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(k.pageY-A);this._model.setScrollTop(O)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(k,A){return this._lastRenderData?this._lastRenderData.onLinesChanged(k,A):!1}onLinesDeleted(k,A){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(k,A),!0}onLinesInserted(k,A){return this._lastRenderData&&this._lastRenderData.onLinesInserted(k,A),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(l.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(k){return this._lastRenderData?this._lastRenderData.onTokensChanged(k):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(k){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}k.scrollLeft+k.viewportWidth>=k.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const O=C.create(this._model.options,k.viewportStartLineNumber,k.viewportEndLineNumber,k.viewportStartLineNumberVerticalOffset,k.viewportHeight,k.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),k.scrollTop,k.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(O.sliderNeeded?"block":"none"),this._slider.setTop(O.sliderTop),this._slider.setHeight(O.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(O.sliderHeight),this.renderDecorations(O),this._lastRenderData=this.renderLines(O)}renderDecorations(k){if(this._renderDecorations){this._renderDecorations=!1;const A=this._model.getSelections();A.sort(i.Range.compareRangesUsingStarts);const O=this._model.getMinimapDecorationsInViewport(k.startLineNumber,k.endLineNumber);O.sort((ie,re)=>(ie.options.zIndex||0)-(re.options.zIndex||0));const{canvasInnerWidth:F,canvasInnerHeight:W}=this._model.options,M=this._model.options.minimapLineHeight,z=this._model.options.minimapCharWidth,G=this._model.getOptions().tabSize,te=this._decorationsCanvas.domNode.getContext("2d");te.clearRect(0,0,F,W);const X=new B(k.startLineNumber,k.endLineNumber,!1);this._renderSelectionLineHighlights(te,A,X,k,M),this._renderDecorationsLineHighlights(te,O,X,k,M);const J=new B(k.startLineNumber,k.endLineNumber,null);this._renderSelectionsHighlights(te,A,J,k,M,G,z,F),this._renderDecorationsHighlights(te,O,J,k,M,G,z,F)}}_renderSelectionLineHighlights(k,A,O,F,W){if(!this._selectionColor||this._selectionColor.isTransparent())return;k.fillStyle=this._selectionColor.transparent(.5).toString();let M=0,z=0;for(const G of A){const te=Math.max(F.startLineNumber,G.startLineNumber),X=Math.min(F.endLineNumber,G.endLineNumber);if(te>X)continue;for(let re=te;re<=X;re++)O.set(re,!0);const J=(te-F.startLineNumber)*W,ie=(X-F.startLineNumber)*W+W;z>=J||(z>M&&k.fillRect(h.MINIMAP_GUTTER_WIDTH,M,k.canvas.width,z-M),M=J),z=ie}z>M&&k.fillRect(h.MINIMAP_GUTTER_WIDTH,M,k.canvas.width,z-M)}_renderDecorationsLineHighlights(k,A,O,F,W){const M=new Map;for(let z=A.length-1;z>=0;z--){const G=A[z],te=G.options.minimap;if(!te||te.position!==c.MinimapPosition.Inline)continue;const X=Math.max(F.startLineNumber,G.range.startLineNumber),J=Math.min(F.endLineNumber,G.range.endLineNumber);if(X>J)continue;const ie=te.getColor(this._theme.value);if(!ie||ie.isTransparent())continue;let re=M.get(ie.toString());re||(re=ie.transparent(.5).toString(),M.set(ie.toString(),re)),k.fillStyle=re;for(let Z=X;Z<=J;Z++){if(O.has(Z))continue;O.set(Z,!0);const x=(X-F.startLineNumber)*W;k.fillRect(h.MINIMAP_GUTTER_WIDTH,x,k.canvas.width,W)}}}_renderSelectionsHighlights(k,A,O,F,W,M,z,G){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const te of A){const X=Math.max(F.startLineNumber,te.startLineNumber),J=Math.min(F.endLineNumber,te.endLineNumber);if(!(X>J))for(let ie=X;ie<=J;ie++)this.renderDecorationOnLine(k,O,te,this._selectionColor,F,ie,W,W,M,z,G)}}_renderDecorationsHighlights(k,A,O,F,W,M,z,G){for(const te of A){const X=te.options.minimap;if(!X)continue;const J=Math.max(F.startLineNumber,te.range.startLineNumber),ie=Math.min(F.endLineNumber,te.range.endLineNumber);if(J>ie)continue;const re=X.getColor(this._theme.value);if(!(!re||re.isTransparent()))for(let Z=J;Z<=ie;Z++)switch(X.position){case c.MinimapPosition.Inline:this.renderDecorationOnLine(k,O,te.range,re,F,Z,W,W,M,z,G);continue;case c.MinimapPosition.Gutter:{const x=(Z-F.startLineNumber)*W,U=2;this.renderDecoration(k,re,U,x,S,W);continue}}}}renderDecorationOnLine(k,A,O,F,W,M,z,G,te,X,J){const ie=(M-W.startLineNumber)*G;if(ie+z<0||ie>this._model.options.canvasInnerHeight)return;const{startLineNumber:re,endLineNumber:Z}=O,x=re===M?O.startColumn:1,U=Z===M?O.endColumn:this._model.getLineMaxColumn(M),q=this.getXOffsetForPosition(A,M,x,te,X,J),le=this.getXOffsetForPosition(A,M,U,te,X,J);this.renderDecoration(k,F,q,ie,le-q,z)}getXOffsetForPosition(k,A,O,F,W,M){if(O===1)return h.MINIMAP_GUTTER_WIDTH;if((O-1)*W>=M)return M;let G=k.get(A);if(!G){const te=this._model.getLineContent(A);G=[h.MINIMAP_GUTTER_WIDTH];let X=h.MINIMAP_GUTTER_WIDTH;for(let J=1;J<te.length+1;J++){const ie=te.charCodeAt(J-1),re=ie===9?F*W:b.isFullWidthCharacter(ie)?2*W:W,Z=X+re;if(Z>=M){G[J]=M;break}G[J]=Z,X=Z}k.set(A,G)}return O-1<G.length?G[O-1]:M}renderDecoration(k,A,O,F,W,M){k.fillStyle=A&&A.toString()||"",k.fillRect(O,F,W,M)}renderLines(k){const A=k.startLineNumber,O=k.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(k)){const ve=this._lastRenderData._get();return new L(k,ve.imageData,ve.lines)}const W=this._getBuffer();if(!W)return null;const[M,z,G]=P._renderUntouchedLines(W,A,O,F,this._lastRenderData),te=this._model.getMinimapLinesRenderingData(A,O,G),X=this._model.getOptions().tabSize,J=this._model.options.defaultBackgroundColor,ie=this._model.options.backgroundColor,re=this._model.options.foregroundAlpha,Z=this._model.tokensColorTracker,x=Z.backgroundIsLight(),U=this._model.options.renderMinimap,q=this._model.options.charRenderer(),le=this._model.options.fontScale,se=this._model.options.minimapCharWidth,de=(U===1?2:2+1)*le,H=F>de?Math.floor((F-de)/2):0,$=ie.a/255,K=new n.RGBA8(Math.round((ie.r-J.r)*$+J.r),Math.round((ie.g-J.g)*$+J.g),Math.round((ie.b-J.b)*$+J.b),255);let V=0;const Q=[];for(let ve=0,ue=O-A+1;ve<ue;ve++)G[ve]&&P._renderLine(W,K,ie.a,x,U,se,Z,re,q,V,H,X,te[ve],le,F),Q[ve]=new _(V),V+=F;const ee=M===-1?0:M,fe=(z===-1?W.height:z)-ee;return this._canvas.domNode.getContext("2d").putImageData(W,0,0,0,ee,W.width,fe),new L(k,W,Q)}static _renderUntouchedLines(k,A,O,F,W){const M=[];if(!W){for(let K=0,V=O-A+1;K<V;K++)M[K]=!0;return[-1,-1,M]}const z=W._get(),G=z.imageData.data,te=z.rendLineNumberStart,X=z.lines,J=X.length,ie=k.width,re=k.data,Z=(O-A+1)*F*ie*4;let x=-1,U=-1,q=-1,le=-1,se=-1,Y=-1,de=0;for(let K=A;K<=O;K++){const V=K-A,Q=K-te,ee=Q>=0&&Q<J?X[Q].dy:-1;if(ee===-1){M[V]=!0,de+=F;continue}const ae=ee*ie*4,fe=(ee+F)*ie*4,pe=de*ie*4,ve=(de+F)*ie*4;le===ae&&Y===pe?(le=fe,Y=ve):(q!==-1&&(re.set(G.subarray(q,le),se),x===-1&&q===0&&q===se&&(x=le),U===-1&&le===Z&&q===se&&(U=q)),q=ae,le=fe,se=pe,Y=ve),M[V]=!1,de+=F}q!==-1&&(re.set(G.subarray(q,le),se),x===-1&&q===0&&q===se&&(x=le),U===-1&&le===Z&&q===se&&(U=q));const H=x===-1?-1:x/(ie*4),$=U===-1?-1:U/(ie*4);return[H,$,M]}static _renderLine(k,A,O,F,W,M,z,G,te,X,J,ie,re,Z,x){const U=re.content,q=re.tokens,le=k.width-M,se=x===1;let Y=h.MINIMAP_GUTTER_WIDTH,de=0,H=0;for(let $=0,K=q.getCount();$<K;$++){const V=q.getEndOffset($),Q=q.getForeground($),ee=z.getColor(Q);for(;de<V;de++){if(Y>le)return;const ae=U.charCodeAt(de);if(ae===9){const fe=ie-(de+H)%ie;H+=fe-1,Y+=fe*M}else if(ae===32)Y+=M;else{const fe=b.isFullWidthCharacter(ae)?2:1;for(let pe=0;pe<fe;pe++)if(W===2?te.blockRenderChar(k,Y,X+J,ee,G,A,O,se):te.renderChar(k,Y,X+J,ae,ee,G,A,O,Z,F,se),Y+=M,Y>le)return}}}}}class B{constructor(k,A,O){this._startLineNumber=k,this._endLineNumber=A,this._defaultValue=O,this._values=[];for(let F=0,W=this._endLineNumber-this._startLineNumber+1;F<W;F++)this._values[F]=O}has(k){return this.get(k)!==this._defaultValue}set(k,A){k<this._startLineNumber||k>this._endLineNumber||(this._values[k-this._startLineNumber]=A)}get(k){return k<this._startLineNumber||k>this._endLineNumber?this._defaultValue:this._values[k-this._startLineNumber]}}(0,d.registerThemingParticipant)((R,k)=>{const A=R.getColor(l.minimapSliderBackground);A&&k.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${A}; }`);const O=R.getColor(l.minimapSliderHoverBackground);O&&k.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${O}; }`);const F=R.getColor(l.minimapSliderActiveBackground);F&&k.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${F}; }`);const W=R.getColor(l.scrollbarShadow);W&&k.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${W} -6px 0 6px -6px inset; }`)})}),define(ne[664],oe([1,0,33,52,25,15,379]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class w extends f.ViewPart{constructor(v){super(v);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const h=this._context.configuration.options.get(93);this._useShadows=h.useShadows,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const v=this._useShadows&&this._scrollTop>0;return this._shouldShow!==v?(this._shouldShow=v,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const u=this._context.configuration.options.get(132);u.minimap.renderMinimap===0||u.minimap.minimapWidth>0&&u.minimap.minimapLeft===0?this._width=u.width:this._width=u.width-u.minimap.minimapWidth-u.verticalScrollbarWidth}onConfigurationChanged(v){const h=this._context.configuration.options.get(93);return this._useShadows=h.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(v){return this._scrollTop=v.scrollTop,this._updateShouldShow()}prepareRender(v){}render(v){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=w,(0,D.registerThemingParticipant)((b,v)=>{const u=b.getColor(N.scrollbarShadow);u&&v.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${u} 0 6px 6px -6px inset; }`)})}),define(ne[665],oe([1,0,112,25,15,380]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(n){this.left=n.left,this.width=n.width,this.startStyle=null,this.endStyle=null}}class w{constructor(n,t){this.lineNumber=n,this.ranges=t}}function b(i){return new D(i)}function v(i){return new w(i.lineNumber,i.ranges.map(b))}class u extends y.DynamicViewOverlay{constructor(n){super();this._previousFrameVisibleRangesWithStyle=[],this._context=n;const t=this._context.configuration.options;this._lineHeight=t.get(60),this._roundedSelection=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(45).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const t=this._context.configuration.options;return this._lineHeight=t.get(60),this._roundedSelection=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(45).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(n){return this._selections=n.selections.slice(0),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_visibleRangesHaveGaps(n){for(let t=0,s=n.length;t<s;t++)if(n[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(n,t,s){const l=this._typicalHalfwidthCharacterWidth/4;let d=null,a=null;if(s&&s.length>0&&t.length>0){const o=t[0].lineNumber;if(o===n.startLineNumber)for(let c=0;!d&&c<s.length;c++)s[c].lineNumber===o&&(d=s[c].ranges[0]);const r=t[t.length-1].lineNumber;if(r===n.endLineNumber)for(let c=s.length-1;!a&&c>=0;c--)s[c].lineNumber===r&&(a=s[c].ranges[0]);d&&!d.startStyle&&(d=null),a&&!a.startStyle&&(a=null)}for(let o=0,r=t.length;o<r;o++){const c=t[o].ranges[0],g=c.left,m=c.left+c.width,S={top:0,bottom:0},p={top:0,bottom:0};if(o>0){const C=t[o-1].ranges[0].left,_=t[o-1].ranges[0].left+t[o-1].ranges[0].width;h(g-C)<l?S.top=2:g>C&&(S.top=1),h(m-_)<l?p.top=2:C<m&&m<_&&(p.top=1)}else d&&(S.top=d.startStyle.top,p.top=d.endStyle.top);if(o+1<r){const C=t[o+1].ranges[0].left,_=t[o+1].ranges[0].left+t[o+1].ranges[0].width;h(g-C)<l?S.bottom=2:C<g&&g<_&&(S.bottom=1),h(m-_)<l?p.bottom=2:m<_&&(p.bottom=1)}else a&&(S.bottom=a.startStyle.bottom,p.bottom=a.endStyle.bottom);c.startStyle=S,c.endStyle=p}}_getVisibleRangesWithStyle(n,t,s){const d=(t.linesVisibleRangesForRange(n,!0)||[]).map(v);return!this._visibleRangesHaveGaps(d)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,d,s),d}_createSelectionPiece(n,t,s,l,d){return'<div class="cslr '+s+'" style="top:'+n.toString()+"px;left:"+l.toString()+"px;width:"+d.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(n,t,s,l){if(l.length===0)return;const d=!!l[0].ranges[0].startStyle,a=this._lineHeight.toString(),o=(this._lineHeight-1).toString(),r=l[0].lineNumber,c=l[l.length-1].lineNumber;for(let g=0,m=l.length;g<m;g++){const S=l[g],p=S.lineNumber,C=p-t,_=s&&(p===c||p===r)?o:a,L=s&&p===r?1:0;let E="",I="";for(let T=0,P=S.ranges.length;T<P;T++){const B=S.ranges[T];if(d){const k=B.startStyle,A=B.endStyle;if(k.top===1||k.bottom===1){E+=this._createSelectionPiece(L,_,u.SELECTION_CLASS_NAME,B.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH);let O=u.EDITOR_BACKGROUND_CLASS_NAME;k.top===1&&(O+=" "+u.SELECTION_TOP_RIGHT),k.bottom===1&&(O+=" "+u.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(L,_,O,B.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){E+=this._createSelectionPiece(L,_,u.SELECTION_CLASS_NAME,B.left+B.width,u.ROUNDED_PIECE_WIDTH);let O=u.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(O+=" "+u.SELECTION_TOP_LEFT),A.bottom===1&&(O+=" "+u.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(L,_,O,B.left+B.width,u.ROUNDED_PIECE_WIDTH)}}let R=u.SELECTION_CLASS_NAME;if(d){const k=B.startStyle,A=B.endStyle;k.top===0&&(R+=" "+u.SELECTION_TOP_LEFT),k.bottom===0&&(R+=" "+u.SELECTION_BOTTOM_LEFT),A.top===0&&(R+=" "+u.SELECTION_TOP_RIGHT),A.bottom===0&&(R+=" "+u.SELECTION_BOTTOM_RIGHT)}I+=this._createSelectionPiece(L,_,R,B.left,B.width)}n[C][0]+=E,n[C][1]+=I}}prepareRender(n){const t=[],s=n.visibleRange.startLineNumber,l=n.visibleRange.endLineNumber;for(let a=s;a<=l;a++){const o=a-s;t[o]=["",""]}const d=[];for(let a=0,o=this._selections.length;a<o;a++){const r=this._selections[a];if(r.isEmpty()){d[a]=null;continue}const c=this._getVisibleRangesWithStyle(r,n,this._previousFrameVisibleRangesWithStyle[a]);d[a]=c,this._actualRenderOneSelection(t,s,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=d,this._renderResult=t.map(([a,o])=>a+o)}render(n,t){if(!this._renderResult)return"";const s=t-n;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.SelectionsOverlay=u,u.SELECTION_CLASS_NAME="selected-text",u.SELECTION_TOP_LEFT="top-left-radius",u.SELECTION_BOTTOM_LEFT="bottom-left-radius",u.SELECTION_TOP_RIGHT="top-right-radius",u.SELECTION_BOTTOM_RIGHT="bottom-right-radius",u.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",u.ROUNDED_PIECE_WIDTH=10,(0,N.registerThemingParticipant)((i,n)=>{const t=i.getColor(f.editorSelectionBackground);t&&n.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const s=i.getColor(f.editorInactiveSelection);s&&n.addRule(`.monaco-editor .selected-text { background-color: ${s}; }`);const l=i.getColor(f.editorSelectionForeground);l&&!l.isTransparent()&&n.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${l}; }`)});function h(i){return i<0?-i:i}}),define(ne[54],oe([1,0,528,31,25,15,56]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,N.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(0,null)),e.editorLineHighlightBorder=(0,N.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:N.contrastBorder},y.localize(1,null)),e.editorRangeHighlight=(0,N.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},y.localize(2,null),!0),e.editorRangeHighlightBorder=(0,N.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:N.activeContrastBorder,hcLight:N.activeContrastBorder},y.localize(3,null),!0),e.editorSymbolHighlight=(0,N.registerColor)("editor.symbolHighlightBackground",{dark:N.editorFindMatchHighlight,light:N.editorFindMatchHighlight,hcDark:null,hcLight:null},y.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,N.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:N.activeContrastBorder,hcLight:N.activeContrastBorder},y.localize(5,null),!0),e.editorCursorForeground=(0,N.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:f.Color.black,hcDark:f.Color.white,hcLight:"#0F4A85"},y.localize(6,null)),e.editorCursorBackground=(0,N.registerColor)("editorCursor.background",null,y.localize(7,null)),e.editorWhitespaces=(0,N.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},y.localize(8,null)),e.editorIndentGuides=(0,N.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},y.localize(9,null)),e.editorActiveIndentGuides=(0,N.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},y.localize(10,null)),e.editorLineNumbers=(0,N.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:f.Color.white,hcLight:"#292929"},y.localize(11,null));const b=(0,N.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:N.activeContrastBorder,hcLight:N.activeContrastBorder},y.localize(12,null),!1,y.localize(13,null));e.editorActiveLineNumber=(0,N.registerColor)("editorLineNumber.activeForeground",{dark:b,light:b,hcDark:b,hcLight:b},y.localize(14,null)),e.editorRuler=(0,N.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:f.Color.lightgrey,hcDark:f.Color.white,hcLight:"#292929"},y.localize(15,null)),e.editorCodeLensForeground=(0,N.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},y.localize(16,null)),e.editorBracketMatchBackground=(0,N.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},y.localize(17,null)),e.editorBracketMatchBorder=(0,N.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:N.contrastBorder,hcLight:N.contrastBorder},y.localize(18,null)),e.editorOverviewRulerBorder=(0,N.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},y.localize(19,null)),e.editorOverviewRulerBackground=(0,N.registerColor)("editorOverviewRuler.background",null,y.localize(20,null)),e.editorGutter=(0,N.registerColor)("editorGutter.background",{dark:N.editorBackground,light:N.editorBackground,hcDark:N.editorBackground,hcLight:N.editorBackground},y.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,N.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:f.Color.fromHex("#fff").transparent(.8),hcLight:N.contrastBorder},y.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,N.registerColor)("editorUnnecessaryCode.opacity",{dark:f.Color.fromHex("#000a"),light:f.Color.fromHex("#0007"),hcDark:null,hcLight:null},y.localize(23,null)),e.ghostTextBorder=(0,N.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:f.Color.fromHex("#fff").transparent(.8),hcLight:f.Color.fromHex("#292929").transparent(.8)},y.localize(24,null)),e.ghostTextForeground=(0,N.registerColor)("editorGhostText.foreground",{dark:f.Color.fromHex("#ffffff56"),light:f.Color.fromHex("#0007"),hcDark:null,hcLight:null},y.localize(25,null)),e.ghostTextBackground=(0,N.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(26,null));const v=new f.Color(new f.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,N.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:v,light:v,hcDark:v,hcLight:v},y.localize(27,null),!0),e.overviewRulerError=(0,N.registerColor)("editorOverviewRuler.errorForeground",{dark:new f.Color(new f.RGBA(255,18,18,.7)),light:new f.Color(new f.RGBA(255,18,18,.7)),hcDark:new f.Color(new f.RGBA(255,50,50,1)),hcLight:"#B5200D"},y.localize(28,null)),e.overviewRulerWarning=(0,N.registerColor)("editorOverviewRuler.warningForeground",{dark:N.editorWarningForeground,light:N.editorWarningForeground,hcDark:N.editorWarningBorder,hcLight:N.editorWarningBorder},y.localize(29,null)),e.overviewRulerInfo=(0,N.registerColor)("editorOverviewRuler.infoForeground",{dark:N.editorInfoForeground,light:N.editorInfoForeground,hcDark:N.editorInfoBorder,hcLight:N.editorInfoBorder},y.localize(30,null)),e.editorBracketHighlightingForeground1=(0,N.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},y.localize(31,null)),e.editorBracketHighlightingForeground2=(0,N.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},y.localize(32,null)),e.editorBracketHighlightingForeground3=(0,N.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},y.localize(33,null)),e.editorBracketHighlightingForeground4=(0,N.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(34,null)),e.editorBracketHighlightingForeground5=(0,N.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(35,null)),e.editorBracketHighlightingForeground6=(0,N.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,N.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new f.Color(new f.RGBA(255,18,18,.8)),light:new f.Color(new f.RGBA(255,18,18,.8)),hcDark:new f.Color(new f.RGBA(255,50,50,1)),hcLight:""},y.localize(37,null)),e.editorBracketPairGuideBackground1=(0,N.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(38,null)),e.editorBracketPairGuideBackground2=(0,N.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(39,null)),e.editorBracketPairGuideBackground3=(0,N.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(40,null)),e.editorBracketPairGuideBackground4=(0,N.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(41,null)),e.editorBracketPairGuideBackground5=(0,N.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(42,null)),e.editorBracketPairGuideBackground6=(0,N.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,N.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,N.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,N.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,N.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,N.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,N.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(49,null)),e.editorUnicodeHighlightBorder=(0,N.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},y.localize(50,null)),e.editorUnicodeHighlightBackground=(0,N.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},y.localize(51,null)),(0,D.registerThemingParticipant)((u,h)=>{const i=u.getColor(N.editorBackground);i&&h.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${i}; }`);const n=u.getColor(e.editorLineHighlight),t=n&&!n.isTransparent()?n:i;t&&h.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${t}; }`);const s=u.getColor(N.editorForeground);s&&h.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${s}; }`);const l=u.getColor(e.editorGutter);l&&h.addRule(`.monaco-editor .margin { background-color: ${l}; }`);const d=u.getColor(e.editorRangeHighlight);d&&h.addRule(`.monaco-editor .rangeHighlight { background-color: ${d}; }`);const a=u.getColor(e.editorRangeHighlightBorder);a&&h.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,w.isHighContrast)(u.type)?"dotted":"solid"} ${a}; }`);const o=u.getColor(e.editorSymbolHighlight);o&&h.addRule(`.monaco-editor .symbolHighlight { background-color: ${o}; }`);const r=u.getColor(e.editorSymbolHighlightBorder);r&&h.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,w.isHighContrast)(u.type)?"dotted":"solid"} ${r}; }`);const c=u.getColor(e.editorWhitespaces);c&&(h.addRule(`.monaco-editor .mtkw { color: ${c} !important; }`),h.addRule(`.monaco-editor .mtkz { color: ${c} !important; }`))})}),define(ne[666],oe([1,0,112,54,18,15,23,56,368]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class v extends y.DynamicViewOverlay{constructor(n){super();this._context=n;const t=this._context.configuration.options,s=t.get(132);this._lineHeight=t.get(60),this._renderLineHighlight=t.get(86),this._renderLineHighlightOnlyWhenFocus=t.get(87),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new w.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let n=!1;const t=this._selections.map(l=>l.positionLineNumber);t.sort((l,d)=>l-d),N.equals(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,n=!0);const s=this._selections.every(l=>l.isEmpty());return this._selectionIsEmpty!==s&&(this._selectionIsEmpty=s,n=!0),n}onThemeChanged(n){return this._readFromSelections()}onConfigurationChanged(n){const t=this._context.configuration.options,s=t.get(132);return this._lineHeight=t.get(60),this._renderLineHighlight=t.get(86),this._renderLineHighlightOnlyWhenFocus=t.get(87),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,!0}onCursorStateChanged(n){return this._selections=n.selections,this._readFromSelections()}onFlushed(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollWidthChanged||n.scrollTopChanged}onZonesChanged(n){return!0}onFocusChanged(n){return this._renderLineHighlightOnlyWhenFocus?(this._focused=n.isFocused,!0):!1}prepareRender(n){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(n),s=n.visibleRange.startLineNumber,l=n.visibleRange.endLineNumber,d=this._cursorLineNumbers.length;let a=0;const o=[];for(let r=s;r<=l;r++){const c=r-s;for(;a<d&&this._cursorLineNumbers[a]<r;)a++;a<d&&this._cursorLineNumbers[a]===r?o[c]=t:o[c]=""}this._renderData=o}render(n,t){if(!this._renderData)return"";const s=t-n;return s>=this._renderData.length?"":this._renderData[s]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=v;class u extends v{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(n.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=u;class h extends v{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=h,(0,D.registerThemingParticipant)((i,n)=>{const t=i.getColor(f.editorLineHighlight);if(t&&(n.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||i.defines(f.editorLineHighlightBorder)){const s=i.getColor(f.editorLineHighlightBorder);s&&(n.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${s}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${s}; }`),(0,b.isHighContrast)(i.type)&&(n.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),n.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ne[667],oe([1,0,112,54,15,11,18,19,259,193,371]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class h extends y.DynamicViewOverlay{constructor(t){super();this._context=t,this._primaryPosition=null;const s=this._context.configuration.options,l=s.get(133),d=s.get(45);this._lineHeight=s.get(60),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=s.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const s=this._context.configuration.options,l=s.get(133),d=s.get(45);return this._lineHeight=s.get(60),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=s.get(13),!0}onCursorStateChanged(t){var s;const d=t.selections[0].getPosition();return((s=this._primaryPosition)===null||s===void 0?void 0:s.equals(d))?!1:(this._primaryPosition=d,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var s,l,d,a;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const o=t.visibleRange.startLineNumber,r=t.visibleRange.endLineNumber,c=t.scrollWidth,g=this._lineHeight,m=this._primaryPosition,S=this.getGuidesByLine(o,r,m),p=[];for(let C=o;C<=r;C++){const _=C-o,L=S[_];let E="";const I=(l=(s=t.visibleRangeForPosition(new D.Position(C,1)))===null||s===void 0?void 0:s.left)!==null&&l!==void 0?l:0;for(const T of L){const P=T.column===-1?I+(T.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new D.Position(C,T.column)).left;if(P>c||this._maxIndentLeft>0&&P>this._maxIndentLeft)break;const B=T.horizontalLine?T.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",R=T.horizontalLine?((a=(d=t.visibleRangeForPosition(new D.Position(C,T.horizontalLine.endColumn)))===null||d===void 0?void 0:d.left)!==null&&a!==void 0?a:P+this._spaceWidth)-P:this._spaceWidth;E+=`<div class="core-guide ${T.className} ${B}" style="left:${P}px;height:${g}px;width:${R}px"></div>`}p[_]=E}this._renderResult=p}getGuidesByLine(t,s,l){const d=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,s,l,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?u.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?u.HorizontalGuidesState.EnabledForActive:u.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,a=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,s):null;let o=0,r=0,c=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&l){const S=this._context.viewModel.getActiveIndentGuide(l.lineNumber,t,s);o=S.startLineNumber,r=S.endLineNumber,c=S.indent}const{indentSize:g}=this._context.viewModel.model.getOptions(),m=[];for(let S=t;S<=s;S++){const p=new Array;m.push(p);const C=d?d[S-t]:[],_=new w.ArrayQueue(C),L=a?a[S-t]:[];for(let E=1;E<=L;E++){const I=(E-1)*g+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||C.length===0)&&o<=S&&S<=r&&E===c;p.push(..._.takeWhile(B=>B.visibleColumn<I)||[]);const P=_.peek();(!P||P.visibleColumn!==I||P.horizontalLine)&&p.push(new u.IndentGuide(I,-1,T?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}p.push(..._.takeWhile(E=>!0)||[])}return m}render(t,s){if(!this._renderResult)return"";const l=s-t;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}e.IndentGuidesOverlay=h;function i(n){if(!(n&&n.isTransparent()))return n}(0,N.registerThemingParticipant)((n,t)=>{const s=n.getColor(f.editorIndentGuides);s&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${s} inset; }`);const l=n.getColor(f.editorActiveIndentGuides)||s;l&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${l} inset; }`);const d=[{bracketColor:f.editorBracketHighlightingForeground1,guideColor:f.editorBracketPairGuideBackground1,guideColorActive:f.editorBracketPairGuideActiveBackground1},{bracketColor:f.editorBracketHighlightingForeground2,guideColor:f.editorBracketPairGuideBackground2,guideColorActive:f.editorBracketPairGuideActiveBackground2},{bracketColor:f.editorBracketHighlightingForeground3,guideColor:f.editorBracketPairGuideBackground3,guideColorActive:f.editorBracketPairGuideActiveBackground3},{bracketColor:f.editorBracketHighlightingForeground4,guideColor:f.editorBracketPairGuideBackground4,guideColorActive:f.editorBracketPairGuideActiveBackground4},{bracketColor:f.editorBracketHighlightingForeground5,guideColor:f.editorBracketPairGuideBackground5,guideColorActive:f.editorBracketPairGuideActiveBackground5},{bracketColor:f.editorBracketHighlightingForeground6,guideColor:f.editorBracketPairGuideBackground6,guideColorActive:f.editorBracketPairGuideActiveBackground6}],a=new v.BracketPairGuidesClassNames,o=d.map(r=>{var c,g;const m=n.getColor(r.bracketColor),S=n.getColor(r.guideColor),p=n.getColor(r.guideColorActive),C=i((c=i(S))!==null&&c!==void 0?c:m==null?void 0:m.transparent(.3)),_=i((g=i(p))!==null&&g!==void 0?g:m);if(!(!C||!_))return{guideColor:C,guideColorActive:_}}).filter(b.isDefined);if(o.length>0){for(let r=0;r<30;r++){const c=o[r%o.length];t.addRule(`.monaco-editor .${a.getInlineClassNameOfLevel(r).replace(/ /g,".")} { --guide-color: ${c.guideColor}; --guide-color-active: ${c.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${a.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${a.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${a.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(ne[298],oe([1,0,17,112,11,54,15,372]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class b extends f.DynamicViewOverlay{constructor(u){super();this._context=u,this._readConfig(),this._lastCursorModelPosition=new N.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const u=this._context.configuration.options;this._lineHeight=u.get(60);const h=u.get(61);this._renderLineNumbers=h.renderType,this._renderCustomLineNumbers=h.renderFn,this._renderFinalNewline=u.get(85);const i=u.get(132);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(u){return this._readConfig(),!0}onCursorStateChanged(u){const h=u.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(h);let i=!1;return this._activeLineNumber!==h.lineNumber&&(this._activeLineNumber=h.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}_getLineRenderLineNumber(u){const h=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new N.Position(u,1));if(h.column!==1)return"";const i=h.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const n=Math.abs(this._lastCursorModelPosition.lineNumber-i);return n===0?'<span class="relative-current-line-number">'+i+"</span>":String(n)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(u){if(this._renderLineNumbers===0){this._renderResult=null;return}const h=y.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=u.visibleRange.startLineNumber,n=u.visibleRange.endLineNumber,t='<div class="'+b.CLASS_NAME+h+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',s=this._context.viewModel.getLineCount(),l=[];for(let d=i;d<=n;d++){const a=d-i;if(!this._renderFinalNewline&&d===s&&this._context.viewModel.getLineLength(d)===0){l[a]="";continue}const o=this._getLineRenderLineNumber(d);o?d===this._activeLineNumber?l[a]='<div class="active-line-number '+b.CLASS_NAME+h+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+o+"</div>":l[a]=t+o+"</div>":l[a]=""}this._renderResult=l}render(u,h){if(!this._renderResult)return"";const i=h-u;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.LineNumbersOverlay=b,b.CLASS_NAME="line-numbers",(0,w.registerThemingParticipant)((v,u)=>{const h=v.getColor(D.editorLineNumbers);h&&u.addRule(`.monaco-editor .line-numbers { color: ${h}; }`);const i=v.getColor(D.editorActiveLineNumber);i&&u.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)})}),define(ne[668],oe([1,0,514,36,33,17,9,68,185,244,52,298,262,34,130,11,3,23,148,28,31,367]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class g{constructor(_,L,E,I,T){this._context=_,this.modelLineNumber=L,this.distanceToModelLineStart=E,this.widthOfHiddenLineTextBefore=I,this.distanceToModelLineEnd=T,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(_){const L=new l.Position(this.modelLineNumber,this.distanceToModelLineStart+1),E=new l.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(L),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(E),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=_.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=_.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(_){return this._previousPresentation||(_?this._previousPresentation=_:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const m=f.isFirefox;class S extends h.ViewPart{constructor(_,L,E){super(_);this._primaryCursorPosition=new l.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=L,this._visibleRangeProvider=E,this._scrollLeft=0,this._scrollTop=0;const I=this._context.configuration.options,T=I.get(132);this._setAccessibilityOptions(I),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._contentHeight=T.height,this._fontInfo=I.get(45),this._lineHeight=I.get(60),this._emptySelectionClipboard=I.get(33),this._copyWithSyntaxHighlighting=I.get(21),this._visibleTextArea=null,this._selections=[new a.Selection(1,1,1,1)],this._modelSelections=[new a.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,N.createFastDomNode)(document.createElement("textarea")),h.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(I)),this.textArea.setAttribute("tabindex",String(I.get(113))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",y.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),I.get(30)&&I.get(82)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,N.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const P={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:k=>this._context.viewModel.getLineMaxColumn(k),getValueInRange:(k,A)=>this._context.viewModel.getValueInRange(k,A)},B={getDataToCopy:()=>{const k=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),A=this._context.viewModel.model.getEOL(),O=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),F=Array.isArray(k)?k:null,W=Array.isArray(k)?k.join(A):k;let M,z=null;if(v.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&W.length<65536){const G=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);G&&(M=G.html,z=G.mode)}return{isFromEmptySelection:O,multicursorText:F,text:W,html:M,mode:z}},getScreenReaderContent:k=>{if(this._accessibilitySupport===1){const A=this._selections[0];if(D.isMacintosh&&A.isEmpty()){const O=A.getStartPosition();let F=this._getWordBeforePosition(O);if(F.length===0&&(F=this._getCharacterBeforePosition(O)),F.length>0)return new u.TextAreaState(F,F.length,F.length,O,O)}if(f.isSafari&&!A.isEmpty()){const O="vscode-placeholder";return new u.TextAreaState(O,0,O.length,null,null)}return u.TextAreaState.EMPTY}if(f.isAndroid){const A=this._selections[0];if(A.isEmpty()){const O=A.getStartPosition(),[F,W]=this._getAndroidWordAtPosition(O);if(F.length>0)return new u.TextAreaState(F,W,W,O,O)}return u.TextAreaState.EMPTY}return u.PagedScreenReaderStrategy.fromEditorSelection(k,P,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(k,A,O)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(k,A,O)},R=this._register(new v.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new v.TextAreaInput(B,R,D.OS,f)),this._register(this._textAreaInput.onKeyDown(k=>{this._viewController.emitKeyDown(k)})),this._register(this._textAreaInput.onKeyUp(k=>{this._viewController.emitKeyUp(k)})),this._register(this._textAreaInput.onPaste(k=>{let A=!1,O=null,F=null;k.metadata&&(A=this._emptySelectionClipboard&&!!k.metadata.isFromEmptySelection,O=typeof k.metadata.multicursorText!="undefined"?k.metadata.multicursorText:null,F=k.metadata.mode),this._viewController.paste(k.text,A,O,F)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(k=>{k.replacePrevCharCnt||k.replaceNextCharCnt||k.positionDelta?(u._debugComposition&&console.log(` => compositionType: <<${k.text}>>, ${k.replacePrevCharCnt}, ${k.replaceNextCharCnt}, ${k.positionDelta}`),this._viewController.compositionType(k.text,k.replacePrevCharCnt,k.replaceNextCharCnt,k.positionDelta)):(u._debugComposition&&console.log(` => type: <<${k.text}>>`),this._viewController.type(k.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(k=>{this._viewController.setSelection(k)})),this._register(this._textAreaInput.onCompositionStart(k=>{const A=this.textArea.domNode,O=this._modelSelections[0],{distanceToModelLineStart:F,widthOfHiddenTextBefore:W}=(()=>{const z=A.value.substring(0,Math.min(A.selectionStart,A.selectionEnd)),G=z.lastIndexOf(`
`),te=z.substring(G+1),X=te.lastIndexOf("	"),J=te.length-X-1,ie=O.getStartPosition(),re=Math.min(ie.column-1,J),Z=ie.column-1-re,x=te.substring(0,te.length-re),U=p(x,this._fontInfo);return{distanceToModelLineStart:Z,widthOfHiddenTextBefore:U}})(),{distanceToModelLineEnd:M}=(()=>{const z=A.value.substring(Math.max(A.selectionStart,A.selectionEnd)),G=z.indexOf(`
`),te=G===-1?z:z.substring(0,G),X=te.indexOf("	"),J=X===-1?te.length:te.length-X-1,ie=O.getEndPosition(),re=Math.min(this._context.viewModel.model.getLineMaxColumn(ie.lineNumber)-ie.column,J);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(ie.lineNumber)-ie.column-re}})();this._context.viewModel.revealRange("keyboard",!0,d.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new g(this._context,O.startLineNumber,F,W,M),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(k=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(_){const L='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',E=this._context.viewModel.getLineContent(_.lineNumber),I=(0,s.getMapForWordSeparators)(L);let T=!0,P=_.column,B=!0,R=_.column,k=0;for(;k<50&&(T||B);){if(T&&P<=1&&(T=!1),T){const A=E.charCodeAt(P-2);I.get(A)!==0?T=!1:P--}if(B&&R>E.length&&(B=!1),B){const A=E.charCodeAt(R-1);I.get(A)!==0?B=!1:R++}k++}return[E.substring(P-1,R-1),_.column-P]}_getWordBeforePosition(_){const L=this._context.viewModel.getLineContent(_.lineNumber),E=(0,s.getMapForWordSeparators)(this._context.configuration.options.get(118));let I=_.column,T=0;for(;I>1;){const P=L.charCodeAt(I-2);if(E.get(P)!==0||T>50)return L.substring(I-1,_.column-1);T++,I--}return L.substring(0,_.column-1)}_getCharacterBeforePosition(_){if(_.column>1){const E=this._context.viewModel.getLineContent(_.lineNumber).charAt(_.column-2);if(!w.isHighSurrogate(E.charCodeAt(0)))return E}return""}_getAriaLabel(_){return _.get(2)===1?y.localize(1,null,D.isLinux?"Shift+Alt+F1":"Alt+F1"):_.get(4)}_setAccessibilityOptions(_){this._accessibilitySupport=_.get(2);const L=_.get(3);this._accessibilitySupport===2&&L===t.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=L}onConfigurationChanged(_){const L=this._context.configuration.options,E=L.get(132);return this._setAccessibilityOptions(L),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=L.get(45),this._lineHeight=L.get(60),this._emptySelectionClipboard=L.get(33),this._copyWithSyntaxHighlighting=L.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(L)),this.textArea.setAttribute("tabindex",String(L.get(113))),(_.hasChanged(30)||_.hasChanged(82))&&(L.get(30)&&L.get(82)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),_.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(_){return this._selections=_.selections.slice(0),this._modelSelections=_.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return this._scrollLeft=_.scrollLeft,this._scrollTop=_.scrollTop,!0}onZonesChanged(_){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(_){_.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",_.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),_.role&&this.textArea.setAttribute("role",_.role)}prepareRender(_){this._primaryCursorPosition=new l.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=_.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(_)}render(_){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const E=this._visibleTextArea.visibleTextareaStart,I=this._visibleTextArea.visibleTextareaEnd,T=this._visibleTextArea.startPosition,P=this._visibleTextArea.endPosition;if(T&&P&&E&&I&&I.left>=this._scrollLeft&&E.left<=this._scrollLeft+this._contentWidth){const B=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,R=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let k=this._visibleTextArea.widthOfHiddenLineTextBefore,A=this._contentLeft+E.left-this._scrollLeft,O=I.left-E.left+1;if(A<this._contentLeft){const te=this._contentLeft-A;A+=te,k+=te,O-=te}O>this._contentWidth&&(O=this._contentWidth);const F=this._context.viewModel.getViewLineData(T.lineNumber),W=F.tokens.findTokenIndexAtOffset(T.column-1),M=F.tokens.findTokenIndexAtOffset(P.column-1),z=W===M,G=this._visibleTextArea.definePresentation(z?F.tokens.getPresentation(W):null);this.textArea.domNode.scrollTop=R*this._lineHeight,this.textArea.domNode.scrollLeft=k,this._doRender({lastRenderPosition:null,top:B,left:A,width:O,height:this._lineHeight,useCover:!1,color:(r.TokenizationRegistry.getColorMap()||[])[G.foreground],italic:G.italic,bold:G.bold,underline:G.underline,strikethrough:G.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const _=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(_<this._contentLeft||_>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const L=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(L<0||L>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:L,left:_,width:m?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const E=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=E*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:L,left:_,width:m?0:1,height:m?0:1,useCover:!1})}_newlinecount(_){let L=0,E=-1;do{if(E=_.indexOf(`
`,E+1),E===-1)break;L++}while(!0);return L}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:m?0:1,height:m?0:1,useCover:!0})}_doRender(_){this._lastRenderPosition=_.lastRenderPosition;const L=this.textArea,E=this.textAreaCover;(0,b.applyFontInfo)(L,this._fontInfo),L.setTop(_.top),L.setLeft(_.left),L.setWidth(_.width),L.setHeight(_.height),L.setColor(_.color?c.Color.Format.CSS.formatHex(_.color):""),L.setFontStyle(_.italic?"italic":""),_.bold&&L.setFontWeight("bold"),L.setTextDecoration(`${_.underline?" underline":""}${_.strikethrough?" line-through":""}`),E.setTop(_.useCover?_.top:0),E.setLeft(_.useCover?_.left:0),E.setWidth(_.useCover?_.width:0),E.setHeight(_.useCover?_.height:0);const I=this._context.configuration.options;I.get(51)?E.setClassName("monaco-editor-background textAreaCover "+n.Margin.OUTER_CLASS_NAME):I.get(61).renderType!==0?E.setClassName("monaco-editor-background textAreaCover "+i.LineNumbersOverlay.CLASS_NAME):E.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=S;function p(C,_){if(C.length===0)return 0;const L=document.createElement("div");L.style.position="absolute",L.style.top="-50000px",L.style.width="50000px";const E=document.createElement("span");(0,b.applyFontInfo)(E,_),E.style.whiteSpace="pre",E.append(C),L.appendChild(E),document.body.appendChild(L);const I=E.offsetWidth;return document.body.removeChild(L),I}}),define(ne[669],oe([1,0,33,31,52,11,28,54,75]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class u{constructor(n,t){const s=n.options;this.lineHeight=s.get(60),this.pixelRatio=s.get(130),this.overviewRulerLanes=s.get(75),this.renderBorder=s.get(74);const l=t.getColor(b.editorOverviewRulerBorder);this.borderColor=l?l.toString():null,this.hideCursor=s.get(53);const d=t.getColor(b.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=t.type;const a=s.get(66),o=a.enabled,r=a.side,c=t.getColor(b.editorOverviewRulerBackground),g=w.TokenizationRegistry.getDefaultBackground();let m=null;c!==void 0?m=c:o&&(m=g),m===null||r==="left"?this.backgroundColor=null:this.backgroundColor=f.Color.Format.CSS.formatHex(m);const p=s.get(132).overviewRuler;this.top=p.top,this.right=p.right,this.domWidth=p.width,this.domHeight=p.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[C,_]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=C,this.w=_}_initLanes(n,t,s){const l=t-n;if(s>=3){const d=Math.floor(l/3),a=Math.floor(l/3),o=l-d-a,r=n,c=r+d,g=r+d+o;return[[0,r,c,r,g,r,c,r],[0,d,o,d+o,a,d+o+a,o+a,d+o+a]]}else if(s===2){const d=Math.floor(l/2),a=l-d,o=n,r=o+d;return[[0,o,o,o,r,o,o,o],[0,d,d,d,a,d+a,d+a,d+a]]}else{const d=n,a=l;return[[0,d,d,d,d,d,d,d],[0,a,a,a,a,a,a,a]]}}equals(n){return this.lineHeight===n.lineHeight&&this.pixelRatio===n.pixelRatio&&this.overviewRulerLanes===n.overviewRulerLanes&&this.renderBorder===n.renderBorder&&this.borderColor===n.borderColor&&this.hideCursor===n.hideCursor&&this.cursorColor===n.cursorColor&&this.themeType===n.themeType&&this.backgroundColor===n.backgroundColor&&this.top===n.top&&this.right===n.right&&this.domWidth===n.domWidth&&this.domHeight===n.domHeight&&this.canvasWidth===n.canvasWidth&&this.canvasHeight===n.canvasHeight}}class h extends N.ViewPart{constructor(n){super(n);this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=w.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(n){const t=new u(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,n&&this._render(),!0)}onConfigurationChanged(n){return this._updateSettings(!1)}onCursorStateChanged(n){this._cursorPositions=[];for(let t=0,s=n.selections.length;t<s;t++)this._cursorPositions[t]=n.selections[t].getPosition();return this._cursorPositions.sort(D.Position.compare),!0}onDecorationsChanged(n){return!!n.affectsOverviewRuler}onFlushed(n){return!0}onScrollChanged(n){return n.scrollHeightChanged}onZonesChanged(n){return!0}onThemeChanged(n){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(n){}render(n){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const n=this._settings.canvasWidth,t=this._settings.canvasHeight,s=this._settings.lineHeight,l=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),a=t/d,o=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),r=6*this._settings.pixelRatio|0,c=r/2|0,g=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?g.clearRect(0,0,n,t):(g.fillStyle=this._settings.backgroundColor,g.fillRect(0,0,n,t));const m=this._settings.x,S=this._settings.w;o.sort(v.OverviewRulerDecorationsGroup.cmp);for(const p of o){const C=p.color,_=p.data;g.fillStyle=C;let L=0,E=0,I=0;for(let T=0,P=_.length/3;T<P;T++){const B=_[3*T],R=_[3*T+1],k=_[3*T+2];let A=l.getVerticalOffsetForLineNumber(R)*a|0,O=(l.getVerticalOffsetForLineNumber(k)+s)*a|0;if(O-A<r){let W=(A+O)/2|0;W<c?W=c:W+c>t&&(W=t-c),A=W-c,O=W+c}A>I+1||B!==L?(T!==0&&g.fillRect(m[L],E,S[L],I-E),L=B,E=A,I=O):O>I&&(I=O)}g.fillRect(m[L],E,S[L],I-E)}if(!this._settings.hideCursor&&this._settings.cursorColor){const p=2*this._settings.pixelRatio|0,C=p/2|0,_=this._settings.x[7],L=this._settings.w[7];g.fillStyle=this._settings.cursorColor;let E=-100,I=-100;for(let T=0,P=this._cursorPositions.length;T<P;T++){const B=this._cursorPositions[T];let R=l.getVerticalOffsetForLineNumber(B.lineNumber)*a|0;R<C?R=C:R+C>t&&(R=t-C);const k=R-C,A=k+p;k>I+1?(T!==0&&g.fillRect(_,E,L,I-E),E=k,I=A):A>I&&(I=A)}g.fillRect(_,E,L,I-E)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(g.beginPath(),g.lineWidth=1,g.strokeStyle=this._settings.borderColor,g.moveTo(0,0),g.lineTo(0,t),g.stroke(),g.moveTo(0,0),g.lineTo(n,0),g.stroke())}}e.DecorationsOverviewRuler=h}),define(ne[670],oe([1,0,33,52,54,15,378]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class w extends f.ViewPart{constructor(v){super(v);this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const u=this._context.configuration.options;this._rulers=u.get(92),this._typicalHalfwidthCharacterWidth=u.get(45).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(v){const u=this._context.configuration.options;return this._rulers=u.get(92),this._typicalHalfwidthCharacterWidth=u.get(45).typicalHalfwidthCharacterWidth,!0}onScrollChanged(v){return v.scrollHeightChanged}prepareRender(v){}_ensureRulersCount(){const v=this._renderedRulers.length,u=this._rulers.length;if(v===u)return;if(v<u){const{tabSize:i}=this._context.viewModel.model.getOptions(),n=i;let t=u-v;for(;t>0;){const s=(0,y.createFastDomNode)(document.createElement("div"));s.setClassName("view-ruler"),s.setWidth(n),this.domNode.appendChild(s),this._renderedRulers.push(s),t--}return}let h=v-u;for(;h>0;){const i=this._renderedRulers.pop();this.domNode.removeChild(i),h--}}render(v){this._ensureRulersCount();for(let u=0,h=this._rulers.length;u<h;u++){const i=this._renderedRulers[u],n=this._rulers[u];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(v.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=w,(0,D.registerThemingParticipant)((b,v)=>{const u=b.getColor(N.editorRuler);u&&v.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${u} inset; }`)})}),define(ne[671],oe([1,0,33,10,52,527,34,54,15,56,381]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class h extends N.ViewPart{constructor(n){super(n);const t=this._context.configuration.options;this._readOnly=t.get(82),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new f.TimeoutTimer,this._cursorFlatBlinkInterval=new f.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(n){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(n){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(n){const t=this._context.configuration.options;this._readOnly=t.get(82),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(n);for(let s=0,l=this._secondaryCursors.length;s<l;s++)this._secondaryCursors[s].onConfigurationChanged(n);return!0}_onCursorPositionChanged(n,t){if(this._primaryCursor.onCursorPositionChanged(n),this._updateBlinking(),this._secondaryCursors.length<t.length){const s=t.length-this._secondaryCursors.length;for(let l=0;l<s;l++){const d=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>t.length){const s=this._secondaryCursors.length-t.length;for(let l=0;l<s;l++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let s=0;s<t.length;s++)this._secondaryCursors[s].onCursorPositionChanged(t[s])}onCursorStateChanged(n){const t=[];for(let l=0,d=n.selections.length;l<d;l++)t[l]=n.selections[l].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const s=n.selections[0].isEmpty();return this._selectionIsEmpty!==s&&(this._selectionIsEmpty=s,this._updateDomClassName()),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onFocusChanged(n){return this._editorHasFocus=n.isFocused,this._updateBlinking(),!1}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return!0}onTokensChanged(n){const t=s=>{for(let l=0,d=n.ranges.length;l<d;l++)if(n.ranges[l].fromLineNumber<=s.lineNumber&&s.lineNumber<=n.ranges[l].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const s of this._secondaryCursors)if(t(s.getPosition()))return!0;return!1}onZonesChanged(n){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const n=this._getCursorBlinking(),t=n===0,s=n===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!s&&(n===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},h.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},h.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let n="cursors-layer";switch(this._selectionIsEmpty||(n+=" has-selection"),this._cursorStyle){case w.TextEditorCursorStyle.Line:n+=" cursor-line-style";break;case w.TextEditorCursorStyle.Block:n+=" cursor-block-style";break;case w.TextEditorCursorStyle.Underline:n+=" cursor-underline-style";break;case w.TextEditorCursorStyle.LineThin:n+=" cursor-line-thin-style";break;case w.TextEditorCursorStyle.BlockOutline:n+=" cursor-block-outline-style";break;case w.TextEditorCursorStyle.UnderlineThin:n+=" cursor-underline-thin-style";break;default:n+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:n+=" cursor-blink";break;case 2:n+=" cursor-smooth";break;case 3:n+=" cursor-phase";break;case 4:n+=" cursor-expand";break;case 5:n+=" cursor-solid";break;default:n+=" cursor-solid"}else n+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(n+=" cursor-smooth-caret-animation"),n}_show(){this._primaryCursor.show();for(let n=0,t=this._secondaryCursors.length;n<t;n++)this._secondaryCursors[n].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let n=0,t=this._secondaryCursors.length;n<t;n++)this._secondaryCursors[n].hide();this._isVisible=!1}prepareRender(n){this._primaryCursor.prepareRender(n);for(let t=0,s=this._secondaryCursors.length;t<s;t++)this._secondaryCursors[t].prepareRender(n)}render(n){const t=[];let s=0;const l=this._primaryCursor.render(n);l&&(t[s++]=l);for(let d=0,a=this._secondaryCursors.length;d<a;d++){const o=this._secondaryCursors[d].render(n);o&&(t[s++]=o)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=h,h.BLINK_INTERVAL=500,(0,v.registerThemingParticipant)((i,n)=>{const t=i.getColor(b.editorCursorForeground);if(t){let s=i.getColor(b.editorCursorBackground);s||(s=t.opposite()),n.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${t}; }`),n.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${s}; }`),(0,u.isHighContrast)(i.type)&&n.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${s}; border-right: 1px solid ${s}; }`)}})}),define(ne[672],oe([1,0,4,2,3,54,15]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class b extends f.Disposable{constructor(h){super();this.textModel=h,this.colorProvider=new v,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=h.getOptions().bracketPairColorizationOptions,this._register(h.bracketPairs.onDidChange(i=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(h){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(h,i,n){if(i===void 0)return[];if(!this.colorizationOptions.enabled)return[];const t=new Array,s=this.textModel.bracketPairs.getBracketsInRange(h);for(const l of s)t.push({id:`bracket${l.range.toString()}-${l.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(l,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:l.range});return t}getAllDecorations(h,i){return h===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new N.Range(1,1,this.textModel.getLineCount(),1),h,i):[]}}e.ColorizedBracketPairsDecorationProvider=b;class v{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(h,i){return h.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(i?h.nestingLevelOfEqualBracketType:h.nestingLevel)}getInlineClassNameOfLevel(h){return`bracket-highlighting-${h%30}`}}(0,w.registerThemingParticipant)((u,h)=>{const i=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],n=new v;h.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${u.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const t=i.map(s=>u.getColor(s)).filter(s=>!!s).filter(s=>!s.isTransparent());for(let s=0;s<30;s++){const l=t[s%t.length];h.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(s)} { color: ${l}; }`)}})}),define(ne[673],oe([1,0,83,2,48,15,54,50,3,44,4,25,51]),function(j,e,y,f,N,D,w,b,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class t extends f.Disposable{constructor(d){super();this.model=d,this._markersData=new Map,this._register((0,f.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(d,a){const o=[...this._markersData.keys()];this._markersData.clear();const r=this.model.deltaDecorations(o,a);for(let c=0;c<r.length;c++)this._markersData.set(r[c],d[c]);return o.length!==0||r.length!==0}getMarker(d){return this._markersData.get(d.id)}}let s=class extends f.Disposable{constructor(d,a){super();this._markerService=a,this._onDidChangeMarker=this._register(new h.Emitter),this._markerDecorations=new n.ResourceMap,d.getModels().forEach(o=>this._onModelAdded(o)),this._register(d.onModelAdded(this._onModelAdded,this)),this._register(d.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(d=>d.dispose()),this._markerDecorations.clear()}getMarker(d,a){const o=this._markerDecorations.get(d);return o&&o.getMarker(a)||null}_handleMarkerChange(d){d.forEach(a=>{const o=this._markerDecorations.get(a);o&&this._updateDecorations(o)})}_onModelAdded(d){const a=new t(d);this._markerDecorations.set(d.uri,a),this._updateDecorations(a)}_onModelRemoved(d){const a=this._markerDecorations.get(d.uri);a&&(a.dispose(),this._markerDecorations.delete(d.uri)),(d.uri.scheme===u.Schemas.inMemory||d.uri.scheme===u.Schemas.internal||d.uri.scheme===u.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:d.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[d.uri]))}_updateDecorations(d){const a=this._markerService.read({resource:d.model.uri,take:500}),o=a.map(r=>({range:this._createDecorationRange(d.model,r),options:this._createDecorationOption(r)}));d.update(a,o)&&this._onDidChangeMarker.fire(d.model)}_createDecorationRange(d,a){let o=v.Range.lift(a);if(a.severity===y.MarkerSeverity.Hint&&!this._hasMarkerTag(a,1)&&!this._hasMarkerTag(a,2)&&(o=o.setEndPosition(o.startLineNumber,o.startColumn+2)),o=d.validateRange(o),o.isEmpty()){const r=d.getLineLastNonWhitespaceColumn(o.startLineNumber)||d.getLineMaxColumn(o.startLineNumber);if(r===1||o.endColumn>=r)return o;const c=d.getWordAtPosition(o.getStartPosition());c&&(o=new v.Range(o.startLineNumber,c.startColumn,o.endLineNumber,c.endColumn))}else if(a.endColumn===Number.MAX_VALUE&&a.startColumn===1&&o.startLineNumber===o.endLineNumber){const r=d.getLineFirstNonWhitespaceColumn(a.startLineNumber);r<o.endColumn&&(o=new v.Range(o.startLineNumber,r,o.endLineNumber,o.endColumn),a.startColumn=r)}return o}_createDecorationOption(d){let a,o,r,c,g;switch(d.severity){case y.MarkerSeverity.Hint:this._hasMarkerTag(d,2)?a=void 0:this._hasMarkerTag(d,1)?a="squiggly-unnecessary":a="squiggly-hint",r=0;break;case y.MarkerSeverity.Warning:a="squiggly-warning",o=(0,D.themeColorFromId)(w.overviewRulerWarning),r=20,g={color:(0,D.themeColorFromId)(i.minimapWarning),position:N.MinimapPosition.Inline};break;case y.MarkerSeverity.Info:a="squiggly-info",o=(0,D.themeColorFromId)(w.overviewRulerInfo),r=10;break;case y.MarkerSeverity.Error:default:a="squiggly-error",o=(0,D.themeColorFromId)(w.overviewRulerError),r=30,g={color:(0,D.themeColorFromId)(i.minimapError),position:N.MinimapPosition.Inline};break}return d.tags&&(d.tags.indexOf(1)!==-1&&(c="squiggly-inline-unnecessary"),d.tags.indexOf(2)!==-1&&(c="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:a,showIfCollapsed:!0,overviewRuler:{color:o,position:N.OverviewRulerLane.Right},minimap:g,zIndex:r,inlineClassName:c}}_hasMarkerTag(d,a){return d.tags?d.tags.indexOf(a)>=0:!1}};s=De([ge(0,b.IModelService),ge(1,y.IMarkerService)],s),e.MarkerDecorationsService=s}),define(ne[299],oe([1,0,109,15,70,455,38]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let b=class{constructor(n,t,s,l){this._legend=n,this._themeService=t,this._languageService=s,this._logService=l,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new h}getMetadata(n,t,s){const l=this._languageService.languageIdCodec.encodeLanguageId(s),d=this._hashTable.get(n,t,l);let a;if(d)a=d.metadata,this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${n} / ${t}: foreground ${y.TokenMetadata.getForeground(a)}, fontStyle ${y.TokenMetadata.getFontStyle(a).toString(2)}`);else{let o=this._legend.tokenTypes[n];const r=[];if(o){let c=t;for(let m=0;c>0&&m<this._legend.tokenModifiers.length;m++)c&1&&r.push(this._legend.tokenModifiers[m]),c=c>>1;c>0&&this._logService.getLevel()===N.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const g=this._themeService.getColorTheme().getTokenStyleMetadata(o,r,s);typeof g=="undefined"?a=2147483647:(a=0,typeof g.italic!="undefined"&&(a|=(g.italic?1:0)<<11|1),typeof g.bold!="undefined"&&(a|=(g.bold?2:0)<<11|2),typeof g.underline!="undefined"&&(a|=(g.underline?4:0)<<11|4),typeof g.strikethrough!="undefined"&&(a|=(g.strikethrough?8:0)<<11|8),g.foreground&&(a|=g.foreground<<15|16),a===0&&(a=2147483647))}else this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${n} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),a=2147483647,o="not-in-legend";this._hashTable.add(n,t,l,a),this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${n} (${o}) / ${t} (${r.join(" ")}): foreground ${y.TokenMetadata.getForeground(a)}, fontStyle ${y.TokenMetadata.getFontStyle(a).toString(2)}`)}return a}warnOverlappingSemanticTokens(n,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${n}, column ${t}`))}warnInvalidLengthSemanticTokens(n,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${n}, column ${t}`))}warnInvalidEditStart(n,t,s,l,d){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${n}, resultId: ${t}) at edit #${s}: The provided start offset ${l} is outside the previous data (length ${d}).`))}};b=De([ge(1,f.IThemeService),ge(2,w.ILanguageService),ge(3,N.ILogService)],b),e.SemanticTokensProviderStyling=b;function v(i,n,t){const s=i.data,l=i.data.length/5|0,d=Math.max(Math.ceil(l/1024),400),a=[];let o=0,r=1,c=0;for(;o<l;){const g=o;let m=Math.min(g+d,l);if(m<l){let I=m;for(;I-1>g&&s[5*I]===0;)I--;if(I-1===g){let T=m;for(;T+1<l&&s[5*T]===0;)T++;m=T}else m=I}let S=new Uint32Array((m-g)*4),p=0,C=0,_=0,L=0;for(;o<m;){const I=5*o,T=s[I],P=s[I+1],B=r+T|0,R=T===0?c+P|0:P,k=s[I+2],A=R+k|0,O=s[I+3],F=s[I+4];if(A<=R)n.warnInvalidLengthSemanticTokens(B,R+1);else if(_===B&&L>R)n.warnOverlappingSemanticTokens(B,R+1);else{const W=n.getMetadata(O,F,t);W!==2147483647&&(C===0&&(C=B),S[p]=B-C,S[p+1]=R,S[p+2]=A,S[p+3]=W,p+=4,_=B,L=A)}r=B,c=R,o++}p!==S.length&&(S=S.subarray(0,p));const E=D.SparseMultilineTokens.create(C,S);a.push(E)}return a}e.toMultilineTokens2=v;class u{constructor(n,t,s,l){this.tokenTypeIndex=n,this.tokenModifierSet=t,this.languageId=s,this.metadata=l,this.next=null}}class h{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=h._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<h._SIZES.length?2/3*this._currentLength:0),this._elements=[],h._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(n,t){for(let s=0;s<t;s++)n[s]=null}_hash2(n,t){return(n<<5)-n+t|0}_hashFunc(n,t,s){return this._hash2(this._hash2(n,t),s)%this._currentLength}get(n,t,s){const l=this._hashFunc(n,t,s);let d=this._elements[l];for(;d;){if(d.tokenTypeIndex===n&&d.tokenModifierSet===t&&d.languageId===s)return d;d=d.next}return null}add(n,t,s,l){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const d=this._elements;this._currentLengthIndex++,this._currentLength=h._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<h._SIZES.length?2/3*this._currentLength:0),this._elements=[],h._nullOutEntries(this._elements,this._currentLength);for(const a of d){let o=a;for(;o;){const r=o.next;o.next=null,this._add(o),o=r}}}this._add(new u(n,t,s,l))}_add(n){const t=this._hashFunc(n.tokenTypeIndex,n.tokenModifierSet,n.languageId);n.next=this._elements[t],this._elements[t]=n}}h._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ne[674],oe([1,0,7,60,27,4,2,192,539,43,25,15,387]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var n;(function(s){s.Hidden={type:0};class l{constructor(a,o,r,c){this.actions=a,this.trigger=o,this.editorPosition=r,this.widgetPosition=c,this.type=1}}s.Showing=l})(n||(n={}));let t=class ki extends w.Disposable{constructor(l,d,a,o){super();this._editor=l,this._quickFixActionId=d,this._preferredFixActionId=a,this._keybindingService=o,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=document.createElement("div"),this._domNode.className=N.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(r=>{const c=this._editor.getModel();(this.state.type!==1||!c||this.state.editorPosition.lineNumber>=c.getLineCount())&&this.hide()})),f.Gesture.ignoreTarget(this._domNode),this._register(y.addStandardDisposableGenericMouseDownListener(this._domNode,r=>{if(this.state.type!==1)return;this._editor.focus(),r.preventDefault();const{top:c,height:g}=y.getDomNodePagePosition(this._domNode),m=this._editor.getOption(60);let S=Math.floor(m/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(S+=m),this._onClick.fire({x:r.posx,y:c+g+S,actions:this.state.actions,trigger:this.state.trigger})})),this._register(y.addDisposableListener(this._domNode,"mouseenter",r=>{(r.buttons&1)==1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(58)&&!this._editor.getOption(58).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(l,d,a){if(l.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(58).enabled)return this.hide();const r=this._editor.getModel();if(!r)return this.hide();const{lineNumber:c,column:g}=r.validatePosition(a),m=r.getOptions().tabSize,S=o.get(45),p=r.getLineContent(c),C=(0,b.computeIndentLevel)(p,m),_=S.spaceWidth*C>22,L=I=>I>2&&this._editor.getTopForLineNumber(I)===this._editor.getTopForLineNumber(I-1);let E=c;if(!_){if(c>1&&!L(c-1))E-=1;else if(!L(c+1))E+=1;else if(g*S.spaceWidth<22)return this.hide()}this.state=new n.Showing(l,d,a,{position:{lineNumber:E,column:1},preference:ki._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=n.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(l){this._state=l,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...N.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...N.Codicon.lightbulbAutofix.classNamesArray);const d=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(d){this.title=v.localize(0,null,d.getLabel());return}}this._domNode.classList.remove(...N.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...N.Codicon.lightBulb.classNamesArray);const l=this._keybindingService.lookupKeybinding(this._quickFixActionId);l?this.title=v.localize(1,null,l.getLabel()):this.title=v.localize(2,null)}set title(l){this._domNode.title=l}};t._posPref=[0],t=De([ge(3,u.IKeybindingService)],t),e.LightBulbWidget=t,(0,i.registerThemingParticipant)((s,l)=>{var d;const a=(d=s.getColor(h.editorBackground))===null||d===void 0?void 0:d.transparent(.7),o=s.getColor(h.editorLightBulbForeground);o&&l.addRule(`
		.monaco-editor .contentWidgets ${N.Codicon.lightBulb.cssSelector} {
			color: ${o};
			background-color: ${a};
		}`);const r=s.getColor(h.editorLightBulbAutoFixForeground);r&&l.addRule(`
		.monaco-editor .contentWidgets ${N.Codicon.lightbulbAutofix.cssSelector} {
			color: ${r};
			background-color: ${a};
		}`)})}),define(ne[675],oe([1,0,36,7,124,66,31,4,2,541,25,15,389]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const n=f.$;class t extends v.Disposable{constructor(g,m,S){super();this.model=m,this.domNode=n(".colorpicker-header"),f.append(g,this.domNode),this.pickedColorNode=f.append(this.domNode,n(".picked-color"));const p=(0,u.localize)(0,null);this.pickedColorNode.setAttribute("title",p);const C=f.append(this.domNode,n(".original-color"));C.style.backgroundColor=w.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=S.getColorTheme().getColor(h.editorHoverBackground)||w.Color.white,this._register((0,i.registerThemingParticipant)((_,L)=>{this.backgroundColor=_.getColor(h.editorHoverBackground)||w.Color.white})),this._register(f.addDisposableListener(this.pickedColorNode,f.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(f.addDisposableListener(C,f.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(m.onDidChangeColor(this.onDidChangeColor,this)),this._register(m.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=w.Color.Format.CSS.format(m.color)||"",this.pickedColorNode.classList.toggle("light",m.color.rgba.a<.5?this.backgroundColor.isLighter():m.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(g){this.pickedColorNode.style.backgroundColor=w.Color.Format.CSS.format(g)||"",this.pickedColorNode.classList.toggle("light",g.rgba.a<.5?this.backgroundColor.isLighter():g.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(n(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=t;class s extends v.Disposable{constructor(g,m,S){super();this.model=m,this.pixelRatio=S,this.domNode=n(".colorpicker-body"),f.append(g,this.domNode),this.saturationBox=new l(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new a(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new o(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:g,v:m}){const S=this.model.color.hsva;this.model.color=new w.Color(new w.HSVA(S.h,g,m,S.a))}onDidOpacityChange(g){const m=this.model.color.hsva;this.model.color=new w.Color(new w.HSVA(m.h,m.s,m.v,g))}onDidHueChange(g){const m=this.model.color.hsva,S=(1-g)*360;this.model.color=new w.Color(new w.HSVA(S===360?0:S,m.s,m.v,m.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=s;class l extends v.Disposable{constructor(g,m,S){super();this.model=m,this.pixelRatio=S,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=n(".saturation-wrap"),f.append(g,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",f.append(this.domNode,this.canvas),this.selection=n(".saturation-selection"),f.append(this.domNode,this.selection),this.layout(),this._register(f.addDisposableListener(this.domNode,f.EventType.POINTER_DOWN,p=>this.onPointerDown(p))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(g){if(!g.target||!(g.target instanceof Element))return;this.monitor=this._register(new N.GlobalPointerMoveMonitor);const m=f.getDomNodePagePosition(this.domNode);g.target!==this.selection&&this.onDidChangePosition(g.offsetX,g.offsetY),this.monitor.startMonitoring(g.target,g.pointerId,g.buttons,p=>this.onDidChangePosition(p.pageX-m.left,p.pageY-m.top),()=>null);const S=f.addDisposableListener(document,f.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),S.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(g,m){const S=Math.max(0,Math.min(1,g/this.width)),p=Math.max(0,Math.min(1,1-m/this.height));this.paintSelection(S,p),this._onDidChange.fire({s:S,v:p})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const g=this.model.color.hsva;this.paintSelection(g.s,g.v)}paint(){const g=this.model.color.hsva,m=new w.Color(new w.HSVA(g.h,1,1,1)),S=this.canvas.getContext("2d"),p=S.createLinearGradient(0,0,this.canvas.width,0);p.addColorStop(0,"rgba(255, 255, 255, 1)"),p.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),p.addColorStop(1,"rgba(255, 255, 255, 0)");const C=S.createLinearGradient(0,0,0,this.canvas.height);C.addColorStop(0,"rgba(0, 0, 0, 0)"),C.addColorStop(1,"rgba(0, 0, 0, 1)"),S.rect(0,0,this.canvas.width,this.canvas.height),S.fillStyle=w.Color.Format.CSS.format(m),S.fill(),S.fillStyle=p,S.fill(),S.fillStyle=C,S.fill()}paintSelection(g,m){this.selection.style.left=`${g*this.width}px`,this.selection.style.top=`${this.height-m*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class d extends v.Disposable{constructor(g,m){super();this.model=m,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=f.append(g,n(".strip")),this.overlay=f.append(this.domNode,n(".overlay")),this.slider=f.append(this.domNode,n(".slider")),this.slider.style.top="0px",this._register(f.addDisposableListener(this.domNode,f.EventType.POINTER_DOWN,S=>this.onPointerDown(S))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const g=this.getValue(this.model.color);this.updateSliderPosition(g)}onPointerDown(g){if(!g.target||!(g.target instanceof Element))return;const m=this._register(new N.GlobalPointerMoveMonitor),S=f.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),g.target!==this.slider&&this.onDidChangeTop(g.offsetY),m.startMonitoring(g.target,g.pointerId,g.buttons,C=>this.onDidChangeTop(C.pageY-S.top),()=>null);const p=f.addDisposableListener(document,f.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),p.dispose(),m.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(g){const m=Math.max(0,Math.min(1,1-g/this.height));this.updateSliderPosition(m),this._onDidChange.fire(m)}updateSliderPosition(g){this.slider.style.top=`${(1-g)*this.height}px`}}class a extends d{constructor(g,m){super(g,m);this.domNode.classList.add("opacity-strip"),this._register(m.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(g){const{r:m,g:S,b:p}=g.rgba,C=new w.Color(new w.RGBA(m,S,p,1)),_=new w.Color(new w.RGBA(m,S,p,0));this.overlay.style.background=`linear-gradient(to bottom, ${C} 0%, ${_} 100%)`}getValue(g){return g.hsva.a}}class o extends d{constructor(g,m){super(g,m);this.domNode.classList.add("hue-strip")}getValue(g){return 1-g.hsva.h/360}}class r extends D.Widget{constructor(g,m,S,p){super();this.model=m,this.pixelRatio=S,this._register(y.PixelRatio.onDidChange(()=>this.layout()));const C=n(".colorpicker-widget");g.appendChild(C);const _=new t(C,this.model,p);this.body=new s(C,this.model,this.pixelRatio),this._register(_),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=r}),define(ne[676],oe([1,0,7,232,225,202,64,2,42,58,559,8,43,138,140,15,136]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let a=class{constructor(L){this._resolverService=L}hasChildren(L){return L instanceof d.ReferencesModel||L instanceof d.FileReferences}getChildren(L){if(L instanceof d.ReferencesModel)return L.groups;if(L instanceof d.FileReferences)return L.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};a=De([ge(0,u.ITextModelService)],a),e.DataSource=a;class o{getHeight(){return 23}getTemplateId(L){return L instanceof d.FileReferences?m.id:p.id}}e.Delegate=o;let r=class{constructor(L){this._keybindingService=L}getKeyboardNavigationLabel(L){var E;if(L instanceof d.OneReference){const I=(E=L.parent.getPreview(L))===null||E===void 0?void 0:E.preview(L.range);if(I)return I.value}return(0,v.basename)(L.uri)}};r=De([ge(0,n.IKeybindingService)],r),e.StringRepresentationProvider=r;class c{getId(L){return L instanceof d.OneReference?L.id:L.uri}}e.IdentityProvider=c;let g=class extends b.Disposable{constructor(L,E,I){super();this._labelService=E;const T=document.createElement("div");T.classList.add("reference-file"),this.file=this._register(new D.IconLabel(T,{supportHighlights:!0})),this.badge=new f.CountBadge(y.append(T,y.$(".count"))),this._register((0,s.attachBadgeStyler)(this.badge,I)),L.appendChild(T)}set(L,E){const I=(0,v.dirname)(L.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(L.uri),this._labelService.getUriLabel(I,{relative:!0}),{title:this._labelService.getUriLabel(L.uri),matches:E});const T=L.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,h.localize)(0,null,T)):this.badge.setTitleFormat((0,h.localize)(1,null,T))}};g=De([ge(1,t.ILabelService),ge(2,l.IThemeService)],g);let m=class Ni{constructor(L){this._instantiationService=L,this.templateId=Ni.id}renderTemplate(L){return this._instantiationService.createInstance(g,L)}renderElement(L,E,I){I.set(L.element,(0,w.createMatches)(L.filterData))}disposeTemplate(L){L.dispose()}};m.id="FileReferencesRenderer",m=De([ge(0,i.IInstantiationService)],m),e.FileReferencesRenderer=m;class S{constructor(L){this.label=new N.HighlightedLabel(L)}set(L,E){var I;const T=(I=L.parent.getPreview(L))===null||I===void 0?void 0:I.preview(L.range);if(!T||!T.value)this.label.set(`${(0,v.basename)(L.uri)}:${L.range.startLineNumber+1}:${L.range.startColumn+1}`);else{const{value:P,highlight:B}=T;E&&!w.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(P,(0,w.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(P,[B]))}}}class p{constructor(){this.templateId=p.id}renderTemplate(L){return new S(L)}renderElement(L,E,I){I.set(L.element,L.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=p,p.id="OneReferenceRenderer";class C{getWidgetAriaLabel(){return(0,h.localize)(2,null)}getAriaLabel(L){return L.ariaMessage}}e.AccessibilityProvider=C}),define(ne[677],oe([1,0,7,2,9,68,34,81,11,3,96,48,38,54,159,134,161,8,15,396]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const c=(r=window.trustedTypes)===null||r===void 0?void 0:r.createPolicy("editorGhostText",{createHTML:L=>L});let g=class extends f.Disposable{constructor(E,I,T,P){super();this.editor=E,this.model=I,this.instantiationService=T,this.languageService=P,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(S,this.editor)),this.additionalLinesWidget=this._register(new p(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new m(this.editor)),this._register(this.editor.onDidChangeConfiguration(B=>{(B.hasChanged(29)||B.hasChanged(106)||B.hasChanged(89)||B.hasChanged(84)||B.hasChanged(46)||B.hasChanged(45)||B.hasChanged(60))&&this.update()})),this._register((0,f.toDisposable)(()=>{var B;this.disposed=!0,this.update(),(B=this.viewMoreContentWidget)===null||B===void 0||B.dispose(),this.viewMoreContentWidget=void 0})),this._register(I.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(E){return this.additionalLinesWidget.viewZoneId===E}update(){var E;const I=this.model.ghostText;if(!this.editor.hasModel()||!I||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const T=new Array,P=new Array;function B(O,F){if(P.length>0){const W=P[P.length-1];F&&W.decorations.push(new s.LineDecoration(W.content.length+1,W.content.length+1+O[0].length,F,0)),W.content+=O[0],O=O.slice(1)}for(const W of O)P.push({content:W,decorations:F?[new s.LineDecoration(1,W.length+1,F,0)]:[]})}I instanceof d.GhostTextReplacement?this.replacementDecoration.setDecorations([{range:new u.Range(I.lineNumber,I.columnStart,I.lineNumber,I.columnStart+I.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const R=this.editor.getModel().getLineContent(I.lineNumber);let k,A=0;for(const O of I.parts){let F=O.lines;k===void 0?(T.push({column:O.column,text:F[0],preview:O.preview}),F=F.slice(1)):B([R.substring(A,O.column-1)],void 0),F.length>0&&(B(F,"ghost-text"),k===void 0&&O.column<=R.length&&(k=O.column)),A=O.column-1}k!==void 0&&B([R.substring(A)],void 0),this.partsWidget.setParts(I.lineNumber,T,k!==void 0?{column:k,length:R.length+1-k}:void 0),this.additionalLinesWidget.updateLines(I.lineNumber,P,I.additionalReservedLineCount),0<0?this.viewMoreContentWidget=this.renderViewMoreLines(new v.Position(I.lineNumber,this.editor.getModel().getLineMaxColumn(I.lineNumber)),"",0):((E=this.viewMoreContentWidget)===null||E===void 0||E.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(E,I,T){const P=this.editor.getOption(45),B=document.createElement("div");B.className="suggest-preview-additional-widget",(0,D.applyFontInfo)(B,P);const R=document.createElement("span");R.className="content-spacer",R.append(I),B.append(R);const k=document.createElement("span");k.className="content-newline suggest-preview-text",k.append("\u23CE  "),B.append(k);const A=new f.DisposableStore,O=document.createElement("div");return O.className="button suggest-preview-text",O.append(`+${T} lines\u2026`),A.add(y.addStandardDisposableListener(O,"mousedown",F=>{var W;(W=this.model)===null||W===void 0||W.setExpanded(!0),F.preventDefault(),this.editor.focus()})),B.append(O),new _(this.editor,E,B,A)}};g=De([ge(2,a.IInstantiationService),ge(3,n.ILanguageService)],g),e.GhostTextWidget=g;class m{constructor(E){this.editor=E,this.decorationIds=[]}setDecorations(E){this.editor.changeDecorations(I=>{this.decorationIds=I.deltaDecorations(this.decorationIds,E)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class S{constructor(E){this.editor=E,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(E=>{this.decorationIds=E.deltaDecorations(this.decorationIds,[])})}setParts(E,I,T){if(!this.editor.getModel())return;const B=new Array;T&&B.push({range:u.Range.fromPositions(new v.Position(E,T.column),new v.Position(E,T.column+T.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(R=>{this.decorationIds=R.deltaDecorations(this.decorationIds,I.map(k=>({range:u.Range.fromPositions(new v.Position(E,k.column)),options:{description:"ghost-text",after:{content:k.text,inlineClassName:k.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}})).concat(B))})}}class p{constructor(E,I){this.editor=E,this.languageIdCodec=I,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(E=>{this._viewZoneId&&(E.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(E,I,T){const P=this.editor.getModel();if(!P)return;const{tabSize:B}=P.getOptions();this.editor.changeViewZones(R=>{this._viewZoneId&&(R.removeZone(this._viewZoneId),this._viewZoneId=void 0);const k=Math.max(I.length,T);if(k>0){const A=document.createElement("div");C(A,B,I,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=R.addZone({afterLineNumber:E,heightInLines:k,domNode:A,afterColumnAffinity:1})}})}}function C(L,E,I,T,P){const B=T.get(29),R=T.get(106),k="none",A=T.get(84),O=T.get(46),F=T.get(45),W=T.get(60),M=(0,h.createStringBuilder)(1e4);M.appendASCIIString('<div class="suggest-preview-text">');for(let te=0,X=I.length;te<X;te++){const J=I[te],ie=J.content;M.appendASCIIString('<div class="view-line'),M.appendASCIIString('" style="top:'),M.appendASCIIString(String(te*W)),M.appendASCIIString('px;width:1000000px;">');const re=N.isBasicASCII(ie),Z=N.containsRTL(ie),x=b.LineTokens.createEmpty(ie,P);(0,l.renderViewLine)(new l.RenderLineInput(F.isMonospace&&!B,F.canUseHalfwidthRightwardsArrow,ie,!1,re,Z,0,x,J.decorations,E,0,F.spaceWidth,F.middotWidth,F.wsmiddotWidth,R,k,A,O!==w.EditorFontLigatures.OFF,null),M),M.appendASCIIString("</div>")}M.appendASCIIString("</div>"),(0,D.applyFontInfo)(L,F);const z=M.build(),G=c?c.createHTML(z):z;L.innerHTML=G}class _ extends f.Disposable{constructor(E,I,T,P){super();this.editor=E,this.position=I,this.domNode=T,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(P),this._register((0,f.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,o.registerThemingParticipant)((L,E)=>{const I=L.getColor(t.ghostTextForeground);I&&(E.addRule(`.monaco-editor .ghost-text-decoration { color: ${I.toString()} !important; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${I.toString()} !important; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${I.toString()} !important; }`));const T=L.getColor(t.ghostTextBackground);T&&(E.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${T.toString()}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${T.toString()}; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${T.toString()}; }`));const P=L.getColor(t.ghostTextBorder);P&&(E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${P}; }`),E.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${P}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${P}; }`))})}),define(ne[300],oe([1,0,94,2,19,154,48,54,15]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class u{constructor(i){this.options=i,this.rangeHighlightDecorationId=void 0}provide(i,n){var t;const s=new f.DisposableStore;i.canAcceptInBackground=!!((t=this.options)===null||t===void 0?void 0:t.canAcceptInBackground),i.matchOnLabel=i.matchOnDescription=i.matchOnDetail=i.sortByLabel=!1;const l=s.add(new f.MutableDisposable);return l.value=this.doProvide(i,n),s.add(this.onDidActiveTextEditorControlChange(()=>{l.value=void 0,l.value=this.doProvide(i,n)})),s}doProvide(i,n){const t=new f.DisposableStore,s=this.activeTextEditorControl;if(s&&this.canProvideWithTextEditor(s)){const l={editor:s},d=(0,D.getCodeEditor)(s);if(d){let a=(0,N.withNullAsUndefined)(s.saveViewState());t.add(d.onDidChangeCursorPosition(()=>{a=(0,N.withNullAsUndefined)(s.saveViewState())})),l.restoreViewState=()=>{a&&s===this.activeTextEditorControl&&s.restoreViewState(a)},t.add((0,y.once)(n.onCancellationRequested)(()=>{var o;return(o=l.restoreViewState)===null||o===void 0?void 0:o.call(l)}))}t.add((0,f.toDisposable)(()=>this.clearDecorations(s))),t.add(this.provideWithTextEditor(l,i,n))}else t.add(this.provideWithoutTextEditor(i,n));return t}canProvideWithTextEditor(i){return!0}gotoLocation({editor:i},n){i.setSelection(n.range),i.revealRangeInCenter(n.range,0),n.preserveFocus||i.focus()}getModel(i){var n;return(0,D.isDiffEditor)(i)?(n=i.getModel())===null||n===void 0?void 0:n.modified:i.getModel()}addDecorations(i,n){i.changeDecorations(t=>{const s=[];this.rangeHighlightDecorationId&&(s.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),s.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const l=[{range:n,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,v.themeColorFromId)(b.overviewRulerRangeHighlight),position:w.OverviewRulerLane.Full}}}],[d,a]=t.deltaDecorations(s,l);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:a}})}clearDecorations(i){const n=this.rangeHighlightDecorationId;n&&(i.changeDecorations(t=>{t.deltaDecorations([n.overviewRulerDecorationId,n.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=u}),define(ne[678],oe([1,0,2,154,300,580]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class w extends N.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(v){const u=(0,D.localize)(0,null);return v.items=[{label:u}],v.ariaLabel=u,y.Disposable.None}provideWithTextEditor(v,u,h){const i=v.editor,n=new y.DisposableStore;n.add(u.onDidAccept(l=>{const[d]=u.selectedItems;if(d){if(!this.isValidLineNumber(i,d.lineNumber))return;this.gotoLocation(v,{range:this.toRange(d.lineNumber,d.column),keyMods:u.keyMods,preserveFocus:l.inBackground}),l.inBackground||u.hide()}}));const t=()=>{const l=this.parsePosition(i,u.value.trim().substr(w.PREFIX.length)),d=this.getPickLabel(i,l.lineNumber,l.column);if(u.items=[{lineNumber:l.lineNumber,column:l.column,label:d}],u.ariaLabel=d,!this.isValidLineNumber(i,l.lineNumber)){this.clearDecorations(i);return}const a=this.toRange(l.lineNumber,l.column);i.revealRangeInCenter(a,0),this.addDecorations(i,a)};t(),n.add(u.onDidChangeValue(()=>t()));const s=(0,f.getCodeEditor)(i);return s&&s.getOptions().get(61).renderType===2&&(s.updateOptions({lineNumbers:"on"}),n.add((0,y.toDisposable)(()=>s.updateOptions({lineNumbers:"relative"})))),n}toRange(v=1,u=1){return{startLineNumber:v,startColumn:u,endLineNumber:v,endColumn:u}}parsePosition(v,u){const h=u.split(/,|:|#/).map(n=>parseInt(n,10)).filter(n=>!isNaN(n)),i=this.lineCount(v)+1;return{lineNumber:h[0]>0?h[0]:i+h[0],column:h[1]}}getPickLabel(v,u,h){if(this.isValidLineNumber(v,u))return this.isValidColumn(v,u,h)?(0,D.localize)(1,null,u,h):(0,D.localize)(2,null,u);const i=v.getPosition()||{lineNumber:1,column:1},n=this.lineCount(v);return n>1?(0,D.localize)(3,null,i.lineNumber,i.column,n):(0,D.localize)(4,null,i.lineNumber,i.column)}isValidLineNumber(v,u){return!u||typeof u!="number"?!1:u>0&&u<=this.lineCount(v)}isValidColumn(v,u,h){if(!h||typeof h!="number")return!1;const i=this.getModel(v);if(!i)return!1;const n={lineNumber:u,column:h};return i.validatePosition(n).equals(n)}lineCount(v){var u,h;return(h=(u=this.getModel(v))===null||u===void 0?void 0:u.getLineCount())!==null&&h!==void 0?h:0}}e.AbstractGotoLineQuickAccessProvider=w,w.PREFIX=":"}),define(ne[679],oe([1,0,10,21,27,336,2,9,3,28,210,300,581,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let s=class ni extends i.AbstractEditorNavigationQuickAccessProvider{constructor(o,r,c=Object.create(null)){super(c);this._languageFeaturesService=o,this._outlineModelService=r,this.options=c,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(o){return this.provideLabelPick(o,(0,n.localize)(0,null)),w.Disposable.None}provideWithTextEditor(o,r,c){const g=o.editor,m=this.getModel(g);return m?this._languageFeaturesService.documentSymbolProvider.has(m)?this.doProvideWithEditorSymbols(o,m,r,c):this.doProvideWithoutEditorSymbols(o,m,r,c):w.Disposable.None}doProvideWithoutEditorSymbols(o,r,c,g){const m=new w.DisposableStore;return this.provideLabelPick(c,(0,n.localize)(1,null)),(()=>Le(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(r,m))||g.isCancellationRequested||m.add(this.doProvideWithEditorSymbols(o,r,c,g))}))(),m}provideLabelPick(o,r){o.items=[{label:r,index:0,kind:14}],o.ariaLabel=r}waitForLanguageSymbolRegistry(o,r){return Le(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(o))return!0;const c=new y.DeferredPromise,g=r.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(o)&&(g.dispose(),c.complete(!0))}));return r.add((0,w.toDisposable)(()=>c.complete(!1))),c.p})}doProvideWithEditorSymbols(o,r,c,g){const m=o.editor,S=new w.DisposableStore;S.add(c.onDidAccept(E=>{const[I]=c.selectedItems;I&&I.range&&(this.gotoLocation(o,{range:I.range.selection,keyMods:c.keyMods,preserveFocus:E.inBackground}),E.inBackground||c.hide())})),S.add(c.onDidTriggerItemButton(({item:E})=>{E&&E.range&&(this.gotoLocation(o,{range:E.range.selection,keyMods:c.keyMods,forceSideBySide:!0}),c.hide())}));const p=this.getDocumentSymbols(r,g);let C;const _=()=>Le(this,void 0,void 0,function*(){C==null||C.dispose(!0),c.busy=!1,C=new f.CancellationTokenSource(g),c.busy=!0;try{const E=(0,D.prepareQuery)(c.value.substr(ni.PREFIX.length).trim()),I=yield this.doGetSymbolPicks(p,E,void 0,C.token);if(g.isCancellationRequested)return;I.length>0?c.items=I:E.original.length>0?this.provideLabelPick(c,(0,n.localize)(2,null)):this.provideLabelPick(c,(0,n.localize)(3,null))}finally{g.isCancellationRequested||(c.busy=!1)}});S.add(c.onDidChangeValue(()=>_())),_();let L=!0;return S.add(c.onDidChangeActive(()=>{const[E]=c.activeItems;if(E&&E.range){if(L){L=!1;return}m.revealRangeInCenter(E.range.selection,0),this.addDecorations(m,E.range.decoration)}})),S}doGetSymbolPicks(o,r,c,g){return Le(this,void 0,void 0,function*(){const m=yield o;if(g.isCancellationRequested)return[];const S=r.original.indexOf(ni.SCOPE_PREFIX)===0,p=S?1:0;let C,_;r.values&&r.values.length>1?(C=(0,D.pieceToQuery)(r.values[0]),_=(0,D.pieceToQuery)(r.values.slice(1))):C=r;const L=[];for(let T=0;T<m.length;T++){const P=m[T],B=(0,b.trim)(P.name),R=`$(${u.SymbolKinds.toIcon(P.kind).id}) ${B}`,k=R.length-B.length;let A=P.containerName;(c==null?void 0:c.extraContainerLabel)&&(A?A=`${c.extraContainerLabel} \u2022 ${A}`:A=c.extraContainerLabel);let O,F,W,M;if(r.original.length>p){let G=!1;if(C!==r&&([O,F]=(0,D.scoreFuzzy2)(R,Object.assign(Object.assign({},r),{values:void 0}),p,k),typeof O=="number"&&(G=!0)),typeof O!="number"&&([O,F]=(0,D.scoreFuzzy2)(R,C,p,k),typeof O!="number"))continue;if(!G&&_){if(A&&_.original.length>0&&([W,M]=(0,D.scoreFuzzy2)(A,_)),typeof W!="number")continue;typeof O=="number"&&(O+=W)}}const z=P.tags&&P.tags.indexOf(1)>=0;L.push({index:T,kind:P.kind,score:O,label:R,ariaLabel:B,description:A,highlights:z?void 0:{label:F,description:M},range:{selection:v.Range.collapseToStart(P.selectionRange),decoration:P.range},strikethrough:z,buttons:(()=>{var G,te;const X=((G=this.options)===null||G===void 0?void 0:G.openSideBySideDirection)?(te=this.options)===null||te===void 0?void 0:te.openSideBySideDirection():void 0;if(!!X)return[{iconClass:X==="right"?N.Codicon.splitHorizontal.classNames:N.Codicon.splitVertical.classNames,tooltip:X==="right"?(0,n.localize)(4,null):(0,n.localize)(5,null)}]})()})}const E=L.sort((T,P)=>S?this.compareByKindAndScore(T,P):this.compareByScore(T,P));let I=[];if(S){let R=function(){P&&typeof T=="number"&&B>0&&(P.label=(0,b.format)(d[T]||l,B))},T,P,B=0;for(const k of E)T!==k.kind?(R(),T=k.kind,B=1,P={type:"separator"},I.push(P)):B++,I.push(k);R()}else E.length>0&&(I=[{label:(0,n.localize)(6,null,L.length),type:"separator"},...E]);return I})}compareByScore(o,r){if(typeof o.score!="number"&&typeof r.score=="number")return 1;if(typeof o.score=="number"&&typeof r.score!="number")return-1;if(typeof o.score=="number"&&typeof r.score=="number"){if(o.score>r.score)return-1;if(o.score<r.score)return 1}return o.index<r.index?-1:o.index>r.index?1:0}compareByKindAndScore(o,r){const c=d[o.kind]||l,g=d[r.kind]||l,m=c.localeCompare(g);return m===0?this.compareByScore(o,r):m}getDocumentSymbols(o,r){return Le(this,void 0,void 0,function*(){const c=yield this._outlineModelService.getOrCreate(o,r);return r.isCancellationRequested?[]:c.asListOfDocumentSymbols()})}};s.PREFIX="@",s.SCOPE_PREFIX=":",s.PREFIX_BY_CATEGORY=`${s.PREFIX}${s.SCOPE_PREFIX}`,s=De([ge(0,t.ILanguageFeaturesService),ge(1,h.IOutlineModelService)],s),e.AbstractGotoSymbolQuickAccessProvider=s;const l=(0,n.localize)(7,null),d={[5]:(0,n.localize)(8,null),[11]:(0,n.localize)(9,null),[8]:(0,n.localize)(10,null),[12]:(0,n.localize)(11,null),[4]:(0,n.localize)(12,null),[22]:(0,n.localize)(13,null),[23]:(0,n.localize)(14,null),[24]:(0,n.localize)(15,null),[10]:(0,n.localize)(16,null),[2]:(0,n.localize)(17,null),[3]:(0,n.localize)(18,null),[25]:(0,n.localize)(19,null),[1]:(0,n.localize)(20,null),[6]:(0,n.localize)(21,null),[9]:(0,n.localize)(22,null),[21]:(0,n.localize)(23,null),[14]:(0,n.localize)(24,null),[0]:(0,n.localize)(25,null),[17]:(0,n.localize)(26,null),[15]:(0,n.localize)(27,null),[16]:(0,n.localize)(28,null),[18]:(0,n.localize)(29,null),[19]:(0,n.localize)(30,null),[7]:(0,n.localize)(31,null),[13]:(0,n.localize)(32,null)}}),define(ne[680],oe([1,0,2,11,583,16,43,25,15,401]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,N.localize)(0,null));let u=class{constructor(i,n,t,s,l){this._editor=i,this._acceptKeybindings=n,this._themeService=t,this._keybindingService=s,this._disposables=new y.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(l),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(45)&&this._updateFont()})),this._disposables.add(t.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,N.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const i=()=>{var n,t;const[s,l]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(s),this._label.innerText=(0,N.localize)(2,null,(n=this._keybindingService.lookupKeybinding(s))===null||n===void 0?void 0:n.getLabel(),(t=this._keybindingService.lookupKeybinding(l))===null||t===void 0?void 0:t.getLabel())};i(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(i)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(i){var n,t,s,l;if(!this._input||!this._domNode)return;const d=i.getColor(b.widgetShadow);this._domNode.style.backgroundColor=String((n=i.getColor(b.editorWidgetBackground))!==null&&n!==void 0?n:""),this._domNode.style.boxShadow=d?` 0 0 8px 2px ${d}`:"",this._domNode.style.color=String((t=i.getColor(b.inputForeground))!==null&&t!==void 0?t:""),this._input.style.backgroundColor=String((s=i.getColor(b.inputBackground))!==null&&s!==void 0?s:"");const a=i.getColor(b.inputBorder);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=(l=a==null?void 0:a.toString())!==null&&l!==void 0?l:"none"}_updateFont(){if(!this._input||!this._label)return;const i=this._editor.getOption(45);this._input.style.fontFamily=i.fontFamily,this._input.style.fontWeight=i.fontWeight,this._input.style.fontSize=`${i.fontSize}px`,this._label.style.fontSize=`${i.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(i){i||this.cancelInput(!0)}acceptInput(i){var n;(n=this._currentAcceptInput)===null||n===void 0||n.call(this,i)}cancelInput(i){var n;(n=this._currentCancelInput)===null||n===void 0||n.call(this,i)}getInput(i,n,t,s,l,d){this._domNode.classList.toggle("preview",l),this._position=new f.Position(i.startLineNumber,i.startColumn),this._input.value=n,this._input.setAttribute("selectionStart",t.toString()),this._input.setAttribute("selectionEnd",s.toString()),this._input.size=Math.max((i.endColumn-i.startColumn)*1.1,20);const a=new y.DisposableStore;return new Promise(o=>{this._currentCancelInput=r=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,o(r),!0),this._currentAcceptInput=r=>{if(this._input.value.trim().length===0||this._input.value===n){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,o({newName:this._input.value,wantsPreview:l&&r})},a.add(d.onCancellationRequested(()=>this.cancelInput(!0))),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};u=De([ge(2,v.IThemeService),ge(3,w.IKeybindingService),ge(4,D.IContextKeyService)],u),e.RenameInputField=u}),define(ne[301],oe([1,0,27,593,25,15]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,N.registerColor)("symbolIcon.arrayForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,N.registerColor)("symbolIcon.booleanForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,N.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,N.registerColor)("symbolIcon.colorForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,N.registerColor)("symbolIcon.constantForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,N.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,N.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,N.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,N.registerColor)("symbolIcon.fileForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,N.registerColor)("symbolIcon.folderForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,N.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,N.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,N.registerColor)("symbolIcon.keyForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,N.registerColor)("symbolIcon.keywordForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,N.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,N.registerColor)("symbolIcon.moduleForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,N.registerColor)("symbolIcon.namespaceForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,N.registerColor)("symbolIcon.nullForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.numberForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,N.registerColor)("symbolIcon.objectForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.operatorForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,N.registerColor)("symbolIcon.packageForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,N.registerColor)("symbolIcon.propertyForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,N.registerColor)("symbolIcon.referenceForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,N.registerColor)("symbolIcon.snippetForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,N.registerColor)("symbolIcon.stringForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,N.registerColor)("symbolIcon.structForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,N.registerColor)("symbolIcon.textForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,N.registerColor)("symbolIcon.typeParameterForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,N.registerColor)("symbolIcon.unitForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,N.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(32,null)),(0,D.registerThemingParticipant)((w,b)=>{const v=w.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);v&&b.addRule(`${y.Codicon.symbolArray.cssSelector} { color: ${v}; }`);const u=w.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);u&&b.addRule(`${y.Codicon.symbolBoolean.cssSelector} { color: ${u}; }`);const h=w.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);h&&b.addRule(`${y.Codicon.symbolClass.cssSelector} { color: ${h}; }`);const i=w.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);i&&b.addRule(`${y.Codicon.symbolMethod.cssSelector} { color: ${i}; }`);const n=w.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);n&&b.addRule(`${y.Codicon.symbolColor.cssSelector} { color: ${n}; }`);const t=w.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);t&&b.addRule(`${y.Codicon.symbolConstant.cssSelector} { color: ${t}; }`);const s=w.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);s&&b.addRule(`${y.Codicon.symbolConstructor.cssSelector} { color: ${s}; }`);const l=w.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);l&&b.addRule(`
			${y.Codicon.symbolValue.cssSelector},${y.Codicon.symbolEnum.cssSelector} { color: ${l}; }`);const d=w.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);d&&b.addRule(`${y.Codicon.symbolEnumMember.cssSelector} { color: ${d}; }`);const a=w.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);a&&b.addRule(`${y.Codicon.symbolEvent.cssSelector} { color: ${a}; }`);const o=w.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);o&&b.addRule(`${y.Codicon.symbolField.cssSelector} { color: ${o}; }`);const r=w.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);r&&b.addRule(`${y.Codicon.symbolFile.cssSelector} { color: ${r}; }`);const c=w.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);c&&b.addRule(`${y.Codicon.symbolFolder.cssSelector} { color: ${c}; }`);const g=w.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);g&&b.addRule(`${y.Codicon.symbolFunction.cssSelector} { color: ${g}; }`);const m=w.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);m&&b.addRule(`${y.Codicon.symbolInterface.cssSelector} { color: ${m}; }`);const S=w.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);S&&b.addRule(`${y.Codicon.symbolKey.cssSelector} { color: ${S}; }`);const p=w.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);p&&b.addRule(`${y.Codicon.symbolKeyword.cssSelector} { color: ${p}; }`);const C=w.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);C&&b.addRule(`${y.Codicon.symbolModule.cssSelector} { color: ${C}; }`);const _=w.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);_&&b.addRule(`${y.Codicon.symbolNamespace.cssSelector} { color: ${_}; }`);const L=w.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);L&&b.addRule(`${y.Codicon.symbolNull.cssSelector} { color: ${L}; }`);const E=w.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);E&&b.addRule(`${y.Codicon.symbolNumber.cssSelector} { color: ${E}; }`);const I=w.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);I&&b.addRule(`${y.Codicon.symbolObject.cssSelector} { color: ${I}; }`);const T=w.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);T&&b.addRule(`${y.Codicon.symbolOperator.cssSelector} { color: ${T}; }`);const P=w.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);P&&b.addRule(`${y.Codicon.symbolPackage.cssSelector} { color: ${P}; }`);const B=w.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);B&&b.addRule(`${y.Codicon.symbolProperty.cssSelector} { color: ${B}; }`);const R=w.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);R&&b.addRule(`${y.Codicon.symbolReference.cssSelector} { color: ${R}; }`);const k=w.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);k&&b.addRule(`${y.Codicon.symbolSnippet.cssSelector} { color: ${k}; }`);const A=w.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);A&&b.addRule(`${y.Codicon.symbolString.cssSelector} { color: ${A}; }`);const O=w.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);O&&b.addRule(`${y.Codicon.symbolStruct.cssSelector} { color: ${O}; }`);const F=w.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);F&&b.addRule(`${y.Codicon.symbolText.cssSelector} { color: ${F}; }`);const W=w.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);W&&b.addRule(`${y.Codicon.symbolTypeParameter.cssSelector} { color: ${W}; }`);const M=w.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);M&&b.addRule(`${y.Codicon.symbolUnit.cssSelector} { color: ${M}; }`);const z=w.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);z&&b.addRule(`${y.Codicon.symbolVariable.cssSelector} { color: ${z}; }`)})}),define(ne[302],oe([1,0,7,44,661,29,16,53,15]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let u=class extends N.AbstractCodeEditorService{constructor(i,n){super(n);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=i.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const n of this.listCodeEditors())if(!n.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,n,t){return n?Promise.resolve(this.doOpenEditor(n,i)):Promise.resolve(null)}doOpenEditor(i,n){if(!this.findModel(i,n.resource)){if(n.resource){const l=n.resource.scheme;if(l===f.Schemas.http||l===f.Schemas.https)return(0,y.windowOpenNoOpener)(n.resource.toString()),i}return null}const s=n.options?n.options.selection:null;if(s)if(typeof s.endLineNumber=="number"&&typeof s.endColumn=="number")i.setSelection(s),i.revealRangeInCenter(s,1);else{const l={lineNumber:s.startLineNumber,column:s.startColumn};i.setPosition(l),i.revealPositionInCenter(l,1)}return i}findModel(i,n){const t=i.getModel();return t&&t.uri.toString()!==n.toString()?null:t}};u=De([ge(0,w.IContextKeyService),ge(1,v.IThemeService)],u),e.StandaloneCodeEditorService=u,(0,b.registerSingleton)(D.ICodeEditorService,u)}),define(ne[681],oe([1,0,54,25]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[f.editorBackground]:"#FFFFFE",[f.editorForeground]:"#000000",[f.editorInactiveSelection]:"#E5EBF1",[y.editorIndentGuides]:"#D3D3D3",[y.editorActiveIndentGuides]:"#939393",[f.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[f.editorBackground]:"#1E1E1E",[f.editorForeground]:"#D4D4D4",[f.editorInactiveSelection]:"#3A3D41",[y.editorIndentGuides]:"#404040",[y.editorActiveIndentGuides]:"#707070",[f.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[f.editorBackground]:"#000000",[f.editorForeground]:"#FFFFFF",[y.editorIndentGuides]:"#FFFFFF",[y.editorActiveIndentGuides]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[f.editorBackground]:"#FFFFFF",[f.editorForeground]:"#292929",[y.editorIndentGuides]:"#292929",[y.editorActiveIndentGuides]:"#292929"}}}),define(ne[41],oe([1,0,49,27,4,55,2,79,26,16,8,15]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function n(d){return d.command!==void 0}e.isIMenuItem=n;class t{constructor(a){this.id=t._idPool++,this._debugName=a}}e.MenuId=t,t._idPool=0,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.ExplorerContext=new t("ExplorerContext"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.MenubarPanelAlignmentMenu=new t("MenubarPanelAlignmentMenu"),t.MenubarPanelPositionMenu=new t("MenubarPanelPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalInlineTabContext=new t("TerminalInlineTabContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.NewFile=new t("NewFile"),t.MergeToolbar=new t("MergeToolbar"),e.IMenuService=(0,h.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new N.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:d=>d===t.CommandPalette}}addCommand(d){return this.addCommands(D.Iterable.single(d))}addCommands(d){for(const a of d)this._commands.set(a.id,a);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,w.toDisposable)(()=>{let a=!1;for(const o of d)a=this._commands.delete(o.id)||a;a&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(d){return this._commands.get(d)}getCommands(){const d=new Map;return this._commands.forEach((a,o)=>d.set(o,a)),d}appendMenuItem(d,a){return this.appendMenuItems(D.Iterable.single({id:d,item:a}))}appendMenuItems(d){const a=new Set,o=new b.LinkedList;for(const{id:r,item:c}of d){let g=this._menuItems.get(r);g||(g=new b.LinkedList,this._menuItems.set(r,g)),o.push(g.push(c)),a.add(r)}return this._onDidChangeMenu.fire(a),(0,w.toDisposable)(()=>{if(o.size>0){for(const r of o)r();this._onDidChangeMenu.fire(a),o.clear()}})}getMenuItems(d){let a;return this._menuItems.has(d)?a=[...this._menuItems.get(d)]:a=[],d===t.CommandPalette&&this._appendImplicitItems(a),a}_appendImplicitItems(d){const a=new Set;for(const o of d)n(o)&&(a.add(o.command.id),o.alt&&a.add(o.alt.id));this._commands.forEach((o,r)=>{a.has(r)||d.push({command:o})})}};class s extends y.SubmenuAction{constructor(a,o,r,c){super(`submenuitem.${a.submenu.id}`,typeof a.title=="string"?a.title:a.title.value,[],"submenu");this.item=a,this._menuService=o,this._contextKeyService=r,this._options=c}get actions(){const a=[],o=this._menuService.createMenu(this.item.submenu,this._contextKeyService),r=o.getActions(this._options);o.dispose();for(const[,c]of r)c.length>0&&(a.push(...c),a.push(new y.Separator));return a.length&&a.pop(),a}}e.SubmenuItemAction=s;let l=class Ti{constructor(a,o,r,c,g){var m,S;if(this._commandService=g,this.id=a.id,this.label=(r==null?void 0:r.renderShortTitle)&&a.shortTitle?typeof a.shortTitle=="string"?a.shortTitle:a.shortTitle.value:typeof a.title=="string"?a.title:a.title.value,this.tooltip=(S=typeof a.tooltip=="string"?a.tooltip:(m=a.tooltip)===null||m===void 0?void 0:m.value)!==null&&S!==void 0?S:"",this.enabled=!a.precondition||c.contextMatchesRules(a.precondition),this.checked=void 0,a.toggled){const p=a.toggled.condition?a.toggled:{condition:a.toggled};this.checked=c.contextMatchesRules(p.condition),this.checked&&p.tooltip&&(this.tooltip=typeof p.tooltip=="string"?p.tooltip:p.tooltip.value),p.title&&(this.label=typeof p.title=="string"?p.title:p.title.value)}this.item=a,this.alt=o?new Ti(o,void 0,r,c,g):void 0,this._options=r,i.ThemeIcon.isThemeIcon(a.icon)&&(this.class=f.CSSIcon.asClassName(a.icon))}dispose(){}run(...a){var o,r;let c=[];return((o=this._options)===null||o===void 0?void 0:o.arg)&&(c=[...c,this._options.arg]),((r=this._options)===null||r===void 0?void 0:r.shouldForwardArgs)&&(c=[...c,...a]),this._commandService.executeCommand(this.id,...c)}};l=De([ge(3,u.IContextKeyService),ge(4,v.ICommandService)],l),e.MenuItemAction=l}),define(ne[12],oe([1,0,516,22,29,11,50,58,41,26,16,8,100,35,92,19,70]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class a{constructor(k){this.id=k.id,this.precondition=k.precondition,this._kbOpts=k.kbOpts,this._menuOpts=k.menuOpts,this._description=k.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const k=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const A of k){let O=A.kbExpr;this.precondition&&(O?O=h.ContextKeyExpr.and(O,this.precondition):O=this.precondition);const F={id:this.id,weight:A.weight,args:A.args,when:O,primary:A.primary,secondary:A.secondary,win:A.win,linux:A.linux,mac:A.mac};n.KeybindingsRegistry.registerKeybindingRule(F)}}u.CommandsRegistry.registerCommand({id:this.id,handler:(k,A)=>this.runCommand(k,A),description:this._description})}_registerMenuItem(k){v.MenuRegistry.appendMenuItem(k.menuId,{group:k.group,command:{id:this.id,title:k.title,icon:k.icon,precondition:this.precondition},when:k.when,order:k.order})}}e.Command=a;class o extends a{constructor(){super(...arguments);this._implementations=[]}addImplementation(k,A,O){return this._implementations.push({priority:k,name:A,implementation:O}),this._implementations.sort((F,W)=>W.priority-F.priority),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F].implementation===O){this._implementations.splice(F,1);return}}}}runCommand(k,A){const O=k.get(d.ILogService);O.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const F of this._implementations){const W=F.implementation(k,A);if(W)return O.trace(`Command '${this.id}' was handled by '${F.name}'.`),typeof W=="boolean"?void 0:W}O.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=o;class r extends a{constructor(k,A){super(A);this.command=k}runCommand(k,A){return this.command.runCommand(k,A)}}e.ProxyCommand=r;class c extends a{static bindToContribution(k){return class extends c{constructor(O){super(O);this._callback=O.handler}runEditorCommand(O,F,W){const M=k(F);M&&this._callback(M,W)}}}runCommand(k,A){const O=k.get(N.ICodeEditorService),F=O.getFocusedCodeEditor()||O.getActiveCodeEditor();if(!!F)return F.invokeWithinContext(W=>{if(!!W.get(h.IContextKeyService).contextMatchesRules((0,l.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(W,F,A)})}}e.EditorCommand=c;class g extends c{constructor(k){super(g.convertOptions(k));this.label=k.label,this.alias=k.alias}static convertOptions(k){let A;Array.isArray(k.menuOpts)?A=k.menuOpts:k.menuOpts?A=[k.menuOpts]:A=[];function O(F){return F.menuId||(F.menuId=v.MenuId.EditorContext),F.title||(F.title=k.label),F.when=h.ContextKeyExpr.and(k.precondition,F.when),F}return Array.isArray(k.contextMenuOpts)?A.push(...k.contextMenuOpts.map(O)):k.contextMenuOpts&&A.push(O(k.contextMenuOpts)),k.menuOpts=A,k}runEditorCommand(k,A,O){return this.reportTelemetry(k,A),this.run(k,A,O||{})}reportTelemetry(k,A){k.get(s.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=g;class m extends g{constructor(){super(...arguments);this._implementations=[]}addImplementation(k,A){return this._implementations.push([k,A]),this._implementations.sort((O,F)=>F[0]-O[0]),{dispose:()=>{for(let O=0;O<this._implementations.length;O++)if(this._implementations[O][1]===A){this._implementations.splice(O,1);return}}}}run(k,A,O){for(const F of this._implementations){const W=F[1](k,A,O);if(W)return typeof W=="boolean"?void 0:W}}}e.MultiEditorAction=m;function S(R,k){u.CommandsRegistry.registerCommand(R,function(A,...O){const F=A.get(i.IInstantiationService),[W,M]=O;(0,l.assertType)(f.URI.isUri(W)),(0,l.assertType)(D.Position.isIPosition(M));const z=A.get(w.IModelService).getModel(W);if(z){const G=D.Position.lift(M);return F.invokeFunction(k,z,G,...O.slice(2))}return A.get(b.ITextModelService).createModelReference(W).then(G=>new Promise((te,X)=>{try{const J=F.invokeFunction(k,G.object.textEditorModel,D.Position.lift(M),O.slice(2));te(J)}catch(J){X(J)}}).finally(()=>{G.dispose()}))})}e.registerModelAndPositionCommand=S;function p(R){return P.INSTANCE.registerEditorCommand(R),R}e.registerEditorCommand=p;function C(R){const k=new R;return P.INSTANCE.registerEditorAction(k),k}e.registerEditorAction=C;function _(R){return P.INSTANCE.registerEditorAction(R),R}e.registerMultiEditorAction=_;function L(R){P.INSTANCE.registerEditorAction(R)}e.registerInstantiatedEditorAction=L;function E(R,k){P.INSTANCE.registerEditorContribution(R,k)}e.registerEditorContribution=E;var I;(function(R){function k(M){return P.INSTANCE.getEditorCommand(M)}R.getEditorCommand=k;function A(){return P.INSTANCE.getEditorActions()}R.getEditorActions=A;function O(){return P.INSTANCE.getEditorContributions()}R.getEditorContributions=O;function F(M){return P.INSTANCE.getEditorContributions().filter(z=>M.indexOf(z.id)>=0)}R.getSomeEditorContributions=F;function W(){return P.INSTANCE.getDiffEditorContributions()}R.getDiffEditorContributions=W})(I=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const T={EditorCommonContributions:"editor.contributions"};class P{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(k,A){this.editorContributions.push({id:k,ctor:A})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(k){k.register(),this.editorActions.push(k)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(k){k.register(),this.editorCommands[k.id]=k}getEditorCommand(k){return this.editorCommands[k]||null}}P.INSTANCE=new P,t.Registry.add(T.EditorCommonContributions,P.INSTANCE);function B(R){return R.register(),R}e.UndoCommand=B(new o({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(0,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:y.localize(1,null),order:1}]})),B(new r(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=B(new o({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(2,null),order:2},{menuId:v.MenuId.CommandPalette,group:"",title:y.localize(3,null),order:1}]})),B(new r(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=B(new o({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:v.MenuId.MenubarSelectionMenu,group:"1_basic",title:y.localize(4,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:y.localize(5,null),order:1}]}))}),define(ne[164],oe([1,0,515,36,19,47,12,29,425,62,188,189,215,11,3,24,16,100]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const o=0;class r extends w.EditorCommand{runEditorCommand(P,B,R){const k=B._getViewModel();!k||this.runCoreEditorCommand(k,R||{})}}e.CoreEditorCommand=r;var c;(function(T){const P=function(R){if(!N.isObject(R))return!1;const k=R;return!(!N.isString(k.to)||!N.isUndefined(k.by)&&!N.isString(k.by)||!N.isUndefined(k.value)&&!N.isNumber(k.value)||!N.isUndefined(k.revealCursor)&&!N.isBoolean(k.revealCursor))};T.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:P,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},T.RawDirection={Up:"up",Down:"down"},T.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function B(R){let k;switch(R.to){case T.RawDirection.Up:k=1;break;case T.RawDirection.Down:k=2;break;default:return null}let A;switch(R.by){case T.RawUnit.Line:A=1;break;case T.RawUnit.WrappedLine:A=2;break;case T.RawUnit.Page:A=3;break;case T.RawUnit.HalfPage:A=4;break;default:A=2}const O=Math.floor(R.value||1),F=!!R.revealCursor;return{direction:k,unit:A,value:O,revealCursor:F,select:!!R.select}}T.parse=B})(c=e.EditorScroll_||(e.EditorScroll_={}));var g;(function(T){const P=function(B){if(!N.isObject(B))return!1;const R=B;return!(!N.isNumber(R.lineNumber)&&!N.isString(R.lineNumber)||!N.isUndefined(R.at)&&!N.isString(R.at))};T.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:P,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},T.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(g=e.RevealLine_||(e.RevealLine_={}));class m{constructor(P){P.addImplementation(1e4,"code-editor",(B,R)=>{const k=B.get(b.ICodeEditorService).getFocusedCodeEditor();return k&&k.hasTextFocus()?this._runEditorCommand(B,k,R):!1}),P.addImplementation(1e3,"generic-dom-input-textarea",(B,R)=>{const k=document.activeElement;return k&&["input","textarea"].indexOf(k.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),P.addImplementation(0,"generic-dom",(B,R)=>{const k=B.get(b.ICodeEditorService).getActiveCodeEditor();return k?(k.focus(),this._runEditorCommand(B,k,R)):!1})}_runEditorCommand(P,B,R){const k=this.runEditorCommand(P,B,R);return k||!0}}var S;(function(T){class P extends r{constructor(x){super(x);this._minimalReveal=x.minimalReveal,this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,[i.CursorMoveCommands.moveTo(x,x.getPrimaryCursorState(),this._inSelectionMode,U.position,U.viewPosition)])&&x.revealPrimaryCursor(U.source,!0,this._minimalReveal)}}T.MoveTo=(0,w.registerEditorCommand)(new P({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),T.MoveToSelect=(0,w.registerEditorCommand)(new P({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class B extends r{runCoreEditorCommand(x,U){x.model.pushStackElement();const q=this._getColumnSelectResult(x,x.getPrimaryCursorState(),x.getCursorColumnSelectData(),U);x.setCursorStates(U.source,3,q.viewStates.map(le=>u.CursorState.fromViewState(le))),x.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:q.fromLineNumber,fromViewVisualColumn:q.fromVisualColumn,toViewLineNumber:q.toLineNumber,toViewVisualColumn:q.toVisualColumn}),q.reversed?x.revealTopMostCursor(U.source):x.revealBottomMostCursor(U.source)}}T.ColumnSelect=(0,w.registerEditorCommand)(new class extends B{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Z,x,U,q){const le=Z.model.validatePosition(q.position),se=Z.coordinatesConverter.validateViewPosition(new t.Position(q.viewPosition.lineNumber,q.viewPosition.column),le),Y=q.doColumnSelect?U.fromViewLineNumber:se.lineNumber,de=q.doColumnSelect?U.fromViewVisualColumn:q.mouseColumn-1;return v.ColumnSelection.columnSelect(Z.cursorConfig,Z,Y,de,se.lineNumber,q.mouseColumn-1)}}),T.CursorColumnSelectLeft=(0,w.registerEditorCommand)(new class extends B{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(Z,x,U,q){return v.ColumnSelection.columnSelectLeft(Z.cursorConfig,Z,U)}}),T.CursorColumnSelectRight=(0,w.registerEditorCommand)(new class extends B{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(Z,x,U,q){return v.ColumnSelection.columnSelectRight(Z.cursorConfig,Z,U)}});class R extends B{constructor(x){super(x);this._isPaged=x.isPaged}_getColumnSelectResult(x,U,q,le){return v.ColumnSelection.columnSelectUp(x.cursorConfig,x,q,this._isPaged)}}T.CursorColumnSelectUp=(0,w.registerEditorCommand)(new R({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),T.CursorColumnSelectPageUp=(0,w.registerEditorCommand)(new R({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class k extends B{constructor(x){super(x);this._isPaged=x.isPaged}_getColumnSelectResult(x,U,q,le){return v.ColumnSelection.columnSelectDown(x.cursorConfig,x,q,this._isPaged)}}T.CursorColumnSelectDown=(0,w.registerEditorCommand)(new k({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),T.CursorColumnSelectPageDown=(0,w.registerEditorCommand)(new k({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class A extends r{constructor(){super({id:"cursorMove",precondition:void 0,description:i.CursorMove.description})}runCoreEditorCommand(x,U){const q=i.CursorMove.parse(U);!q||this._runCursorMove(x,U.source,q)}_runCursorMove(x,U,q){x.model.pushStackElement(),x.setCursorStates(U,3,A._move(x,x.getCursorStates(),q)),x.revealPrimaryCursor(U,!0)}static _move(x,U,q){const le=q.select,se=q.value;switch(q.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return i.CursorMoveCommands.simpleMove(x,U,q.direction,le,se,q.unit);case 11:case 13:case 12:case 14:return i.CursorMoveCommands.viewportMove(x,U,q.direction,le,se);default:return null}}}T.CursorMoveImpl=A,T.CursorMove=(0,w.registerEditorCommand)(new A);class O extends r{constructor(x){super(x);this._staticArgs=x.args}runCoreEditorCommand(x,U){let q=this._staticArgs;this._staticArgs.value===-1&&(q={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:U.pageSize||x.cursorConfig.pageSize}),x.model.pushStackElement(),x.setCursorStates(U.source,3,i.CursorMoveCommands.simpleMove(x,x.getCursorStates(),q.direction,q.select,q.value,q.unit)),x.revealPrimaryCursor(U.source,!0)}}T.CursorLeft=(0,w.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),T.CursorLeftSelect=(0,w.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|15}})),T.CursorRight=(0,w.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),T.CursorRightSelect=(0,w.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|17}})),T.CursorUp=(0,w.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),T.CursorUpSelect=(0,w.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),T.CursorPageUp=(0,w.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:11}})),T.CursorPageUpSelect=(0,w.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|11}})),T.CursorDown=(0,w.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),T.CursorDownSelect=(0,w.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),T.CursorPageDown=(0,w.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:12}})),T.CursorPageDownSelect=(0,w.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|12}})),T.CreateCursor=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Z,x){let U;x.wholeLine?U=i.CursorMoveCommands.line(Z,Z.getPrimaryCursorState(),!1,x.position,x.viewPosition):U=i.CursorMoveCommands.moveTo(Z,Z.getPrimaryCursorState(),!1,x.position,x.viewPosition);const q=Z.getCursorStates();if(q.length>1){const le=U.modelState?U.modelState.position:null,se=U.viewState?U.viewState.position:null;for(let Y=0,de=q.length;Y<de;Y++){const H=q[Y];if(!(le&&!H.modelState.selection.containsPosition(le))&&!(se&&!H.viewState.selection.containsPosition(se))){q.splice(Y,1),Z.model.pushStackElement(),Z.setCursorStates(x.source,3,q);return}}}q.push(U),Z.model.pushStackElement(),Z.setCursorStates(x.source,3,q)}}),T.LastCursorMoveToSelect=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Z,x){const U=Z.getLastAddedCursorIndex(),q=Z.getCursorStates(),le=q.slice(0);le[U]=i.CursorMoveCommands.moveTo(Z,q[U],!0,x.position,x.viewPosition),Z.model.pushStackElement(),Z.setCursorStates(x.source,3,le)}});class F extends r{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,i.CursorMoveCommands.moveToBeginningOfLine(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(U.source,!0)}}T.CursorHome=(0,w.registerEditorCommand)(new F({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),T.CursorHomeSelect=(0,w.registerEditorCommand)(new F({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class W extends r{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,this._exec(x.getCursorStates())),x.revealPrimaryCursor(U.source,!0)}_exec(x){const U=[];for(let q=0,le=x.length;q<le;q++){const se=x[q],Y=se.modelState.position.lineNumber;U[q]=u.CursorState.fromModelState(se.modelState.move(this._inSelectionMode,Y,1,0))}return U}}T.CursorLineStart=(0,w.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),T.CursorLineStartSelect=(0,w.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class M extends r{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,i.CursorMoveCommands.moveToEndOfLine(x,x.getCursorStates(),this._inSelectionMode,U.sticky||!1)),x.revealPrimaryCursor(U.source,!0)}}T.CursorEnd=(0,w.registerEditorCommand)(new M({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(0,null),type:"boolean",default:!1}}}}]}})),T.CursorEndSelect=(0,w.registerEditorCommand)(new M({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(1,null),type:"boolean",default:!1}}}}]}}));class z extends r{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,this._exec(x,x.getCursorStates())),x.revealPrimaryCursor(U.source,!0)}_exec(x,U){const q=[];for(let le=0,se=U.length;le<se;le++){const Y=U[le],de=Y.modelState.position.lineNumber,H=x.model.getLineMaxColumn(de);q[le]=u.CursorState.fromModelState(Y.modelState.move(this._inSelectionMode,de,H,0))}return q}}T.CursorLineEnd=(0,w.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),T.CursorLineEndSelect=(0,w.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class G extends r{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,i.CursorMoveCommands.moveToBeginningOfBuffer(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(U.source,!0)}}T.CursorTop=(0,w.registerEditorCommand)(new G({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),T.CursorTopSelect=(0,w.registerEditorCommand)(new G({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class te extends r{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,i.CursorMoveCommands.moveToEndOfBuffer(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(U.source,!0)}}T.CursorBottom=(0,w.registerEditorCommand)(new te({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),T.CursorBottomSelect=(0,w.registerEditorCommand)(new te({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class X extends r{constructor(){super({id:"editorScroll",precondition:void 0,description:c.description})}runCoreEditorCommand(x,U){const q=c.parse(U);!q||this._runEditorScroll(x,U.source,q)}_runEditorScroll(x,U,q){const le=this._computeDesiredScrollTop(x,q);if(q.revealCursor){const se=x.getCompletelyVisibleViewRangeAtScrollTop(le);x.setCursorStates(U,3,[i.CursorMoveCommands.findPositionInViewportIfOutside(x,x.getPrimaryCursorState(),se,q.select)])}x.viewLayout.setScrollPosition({scrollTop:le},0)}_computeDesiredScrollTop(x,U){if(U.unit===1){const se=x.getCompletelyVisibleViewRange(),Y=x.coordinatesConverter.convertViewRangeToModelRange(se);let de;U.direction===1?de=Math.max(1,Y.startLineNumber-U.value):de=Math.min(x.model.getLineCount(),Y.startLineNumber+U.value);const H=x.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(de,1));return x.viewLayout.getVerticalOffsetForLineNumber(H.lineNumber)}let q;U.unit===3?q=x.cursorConfig.pageSize*U.value:U.unit===4?q=Math.round(x.cursorConfig.pageSize/2)*U.value:q=U.value;const le=(U.direction===1?-1:1)*q;return x.viewLayout.getCurrentScrollTop()+le*x.cursorConfig.lineHeight}}T.EditorScrollImpl=X,T.EditorScroll=(0,w.registerEditorCommand)(new X),T.ScrollLineUp=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(Z,x){T.EditorScroll._runEditorScroll(Z,x.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),T.ScrollPageUp=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(Z,x){T.EditorScroll._runEditorScroll(Z,x.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),T.ScrollLineDown=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(Z,x){T.EditorScroll._runEditorScroll(Z,x.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),T.ScrollPageDown=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(Z,x){T.EditorScroll._runEditorScroll(Z,x.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class J extends r{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,[i.CursorMoveCommands.word(x,x.getPrimaryCursorState(),this._inSelectionMode,U.position)]),x.revealPrimaryCursor(U.source,!0)}}T.WordSelect=(0,w.registerEditorCommand)(new J({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),T.WordSelectDrag=(0,w.registerEditorCommand)(new J({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),T.LastCursorWordSelect=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Z,x){const U=Z.getLastAddedCursorIndex(),q=Z.getCursorStates(),le=q.slice(0),se=q[U];le[U]=i.CursorMoveCommands.word(Z,se,se.modelState.hasSelection(),x.position),Z.model.pushStackElement(),Z.setCursorStates(x.source,3,le)}});class ie extends r{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,[i.CursorMoveCommands.line(x,x.getPrimaryCursorState(),this._inSelectionMode,U.position,U.viewPosition)]),x.revealPrimaryCursor(U.source,!1)}}T.LineSelect=(0,w.registerEditorCommand)(new ie({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),T.LineSelectDrag=(0,w.registerEditorCommand)(new ie({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class re extends r{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){const q=x.getLastAddedCursorIndex(),le=x.getCursorStates(),se=le.slice(0);se[q]=i.CursorMoveCommands.line(x,le[q],this._inSelectionMode,U.position,U.viewPosition),x.model.pushStackElement(),x.setCursorStates(U.source,3,se)}}T.LastCursorLineSelect=(0,w.registerEditorCommand)(new re({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),T.LastCursorLineSelectDrag=(0,w.registerEditorCommand)(new re({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),T.CancelSelection=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"cancelSelection",precondition:l.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Z,x){Z.model.pushStackElement(),Z.setCursorStates(x.source,3,[i.CursorMoveCommands.cancelSelection(Z,Z.getPrimaryCursorState())]),Z.revealPrimaryCursor(x.source,!0)}}),T.RemoveSecondaryCursors=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"removeSecondaryCursors",precondition:l.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:o+1,kbExpr:l.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Z,x){Z.model.pushStackElement(),Z.setCursorStates(x.source,3,[Z.getPrimaryCursorState()]),Z.revealPrimaryCursor(x.source,!0),(0,D.status)(y.localize(2,null))}}),T.RevealLine=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"revealLine",precondition:void 0,description:g.description})}runCoreEditorCommand(Z,x){const U=x,q=U.lineNumber||0;let le=typeof q=="number"?q+1:parseInt(q)+1;le<1&&(le=1);const se=Z.model.getLineCount();le>se&&(le=se);const Y=new s.Range(le,1,le,Z.model.getLineMaxColumn(le));let de=0;if(U.at)switch(U.at){case g.RawAtArgument.Top:de=3;break;case g.RawAtArgument.Center:de=1;break;case g.RawAtArgument.Bottom:de=4;break;default:break}const H=Z.coordinatesConverter.convertModelRangeToViewRange(Y);Z.revealRange(x.source,!1,H,de,0)}}),T.SelectAll=new class extends m{constructor(){super(w.SelectAllCommand)}runDOMCommand(){f.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Z,x,U){const q=x._getViewModel();!q||this.runCoreEditorCommand(q,U)}runCoreEditorCommand(Z,x){Z.model.pushStackElement(),Z.setCursorStates("keyboard",3,[i.CursorMoveCommands.selectAll(Z,Z.getPrimaryCursorState())])}},T.SetSelection=(0,w.registerEditorCommand)(new class extends r{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Z,x){Z.model.pushStackElement(),Z.setCursorStates(x.source,3,[u.CursorState.fromModelSelection(x.selection)])}})})(S=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const p=d.ContextKeyExpr.and(l.EditorContextKeys.textInputFocus,l.EditorContextKeys.columnSelection);function C(T,P){a.KeybindingsRegistry.registerKeybindingRule({id:T,primary:P,when:p,weight:o+1})}C(S.CursorColumnSelectLeft.id,1024|15),C(S.CursorColumnSelectRight.id,1024|17),C(S.CursorColumnSelectUp.id,1024|16),C(S.CursorColumnSelectPageUp.id,1024|11),C(S.CursorColumnSelectDown.id,1024|18),C(S.CursorColumnSelectPageDown.id,1024|12);function _(T){return T.register(),T}var L;(function(T){class P extends w.EditorCommand{runEditorCommand(R,k,A){const O=k._getViewModel();!O||this.runCoreEditingCommand(k,O,A||{})}}T.CoreEditingCommand=P,T.LineBreakInsert=(0,w.registerEditorCommand)(new class extends P{constructor(){super({id:"lineBreakInsert",precondition:l.EditorContextKeys.writable,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(B,R,k){B.pushUndoStop(),B.executeCommands(this.id,n.TypeOperations.lineBreakInsert(R.cursorConfig,R.model,R.getCursorStates().map(A=>A.modelState.selection)))}}),T.Outdent=(0,w.registerEditorCommand)(new class extends P{constructor(){super({id:"outdent",precondition:l.EditorContextKeys.writable,kbOpts:{weight:o,kbExpr:d.ContextKeyExpr.and(l.EditorContextKeys.editorTextFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(B,R,k){B.pushUndoStop(),B.executeCommands(this.id,n.TypeOperations.outdent(R.cursorConfig,R.model,R.getCursorStates().map(A=>A.modelState.selection))),B.pushUndoStop()}}),T.Tab=(0,w.registerEditorCommand)(new class extends P{constructor(){super({id:"tab",precondition:l.EditorContextKeys.writable,kbOpts:{weight:o,kbExpr:d.ContextKeyExpr.and(l.EditorContextKeys.editorTextFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(B,R,k){B.pushUndoStop(),B.executeCommands(this.id,n.TypeOperations.tab(R.cursorConfig,R.model,R.getCursorStates().map(A=>A.modelState.selection))),B.pushUndoStop()}}),T.DeleteLeft=(0,w.registerEditorCommand)(new class extends P{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(B,R,k){const[A,O]=h.DeleteOperations.deleteLeft(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(F=>F.modelState.selection),R.getCursorAutoClosedCharacters());A&&B.pushUndoStop(),B.executeCommands(this.id,O),R.setPrevEditOperationType(2)}}),T.DeleteRight=(0,w.registerEditorCommand)(new class extends P{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(B,R,k){const[A,O]=h.DeleteOperations.deleteRight(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(F=>F.modelState.selection));A&&B.pushUndoStop(),B.executeCommands(this.id,O),R.setPrevEditOperationType(3)}}),T.Undo=new class extends m{constructor(){super(w.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(B,R,k){if(!(!R.hasModel()||R.getOption(82)===!0))return R.getModel().undo()}},T.Redo=new class extends m{constructor(){super(w.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(B,R,k){if(!(!R.hasModel()||R.getOption(82)===!0))return R.getModel().redo()}}})(L=e.CoreEditingCommands||(e.CoreEditingCommands={}));class E extends w.Command{constructor(P,B,R){super({id:P,precondition:void 0,description:R});this._handlerId=B}runCommand(P,B){const R=P.get(b.ICodeEditorService).getFocusedCodeEditor();!R||R.trigger("keyboard",this._handlerId,B)}}function I(T,P){_(new E("default:"+T,T)),_(new E(T,T,P))}I("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),I("replacePreviousChar"),I("compositionType"),I("compositionStart"),I("compositionEnd"),I("paste"),I("cut")}),define(ne[682],oe([1,0,207,12]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let N=class{constructor(w,b){}dispose(){}};N.ID="editor.contrib.markerDecorations",N=De([ge(1,y.IMarkerDecorationsService)],N),e.MarkerDecorationsContribution=N,(0,f.registerEditorContribution)(N.ID,N)}),define(ne[683],oe([1,0,164,11,17]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(b,v,u,h){this.configuration=b,this.viewModel=v,this.userInputEvents=u,this.commandDelegate=h}paste(b,v,u,h){this.commandDelegate.paste(b,v,u,h)}type(b){this.commandDelegate.type(b)}compositionType(b,v,u,h){this.commandDelegate.compositionType(b,v,u,h)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(b){y.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:b})}_validateViewColumn(b){const v=this.viewModel.getLineMinColumn(b.lineNumber);return b.column<v?new f.Position(b.lineNumber,v):b}_hasMulticursorModifier(b){switch(this.configuration.options.get(71)){case"altKey":return b.altKey;case"ctrlKey":return b.ctrlKey;case"metaKey":return b.metaKey;default:return!1}}_hasNonMulticursorModifier(b){switch(this.configuration.options.get(71)){case"altKey":return b.ctrlKey||b.metaKey;case"ctrlKey":return b.altKey||b.metaKey;case"metaKey":return b.ctrlKey||b.altKey;default:return!1}}dispatchMouse(b){const v=this.configuration.options,u=N.isLinux&&v.get(97),h=v.get(18);b.middleButton&&!u?this._columnSelect(b.position,b.mouseColumn,b.inSelectionMode):b.startedOnLineNumbers?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelect(b.position):this._createCursor(b.position,!0):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount>=4?this._selectAll():b.mouseDownCount===3?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelectDrag(b.position):this._lastCursorLineSelect(b.position):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount===2?b.onInjectedText||(this._hasMulticursorModifier(b)?this._lastCursorWordSelect(b.position):b.inSelectionMode?this._wordSelectDrag(b.position):this._wordSelect(b.position)):this._hasMulticursorModifier(b)?this._hasNonMulticursorModifier(b)||(b.shiftKey?this._columnSelect(b.position,b.mouseColumn,!0):b.inSelectionMode?this._lastCursorMoveToSelect(b.position):this._createCursor(b.position,!1)):b.inSelectionMode?b.altKey?this._columnSelect(b.position,b.mouseColumn,!0):h?this._columnSelect(b.position,b.mouseColumn,!0):this._moveToSelect(b.position):this.moveTo(b.position)}_usualArgs(b){return b=this._validateViewColumn(b),{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b}}moveTo(b){y.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_moveToSelect(b){y.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_columnSelect(b,v,u){b=this._validateViewColumn(b),y.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,mouseColumn:v,doColumnSelect:u})}_createCursor(b,v){b=this._validateViewColumn(b),y.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,wholeLine:v})}_lastCursorMoveToSelect(b){y.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelect(b){y.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelectDrag(b){y.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorWordSelect(b){y.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelect(b){y.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelectDrag(b){y.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelect(b){y.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelectDrag(b){y.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_selectAll(){y.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(b){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(b)}emitKeyDown(b){this.userInputEvents.emitKeyDown(b)}emitKeyUp(b){this.userInputEvents.emitKeyUp(b)}emitContextMenu(b){this.userInputEvents.emitContextMenu(b)}emitMouseMove(b){this.userInputEvents.emitMouseMove(b)}emitMouseLeave(b){this.userInputEvents.emitMouseLeave(b)}emitMouseUp(b){this.userInputEvents.emitMouseUp(b)}emitMouseDown(b){this.userInputEvents.emitMouseDown(b)}emitMouseDrag(b){this.userInputEvents.emitMouseDrag(b)}emitMouseDrop(b){this.userInputEvents.emitMouseDrop(b)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(b){this.userInputEvents.emitMouseWheel(b)}}e.ViewController=D}),define(ne[684],oe([1,0,7,23,33,13,659,668,683,242,526,52,458,666,459,662,194,667,298,660,460,262,461,663,462,669,469,670,664,665,671,463,11,3,128,470,466,133,15,297]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E,I,T,P,B,R,k,A,O,F,W,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class z extends F.ViewEventHandler{constructor(X,J,ie,re,Z,x){super();this._selections=[new f.Selection(1,1,1,1)],this._renderAnimationFrame=null;const U=new v.ViewController(J,re,Z,X);this._context=new A.ViewContext(J,ie,re),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new b.TextAreaHandler(this._context,U,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,N.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,N.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new l.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new r.ViewLines(this._context,this._linesContent),this._viewZones=new P.ViewZones(this._context),this._viewParts.push(this._viewZones);const q=new C.DecorationsOverviewRuler(this._context);this._viewParts.push(q);const le=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(le);const se=new h.ContentViewOverlays(this._context);this._viewParts.push(se),se.addDynamicOverlay(new t.CurrentLineHighlightOverlay(this._context)),se.addDynamicOverlay(new I.SelectionsOverlay(this._context)),se.addDynamicOverlay(new a.IndentGuidesOverlay(this._context)),se.addDynamicOverlay(new s.DecorationsOverlay(this._context));const Y=new h.MarginViewOverlays(this._context);this._viewParts.push(Y),Y.addDynamicOverlay(new t.CurrentLineMarginHighlightOverlay(this._context)),Y.addDynamicOverlay(new d.GlyphMarginOverlay(this._context)),Y.addDynamicOverlay(new m.MarginViewLineDecorationsOverlay(this._context)),Y.addDynamicOverlay(new c.LinesDecorationsOverlay(this._context)),Y.addDynamicOverlay(new o.LineNumbersOverlay(this._context));const de=new g.Margin(this._context);de.getDomNode().appendChild(this._viewZones.marginDomNode),de.getDomNode().appendChild(Y.getDomNode()),this._viewParts.push(de),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new p.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const H=new L.Rulers(this._context);this._viewParts.push(H);const $=new S.Minimap(this._context);if(this._viewParts.push($),q){const K=this._scrollbar.getOverviewRulerLayoutInfo();K.parent.insertBefore(q.getDomNode(),K.insertBefore)}this._linesContent.appendChild(se.getDomNode()),this._linesContent.appendChild(H.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(de.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(le.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild($.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),x?x.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new w.PointerHandler(this._context,U,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:X=>{this._textAreaHandler.textArea.domNode.dispatchEvent(X)},getLastRenderData:()=>{const X=this._viewCursors.getLastRenderData()||[],J=this._textAreaHandler.getLastRenderData();return new M.PointerHandlerLastRenderData(X,J)},shouldSuppressMouseDownOnViewZone:X=>this._viewZones.shouldSuppressMouseDownOnViewZone(X),shouldSuppressMouseDownOnWidget:X=>this._contentWidgets.shouldSuppressMouseDownOnWidget(X),getPositionFromDOMInfo:(X,J)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(X,J)),visibleRangeForPosition:(X,J)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new B.Position(X,J))),getLineWidth:X=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(X))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:X=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(X))}}_applyLayout(){const J=this._context.configuration.options.get(132);this.domNode.setWidth(J.width),this.domNode.setHeight(J.height),this._overflowGuardContainer.setWidth(J.width),this._overflowGuardContainer.setHeight(J.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const X=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(129)+" "+(0,W.getThemeTypeSelector)(this._context.theme.type)+X}handleEvents(X){super.handleEvents(X),this._scheduleRender()}onConfigurationChanged(X){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(X){return this._selections=X.selections,!1}onFocusChanged(X){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(X){return this._context.theme.update(X.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const X of this._viewParts)X.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=y.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){G(()=>this._actualRender())}_getViewPartsToRender(){const X=[];let J=0;for(const ie of this._viewParts)ie.shouldRender()&&(X[J++]=ie);return X}_actualRender(){if(!y.isInDOM(this.domNode.domNode))return;let X=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&X.length===0)return;const J=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(J.startLineNumber,J.endLineNumber,J.centeredLineNumber);const ie=new O.ViewportData(this._selections,J,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ie),this._viewLines.shouldRender()&&(this._viewLines.renderText(ie),this._viewLines.onDidRender(),X=this._getViewPartsToRender());const re=new k.RenderingContext(this._context.viewLayout,ie,this._viewLines);for(const Z of X)Z.prepareRender(re);for(const Z of X)Z.render(re),Z.onDidRender()}delegateVerticalScrollbarPointerDown(X){this._scrollbar.delegateVerticalScrollbarPointerDown(X)}restoreState(X){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:X.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:X.scrollLeft},1)}getOffsetForColumn(X,J){const ie=this._context.viewModel.model.validatePosition({lineNumber:X,column:J}),re=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ie);this._flushAccumulatedAndRenderNow();const Z=this._viewLines.visibleRangeForPosition(new B.Position(re.lineNumber,re.column));return Z?Z.left:-1}getTargetAtClientPoint(X,J){const ie=this._pointerHandler.getTargetAtClientPoint(X,J);return ie?u.ViewUserInputEvents.convertViewToModelMouseTarget(ie,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(X){return new _.OverviewRuler(this._context,X)}change(X){this._viewZones.changeViewZones(X),this._scheduleRender()}render(X,J){if(J){this._viewLines.forceShouldRender();for(const ie of this._viewParts)ie.forceShouldRender()}X?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(X){this._textAreaHandler.setAriaOptions(X)}addContentWidget(X){this._contentWidgets.addWidget(X.widget),this.layoutContentWidget(X),this._scheduleRender()}layoutContentWidget(X){var J,ie;let re=X.position&&X.position.range||null;if(re===null){const x=X.position?X.position.position:null;x!==null&&(re=new R.Range(x.lineNumber,x.column,x.lineNumber,x.column))}const Z=X.position?X.position.preference:null;this._contentWidgets.setWidgetPosition(X.widget,re,Z,(ie=(J=X.position)===null||J===void 0?void 0:J.positionAffinity)!==null&&ie!==void 0?ie:null),this._scheduleRender()}removeContentWidget(X){this._contentWidgets.removeWidget(X.widget),this._scheduleRender()}addOverlayWidget(X){this._overlayWidgets.addWidget(X.widget),this.layoutOverlayWidget(X),this._scheduleRender()}layoutOverlayWidget(X){const J=X.position?X.position.preference:null;this._overlayWidgets.setWidgetPosition(X.widget,J)&&this._scheduleRender()}removeOverlayWidget(X){this._overlayWidgets.removeWidget(X.widget),this._scheduleRender()}}e.View=z;function G(te){try{return te()}catch(X){(0,D.onUnexpectedError)(X)}}}),define(ne[685],oe([1,0,47,65,59,12,23,24,533,16,385]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new u.RawContextKey("selectionAnchorSet",!1);let h=class Mi{constructor(d,a){this.editor=d,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(a),this.modelChangeListener=d.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(d){return d.getContribution(Mi.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const d=this.editor.getPosition();this.editor.changeDecorations(a=>{this.decorationId&&a.removeDecoration(this.decorationId),this.decorationId=a.addDecoration(w.Selection.fromPositions(d,d),{description:"selection-anchor",stickiness:1,hoverMessage:new f.MarkdownString().appendText((0,v.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,y.alert)((0,v.localize)(1,null,d.lineNumber,d.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);d&&this.editor.setPosition(d.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);if(d){const a=this.editor.getPosition();this.editor.setSelection(w.Selection.fromPositions(d.getStartPosition(),a)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const d=this.decorationId;this.editor.changeDecorations(a=>{a.removeDecoration(d),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};h.ID="editor.contrib.selectionAnchorController",h=De([ge(1,u.IContextKeyService)],h);class i extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,v.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|32),weight:100}})}run(d,a){var o;return Le(this,void 0,void 0,function*(){(o=h.get(a))===null||o===void 0||o.setSelectionAnchor()})}}class n extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,v.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(d,a){var o;return Le(this,void 0,void 0,function*(){(o=h.get(a))===null||o===void 0||o.goToSelectionAnchor()})}}class t extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,v.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|41),weight:100}})}run(d,a){var o;return Le(this,void 0,void 0,function*(){(o=h.get(a))===null||o===void 0||o.selectFromAnchorToCursor()})}}class s extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,v.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(d,a){var o;return Le(this,void 0,void 0,function*(){(o=h.get(a))===null||o===void 0||o.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(h.ID,h),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(s)}),define(ne[686],oe([1,0,12,24,472,535]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends y.EditorAction{constructor(h,i){super(i);this.left=h}run(h,i){if(!i.hasModel())return;const n=[],t=i.getSelections();for(const s of t)n.push(new N.MoveCaretCommand(s,this.left));i.pushUndoStop(),i.executeCommands(this.id,n),i.pushUndoStop()}}class b extends w{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:f.EditorContextKeys.writable})}}class v extends w{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:f.EditorContextKeys.writable})}}(0,y.registerEditorAction)(b),(0,y.registerEditorAction)(v)}),define(ne[687],oe([1,0,12,108,187,3,24,536]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends y.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:b.localize(0,null),alias:"Transpose Letters",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(h,i){if(!i.hasModel())return;const n=i.getModel(),t=[],s=i.getSelections();for(const l of s){if(!l.isEmpty())continue;const d=l.startLineNumber,a=l.startColumn,o=n.getLineMaxColumn(d);if(d===1&&(a===1||a===2&&o===2))continue;const r=a===o?l.getPosition():N.MoveOperations.rightPosition(n,l.getPosition().lineNumber,l.getPosition().column),c=N.MoveOperations.leftPosition(n,r),g=N.MoveOperations.leftPosition(n,c),m=n.getValueInRange(D.Range.fromPositions(g,c)),S=n.getValueInRange(D.Range.fromPositions(c,r)),p=D.Range.fromPositions(g,r);t.push(new f.ReplaceCommand(p,S+m))}t.length>0&&(i.pushUndoStop(),i.executeCommands(this.id,t),i.pushUndoStop())}}(0,y.registerEditorAction)(v)}),define(ne[688],oe([1,0,36,17,185,12,29,24,537,41,91]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const i="9_cutcopypaste",n=f.isNative||document.queryCommandSupported("cut"),t=f.isNative||document.queryCommandSupported("copy"),s=typeof navigator.clipboard=="undefined"||y.isFirefox?document.queryCommandSupported("paste"):!0;function l(o){return o.register(),o}e.CutAction=n?l(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:f.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(0,null),order:1},{menuId:u.MenuId.EditorContext,group:i,title:v.localize(1,null),when:b.EditorContextKeys.writable,order:1},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(2,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:i,title:v.localize(3,null),when:b.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=t?l(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:f.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(4,null),order:2},{menuId:u.MenuId.EditorContext,group:i,title:v.localize(5,null),order:2},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(6,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:i,title:v.localize(7,null),order:2}]})):void 0,u.MenuRegistry.appendMenuItem(u.MenuId.MenubarEditMenu,{submenu:u.MenuId.MenubarCopy,title:{value:v.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextCopy,title:{value:v.localize(9,null),original:"Copy As"},group:i,order:3}),e.PasteAction=s?l(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:f.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(10,null),order:4},{menuId:u.MenuId.EditorContext,group:i,title:v.localize(11,null),when:b.EditorContextKeys.writable,order:4},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(12,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:i,title:v.localize(13,null),when:b.EditorContextKeys.writable,order:4}]})):void 0;class d extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(r,c){!c.hasModel()||!c.getOption(33)&&c.getSelection().isEmpty()||(N.CopyOptions.forceCopyWithSyntaxHighlighting=!0,c.focus(),document.execCommand("copy"),N.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function a(o,r){!o||(o.addImplementation(1e4,"code-editor",(c,g)=>{const m=c.get(w.ICodeEditorService).getFocusedCodeEditor();if(m&&m.hasTextFocus()){const S=m.getOption(33),p=m.getSelection();return p&&p.isEmpty()&&!S||document.execCommand(r),!0}return!1}),o.addImplementation(0,"generic-dom",(c,g)=>(document.execCommand(r),!0)))}a(e.CutAction,"cut"),a(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(o,r)=>{const c=o.get(w.ICodeEditorService),g=o.get(h.IClipboardService),m=c.getFocusedCodeEditor();return m&&m.hasTextFocus()?!document.execCommand("paste")&&f.isWeb?(()=>Le(void 0,void 0,void 0,function*(){const p=yield g.readText();if(p!==""){const C=N.InMemoryClipboardMetadataManager.INSTANCE.get(p);let _=!1,L=null,E=null;C&&(_=m.getOption(33)&&!!C.isFromEmptySelection,L=typeof C.multicursorText!="undefined"?C.multicursorText:null,E=C.mode),m.trigger("keyboard","paste",{text:p,pasteOnNewLine:_,multicursorText:L,mode:E})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(o,r)=>(document.execCommand("paste"),!0))),t&&(0,D.registerEditorAction)(d)}),define(ne[689],oe([1,0,59,12,3,24,32,265,474,542,41]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i extends f.EditorAction{constructor(a,o){super(o);this._type=a}run(a,o){const r=a.get(w.ILanguageConfigurationService);if(!o.hasModel())return;const c=o.getModel(),g=[],m=c.getOptions(),S=o.getOption(19),p=o.getSelections().map((_,L)=>({selection:_,index:L,ignoreFirstLine:!1}));p.sort((_,L)=>N.Range.compareRangesUsingStarts(_.selection,L.selection));let C=p[0];for(let _=1;_<p.length;_++){const L=p[_];C.selection.endLineNumber===L.selection.startLineNumber&&(C.index<L.index?L.ignoreFirstLine=!0:(C.ignoreFirstLine=!0,C=L))}for(const _ of p)g.push(new v.LineCommentCommand(r,_.selection,m.tabSize,this._type,S.insertSpace,S.ignoreEmptyLines,_.ignoreFirstLine));o.pushUndoStop(),o.executeCommands(this.id,g),o.pushUndoStop()}}class n extends i{constructor(){super(0,{id:"editor.action.commentLine",label:u.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:h.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(1,null),order:1}})}}class t extends i{constructor(){super(1,{id:"editor.action.addCommentLine",label:u.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|33),weight:100}})}}class s extends i{constructor(){super(2,{id:"editor.action.removeCommentLine",label:u.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|51),weight:100}})}}class l extends f.EditorAction{constructor(){super({id:"editor.action.blockComment",label:u.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:h.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(5,null),order:2}})}run(a,o){const r=a.get(w.ILanguageConfigurationService);if(!o.hasModel())return;const c=o.getOption(19),g=[],m=o.getSelections();for(const S of m)g.push(new b.BlockCommentCommand(S,c.insertSpace,r));o.pushUndoStop(),o.executeCommands(this.id,g),o.pushUndoStop()}}(0,f.registerEditorAction)(n),(0,f.registerEditorAction)(t),(0,f.registerEditorAction)(s),(0,f.registerEditorAction)(l)}),define(ne[690],oe([1,0,7,135,49,2,17,12,24,543,41,16,82,43]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let s=class Ai{constructor(a,o,r,c,g,m){this._contextMenuService=o,this._contextViewService=r,this._contextKeyService=c,this._keybindingService=g,this._menuService=m,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=a,this._toDispose.add(this._editor.onContextMenu(S=>this._onContextMenu(S))),this._toDispose.add(this._editor.onMouseWheel(S=>{if(this._contextMenuIsBeingShownCount>0){const p=this._contextViewService.getContextViewElement(),C=S.srcElement;C.shadowRoot&&y.getShadowRoot(p)===C.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(S=>{!this._editor.getOption(20)||S.keyCode===58&&(S.preventDefault(),S.stopPropagation(),this.showContextMenu())}))}static get(a){return a.getContribution(Ai.ID)}_onContextMenu(a){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),a.target.position&&!this._editor.getSelection().containsPosition(a.target.position)&&this._editor.setPosition(a.target.position);return}if(a.target.type===12||a.target.type===6&&a.target.detail.injectedText||(a.event.preventDefault(),a.event.stopPropagation(),a.target.type!==6&&a.target.type!==7&&a.target.type!==1))return;if(this._editor.focus(),a.target.position){let r=!1;for(const c of this._editor.getSelections())if(c.containsPosition(a.target.position)){r=!0;break}r||this._editor.setPosition(a.target.position)}let o=null;a.target.type!==1&&(o={x:a.event.posx-1,width:2,y:a.event.posy-1,height:2}),this.showContextMenu(o)}showContextMenu(a){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const o=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?h.MenuId.SimpleEditorContext:h.MenuId.EditorContext);o.length>0&&this._doShowContextMenu(o,a)}_getMenuActions(a,o){const r=[],c=this._menuService.createMenu(o,this._contextKeyService),g=c.getActions({arg:a.uri});c.dispose();for(const m of g){const[,S]=m;let p=0;for(const C of S)if(C instanceof h.SubmenuItemAction){const _=this._getMenuActions(a,C.item.submenu);_.length>0&&(r.push(new N.SubmenuAction(C.id,C.label,_)),p++)}else r.push(C),p++;p&&r.push(new N.Separator)}return r.length&&r.pop(),r}_doShowContextMenu(a,o=null){if(!this._editor.hasModel())return;const r=this._editor.getOption(54);if(this._editor.updateOptions({hover:{enabled:!1}}),!o){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const g=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),m=y.getDomNodePagePosition(this._editor.getDomNode()),S=m.left+g.left,p=m.top+g.top+g.height;o={x:S,y:p}}const c=this._editor.getOption(116)&&!w.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>o,getActions:()=>a,getActionViewItem:g=>{const m=this._keybindingFor(g);if(m)return new f.ActionViewItem(g,g,{label:!0,keybinding:m.getLabel(),isMenu:!0});const S=g;return typeof S.getActionViewItem=="function"?S.getActionViewItem():new f.ActionViewItem(g,g,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:g=>this._keybindingFor(g),onHide:g=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:r})}})}_keybindingFor(a){return this._keybindingService.lookupKeybinding(a.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};s.ID="editor.contrib.contextmenu",s=De([ge(1,n.IContextMenuService),ge(2,n.IContextViewService),ge(3,i.IContextKeyService),ge(4,t.IKeybindingService),ge(5,h.IMenuService)],s),e.ContextMenuController=s;class l extends b.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:u.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(a,o){var r;(r=s.get(o))===null||r===void 0||r.showContextMenu()}}(0,b.registerEditorContribution)(s.ID,s),(0,b.registerEditorAction)(l)}),define(ne[691],oe([1,0,2,12,24,545]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class w{constructor(n){this.selections=n}equals(n){const t=this.selections.length,s=n.selections.length;if(t!==s)return!1;for(let l=0;l<t;l++)if(!this.selections[l].equalsSelection(n.selections[l]))return!1;return!0}}class b{constructor(n,t,s){this.cursorState=n,this.scrollTop=t,this.scrollLeft=s}}class v extends y.Disposable{constructor(n){super();this._editor=n,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(n.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const s=new w(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(s)||(this._undoStack.push(new b(s,n.getScrollTop(),n.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(n){return n.getContribution(v.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new b(new w(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new b(new w(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(n){this._isCursorUndoRedo=!0,this._editor.setSelections(n.cursorState.selections),this._editor.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=v,v.ID="editor.contrib.cursorUndoRedoController";class u extends f.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:N.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(n,t,s){var l;(l=v.get(t))===null||l===void 0||l.cursorUndo()}}e.CursorUndo=u;class h extends f.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(n,t,s){var l;(l=v.get(t))===null||l===void 0||l.cursorRedo()}}e.CursorRedo=h,(0,f.registerEditorContribution)(v.ID,v),(0,f.registerEditorAction)(u),(0,f.registerEditorAction)(h)}),define(ne[692],oe([1,0,12,16,21,79,8,53,546]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const u=(0,w.createDecorator)("IEditorCancelService"),h=new f.RawContextKey("cancellableOperation",!1,(0,v.localize)(0,null));(0,b.registerSingleton)(u,class{constructor(){this._tokens=new WeakMap}add(n,t){let s=this._tokens.get(n);s||(s=n.invokeWithinContext(d=>{const a=h.bindTo(d.get(f.IContextKeyService)),o=new D.LinkedList;return{key:a,tokens:o}}),this._tokens.set(n,s));let l;return s.key.set(!0),l=s.tokens.push(t),()=>{l&&(l(),s.key.set(!s.tokens.isEmpty()),l=void 0)}}cancel(n){const t=this._tokens.get(n);if(!t)return;const s=t.tokens.pop();s&&(s.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class i extends N.CancellationTokenSource{constructor(t,s){super(s);this.editor=t,this._unregister=t.invokeWithinContext(l=>l.get(u).add(t,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=i,(0,y.registerEditorCommand)(new class extends y.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:h})}runEditorCommand(n,t){n.get(u).cancel(t)}})}),define(ne[93],oe([1,0,9,3,21,2,692]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class b{constructor(i,n){if(this.flags=n,(this.flags&1)!=0){const t=i.getModel();this.modelVersionId=t?y.format("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=i.getPosition():this.position=null,(this.flags&2)!=0?this.selection=i.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=i.getScrollLeft(),this.scrollTop=i.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(i){if(!(i instanceof b))return!1;const n=i;return!(this.modelVersionId!==n.modelVersionId||this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop||!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)||!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))}validate(i){return this._equals(new b(i,this.flags))}}e.EditorState=b;class v extends w.EditorKeybindingCancellationTokenSource{constructor(i,n,t,s){super(i,s);this._listener=new D.DisposableStore,n&4&&this._listener.add(i.onDidChangeCursorPosition(l=>{(!t||!f.Range.containsPosition(t,l.position))&&this.cancel()})),n&2&&this._listener.add(i.onDidChangeCursorSelection(l=>{(!t||!f.Range.containsRange(t,l.selection))&&this.cancel()})),n&8&&this._listener.add(i.onDidScrollChange(l=>this.cancel())),n&1&&(this._listener.add(i.onDidChangeModel(l=>this.cancel())),this._listener.add(i.onDidChangeModelContent(l=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=v;class u extends N.CancellationTokenSource{constructor(i,n){super(n);this._listener=i.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=u}),define(ne[165],oe([1,0,18,21,13,2,22,93,3,23,50,26,77,160,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorPreviewCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.refactorPreviewCommandId="editor.action.refactor.preview",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class l{constructor(m,S){this.action=m,this.provider=S}resolve(m){var S;return Le(this,void 0,void 0,function*(){if(((S=this.provider)===null||S===void 0?void 0:S.resolveCodeAction)&&!this.action.edit){let p;try{p=yield this.provider.resolveCodeAction(this.action,m)}catch(C){(0,N.onUnexpectedExternalError)(C)}p&&(this.action.edit=p.edit)}return this})}}e.CodeActionItem=l;class d extends D.Disposable{constructor(m,S,p){super();this.documentation=S,this._register(p),this.allActions=[...m].sort(d.codeActionsComparator),this.validActions=this.allActions.filter(({action:C})=>!C.disabled)}static codeActionsComparator({action:m},{action:S}){return m.isPreferred&&!S.isPreferred?-1:!m.isPreferred&&S.isPreferred?1:(0,y.isNonEmptyArray)(m.diagnostics)?(0,y.isNonEmptyArray)(S.diagnostics)?m.diagnostics[0].message.localeCompare(S.diagnostics[0].message):-1:(0,y.isNonEmptyArray)(S.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:m})=>!!m.kind&&t.CodeActionKind.QuickFix.contains(new t.CodeActionKind(m.kind))&&!!m.isPreferred)}}const a={actions:[],documentation:void 0};function o(g,m,S,p,C,_){var L;const E=p.filter||{},I={only:(L=E.include)===null||L===void 0?void 0:L.value,trigger:p.type},T=new b.TextModelCancellationTokenSource(m,_),P=r(g,m,E),B=new D.DisposableStore,R=P.map(A=>Le(this,void 0,void 0,function*(){try{C.report(A);const O=yield A.provideCodeActions(m,S,I,T.token);if(O&&B.add(O),T.token.isCancellationRequested)return a;const F=((O==null?void 0:O.actions)||[]).filter(M=>M&&(0,t.filtersAction)(E,M)),W=c(A,F,E.include);return{actions:F.map(M=>new l(M,A)),documentation:W}}catch(O){if((0,N.isCancellationError)(O))throw O;return(0,N.onUnexpectedExternalError)(O),a}})),k=g.onDidChange(()=>{const A=g.all(m);(0,y.equals)(A,P)||T.cancel()});return Promise.all(R).then(A=>{const O=A.map(W=>W.actions).flat(),F=(0,y.coalesce)(A.map(W=>W.documentation));return new d(O,F,B)}).finally(()=>{k.dispose(),T.dispose()})}e.getCodeActions=o;function r(g,m,S){return g.all(m).filter(p=>p.providedCodeActionKinds?p.providedCodeActionKinds.some(C=>(0,t.mayIncludeActionsOfKind)(S,new t.CodeActionKind(C))):!0)}function c(g,m,S){if(!g.documentation)return;const p=g.documentation.map(C=>({kind:new t.CodeActionKind(C.kind),command:C.command}));if(S){let C;for(const _ of p)_.kind.contains(S)&&(C?C.kind.contains(_.kind)&&(C=_):C=_);if(C)return C==null?void 0:C.command}for(const C of m)if(!!C.kind){for(const _ of p)if(_.kind.contains(new t.CodeActionKind(C.kind)))return _.command}}i.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(g,m,S,p,C){return Le(this,void 0,void 0,function*(){if(!(m instanceof w.URI))throw(0,N.illegalArgument)();const{codeActionProvider:_}=g.get(s.ILanguageFeaturesService),L=g.get(h.IModelService).getModel(m);if(!L)throw(0,N.illegalArgument)();const E=u.Selection.isISelection(S)?u.Selection.liftSelection(S):v.Range.isIRange(S)?L.validateRange(S):void 0;if(!E)throw(0,N.illegalArgument)();const I=typeof p=="string"?new t.CodeActionKind(p):void 0,T=yield o(_,L,E,{type:1,filter:{includeSourceActions:!0,include:I}},n.Progress.None,f.CancellationToken.None),P=[],B=Math.min(T.validActions.length,typeof C=="number"?C:0);for(let R=0;R<B;R++)P.push(T.validActions[R].resolve(f.CancellationToken.None));try{return yield Promise.all(P),T.validActions.map(R=>R.action)}finally{setTimeout(()=>T.dispose(),100)}})})}),define(ne[693],oe([1,0,7,49,13,142,2,11,20,165,160,82,43]),function(j,e,y,f,N,D,w,b,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class t extends f.Action{constructor(o,r){super(o.command?o.command.id:o.title,s(o.title),void 0,!o.disabled,r);this.action=o}}function s(a){return a.replace(/\r\n|\r|\n/g," ")}let l=class extends w.Disposable{constructor(o,r,c,g,m){super();this._editor=o,this._delegate=r,this._contextMenuService=c,this._languageFeaturesService=m,this._visible=!1,this._showingActions=this._register(new w.MutableDisposable),this._keybindingResolver=new d({getKeybindings:()=>g.getKeybindings()})}get isVisible(){return this._visible}show(o,r,c,g){return Le(this,void 0,void 0,function*(){const m=g.includeDisabledActions?r.allActions:r.validActions;if(!m.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,N.canceled)();this._visible=!0,this._showingActions.value=r;const S=this.getMenuActions(o,m,r.documentation),p=b.Position.isIPosition(c)?this._toCoords(c):c||{x:0,y:0},C=this._keybindingResolver.getResolver(),_=this._editor.getOption(116);this._contextMenuService.showContextMenu({domForShadowRoot:_?this._editor.getDomNode():void 0,getAnchor:()=>p,getActions:()=>S,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:L=>L instanceof t?C(L.action):void 0})})}getMenuActions(o,r,c){var g,m;const S=L=>new t(L.action,()=>this._delegate.onSelectCodeAction(L,o)),p=r.map(S),C=[...c],_=this._editor.getModel();if(_&&p.length)for(const L of this._languageFeaturesService.codeActionProvider.all(_))L._getAdditionalMenuItems&&C.push(...L._getAdditionalMenuItems({trigger:o.type,only:(m=(g=o.filter)===null||g===void 0?void 0:g.include)===null||m===void 0?void 0:m.value},r.map(E=>E.action)));return C.length&&p.push(new f.Separator,...C.map(L=>S(new u.CodeActionItem({title:L.title,command:L},void 0)))),p}_toCoords(o){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(o,1),this._editor.render();const r=this._editor.getScrolledVisiblePosition(o),c=(0,y.getDomNodePagePosition)(this._editor.getDomNode()),g=c.left+r.left,m=c.top+r.top+r.height;return{x:g,y:m}}};l=De([ge(2,i.IContextMenuService),ge(3,n.IKeybindingService),ge(4,v.ILanguageFeaturesService)],l),e.CodeActionMenu=l;class d{constructor(o){this._keybindingProvider=o}getResolver(){const o=new D.Lazy(()=>this._keybindingProvider.getKeybindings().filter(r=>d.codeActionCommands.indexOf(r.command)>=0).filter(r=>r.resolvedKeybinding).map(r=>{let c=r.commandArgs;return r.command===u.organizeImportsCommandId?c={kind:h.CodeActionKind.SourceOrganizeImports.value}:r.command===u.fixAllCommandId&&(c={kind:h.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:r.resolvedKeybinding},h.CodeActionCommandArgs.fromUser(c,{kind:h.CodeActionKind.None,apply:"never"}))}));return r=>{if(r.kind){const c=this.bestKeybindingForCodeAction(r,o.getValue());return c==null?void 0:c.resolvedKeybinding}}}bestKeybindingForCodeAction(o,r){if(!o.kind)return;const c=new h.CodeActionKind(o.kind);return r.filter(g=>g.kind.contains(c)).filter(g=>g.preferred?o.isPreferred:!0).reduceRight((g,m)=>g?g.kind.contains(m.kind)?m:g:m,void 0)}}e.CodeActionKeybindingResolver=d,d.codeActionCommands=[u.refactorCommandId,u.codeActionCommandId,u.sourceActionCommandId,u.organizeImportsCommandId,u.fixAllCommandId]});var Tt=this&&this.__classPrivateFieldGet||function(j,e,y,f){if(y==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?j!==e||!f:!e.has(j))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?f:y==="a"?f.call(j):f?f.value:e.get(j)},ti=this&&this.__classPrivateFieldSet||function(j,e,y,f,N){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?j!==e||!N:!e.has(j))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?N.call(j,y):N?N.value=y:e.set(j,y),y};define(ne[694],oe([1,0,10,13,4,2,42,3,16,77,165]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new v.RawContextKey("supportedCodeAction","");class n extends D.Disposable{constructor(a,o,r,c=250){super();this._editor=a,this._markerService=o,this._signalChange=r,this._delay=c,this._autoTriggerTimer=this._register(new y.TimeoutTimer),this._register(this._markerService.onMarkerChanged(g=>this._onMarkerChanges(g))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(a){const o=this._getRangeOfSelectionUnlessWhitespaceEnclosed(a);return this._createEventAndSignalChange(a,o)}_onMarkerChanges(a){const o=this._editor.getModel();!o||a.some(r=>(0,w.isEqual)(r,o.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(a){const o=this._editor.getModel();if(!!o)for(const r of this._markerService.read({resource:o.uri})){const c=o.validateRange(r);if(b.Range.intersectRanges(c,a))return b.Range.lift(c)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(a){if(!this._editor.hasModel())return;const o=this._editor.getModel(),r=this._editor.getSelection();if(r.isEmpty()&&a.type===2){const{lineNumber:c,column:g}=r.getPosition(),m=o.getLineContent(c);if(m.length===0)return;if(g===1){if(/\s/.test(m[0]))return}else if(g===o.getLineMaxColumn(c)){if(/\s/.test(m[m.length-1]))return}else if(/\s/.test(m[g-2])&&/\s/.test(m[g-1]))return}return r}_createEventAndSignalChange(a,o){const r=this._editor.getModel();if(!o||!r){this._signalChange(void 0);return}const c=this._getRangeOfMarker(o),g=c?c.getStartPosition():o.getStartPosition(),m={trigger:a,selection:o,position:g};return this._signalChange(m),m}}var t;(function(d){d.Empty={type:0};class a{constructor(r,c,g,m){this.trigger=r,this.rangeOrSelection=c,this.position=g,this._cancellablePromise=m,this.type=1,this.actions=m.catch(S=>{if((0,f.isCancellationError)(S))return s;throw S})}cancel(){this._cancellablePromise.cancel()}}d.Triggered=a})(t=e.CodeActionsState||(e.CodeActionsState={}));const s={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class l extends D.Disposable{constructor(a,o,r,c,g){super();this._editor=a,this._registry=o,this._markerService=r,this._progressService=g,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=t.Empty,this._onDidChangeState=this._register(new N.Emitter),this.onDidChangeState=this._onDidChangeState.event,i.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(c),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Tt(this,i,"f")||(ti(this,i,!0,"f"),super.dispose(),this.setState(t.Empty,!0))}_update(){if(Tt(this,i,"f"))return;this._codeActionOracle.value=void 0,this.setState(t.Empty);const a=this._editor.getModel();if(a&&this._registry.has(a)&&!this._editor.getOption(82)){const o=[];for(const r of this._registry.all(a))Array.isArray(r.providedCodeActionKinds)&&o.push(...r.providedCodeActionKinds);this._supportedCodeActions.set(o.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,r=>{var c;if(!r){this.setState(t.Empty);return}const g=(0,y.createCancelablePromise)(m=>(0,h.getCodeActions)(this._registry,a,r.selection,r.trigger,u.Progress.None,m));r.trigger.type===1&&((c=this._progressService)===null||c===void 0||c.showWhile(g,250)),this.setState(new t.Triggered(r.trigger,r.selection,r.position,g))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(a){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(a)}setState(a,o){a!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=a,!o&&!Tt(this,i,"f")&&this._onDidChangeState.fire(a))}}e.CodeActionModel=l,i=new WeakMap}),define(ne[695],oe([1,0,12,151,551]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:N.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(u,h){f.EditorZoom.setZoomLevel(f.EditorZoom.getZoomLevel()+1)}}class w extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:N.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(u,h){f.EditorZoom.setZoomLevel(f.EditorZoom.getZoomLevel()-1)}}class b extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:N.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(u,h){f.EditorZoom.setZoomLevel(0)}}(0,y.registerEditorAction)(D),(0,y.registerEditorAction)(w),(0,y.registerEditorAction)(b)}),define(ne[303],oe([1,0,47,18,21,13,55,79,19,22,93,154,11,3,23,90,58,267,552,26,616,8,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function S(R){if(R=R.filter(F=>F.range),!R.length)return;let{range:k}=R[0];for(let F=1;F<R.length;F++)k=t.Range.plusRange(k,R[F].range);const{startLineNumber:A,endLineNumber:O}=k;A===O?R.length===1?(0,y.alert)(o.localize(0,null,A)):(0,y.alert)(o.localize(1,null,R.length,A)):R.length===1?(0,y.alert)(o.localize(2,null,A,O)):(0,y.alert)(o.localize(3,null,R.length,A,O))}e.alertFormattingEdits=S;function p(R,k,A){const O=[],F=new Set,W=R.ordered(A);for(const z of W)O.push(z),z.extensionId&&F.add(c.ExtensionIdentifier.toKey(z.extensionId));const M=k.ordered(A);for(const z of M){if(z.extensionId){if(F.has(c.ExtensionIdentifier.toKey(z.extensionId)))continue;F.add(c.ExtensionIdentifier.toKey(z.extensionId))}O.push({displayName:z.displayName,extensionId:z.extensionId,provideDocumentFormattingEdits(G,te,X){return z.provideDocumentRangeFormattingEdits(G,G.getFullModelRange(),te,X)}})}return O}e.getRealAndSyntheticDocumentFormattersOrdered=p;class C{static setFormatterSelector(k){return{dispose:C._selectors.unshift(k)}}static select(k,A,O){return Le(this,void 0,void 0,function*(){if(k.length===0)return;const F=w.Iterable.first(C._selectors);if(F)return yield F(k,A,O)})}}e.FormattingConflicts=C,C._selectors=new b.LinkedList;function _(R,k,A,O,F,W){return Le(this,void 0,void 0,function*(){const M=R.get(g.IInstantiationService),{documentRangeFormattingEditProvider:z}=R.get(m.ILanguageFeaturesService),G=(0,i.isCodeEditor)(k)?k.getModel():k,te=z.ordered(G),X=yield C.select(te,G,O);X&&(F.report(X),yield M.invokeFunction(L,X,k,A,W))})}e.formatDocumentRangesWithSelectedProvider=_;function L(R,k,A,O,F){return Le(this,void 0,void 0,function*(){const W=R.get(l.IEditorWorkerService);let M,z;(0,i.isCodeEditor)(A)?(M=A.getModel(),z=new h.EditorStateCancellationTokenSource(A,1|4,void 0,F)):(M=A,z=new h.TextModelCancellationTokenSource(A,F));const G=[];let te=0;for(const Z of(0,f.asArray)(O).sort(t.Range.compareRangesUsingStarts))te>0&&t.Range.areIntersectingOrTouching(G[te-1],Z)?G[te-1]=t.Range.fromPositions(G[te-1].getStartPosition(),Z.getEndPosition()):te=G.push(Z);const X=Z=>Le(this,void 0,void 0,function*(){return(yield k.provideDocumentRangeFormattingEdits(M,Z,M.getFormattingOptions(),z.token))||[]}),J=(Z,x)=>{if(!Z.length||!x.length)return!1;const U=Z.reduce((q,le)=>t.Range.plusRange(q,le.range),Z[0].range);if(!x.some(q=>t.Range.intersectRanges(U,q.range)))return!1;for(const q of Z)for(const le of x)if(t.Range.intersectRanges(q.range,le.range))return!0;return!1},ie=[],re=[];try{for(const Z of G){if(z.token.isCancellationRequested)return!0;re.push(yield X(Z))}for(let Z=0;Z<G.length;++Z)for(let x=Z+1;x<G.length;++x){if(z.token.isCancellationRequested)return!0;if(J(re[Z],re[x])){const U=t.Range.plusRange(G[Z],G[x]),q=yield X(U);G.splice(x,1),G.splice(Z,1),G.push(U),re.splice(x,1),re.splice(Z,1),re.push(q),Z=0,x=0}}for(const Z of re){if(z.token.isCancellationRequested)return!0;const x=yield W.computeMoreMinimalEdits(M.uri,Z);x&&ie.push(...x)}}finally{z.dispose()}if(ie.length===0)return!1;if((0,i.isCodeEditor)(A))a.FormattingEdit.execute(A,ie,!0),S(ie),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1);else{const[{range:Z}]=ie,x=new s.Selection(Z.startLineNumber,Z.startColumn,Z.endLineNumber,Z.endColumn);M.pushEditOperations([x],ie.map(U=>({text:U.text,range:t.Range.lift(U.range),forceMoveMarkers:!0})),U=>{for(const{range:q}of U)if(t.Range.areIntersectingOrTouching(q,x))return[new s.Selection(q.startLineNumber,q.startColumn,q.endLineNumber,q.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=L;function E(R,k,A,O,F){return Le(this,void 0,void 0,function*(){const W=R.get(g.IInstantiationService),M=R.get(m.ILanguageFeaturesService),z=(0,i.isCodeEditor)(k)?k.getModel():k,G=p(M.documentFormattingEditProvider,M.documentRangeFormattingEditProvider,z),te=yield C.select(G,z,A);te&&(O.report(te),yield W.invokeFunction(I,te,k,A,F))})}e.formatDocumentWithSelectedProvider=E;function I(R,k,A,O,F){return Le(this,void 0,void 0,function*(){const W=R.get(l.IEditorWorkerService);let M,z;(0,i.isCodeEditor)(A)?(M=A.getModel(),z=new h.EditorStateCancellationTokenSource(A,1|4,void 0,F)):(M=A,z=new h.TextModelCancellationTokenSource(A,F));let G;try{const te=yield k.provideDocumentFormattingEdits(M,M.getFormattingOptions(),z.token);if(G=yield W.computeMoreMinimalEdits(M.uri,te),z.token.isCancellationRequested)return!0}finally{z.dispose()}if(!G||G.length===0)return!1;if((0,i.isCodeEditor)(A))a.FormattingEdit.execute(A,G,O!==2),O!==2&&(S(G),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1));else{const[{range:te}]=G,X=new s.Selection(te.startLineNumber,te.startColumn,te.endLineNumber,te.endColumn);M.pushEditOperations([X],G.map(J=>({text:J.text,range:t.Range.lift(J.range),forceMoveMarkers:!0})),J=>{for(const{range:ie}of J)if(t.Range.areIntersectingOrTouching(ie,X))return[new s.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=I;function T(R,k,A,O,F,W){return Le(this,void 0,void 0,function*(){const M=k.documentRangeFormattingEditProvider.ordered(A);for(const z of M){const G=yield Promise.resolve(z.provideDocumentRangeFormattingEdits(A,O,F,W)).catch(D.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(G))return yield R.computeMoreMinimalEdits(A.uri,G)}})}e.getDocumentRangeFormattingEditsUntilResult=T;function P(R,k,A,O,F){return Le(this,void 0,void 0,function*(){const W=p(k.documentFormattingEditProvider,k.documentRangeFormattingEditProvider,A);for(const M of W){const z=yield Promise.resolve(M.provideDocumentFormattingEdits(A,O,F)).catch(D.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(z))return yield R.computeMoreMinimalEdits(A.uri,z)}})}e.getDocumentFormattingEditsUntilResult=P;function B(R,k,A,O,F,W,M){const z=k.onTypeFormattingEditProvider.ordered(A);return z.length===0||z[0].autoFormatTriggerCharacters.indexOf(F)<0?Promise.resolve(void 0):Promise.resolve(z[0].provideOnTypeFormattingEdits(A,O,F,W,M)).catch(D.onUnexpectedExternalError).then(G=>R.computeMoreMinimalEdits(A.uri,G))}e.getOnTypeFormattingEdits=B,r.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(R,...k){return Le(this,void 0,void 0,function*(){const[A,O,F]=k;(0,v.assertType)(u.URI.isUri(A)),(0,v.assertType)(t.Range.isIRange(O));const W=R.get(d.ITextModelService),M=R.get(l.IEditorWorkerService),z=R.get(m.ILanguageFeaturesService),G=yield W.createModelReference(A);try{return T(M,z,G.object.textEditorModel,t.Range.lift(O),F,N.CancellationToken.None)}finally{G.dispose()}})}),r.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(R,...k){return Le(this,void 0,void 0,function*(){const[A,O]=k;(0,v.assertType)(u.URI.isUri(A));const F=R.get(d.ITextModelService),W=R.get(l.IEditorWorkerService),M=R.get(m.ILanguageFeaturesService),z=yield F.createModelReference(A);try{return P(W,M,z.object.textEditorModel,O,N.CancellationToken.None)}finally{z.dispose()}})}),r.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(R,...k){return Le(this,void 0,void 0,function*(){const[A,O,F,W]=k;(0,v.assertType)(u.URI.isUri(A)),(0,v.assertType)(n.Position.isIPosition(O)),(0,v.assertType)(typeof F=="string");const M=R.get(d.ITextModelService),z=R.get(l.IEditorWorkerService),G=R.get(m.ILanguageFeaturesService),te=yield M.createModelReference(A);try{return B(z,G,te.object.textEditorModel,n.Position.lift(O),F,W,N.CancellationToken.None)}finally{te.dispose()}})})}),define(ne[696],oe([1,0,18,21,13,59,2,12,29,107,3,24,90,20,303,267,553,26,16,8,77]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let g=class{constructor(_,L,E){this._editor=_,this._languageFeaturesService=L,this._workerService=E,this._disposables=new w.DisposableStore,this._sessionDisposables=new w.DisposableStore,this._disposables.add(L.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(_.onDidChangeModel(()=>this._update())),this._disposables.add(_.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(_.onDidChangeConfiguration(I=>{I.hasChanged(50)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(50)||!this._editor.hasModel())return;const _=this._editor.getModel(),[L]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(_);if(!L||!L.autoFormatTriggerCharacters)return;const E=new u.CharacterSet;for(const I of L.autoFormatTriggerCharacters)E.add(I.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(I=>{const T=I.charCodeAt(I.length-1);E.has(T)&&this._trigger(String.fromCharCode(T))}))}_trigger(_){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const L=this._editor.getModel(),E=this._editor.getPosition(),I=new f.CancellationTokenSource,T=this._editor.onDidChangeModelContent(P=>{if(P.isFlush){I.cancel(),T.dispose();return}for(let B=0,R=P.changes.length;B<R;B++)if(P.changes[B].range.endLineNumber<=E.lineNumber){I.cancel(),T.dispose();return}});(0,s.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,L,E,_,L.getFormattingOptions(),I.token).then(P=>{I.token.isCancellationRequested||(0,y.isNonEmptyArray)(P)&&(l.FormattingEdit.execute(this._editor,P,!0),(0,s.alertFormattingEdits)(P))}).finally(()=>{T.dispose()})}};g.ID="editor.contrib.autoFormat",g=De([ge(1,t.ILanguageFeaturesService),ge(2,n.IEditorWorkerService)],g);let m=class{constructor(_,L,E){this.editor=_,this._languageFeaturesService=L,this._instantiationService=E,this._callOnDispose=new w.DisposableStore,this._callOnModel=new w.DisposableStore,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(L.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(49)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:_})=>this._trigger(_))))}_trigger(_){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(s.formatDocumentRangesWithSelectedProvider,this.editor,_,2,c.Progress.None,f.CancellationToken.None).catch(N.onUnexpectedError)}};m.ID="editor.contrib.formatOnPaste",m=De([ge(1,t.ILanguageFeaturesService),ge(2,r.IInstantiationService)],m);class S extends b.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:o.ContextKeyExpr.and(i.EditorContextKeys.notInCompositeEditor,i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(_,L){return Le(this,void 0,void 0,function*(){if(L.hasModel()){const E=_.get(r.IInstantiationService);yield _.get(c.IEditorProgressService).showWhile(E.invokeFunction(s.formatDocumentWithSelectedProvider,L,1,c.Progress.None,f.CancellationToken.None),250)}})}}class p extends b.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:o.ContextKeyExpr.and(i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:i.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(_,L){return Le(this,void 0,void 0,function*(){if(!L.hasModel())return;const E=_.get(r.IInstantiationService),I=L.getModel(),T=L.getSelections().map(B=>B.isEmpty()?new h.Range(B.startLineNumber,1,B.startLineNumber,I.getLineMaxColumn(B.startLineNumber)):B);yield _.get(c.IEditorProgressService).showWhile(E.invokeFunction(s.formatDocumentRangesWithSelectedProvider,L,T,1,c.Progress.None,f.CancellationToken.None),250)})}}(0,b.registerEditorContribution)(g.ID,g),(0,b.registerEditorContribution)(m.ID,m),(0,b.registerEditorAction)(S),(0,b.registerEditorAction)(p),a.CommandsRegistry.registerCommand("editor.action.format",C=>Le(void 0,void 0,void 0,function*(){const _=C.get(v.ICodeEditorService).getFocusedCodeEditor();if(!_||!_.hasModel())return;const L=C.get(a.ICommandService);_.getSelection().isEmpty()?yield L.executeCommand("editor.action.formatDocument"):yield L.executeCommand("editor.action.formatSelection")}))}),define(ne[304],oe([1,0,21,13,12,136,20]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function b(s,l,d,a){const r=d.ordered(s).map(c=>Promise.resolve(a(c,s,l)).then(void 0,g=>{(0,f.onUnexpectedExternalError)(g)}));return Promise.all(r).then(c=>{const g=[];for(const m of c)Array.isArray(m)?g.push(...m):m&&g.push(m);return g})}function v(s,l,d,a){return b(l,d,s,(o,r,c)=>o.provideDefinition(r,c,a))}e.getDefinitionsAtPosition=v;function u(s,l,d,a){return b(l,d,s,(o,r,c)=>o.provideDeclaration(r,c,a))}e.getDeclarationsAtPosition=u;function h(s,l,d,a){return b(l,d,s,(o,r,c)=>o.provideImplementation(r,c,a))}e.getImplementationsAtPosition=h;function i(s,l,d,a){return b(l,d,s,(o,r,c)=>o.provideTypeDefinition(r,c,a))}e.getTypeDefinitionsAtPosition=i;function n(s,l,d,a,o){return b(l,d,s,(r,c,g)=>Le(this,void 0,void 0,function*(){const m=yield r.provideReferences(c,g,{includeDeclaration:!0},o);if(!a||!m||m.length!==2)return m;const S=yield r.provideReferences(c,g,{includeDeclaration:!1},o);return S&&S.length===1?S:m}))}e.getReferencesAtPosition=n;function t(s){return Le(this,void 0,void 0,function*(){const l=yield s(),d=new D.ReferencesModel(l,""),a=d.references.map(o=>o.link);return d.dispose(),a})}(0,N.registerModelAndPositionCommand)("_executeDefinitionProvider",(s,l,d)=>{const a=s.get(w.ILanguageFeaturesService),o=v(a.definitionProvider,l,d,y.CancellationToken.None);return t(()=>o)}),(0,N.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(s,l,d)=>{const a=s.get(w.ILanguageFeaturesService),o=i(a.typeDefinitionProvider,l,d,y.CancellationToken.None);return t(()=>o)}),(0,N.registerModelAndPositionCommand)("_executeDeclarationProvider",(s,l,d)=>{const a=s.get(w.ILanguageFeaturesService),o=u(a.declarationProvider,l,d,y.CancellationToken.None);return t(()=>o)}),(0,N.registerModelAndPositionCommand)("_executeReferenceProvider",(s,l,d)=>{const a=s.get(w.ILanguageFeaturesService),o=n(a.referenceProvider,l,d,!1,y.CancellationToken.None);return t(()=>o)}),(0,N.registerModelAndPositionCommand)("_executeImplementationProvider",(s,l,d)=>{const a=s.get(w.ILanguageFeaturesService),o=h(a.implementationProvider,l,d,y.CancellationToken.None);return t(()=>o)})}),define(ne[697],oe([1,0,4,2,42,12,29,3,562,16,53,8,43,100,40]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new u.RawContextKey("hasSymbols",!1,(0,v.localize)(0,null)),e.ISymbolNavigationService=(0,i.createDecorator)("ISymbolNavigationService");let l=class{constructor(o,r,c,g){this._editorService=r,this._notificationService=c,this._keybindingService=g,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(o)}reset(){var o,r;this._ctxHasSymbols.reset(),(o=this._currentState)===null||o===void 0||o.dispose(),(r=this._currentMessage)===null||r===void 0||r.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(o){const r=o.parent.parent;if(r.references.length<=1){this.reset();return}this._currentModel=r,this._currentIdx=r.references.indexOf(o),this._ctxHasSymbols.set(!0),this._showMessage();const c=new d(this._editorService),g=c.onDidChange(m=>{if(this._ignoreEditorChange)return;const S=this._editorService.getActiveCodeEditor();if(!S)return;const p=S.getModel(),C=S.getPosition();if(!p||!C)return;let _=!1,L=!1;for(const E of r.references)if((0,N.isEqual)(E.uri,p.uri))_=!0,L=L||b.Range.containsPosition(E.range,C);else if(_)break;(!_||!L)&&this.reset()});this._currentState=(0,f.combinedDisposable)(c,g)}revealNext(o){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const r=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:r.uri,options:{selection:b.Range.collapseToStart(r.range),selectionRevealType:3}},o).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var o;(o=this._currentMessage)===null||o===void 0||o.dispose();const r=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),c=r?(0,v.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,r.getLabel()):(0,v.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(c)}};l=De([ge(0,u.IContextKeyService),ge(1,w.ICodeEditorService),ge(2,s.INotificationService),ge(3,n.IKeybindingService)],l),(0,h.registerSingleton)(e.ISymbolNavigationService,l,!0),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(a,o){return a.get(e.ISymbolNavigationService).revealNext(o)}}),t.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(a){a.get(e.ISymbolNavigationService).reset()}});let d=class{constructor(o){this._listener=new Map,this._disposables=new f.DisposableStore,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(o.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(o.onCodeEditorAdd(this._onDidAddEditor,this)),o.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,f.dispose)(this._listener.values())}_onDidAddEditor(o){this._listener.set(o,(0,f.combinedDisposable)(o.onDidChangeCursorPosition(r=>this._onDidChange.fire({editor:o})),o.onDidChangeModelContent(r=>this._onDidChange.fire({editor:o}))))}_onDidRemoveEditor(o){var r;(r=this._listener.get(o))===null||r===void 0||r.dispose(),this._listener.delete(o)}};d=De([ge(0,w.ICodeEditorService)],d)}),define(ne[305],oe([1,0,10,21,13,12,20]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class b{constructor(t,s,l){this.provider=t,this.hover=s,this.ordinal=l}}e.HoverProviderResult=b;function v(n,t,s,l,d){return Le(this,void 0,void 0,function*(){try{const a=yield Promise.resolve(n.provideHover(s,l,d));if(a&&i(a))return new b(n,a,t)}catch(a){(0,N.onUnexpectedExternalError)(a)}})}function u(n,t,s,l){const a=n.ordered(t).map((o,r)=>v(o,r,t,s,l));return y.AsyncIterableObject.fromPromises(a).coalesce()}e.getHover=u;function h(n,t,s,l){return u(n,t,s,l).map(d=>d.hover).toPromise()}e.getHoverPromise=h,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(n,t,s)=>{const l=n.get(w.ILanguageFeaturesService);return h(l.hoverProvider,t,s,f.CancellationToken.None)});function i(n){const t=typeof n.range!="undefined",s=typeof n.contents!="undefined"&&n.contents&&n.contents.length>0;return t&&s}}),define(ne[216],oe([1,0,7,18,10,65,2,116,11,3,38,305,564,30,45,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const d=y.$;class a{constructor(g,m,S,p){this.owner=g,this.range=m,this.contents=S,this.ordinal=p}isValidForHoverAnchor(g){return g.type===1&&this.range.startColumn<=g.range.startColumn&&this.range.endColumn>=g.range.endColumn}}e.MarkdownHover=a;let o=class{constructor(g,m,S,p,C){this._editor=g,this._languageService=m,this._openerService=S,this._configurationService=p,this._languageFeaturesService=C,this.hoverOrdinal=2}createLoadingMessage(g){return new a(this,g.range,[new D.MarkdownString().appendText(n.localize(0,null))],2e3)}computeSync(g,m){if(!this._editor.hasModel()||g.type!==1)return[];const S=this._editor.getModel(),p=g.range.startLineNumber,C=S.getLineMaxColumn(p),_=[];let L=1e3;const E=S.getLineLength(p),I=S.getLanguageIdAtPosition(g.range.startLineNumber,g.range.startColumn),T=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:I});typeof T=="number"&&E>=T&&_.push(new a(this,g.range,[{value:n.localize(1,null)}],L++));for(const P of m){const B=P.range.startLineNumber===p?P.range.startColumn:1,R=P.range.endLineNumber===p?P.range.endColumn:C,k=P.options.hoverMessage;if(!k||(0,D.isEmptyMarkdownString)(k))continue;const A=new u.Range(g.range.startLineNumber,B,g.range.startLineNumber,R);_.push(new a(this,A,(0,f.asArray)(k),L++))}return _}computeAsync(g,m,S){if(!this._editor.hasModel()||g.type!==1)return N.AsyncIterableObject.EMPTY;const p=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(p))return N.AsyncIterableObject.EMPTY;const C=new v.Position(g.range.startLineNumber,g.range.startColumn);return(0,i.getHover)(this._languageFeaturesService.hoverProvider,p,C,S).filter(_=>!(0,D.isEmptyMarkdownString)(_.hover.contents)).map(_=>{const L=_.hover.range?u.Range.lift(_.hover.range):g.range;return new a(this,L,_.hover.contents,_.ordinal)})}renderHoverParts(g,m){return r(g,m,this._editor,this._languageService,this._openerService)}};o=De([ge(1,h.ILanguageService),ge(2,s.IOpenerService),ge(3,t.IConfigurationService),ge(4,l.ILanguageFeaturesService)],o),e.MarkdownHoverParticipant=o;function r(c,g,m,S,p){g.sort((_,L)=>_.ordinal-L.ordinal);const C=new w.DisposableStore;for(const _ of g)for(const L of _.contents){if((0,D.isEmptyMarkdownString)(L))continue;const E=d("div.hover-row.markdown-hover"),I=y.append(E,d("div.hover-contents")),T=C.add(new b.MarkdownRenderer({editor:m},S,p));C.add(T.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",c.onContentsChanged()}));const P=C.add(T.render(L));I.appendChild(P.element),c.fragment.appendChild(E)}return C}e.renderMarkdownHovers=r}),define(ne[698],oe([1,0,2,9,12,214,61,3,23,24,32,50,269,567,84,184,212]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function a(P,B,R,k,A){if(P.getLineCount()===1&&P.getLineMaxColumn(1)===1)return[];const O=B.getLanguageConfiguration(P.getLanguageId()).indentationRules;if(!O)return[];for(k=Math.min(k,P.getLineCount());R<=k&&O.unIndentedLinePattern;){const Z=P.getLineContent(R);if(!O.unIndentedLinePattern.test(Z))break;R++}if(R>k-1)return[];const{tabSize:F,indentSize:W,insertSpaces:M}=P.getOptions(),z=(Z,x)=>(x=x||1,D.ShiftCommand.shiftIndent(Z,Z.length+x,F,W,M)),G=(Z,x)=>(x=x||1,D.ShiftCommand.unshiftIndent(Z,Z.length+x,F,W,M)),te=[];let X;const J=P.getLineContent(R);let ie=J;if(A!=null){X=A;const Z=f.getLeadingWhitespace(J);ie=X+J.substring(Z.length),O.decreaseIndentPattern&&O.decreaseIndentPattern.test(ie)&&(X=G(X),ie=X+J.substring(Z.length)),J!==ie&&te.push(w.EditOperation.replaceMove(new v.Selection(R,1,R,Z.length+1),(0,l.normalizeIndentation)(X,W,M)))}else X=f.getLeadingWhitespace(J);let re=X;O.increaseIndentPattern&&O.increaseIndentPattern.test(ie)?(re=z(re),X=z(X)):O.indentNextLinePattern&&O.indentNextLinePattern.test(ie)&&(re=z(re)),R++;for(let Z=R;Z<=k;Z++){const x=P.getLineContent(Z),U=f.getLeadingWhitespace(x),q=re+x.substring(U.length);O.decreaseIndentPattern&&O.decreaseIndentPattern.test(q)&&(re=G(re),X=G(X)),U!==re&&te.push(w.EditOperation.replaceMove(new v.Selection(Z,1,Z,U.length+1),(0,l.normalizeIndentation)(re,W,M))),!(O.unIndentedLinePattern&&O.unIndentedLinePattern.test(x))&&(O.increaseIndentPattern&&O.increaseIndentPattern.test(q)?(X=z(X),re=X):O.indentNextLinePattern&&O.indentNextLinePattern.test(q)?re=z(re):re=X)}return te}e.getReindentEditOperations=a;class o extends N.EditorAction{constructor(){super({id:o.ID,label:t.localize(0,null),alias:"Convert Indentation to Spaces",precondition:u.EditorContextKeys.writable})}run(B,R){const k=R.getModel();if(!k)return;const A=k.getOptions(),O=R.getSelection();if(!O)return;const F=new I(O,A.tabSize);R.pushUndoStop(),R.executeCommands(this.id,[F]),R.pushUndoStop(),k.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=o,o.ID="editor.action.indentationToSpaces";class r extends N.EditorAction{constructor(){super({id:r.ID,label:t.localize(1,null),alias:"Convert Indentation to Tabs",precondition:u.EditorContextKeys.writable})}run(B,R){const k=R.getModel();if(!k)return;const A=k.getOptions(),O=R.getSelection();if(!O)return;const F=new T(O,A.tabSize);R.pushUndoStop(),R.executeCommands(this.id,[F]),R.pushUndoStop(),k.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=r,r.ID="editor.action.indentationToTabs";class c extends N.EditorAction{constructor(B,R){super(R);this.insertSpaces=B}run(B,R){const k=B.get(s.IQuickInputService),A=B.get(i.IModelService),O=R.getModel();if(!O)return;const F=A.getCreationOptions(O.getLanguageId(),O.uri,O.isForSimpleWidget),W=[1,2,3,4,5,6,7,8].map(z=>({id:z.toString(),label:z.toString(),description:z===F.tabSize?t.localize(2,null):void 0})),M=Math.min(O.getOptions().tabSize-1,7);setTimeout(()=>{k.pick(W,{placeHolder:t.localize(3,null),activeItem:W[M]}).then(z=>{z&&O&&!O.isDisposed()&&O.updateOptions({tabSize:parseInt(z.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=c;class g extends c{constructor(){super(!1,{id:g.ID,label:t.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=g,g.ID="editor.action.indentUsingTabs";class m extends c{constructor(){super(!0,{id:m.ID,label:t.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=m,m.ID="editor.action.indentUsingSpaces";class S extends N.EditorAction{constructor(){super({id:S.ID,label:t.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(B,R){const k=B.get(i.IModelService),A=R.getModel();if(!A)return;const O=k.getCreationOptions(A.getLanguageId(),A.uri,A.isForSimpleWidget);A.detectIndentation(O.insertSpaces,O.tabSize)}}e.DetectIndentation=S,S.ID="editor.action.detectIndentation";class p extends N.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:t.localize(7,null),alias:"Reindent Lines",precondition:u.EditorContextKeys.writable})}run(B,R){const k=B.get(h.ILanguageConfigurationService),A=R.getModel();if(!A)return;const O=a(A,k,1,A.getLineCount());O.length>0&&(R.pushUndoStop(),R.executeEdits(this.id,O),R.pushUndoStop())}}e.ReindentLinesAction=p;class C extends N.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:t.localize(8,null),alias:"Reindent Selected Lines",precondition:u.EditorContextKeys.writable})}run(B,R){const k=B.get(h.ILanguageConfigurationService),A=R.getModel();if(!A)return;const O=R.getSelections();if(O===null)return;const F=[];for(const W of O){let M=W.startLineNumber,z=W.endLineNumber;if(M!==z&&W.endColumn===1&&z--,M===1){if(M===z)continue}else M--;const G=a(A,k,M,z);F.push(...G)}F.length>0&&(R.pushUndoStop(),R.executeEdits(this.id,F),R.pushUndoStop())}}e.ReindentSelectedLinesAction=C;class _{constructor(B,R){this._initialSelection=R,this._edits=[],this._selectionId=null;for(const k of B)k.range&&typeof k.text=="string"&&this._edits.push(k)}getEditOperations(B,R){for(const A of this._edits)R.addEditOperation(b.Range.lift(A.range),A.text);let k=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(k=!0,this._selectionId=R.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(k=!0,this._selectionId=R.trackSelection(this._initialSelection,!1))),k||(this._selectionId=R.trackSelection(this._initialSelection))}computeCursorState(B,R){return R.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=_;let L=class{constructor(B,R){this.editor=B,this._languageConfigurationService=R,this.callOnDispose=new y.DisposableStore,this.callOnModel=new y.DisposableStore,this.callOnDispose.add(B.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(B.onDidChangeModel(()=>this.update())),this.callOnDispose.add(B.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(49))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:B})=>{this.trigger(B)})))}trigger(B){const R=this.editor.getSelections();if(R===null||R.length>1)return;const k=this.editor.getModel();if(!k||!k.tokenization.isCheapToTokenize(B.getStartPosition().lineNumber))return;const A=this.editor.getOption(9),{tabSize:O,indentSize:F,insertSpaces:W}=k.getOptions(),M=[],z={shiftIndent:J=>D.ShiftCommand.shiftIndent(J,J.length+1,O,F,W),unshiftIndent:J=>D.ShiftCommand.unshiftIndent(J,J.length+1,O,F,W)};let G=B.startLineNumber;for(;G<=B.endLineNumber;){if(this.shouldIgnoreLine(k,G)){G++;continue}break}if(G>B.endLineNumber)return;let te=k.getLineContent(G);if(!/\S/.test(te.substring(0,B.startColumn-1))){const J=(0,d.getGoodIndentForLine)(A,k,k.getLanguageId(),G,z,this._languageConfigurationService);if(J!==null){const ie=f.getLeadingWhitespace(te),re=n.getSpaceCnt(J,O),Z=n.getSpaceCnt(ie,O);if(re!==Z){const x=n.generateIndent(re,O,W);M.push({range:new b.Range(G,1,G,ie.length+1),text:x}),te=x+te.substr(ie.length)}else{const x=(0,d.getIndentMetadata)(k,G,this._languageConfigurationService);if(x===0||x===8)return}}}const X=G;for(;G<B.endLineNumber;){if(!/\S/.test(k.getLineContent(G+1))){G++;continue}break}if(G!==B.endLineNumber){const J={tokenization:{getLineTokens:re=>k.tokenization.getLineTokens(re),getLanguageId:()=>k.getLanguageId(),getLanguageIdAtPosition:(re,Z)=>k.getLanguageIdAtPosition(re,Z)},getLineContent:re=>re===X?te:k.getLineContent(re)},ie=(0,d.getGoodIndentForLine)(A,J,k.getLanguageId(),G+1,z,this._languageConfigurationService);if(ie!==null){const re=n.getSpaceCnt(ie,O),Z=n.getSpaceCnt(f.getLeadingWhitespace(k.getLineContent(G+1)),O);if(re!==Z){const x=re-Z;for(let U=G+1;U<=B.endLineNumber;U++){const q=k.getLineContent(U),le=f.getLeadingWhitespace(q),Y=n.getSpaceCnt(le,O)+x,de=n.generateIndent(Y,O,W);de!==le&&M.push({range:new b.Range(U,1,U,le.length+1),text:de})}}}}if(M.length>0){this.editor.pushUndoStop();const J=new _(M,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",J),this.editor.pushUndoStop()}}shouldIgnoreLine(B,R){B.tokenization.forceTokenization(R);const k=B.getLineFirstNonWhitespaceColumn(R);if(k===0)return!0;const A=B.tokenization.getLineTokens(R);if(A.getCount()>0){const O=A.findTokenIndexAtOffset(k);if(O>=0&&A.getStandardTokenType(O)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};L.ID="editor.contrib.autoIndentOnPaste",L=De([ge(1,h.ILanguageConfigurationService)],L),e.AutoIndentOnPaste=L;function E(P,B,R,k){if(P.getLineCount()===1&&P.getLineMaxColumn(1)===1)return;let A="";for(let F=0;F<R;F++)A+=" ";const O=new RegExp(A,"gi");for(let F=1,W=P.getLineCount();F<=W;F++){let M=P.getLineFirstNonWhitespaceColumn(F);if(M===0&&(M=P.getLineMaxColumn(F)),M===1)continue;const z=new b.Range(F,1,F,M),G=P.getValueInRange(z),te=k?G.replace(/\t/ig,A):G.replace(O,"	");B.addEditOperation(z,te)}}class I{constructor(B,R){this.selection=B,this.tabSize=R,this.selectionId=null}getEditOperations(B,R){this.selectionId=R.trackSelection(this.selection),E(B,R,this.tabSize,!0)}computeCursorState(B,R){return R.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=I;class T{constructor(B,R){this.selection=B,this.tabSize=R,this.selectionId=null}getEditOperations(B,R){this.selectionId=R.trackSelection(this.selection),E(B,R,this.tabSize,!1)}computeCursorState(B,R){return R.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=T,(0,N.registerEditorContribution)(L.ID,L),(0,N.registerEditorAction)(o),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(g),(0,N.registerEditorAction)(m),(0,N.registerEditorAction)(S),(0,N.registerEditorAction)(p),(0,N.registerEditorAction)(C)}),define(ne[699],oe([1,0,12,189,24,571]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class w extends y.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:N.EditorContextKeys.textInputFocus,primary:2048|42}})}run(v,u,h){if(h=h||{},!u.hasModel())return;const i=u._getViewModel();i.model.pushStackElement(),i.setCursorStates(h.source,3,f.CursorMoveCommands.expandLineSelection(i,i.getCursorStates())),i.revealPrimaryCursor(h.source,!0)}}e.ExpandLineSelectionAction=w,(0,y.registerEditorAction)(w)}),define(ne[700],oe([1,0,59,164,12,108,418,215,61,11,3,23,24,483,648,484,572,41,32]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class r extends N.EditorAction{constructor(x,U){super(U);this.down=x}run(x,U){if(!U.hasModel())return;const q=U.getSelections().map((Y,de)=>({selection:Y,index:de,ignore:!1}));q.sort((Y,de)=>h.Range.compareRangesUsingStarts(Y.selection,de.selection));let le=q[0];for(let Y=1;Y<q.length;Y++){const de=q[Y];le.selection.endLineNumber===de.selection.startLineNumber&&(le.index<de.index?de.ignore=!0:(le.ignore=!0,le=de))}const se=[];for(const Y of q)se.push(new t.CopyLinesCommand(Y.selection,this.down,Y.ignore));U.pushUndoStop(),U.executeCommands(this.id,se),U.pushUndoStop()}}class c extends r{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:d.localize(0,null),alias:"Copy Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(1,null),order:1}})}}class g extends r{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:d.localize(2,null),alias:"Copy Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(3,null),order:2}})}}class m extends N.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:d.localize(4,null),alias:"Duplicate Selection",precondition:n.EditorContextKeys.writable,menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(5,null),order:5}})}run(x,U,q){if(!U.hasModel())return;const le=[],se=U.getSelections(),Y=U.getModel();for(const de of se)if(de.isEmpty())le.push(new t.CopyLinesCommand(de,!0));else{const H=new i.Selection(de.endLineNumber,de.endColumn,de.endLineNumber,de.endColumn);le.push(new D.ReplaceCommandThatSelectsText(H,Y.getValueInRange(de)))}U.pushUndoStop(),U.executeCommands(this.id,le),U.pushUndoStop()}}e.DuplicateSelectionAction=m;class S extends N.EditorAction{constructor(x,U){super(U);this.down=x}run(x,U){const q=x.get(o.ILanguageConfigurationService),le=[],se=U.getSelections()||[],Y=U.getOption(9);for(const de of se)le.push(new s.MoveLinesCommand(de,this.down,Y,q));U.pushUndoStop(),U.executeCommands(this.id,le),U.pushUndoStop()}}class p extends S{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:d.localize(6,null),alias:"Move Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(7,null),order:3}})}}class C extends S{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:d.localize(8,null),alias:"Move Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(9,null),order:4}})}}class _ extends N.EditorAction{constructor(x,U){super(U);this.descending=x}run(x,U){const q=U.getSelections()||[];for(const se of q)if(!l.SortLinesCommand.canRun(U.getModel(),se,this.descending))return;const le=[];for(let se=0,Y=q.length;se<Y;se++)le[se]=new l.SortLinesCommand(q[se],this.descending);U.pushUndoStop(),U.executeCommands(this.id,le),U.pushUndoStop()}}e.AbstractSortLinesAction=_;class L extends _{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:d.localize(10,null),alias:"Sort Lines Ascending",precondition:n.EditorContextKeys.writable})}}e.SortLinesAscendingAction=L;class E extends _{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:d.localize(11,null),alias:"Sort Lines Descending",precondition:n.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class I extends N.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:d.localize(12,null),alias:"Delete Duplicate Lines",precondition:n.EditorContextKeys.writable})}run(x,U){if(!U.hasModel())return;const q=U.getModel();if(q.getLineCount()===1&&q.getLineMaxColumn(1)===1)return;const le=[],se=[];let Y=0;for(const de of U.getSelections()){const H=new Set,$=[];for(let ee=de.startLineNumber;ee<=de.endLineNumber;ee++){const ae=q.getLineContent(ee);H.has(ae)||($.push(ae),H.add(ae))}const K=new i.Selection(de.startLineNumber,1,de.endLineNumber,q.getLineMaxColumn(de.endLineNumber)),V=de.startLineNumber-Y,Q=new i.Selection(V,1,V+$.length-1,$[$.length-1].length);le.push(v.EditOperation.replace(K,$.join(`
`))),se.push(Q),Y+=de.endLineNumber-de.startLineNumber+1-$.length}U.pushUndoStop(),U.executeEdits(this.id,le,se),U.pushUndoStop()}}e.DeleteDuplicateLinesAction=I;class T extends N.EditorAction{constructor(){super({id:T.ID,label:d.localize(13,null),alias:"Trim Trailing Whitespace",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|54),weight:100}})}run(x,U,q){let le=[];q.reason==="auto-save"&&(le=(U.getSelections()||[]).map(de=>new u.Position(de.positionLineNumber,de.positionColumn)));const se=U.getSelection();if(se===null)return;const Y=new w.TrimTrailingWhitespaceCommand(se,le);U.pushUndoStop(),U.executeCommands(this.id,[Y]),U.pushUndoStop()}}e.TrimTrailingWhitespaceAction=T,T.ID="editor.action.trimTrailingWhitespace";class P extends N.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:d.localize(14,null),alias:"Delete Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(x,U){if(!U.hasModel())return;const q=this._getLinesToRemove(U),le=U.getModel();if(le.getLineCount()===1&&le.getLineMaxColumn(1)===1)return;let se=0;const Y=[],de=[];for(let H=0,$=q.length;H<$;H++){const K=q[H];let V=K.startLineNumber,Q=K.endLineNumber,ee=1,ae=le.getLineMaxColumn(Q);Q<le.getLineCount()?(Q+=1,ae=1):V>1&&(V-=1,ee=le.getLineMaxColumn(V)),Y.push(v.EditOperation.replace(new i.Selection(V,ee,Q,ae),"")),de.push(new i.Selection(V-se,K.positionColumn,V-se,K.positionColumn)),se+=K.endLineNumber-K.startLineNumber+1}U.pushUndoStop(),U.executeEdits(this.id,Y,de),U.pushUndoStop()}_getLinesToRemove(x){const U=x.getSelections().map(se=>{let Y=se.endLineNumber;return se.startLineNumber<se.endLineNumber&&se.endColumn===1&&(Y-=1),{startLineNumber:se.startLineNumber,selectionStartColumn:se.selectionStartColumn,endLineNumber:Y,positionColumn:se.positionColumn}});U.sort((se,Y)=>se.startLineNumber===Y.startLineNumber?se.endLineNumber-Y.endLineNumber:se.startLineNumber-Y.startLineNumber);const q=[];let le=U[0];for(let se=1;se<U.length;se++)le.endLineNumber+1>=U[se].startLineNumber?le.endLineNumber=U[se].endLineNumber:(q.push(le),le=U[se]);return q.push(le),q}}e.DeleteLinesAction=P;class B extends N.EditorAction{constructor(){super({id:"editor.action.indentLines",label:d.localize(15,null),alias:"Indent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(x,U){const q=U._getViewModel();!q||(U.pushUndoStop(),U.executeCommands(this.id,b.TypeOperations.indent(q.cursorConfig,U.getModel(),U.getSelections())),U.pushUndoStop())}}e.IndentLinesAction=B;class R extends N.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:d.localize(16,null),alias:"Outdent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(x,U){f.CoreEditingCommands.Outdent.runEditorCommand(x,U,null)}}class k extends N.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:d.localize(17,null),alias:"Insert Line Above",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(x,U){const q=U._getViewModel();!q||(U.pushUndoStop(),U.executeCommands(this.id,b.TypeOperations.lineInsertBefore(q.cursorConfig,U.getModel(),U.getSelections())))}}e.InsertLineBeforeAction=k;class A extends N.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:d.localize(18,null),alias:"Insert Line Below",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(x,U){const q=U._getViewModel();!q||(U.pushUndoStop(),U.executeCommands(this.id,b.TypeOperations.lineInsertAfter(q.cursorConfig,U.getModel(),U.getSelections())))}}e.InsertLineAfterAction=A;class O extends N.EditorAction{run(x,U){if(!U.hasModel())return;const q=U.getSelection(),le=this._getRangesToDelete(U),se=[];for(let H=0,$=le.length-1;H<$;H++){const K=le[H],V=le[H+1];h.Range.intersectRanges(K,V)===null?se.push(K):le[H+1]=h.Range.plusRange(K,V)}se.push(le[le.length-1]);const Y=this._getEndCursorState(q,se),de=se.map(H=>v.EditOperation.replace(H,""));U.pushUndoStop(),U.executeEdits(this.id,de,Y),U.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=O;class F extends O{constructor(){super({id:"deleteAllLeft",label:d.localize(19,null),alias:"Delete All Left",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(x,U){let q=null;const le=[];let se=0;return U.forEach(Y=>{let de;if(Y.endColumn===1&&se>0){const H=Y.startLineNumber-se;de=new i.Selection(H,Y.startColumn,H,Y.startColumn)}else de=new i.Selection(Y.startLineNumber,Y.startColumn,Y.startLineNumber,Y.startColumn);se+=Y.endLineNumber-Y.startLineNumber,Y.intersectRanges(x)?q=de:le.push(de)}),q&&le.unshift(q),le}_getRangesToDelete(x){const U=x.getSelections();if(U===null)return[];let q=U;const le=x.getModel();return le===null?[]:(q.sort(h.Range.compareRangesUsingStarts),q=q.map(se=>{if(se.isEmpty())if(se.startColumn===1){const Y=Math.max(1,se.startLineNumber-1),de=se.startLineNumber===1?1:le.getLineContent(Y).length+1;return new h.Range(Y,de,se.startLineNumber,1)}else return new h.Range(se.startLineNumber,1,se.startLineNumber,se.startColumn);else return new h.Range(se.startLineNumber,1,se.endLineNumber,se.endColumn)}),q)}}e.DeleteAllLeftAction=F;class W extends O{constructor(){super({id:"deleteAllRight",label:d.localize(20,null),alias:"Delete All Right",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(x,U){let q=null;const le=[];for(let se=0,Y=U.length,de=0;se<Y;se++){const H=U[se],$=new i.Selection(H.startLineNumber-de,H.startColumn,H.startLineNumber-de,H.startColumn);H.intersectRanges(x)?q=$:le.push($)}return q&&le.unshift(q),le}_getRangesToDelete(x){const U=x.getModel();if(U===null)return[];const q=x.getSelections();if(q===null)return[];const le=q.map(se=>{if(se.isEmpty()){const Y=U.getLineMaxColumn(se.startLineNumber);return se.startColumn===Y?new h.Range(se.startLineNumber,se.startColumn,se.startLineNumber+1,1):new h.Range(se.startLineNumber,se.startColumn,se.startLineNumber,Y)}return se});return le.sort(h.Range.compareRangesUsingStarts),le}}e.DeleteAllRightAction=W;class M extends N.EditorAction{constructor(){super({id:"editor.action.joinLines",label:d.localize(21,null),alias:"Join Lines",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(x,U){const q=U.getSelections();if(q===null)return;let le=U.getSelection();if(le===null)return;q.sort(h.Range.compareRangesUsingStarts);const se=[],Y=q.reduce((Q,ee)=>Q.isEmpty()?Q.endLineNumber===ee.startLineNumber?(le.equalsSelection(Q)&&(le=ee),ee):ee.startLineNumber>Q.endLineNumber+1?(se.push(Q),ee):new i.Selection(Q.startLineNumber,Q.startColumn,ee.endLineNumber,ee.endColumn):ee.startLineNumber>Q.endLineNumber?(se.push(Q),ee):new i.Selection(Q.startLineNumber,Q.startColumn,ee.endLineNumber,ee.endColumn));se.push(Y);const de=U.getModel();if(de===null)return;const H=[],$=[];let K=le,V=0;for(let Q=0,ee=se.length;Q<ee;Q++){const ae=se[Q],fe=ae.startLineNumber,pe=1;let ve=0,ue,Ce;const me=de.getLineContent(ae.endLineNumber).length-ae.endColumn;if(ae.isEmpty()||ae.startLineNumber===ae.endLineNumber){const he=ae.getStartPosition();he.lineNumber<de.getLineCount()?(ue=fe+1,Ce=de.getLineMaxColumn(ue)):(ue=he.lineNumber,Ce=de.getLineMaxColumn(he.lineNumber))}else ue=ae.endLineNumber,Ce=de.getLineMaxColumn(ue);let be=de.getLineContent(fe);for(let he=fe+1;he<=ue;he++){const we=de.getLineContent(he),ye=de.getLineFirstNonWhitespaceColumn(he);if(ye>=1){let Te=!0;be===""&&(Te=!1),Te&&(be.charAt(be.length-1)===" "||be.charAt(be.length-1)==="	")&&(Te=!1,be=be.replace(/[\s\uFEFF\xA0]+$/g," "));const ke=we.substr(ye-1);be+=(Te?" ":"")+ke,Te?ve=ke.length+1:ve=ke.length}else ve=0}const ce=new h.Range(fe,pe,ue,Ce);if(!ce.isEmpty()){let he;ae.isEmpty()?(H.push(v.EditOperation.replace(ce,be)),he=new i.Selection(ce.startLineNumber-V,be.length-ve+1,fe-V,be.length-ve+1)):ae.startLineNumber===ae.endLineNumber?(H.push(v.EditOperation.replace(ce,be)),he=new i.Selection(ae.startLineNumber-V,ae.startColumn,ae.endLineNumber-V,ae.endColumn)):(H.push(v.EditOperation.replace(ce,be)),he=new i.Selection(ae.startLineNumber-V,ae.startColumn,ae.startLineNumber-V,be.length-me)),h.Range.intersectRanges(ce,le)!==null?K=he:$.push(he)}V+=ce.endLineNumber-ce.startLineNumber}$.unshift(K),U.pushUndoStop(),U.executeEdits(this.id,H,$),U.pushUndoStop()}}e.JoinLinesAction=M;class z extends N.EditorAction{constructor(){super({id:"editor.action.transpose",label:d.localize(22,null),alias:"Transpose characters around the cursor",precondition:n.EditorContextKeys.writable})}run(x,U){const q=U.getSelections();if(q===null)return;const le=U.getModel();if(le===null)return;const se=[];for(let Y=0,de=q.length;Y<de;Y++){const H=q[Y];if(!H.isEmpty())continue;const $=H.getStartPosition(),K=le.getLineMaxColumn($.lineNumber);if($.column>=K){if($.lineNumber===le.getLineCount())continue;const V=new h.Range($.lineNumber,Math.max(1,$.column-1),$.lineNumber+1,1),Q=le.getValueInRange(V).split("").reverse().join("");se.push(new D.ReplaceCommand(new i.Selection($.lineNumber,Math.max(1,$.column-1),$.lineNumber+1,1),Q))}else{const V=new h.Range($.lineNumber,Math.max(1,$.column-1),$.lineNumber,$.column+1),Q=le.getValueInRange(V).split("").reverse().join("");se.push(new D.ReplaceCommandThatPreservesSelection(V,Q,new i.Selection($.lineNumber,$.column+1,$.lineNumber,$.column+1)))}}U.pushUndoStop(),U.executeCommands(this.id,se),U.pushUndoStop()}}e.TransposeAction=z;class G extends N.EditorAction{run(x,U){const q=U.getSelections();if(q===null)return;const le=U.getModel();if(le===null)return;const se=U.getOption(118),Y=[];for(const de of q)if(de.isEmpty()){const H=de.getStartPosition(),$=U.getConfiguredWordAtPosition(H);if(!$)continue;const K=new h.Range(H.lineNumber,$.startColumn,H.lineNumber,$.endColumn),V=le.getValueInRange(K);Y.push(v.EditOperation.replace(K,this._modifyText(V,se)))}else{const H=le.getValueInRange(de);Y.push(v.EditOperation.replace(de,this._modifyText(H,se)))}U.pushUndoStop(),U.executeEdits(this.id,Y),U.pushUndoStop()}}e.AbstractCaseAction=G;class te extends G{constructor(){super({id:"editor.action.transformToUppercase",label:d.localize(23,null),alias:"Transform to Uppercase",precondition:n.EditorContextKeys.writable})}_modifyText(x,U){return x.toLocaleUpperCase()}}e.UpperCaseAction=te;class X extends G{constructor(){super({id:"editor.action.transformToLowercase",label:d.localize(24,null),alias:"Transform to Lowercase",precondition:n.EditorContextKeys.writable})}_modifyText(x,U){return x.toLocaleLowerCase()}}e.LowerCaseAction=X;class J{constructor(x,U){this._pattern=x,this._flags=U,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class ie extends G{constructor(){super({id:"editor.action.transformToTitlecase",label:d.localize(25,null),alias:"Transform to Title Case",precondition:n.EditorContextKeys.writable})}_modifyText(x,U){const q=ie.titleBoundary.get();return q?x.toLocaleLowerCase().replace(q,le=>le.toLocaleUpperCase()):x}}e.TitleCaseAction=ie,ie.titleBoundary=new J("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class re extends G{constructor(){super({id:"editor.action.transformToSnakecase",label:d.localize(26,null),alias:"Transform to Snake Case",precondition:n.EditorContextKeys.writable})}_modifyText(x,U){const q=re.caseBoundary.get(),le=re.singleLetters.get();return!q||!le?x:x.replace(q,"$1_$2").replace(le,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=re,re.caseBoundary=new J("(\\p{Ll})(\\p{Lu})","gmu"),re.singleLetters=new J("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,N.registerEditorAction)(c),(0,N.registerEditorAction)(g),(0,N.registerEditorAction)(m),(0,N.registerEditorAction)(p),(0,N.registerEditorAction)(C),(0,N.registerEditorAction)(L),(0,N.registerEditorAction)(E),(0,N.registerEditorAction)(I),(0,N.registerEditorAction)(T),(0,N.registerEditorAction)(P),(0,N.registerEditorAction)(B),(0,N.registerEditorAction)(R),(0,N.registerEditorAction)(k),(0,N.registerEditorAction)(A),(0,N.registerEditorAction)(F),(0,N.registerEditorAction)(W),(0,N.registerEditorAction)(M),(0,N.registerEditorAction)(z),(0,N.registerEditorAction)(te),(0,N.registerEditorAction)(X),re.caseBoundary.isSupported()&&re.singleLetters.isSupported()&&(0,N.registerEditorAction)(re),ie.titleBoundary.isSupported()&&(0,N.registerEditorAction)(ie)}),define(ne[166],oe([1,0,47,10,2,12,3,575,16,398]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let u=class oi{constructor(t,s){this._messageWidget=new N.MutableDisposable,this._messageListeners=new N.DisposableStore,this._editor=t,this._visible=oi.MESSAGE_VISIBLE.bindTo(s),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(oi.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,s){(0,y.alert)(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new i(this._editor,s,t),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new f.TimeoutTimer(()=>this.closeMessage(),3e3));let l;this._messageListeners.add(this._editor.onMouseMove(d=>{!d.target.position||(l?l.containsPosition(d.target.position)||this.closeMessage():l=new w.Range(s.lineNumber-3,1,d.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(i.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(b.localize(1,null),this._editor.getPosition())}};u.ID="editor.contrib.messageController",u.MESSAGE_VISIBLE=new v.RawContextKey("messageVisible",!1,b.localize(0,null)),u=De([ge(1,v.IContextKeyService)],u),e.MessageController=u;const h=D.EditorCommand.bindToContribution(u.get);(0,D.registerEditorCommand)(new h({id:"leaveEditorMessage",precondition:u.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class i{constructor(t,{lineNumber:s,column:l},d){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(s,s,0),this._position={lineNumber:s,column:l},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const a=document.createElement("div");a.classList.add("anchor","top"),this._domNode.appendChild(a);const o=document.createElement("div");o.classList.add("message"),o.textContent=d,this._domNode.appendChild(o);const r=document.createElement("div");r.classList.add("anchor","below"),this._domNode.appendChild(r),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(t){const s=()=>{t.dispose(),clearTimeout(l),t.getDomNode().removeEventListener("animationend",s)},l=setTimeout(s,110);return t.getDomNode().addEventListener("animationend",s),t.getDomNode().classList.add("fadeOut"),{dispose:s}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(t){this._domNode.classList.toggle("below",t===2)}}(0,D.registerEditorContribution)(u.ID,u)});var ti=this&&this.__classPrivateFieldSet||function(j,e,y,f,N){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?j!==e||!N:!e.has(j))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?N.call(j,y):N?N.value=y:e.set(j,y),y},Tt=this&&this.__classPrivateFieldGet||function(j,e,y,f){if(y==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?j!==e||!f:!e.has(j))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?f:y==="a"?f.call(j):f?f.value:e.get(j)};define(ne[701],oe([1,0,13,142,2,166,8,693,674]),function(j,e,y,f,N,D,w,b,v){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let h=class extends N.Disposable{constructor(n,t,s,l,d){super();this._editor=n,this.delegate=l,this._activeCodeActions=this._register(new N.MutableDisposable),u.set(this,!1),this._codeActionWidget=new f.Lazy(()=>this._register(d.createInstance(b.CodeActionMenu,this._editor,{onSelectCodeAction:(a,o)=>Le(this,void 0,void 0,function*(){this.delegate.applyCodeAction(a,!0,Boolean(o.preview))})}))),this._lightBulbWidget=new f.Lazy(()=>{const a=this._register(d.createInstance(v.LightBulbWidget,this._editor,t,s));return this._register(a.onClick(o=>this.showCodeActionList(o.trigger,o.actions,o,{includeDisabledActions:!1}))),a})}dispose(){ti(this,u,!0,"f"),super.dispose()}update(n){var t,s,l,d,a;return Le(this,void 0,void 0,function*(){if(n.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let o;try{o=yield n.actions}catch(r){(0,y.onUnexpectedError)(r);return}if(!Tt(this,u,"f"))if(this._lightBulbWidget.getValue().update(o,n.trigger,n.position),n.trigger.type===1){if((s=n.trigger.filter)===null||s===void 0?void 0:s.include){const c=this.tryGetValidActionToApply(n.trigger,o);if(c){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(c,!1,!1)}finally{o.dispose()}return}if(n.trigger.context){const g=this.getInvalidActionThatWouldHaveBeenApplied(n.trigger,o);if(g&&g.action.disabled){(l=D.MessageController.get(this._editor))===null||l===void 0||l.showMessage(g.action.disabled,n.trigger.context.position),o.dispose();return}}}const r=!!((d=n.trigger.filter)===null||d===void 0?void 0:d.include);if(n.trigger.context&&(!o.allActions.length||!r&&!o.validActions.length)){(a=D.MessageController.get(this._editor))===null||a===void 0||a.showMessage(n.trigger.context.notAvailableMessage,n.trigger.context.position),this._activeCodeActions.value=o,o.dispose();return}this._activeCodeActions.value=o,this._codeActionWidget.getValue().show(n.trigger,o,n.position,{includeDisabledActions:r})}else this._codeActionWidget.getValue().isVisible?o.dispose():this._activeCodeActions.value=o})}getInvalidActionThatWouldHaveBeenApplied(n,t){if(!!t.allActions.length&&(n.autoApply==="first"&&t.validActions.length===0||n.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:s})=>s.disabled)}tryGetValidActionToApply(n,t){if(!!t.validActions.length&&(n.autoApply==="first"&&t.validActions.length>0||n.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(n,t,s,l){return Le(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(n,t,s,l)})}};u=new WeakMap,h=De([ge(4,w.IInstantiationService)],h),e.CodeActionUi=h}),define(ne[306],oe([1,0,21,142,2,9,12,137,24,20,165,701,166,538,26,16,8,83,77,40,92,694,160]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorPreview=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function S(W){return l.ContextKeyExpr.regex(g.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,D.escapeRegExpCharacters)(W.value)+"\\b"))}function p(W,M,z){const G=m.CodeActionCommandArgs.fromUser(M,{kind:m.CodeActionKind.Refactor,apply:"never"});return I(W,typeof(M==null?void 0:M.kind)=="string"?G.preferred?t.localize(0,null,M.kind):t.localize(1,null,M.kind):G.preferred?t.localize(2,null):t.localize(3,null),{include:m.CodeActionKind.Refactor.contains(G.kind)?G.kind:m.CodeActionKind.None,onlyIncludePreferredActions:G.preferred},G.apply,z)}const C={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:t.localize(4,null)},apply:{type:"string",description:t.localize(5,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[t.localize(6,null),t.localize(7,null),t.localize(8,null)]},preferred:{type:"boolean",default:!1,description:t.localize(9,null)}}};let _=class Pi extends N.Disposable{constructor(M,z,G,te,X,J){super();this._instantiationService=X,this._editor=M,this._model=this._register(new g.CodeActionModel(this._editor,J.codeActionProvider,z,G,te)),this._register(this._model.onDidChangeState(ie=>this.update(ie))),this._ui=new f.Lazy(()=>this._register(new i.CodeActionUi(M,T.Id,F.Id,{applyCodeAction:(ie,re,Z)=>Le(this,void 0,void 0,function*(){try{yield this._applyCodeAction(ie,Z)}finally{re&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(M){return M.getContribution(Pi.ID)}update(M){this._ui.getValue().update(M)}showCodeActions(M,z,G){return this._ui.getValue().showCodeActionList(M,z,G,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(M,z,G,te){var X;if(!this._editor.hasModel())return;(X=n.MessageController.get(this._editor))===null||X===void 0||X.closeMessage();const J=this._editor.getPosition();this._trigger({type:1,filter:z,autoApply:G,context:{notAvailableMessage:M,position:J},preview:te})}_trigger(M){return this._model.trigger(M)}_applyCodeAction(M,z){return this._instantiationService.invokeFunction(L,M,{preview:z,editor:this._editor})}};_.ID="editor.contrib.quickFixController",_=De([ge(1,a.IMarkerService),ge(2,l.IContextKeyService),ge(3,o.IEditorProgressService),ge(4,d.IInstantiationService),ge(5,u.ILanguageFeaturesService)],_),e.QuickFixController=_;function L(W,M,z){return Le(this,void 0,void 0,function*(){const G=W.get(b.IBulkEditService),te=W.get(s.ICommandService),X=W.get(c.ITelemetryService),J=W.get(r.INotificationService);if(X.publicLog2("codeAction.applyCodeAction",{codeActionTitle:M.action.title,codeActionKind:M.action.kind,codeActionIsPreferred:!!M.action.isPreferred}),yield M.resolve(y.CancellationToken.None),M.action.edit&&(yield G.apply(b.ResourceEdit.convert(M.action.edit),{editor:z==null?void 0:z.editor,label:M.action.title,quotableLabel:M.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:z==null?void 0:z.preview})),M.action.command)try{yield te.executeCommand(M.action.command.id,...M.action.command.arguments||[])}catch(ie){const re=E(ie);J.error(typeof re=="string"?re:t.localize(10,null))}})}e.applyCodeAction=L;function E(W){return typeof W=="string"?W:W instanceof Error&&typeof W.message=="string"?W.message:void 0}function I(W,M,z,G,te=!1){if(W.hasModel()){const X=_.get(W);X&&X.manualTriggerAtCurrentPosition(M,z,G,te)}}class T extends w.EditorAction{constructor(){super({id:T.Id,label:t.localize(11,null),alias:"Quick Fix...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(M,z){return I(z,t.localize(12,null),void 0,void 0)}}e.QuickFixAction=T,T.Id="editor.action.quickFix";class P extends w.EditorCommand{constructor(){super({id:h.codeActionCommandId,precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:C}]}})}runEditorCommand(M,z,G){const te=m.CodeActionCommandArgs.fromUser(G,{kind:m.CodeActionKind.Empty,apply:"ifSingle"});return I(z,typeof(G==null?void 0:G.kind)=="string"?te.preferred?t.localize(13,null,G.kind):t.localize(14,null,G.kind):te.preferred?t.localize(15,null):t.localize(16,null),{include:te.kind,includeSourceActions:!0,onlyIncludePreferredActions:te.preferred},te.apply)}}e.CodeActionCommand=P;class B extends w.EditorAction{constructor(){super({id:h.refactorCommandId,label:t.localize(17,null),alias:"Refactor...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:l.ContextKeyExpr.and(v.EditorContextKeys.writable,S(m.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:C}]}})}run(M,z,G){return p(z,G,!1)}}e.RefactorAction=B;class R extends w.EditorAction{constructor(){super({id:h.refactorPreviewCommandId,label:t.localize(18,null),alias:"Refactor Preview...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:C}]}})}run(M,z,G){return p(z,G,!0)}}e.RefactorPreview=R;class k extends w.EditorAction{constructor(){super({id:h.sourceActionCommandId,label:t.localize(19,null),alias:"Source Action...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:l.ContextKeyExpr.and(v.EditorContextKeys.writable,S(m.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:C}]}})}run(M,z,G){const te=m.CodeActionCommandArgs.fromUser(G,{kind:m.CodeActionKind.Source,apply:"never"});return I(z,typeof(G==null?void 0:G.kind)=="string"?te.preferred?t.localize(20,null,G.kind):t.localize(21,null,G.kind):te.preferred?t.localize(22,null):t.localize(23,null),{include:m.CodeActionKind.Source.contains(te.kind)?te.kind:m.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:te.preferred},te.apply)}}e.SourceAction=k;class A extends w.EditorAction{constructor(){super({id:h.organizeImportsCommandId,label:t.localize(24,null),alias:"Organize Imports",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,S(m.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(M,z){return I(z,t.localize(25,null),{include:m.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=A;class O extends w.EditorAction{constructor(){super({id:h.fixAllCommandId,label:t.localize(26,null),alias:"Fix All",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,S(m.CodeActionKind.SourceFixAll))})}run(M,z){return I(z,t.localize(27,null),{include:m.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=O;class F extends w.EditorAction{constructor(){super({id:F.Id,label:t.localize(28,null),alias:"Auto Fix...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,S(m.CodeActionKind.QuickFix)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(M,z){return I(z,t.localize(29,null),{include:m.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=F,F.Id="editor.action.autoFix"}),define(ne[702],oe([1,0,12,306]),function(j,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(f.QuickFixController.ID,f.QuickFixController),(0,y.registerEditorAction)(f.QuickFixAction),(0,y.registerEditorAction)(f.RefactorAction),(0,y.registerEditorAction)(f.RefactorPreview),(0,y.registerEditorAction)(f.SourceAction),(0,y.registerEditorAction)(f.OrganizeImportsAction),(0,y.registerEditorAction)(f.AutoFixAction),(0,y.registerEditorAction)(f.FixAllAction),(0,y.registerEditorCommand)(new f.CodeActionCommand)}),define(ne[703],oe([1,0,47,10,21,13,2,19,22,93,12,137,29,11,3,24,162,166,582,99,16,8,70,40,77,35,680,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(k,A,O){this.model=k,this.position=A,this._providerRenameIdx=0,this._providers=O.ordered(k)}hasProvider(){return this._providers.length>0}resolveRenameLocation(k){return Le(this,void 0,void 0,function*(){const A=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const F=this._providers[this._providerRenameIdx];if(!F.resolveRenameLocation)break;const W=yield F.resolveRenameLocation(this.model,this.position,k);if(!!W){if(W.rejectReason){A.push(W.rejectReason);continue}return W}}const O=this.model.getWordAtPosition(this.position);return O?{range:new s.Range(this.position.lineNumber,O.startColumn,this.position.lineNumber,O.endColumn),text:O.word,rejectReason:A.length>0?A.join(`
`):void 0}:{range:s.Range.fromPositions(this.position),text:"",rejectReason:A.length>0?A.join(`
`):void 0}})}provideRenameEdits(k,A){return Le(this,void 0,void 0,function*(){return this._provideRenameEdits(k,this._providerRenameIdx,[],A)})}_provideRenameEdits(k,A,O,F){return Le(this,void 0,void 0,function*(){const W=this._providers[A];if(!W)return{edits:[],rejectReason:O.join(`
`)};const M=yield W.provideRenameEdits(this.model,this.position,k,F);if(M){if(M.rejectReason)return this._provideRenameEdits(k,A+1,O.concat(M.rejectReason),F)}else return this._provideRenameEdits(k,A+1,O.concat(o.localize(0,null)),F);return M})}}function I(R,k,A,O){return Le(this,void 0,void 0,function*(){const F=new E(k,A,R),W=yield F.resolveRenameLocation(N.CancellationToken.None);return(W==null?void 0:W.rejectReason)?{edits:[],rejectReason:W.rejectReason}:F.provideRenameEdits(O,N.CancellationToken.None)})}e.rename=I;let T=class Ri{constructor(k,A,O,F,W,M,z,G){this.editor=k,this._instaService=A,this._notificationService=O,this._bulkEditService=F,this._progressService=W,this._logService=M,this._configService=z,this._languageFeaturesService=G,this._disposableStore=new w.DisposableStore,this._cts=new N.CancellationTokenSource,this._renameInputField=this._disposableStore.add(new f.IdleValue(()=>this._disposableStore.add(this._instaService.createInstance(_.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(k){return k.getContribution(Ri.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var k,A;return Le(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const O=this.editor.getPosition(),F=new E(this.editor.getModel(),O,this._languageFeaturesService.renameProvider);if(!F.hasProvider())return;this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1);let W;try{const ie=F.resolveRenameLocation(this._cts.token);this._progressService.showWhile(ie,250),W=yield ie}catch(ie){(k=a.MessageController.get(this.editor))===null||k===void 0||k.showMessage(ie||o.localize(1,null),O);return}if(!W)return;if(W.rejectReason){(A=a.MessageController.get(this.editor))===null||A===void 0||A.showMessage(W.rejectReason,O);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1,W.range);const M=this.editor.getSelection();let z=0,G=W.text.length;!s.Range.isEmpty(M)&&!s.Range.spansMultipleLines(M)&&s.Range.containsRange(W.range,M)&&(z=Math.max(0,M.startColumn-W.range.startColumn),G=Math.min(W.range.endColumn,M.endColumn)-W.range.startColumn);const te=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),X=yield this._renameInputField.value.getInput(W.range,W.text,z,G,te,this._cts.token);if(typeof X=="boolean"){X&&this.editor.focus();return}this.editor.focus();const J=(0,f.raceCancellation)(F.provideRenameEdits(X.newName,this._cts.token),this._cts.token).then(ie=>Le(this,void 0,void 0,function*(){if(!(!ie||!this.editor.hasModel())){if(ie.rejectReason){this._notificationService.info(ie.rejectReason);return}this.editor.setSelection(s.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(i.ResourceEdit.convert(ie),{editor:this.editor,showPreview:X.wantsPreview,label:o.localize(2,null,W==null?void 0:W.text,X.newName),code:"undoredo.rename",quotableLabel:o.localize(3,null,W==null?void 0:W.text,X.newName),respectAutoSaveConfig:!0}).then(re=>{re.ariaSummary&&(0,y.alert)(o.localize(4,null,W.text,X.newName,re.ariaSummary))}).catch(re=>{this._notificationService.error(o.localize(5,null)),this._logService.error(re)})}}),ie=>{this._notificationService.error(o.localize(6,null)),this._logService.error(ie)});return this._progressService.showWhile(J,250),J})}acceptRenameInput(k){this._renameInputField.value.acceptInput(k)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};T.ID="editor.contrib.renameController",T=De([ge(1,g.IInstantiationService),ge(2,S.INotificationService),ge(3,i.IBulkEditService),ge(4,p.IEditorProgressService),ge(5,m.ILogService),ge(6,d.ITextResourceConfigurationService),ge(7,L.ILanguageFeaturesService)],T);class P extends h.EditorAction{constructor(){super({id:"editor.action.rename",label:o.localize(7,null),alias:"Rename Symbol",precondition:c.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(k,A){const O=k.get(n.ICodeEditorService),[F,W]=Array.isArray(A)&&A||[void 0,void 0];return v.URI.isUri(F)&&t.Position.isIPosition(W)?O.openCodeEditor({resource:F},O.getActiveCodeEditor()).then(M=>{!M||(M.setPosition(W),M.invokeWithinContext(z=>(this.reportTelemetry(z,M),this.run(z,M))))},D.onUnexpectedError):super.runCommand(k,A)}run(k,A){const O=T.get(A);return O?O.run():Promise.resolve()}}e.RenameAction=P,(0,h.registerEditorContribution)(T.ID,T),(0,h.registerEditorAction)(P);const B=h.EditorCommand.bindToContribution(T.get);(0,h.registerEditorCommand)(new B({id:"acceptRenameInput",precondition:_.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:3}})),(0,h.registerEditorCommand)(new B({id:"acceptRenameInputWithPreview",precondition:c.ContextKeyExpr.and(_.CONTEXT_RENAME_INPUT_VISIBLE,c.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:R=>R.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:1024+3}})),(0,h.registerEditorCommand)(new B({id:"cancelRenameInput",precondition:_.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,h.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(R,k,A,...O){const[F]=O;(0,b.assertType)(typeof F=="string");const{renameProvider:W}=R.get(L.ILanguageFeaturesService);return I(W,k,A,F)}),(0,h.registerModelAndPositionCommand)("_executePrepareRename",function(R,k,A){return Le(this,void 0,void 0,function*(){const{renameProvider:O}=R.get(L.ILanguageFeaturesService),W=yield new E(k,A,O).resolveRenameLocation(N.CancellationToken.None);if(W==null?void 0:W.rejectReason)throw new Error(W.rejectReason);return W})}),C.Registry.as(r.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:o.localize(8,null),default:!0,type:"boolean"}}})}),define(ne[704],oe([1,0,18,21,13,12,11,3,23,24,271,485,584,41,26,20,58,19,22]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class r{constructor(_,L){this.index=_,this.ranges=L}mov(_){const L=this.index+(_?1:-1);if(L<0||L>=this.ranges.length)return this;const E=new r(L,this.ranges);return E.ranges[L].equalsRange(this.ranges[this.index])?E.mov(_):E}}let c=class Oi{constructor(_,L){this._editor=_,this._languageFeaturesService=L,this._ignoreSelection=!1}static get(_){return _.getContribution(Oi.ID)}dispose(){var _;(_=this._selectionListener)===null||_===void 0||_.dispose()}run(_){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const L=this._editor.getSelections(),E=this._editor.getModel();if(this._state||(yield p(this._languageFeaturesService.selectionRangeProvider,E,L.map(T=>T.getPosition()),this._editor.getOption(103),f.CancellationToken.None).then(T=>{var P;if(!(!y.isNonEmptyArray(T)||T.length!==L.length)&&!(!this._editor.hasModel()||!y.equals(this._editor.getSelections(),L,(B,R)=>B.equalsSelection(R)))){for(let B=0;B<T.length;B++)T[B]=T[B].filter(R=>R.containsPosition(L[B].getStartPosition())&&R.containsPosition(L[B].getEndPosition())),T[B].unshift(L[B]);this._state=T.map(B=>new r(0,B)),(P=this._selectionListener)===null||P===void 0||P.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var B;this._ignoreSelection||((B=this._selectionListener)===null||B===void 0||B.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(T=>T.mov(_));const I=this._state.map(T=>v.Selection.fromPositions(T.ranges[T.index].getStartPosition(),T.ranges[T.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(I)}finally{this._ignoreSelection=!1}})}};c.ID="editor.contrib.smartSelectController",c=De([ge(1,l.ILanguageFeaturesService)],c);class g extends D.EditorAction{constructor(_,L){super(L);this._forward=_}run(_,L){return Le(this,void 0,void 0,function*(){const E=c.get(L);E&&(yield E.run(this._forward))})}}class m extends g{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:n.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(1,null),order:2}})}}s.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class S extends g{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:n.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(c.ID,c),(0,D.registerEditorAction)(m),(0,D.registerEditorAction)(S);function p(C,_,L,E,I){return Le(this,void 0,void 0,function*(){const T=C.all(_).concat(new i.WordSelectionRangeProvider);T.length===1&&T.unshift(new h.BracketSelectionRangeProvider);const P=[],B=[];for(const R of T)P.push(Promise.resolve(R.provideSelectionRanges(_,L,I)).then(k=>{if(y.isNonEmptyArray(k)&&k.length===L.length)for(let A=0;A<L.length;A++){B[A]||(B[A]=[]);for(const O of k[A])b.Range.isIRange(O.range)&&b.Range.containsPosition(O.range,L[A])&&B[A].push(b.Range.lift(O.range))}},N.onUnexpectedExternalError));return yield Promise.all(P),B.map(R=>{if(R.length===0)return[];R.sort((F,W)=>w.Position.isBefore(F.getStartPosition(),W.getStartPosition())?1:w.Position.isBefore(W.getStartPosition(),F.getStartPosition())||w.Position.isBefore(F.getEndPosition(),W.getEndPosition())?-1:w.Position.isBefore(W.getEndPosition(),F.getEndPosition())?1:0);const k=[];let A;for(const F of R)(!A||b.Range.containsRange(F,A)&&!b.Range.equalsRange(F,A))&&(k.push(F),A=F);if(!E.selectLeadingAndTrailingWhitespace)return k;const O=[k[0]];for(let F=1;F<k.length;F++){const W=k[F-1],M=k[F];if(M.startLineNumber!==W.startLineNumber||M.endLineNumber!==W.endLineNumber){const z=new b.Range(W.startLineNumber,_.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,_.getLineLastNonWhitespaceColumn(W.endLineNumber));z.containsRange(W)&&!z.equalsRange(W)&&M.containsRange(z)&&!M.equalsRange(z)&&O.push(z);const G=new b.Range(W.startLineNumber,1,W.endLineNumber,_.getLineMaxColumn(W.endLineNumber));G.containsRange(W)&&!G.equalsRange(z)&&M.containsRange(G)&&!M.equalsRange(G)&&O.push(G)}O.push(M)}return O})})}e.provideSelectionRanges=p,s.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(C,..._){return Le(this,void 0,void 0,function*(){const[L,E]=_;(0,a.assertType)(o.URI.isUri(L));const I=C.get(l.ILanguageFeaturesService).selectionRangeProvider,T=yield C.get(d.ITextModelService).createModelReference(L);try{return p(I,T.object.textEditorModel,E,{selectLeadingAndTrailingWhitespace:!0},f.CancellationToken.None)}finally{T.dispose()}})})}),define(ne[101],oe([1,0,21,13,64,2,57,19,22,11,3,58,88,587,41,26,16,20,294]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:o.historyNavigationVisible,DetailsVisible:new d.RawContextKey("suggestWidgetDetailsVisible",!1,(0,t.localize)(0,null)),MultipleSuggestions:new d.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,t.localize)(1,null)),MakesTextEdit:new d.RawContextKey("suggestionMakesTextEdit",!0,(0,t.localize)(2,null)),AcceptSuggestionsOnEnter:new d.RawContextKey("acceptSuggestionOnEnter",!0,(0,t.localize)(3,null)),HasInsertAndReplaceRange:new d.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,t.localize)(4,null)),InsertMode:new d.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,t.localize)(5,null)}),CanResolve:new d.RawContextKey("suggestionCanResolve",!1,(0,t.localize)(6,null))},e.suggestWidgetStatusbarMenu=new s.MenuId("suggestWidgetStatusBar");class r{constructor(R,k,A,O){this.position=R,this.completion=k,this.container=A,this.provider=O,this.isInvalid=!1,this.score=N.FuzzyScore.Default,this.distance=0,this.textLabel=typeof k.label=="string"?k.label:k.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=k.sortText&&k.sortText.toLowerCase(),this.filterTextLow=k.filterText&&k.filterText.toLowerCase(),this.extensionId=k.extensionId,h.Range.isIRange(k.range)?(this.editStart=new u.Position(k.range.startLineNumber,k.range.startColumn),this.editInsertEnd=new u.Position(k.range.endLineNumber,k.range.endColumn),this.editReplaceEnd=new u.Position(k.range.endLineNumber,k.range.endColumn),this.isInvalid=this.isInvalid||h.Range.spansMultipleLines(k.range)||k.range.startLineNumber!==R.lineNumber):(this.editStart=new u.Position(k.range.insert.startLineNumber,k.range.insert.startColumn),this.editInsertEnd=new u.Position(k.range.insert.endLineNumber,k.range.insert.endColumn),this.editReplaceEnd=new u.Position(k.range.replace.endLineNumber,k.range.replace.endColumn),this.isInvalid=this.isInvalid||h.Range.spansMultipleLines(k.range.insert)||h.Range.spansMultipleLines(k.range.replace)||k.range.insert.startLineNumber!==R.lineNumber||k.range.replace.startLineNumber!==R.lineNumber||k.range.insert.startColumn!==k.range.replace.startColumn),typeof O.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(R){return Le(this,void 0,void 0,function*(){if(!this._resolveCache){const k=R.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,R)).then(A=>{Object.assign(this.completion,A),this._isResolved=!0,k.dispose()},A=>{(0,f.isCancellationError)(A)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=r;class c{constructor(R=2,k=new Set,A=new Set,O=!0){this.snippetSortOrder=R,this.kindFilter=k,this.providerFilter=A,this.showDeprecated=O}}e.CompletionOptions=c,c.default=new c;let g;function m(){return g}e.getSnippetSuggestSupport=m;class S{constructor(R,k,A,O){this.items=R,this.needsClipboard=k,this.durations=A,this.disposable=O}}e.CompletionItemModel=S;function p(B,R,k,A=c.default,O={triggerKind:0},F=y.CancellationToken.None){return Le(this,void 0,void 0,function*(){const W=new w.StopWatch(!0);k=k.clone();const M=R.getWordAtPosition(k),z=M?new h.Range(k.lineNumber,M.startColumn,k.lineNumber,M.endColumn):h.Range.fromPositions(k),G={replace:z,insert:z.setEndPosition(k.lineNumber,k.column)},te=[],X=new D.DisposableStore,J=[];let ie=!1;const re=(x,U,q)=>{var le,se,Y;let de=!1;if(!U)return de;for(const H of U.suggestions)if(!A.kindFilter.has(H.kind)){if(!A.showDeprecated&&((le=H==null?void 0:H.tags)===null||le===void 0?void 0:le.includes(1)))continue;H.range||(H.range=G),H.sortText||(H.sortText=typeof H.label=="string"?H.label:H.label.label),!ie&&H.insertTextRules&&H.insertTextRules&4&&(ie=n.SnippetParser.guessNeedsClipboard(H.insertText)),te.push(new r(k,H,U,x)),de=!0}return(0,D.isDisposable)(U)&&X.add(U),J.push({providerName:(se=x._debugDisplayName)!==null&&se!==void 0?se:"unknown_provider",elapsedProvider:(Y=U.duration)!==null&&Y!==void 0?Y:-1,elapsedOverall:q.elapsed()}),de},Z=(()=>Le(this,void 0,void 0,function*(){if(!g||A.kindFilter.has(27)||A.providerFilter.size>0&&!A.providerFilter.has(g))return;const x=new w.StopWatch(!0),U=yield g.provideCompletionItems(R,k,O,F);re(g,U,x)}))();for(const x of B.orderedGroups(R)){let U=!1;if(yield Promise.all(x.map(q=>Le(this,void 0,void 0,function*(){if(!(A.providerFilter.size>0&&!A.providerFilter.has(q)))try{const le=new w.StopWatch(!0),se=yield q.provideCompletionItems(R,k,O,F);U=re(q,se,le)||U}catch(le){(0,f.onUnexpectedExternalError)(le)}}))),U||F.isCancellationRequested)break}return yield Z,F.isCancellationRequested?(X.dispose(),Promise.reject(new f.CancellationError)):new S(te.sort(I(A.snippetSortOrder)),ie,{entries:J,elapsed:W.elapsed()},X)})}e.provideSuggestionItems=p;function C(B,R){if(B.sortTextLow&&R.sortTextLow){if(B.sortTextLow<R.sortTextLow)return-1;if(B.sortTextLow>R.sortTextLow)return 1}return B.completion.label<R.completion.label?-1:B.completion.label>R.completion.label?1:B.completion.kind-R.completion.kind}function _(B,R){if(B.completion.kind!==R.completion.kind){if(B.completion.kind===27)return-1;if(R.completion.kind===27)return 1}return C(B,R)}function L(B,R){if(B.completion.kind!==R.completion.kind){if(B.completion.kind===27)return 1;if(R.completion.kind===27)return-1}return C(B,R)}const E=new Map;E.set(0,_),E.set(2,L),E.set(1,C);function I(B){return E.get(B)}e.getSuggestionComparator=I,l.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(B,...R)=>Le(void 0,void 0,void 0,function*(){const[k,A,O,F]=R;(0,b.assertType)(v.URI.isUri(k)),(0,b.assertType)(u.Position.isIPosition(A)),(0,b.assertType)(typeof O=="string"||!O),(0,b.assertType)(typeof F=="number"||!F);const{completionProvider:W}=B.get(a.ILanguageFeaturesService),M=yield B.get(i.ITextModelService).createModelReference(k);try{const z={incomplete:!1,suggestions:[]},G=[],te=yield p(W,M.object.textEditorModel,u.Position.lift(A),void 0,{triggerCharacter:O,triggerKind:O?1:0});for(const X of te.items)G.length<(F??0)&&G.push(X.resolve(y.CancellationToken.None)),z.incomplete=z.incomplete||X.container.incomplete,z.suggestions.push(X.completion);try{return yield Promise.all(G),z}finally{setTimeout(()=>te.disposable.dispose(),100)}}finally{M.dispose()}}));function T(B,R){var k;(k=B.getContribution("editor.contrib.suggestController"))===null||k===void 0||k.triggerSuggest(new Set().add(R),void 0,!0)}e.showSimpleSuggestions=T;class P{static isAllOff(R){return R.other==="off"&&R.comments==="off"&&R.strings==="off"}static isAllOn(R){return R.other==="on"&&R.comments==="on"&&R.strings==="on"}static valueFor(R,k){switch(k){case 1:return R.comments;case 2:return R.strings;default:return R.other}}}e.QuickSuggestionsOptions=P}),define(ne[705],oe([1,0,21,64,55,2,12,29,3,20,158,272,101,295,274,91,8]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class a{constructor(m,S,p,C,_,L){this.range=m,this.insertText=S,this.filterText=p,this.additionalTextEdits=C,this.command=_,this.completion=L}}let o=class extends D.RefCountedDisposable{constructor(m,S,p,C,_,L){super(_.disposable);this.model=m,this.line=S,this.word=p,this.completionModel=C,this._suggestMemoryService=L}canBeReused(m,S,p){return this.model===m&&this.line===S&&this.word.word.length>0&&this.word.startColumn===p.startColumn&&this.word.endColumn<p.endColumn&&this.completionModel.incomplete.size===0}get items(){var m;const S=[],{items:p}=this.completionModel,C=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},p),_=N.Iterable.slice(p,C),L=N.Iterable.slice(p,0,C);let E=5;for(const I of N.Iterable.concat(_,L)){if(I.score===f.FuzzyScore.Default)continue;const T=new v.Range(I.editStart.lineNumber,I.editStart.column,I.editInsertEnd.lineNumber,I.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),P=I.completion.insertTextRules&&I.completion.insertTextRules&h.CompletionItemInsertTextRule.InsertAsSnippet?{snippet:I.completion.insertText}:I.completion.insertText;S.push(new a(T,P,(m=I.filterTextLow)!==null&&m!==void 0?m:I.labelLow,I.completion.additionalTextEdits,I.completion.command,I)),E-->=0&&I.resolve(y.CancellationToken.None)}return S}};o=De([ge(5,t.ISuggestMemoryService)],o);let r=class{constructor(m,S,p,C){this._getEditorOption=m,this._languageFeatureService=S,this._clipboardService=p,this._suggestMemoryService=C}provideInlineCompletions(m,S,p,C){var _;return Le(this,void 0,void 0,function*(){if(p.selectedSuggestionInfo)return;const L=this._getEditorOption(80,m);if(n.QuickSuggestionsOptions.isAllOff(L))return;m.tokenization.tokenizeIfCheap(S.lineNumber);const E=m.tokenization.getLineTokens(S.lineNumber),I=E.getStandardTokenType(E.findTokenIndexAtOffset(Math.max(S.column-1-1,0)));if(n.QuickSuggestionsOptions.valueFor(L,I)!=="inline")return;let T=m.getWordAtPosition(S),P;if((T==null?void 0:T.word)||(P=this._getTriggerCharacterInfo(m,S)),!(T==null?void 0:T.word)&&!P||(T||(T=m.getWordUntilPosition(S)),T.endColumn!==S.column))return;let B;const R=m.getValueInRange(new v.Range(S.lineNumber,1,S.lineNumber,S.column));if(!P&&((_=this._lastResult)===null||_===void 0?void 0:_.canBeReused(m,S.lineNumber,T))){const k=new i.LineContext(R,S.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=k,this._lastResult.acquire(),B=this._lastResult}else{const k=yield(0,n.provideSuggestionItems)(this._languageFeatureService.completionProvider,m,S,new n.CompletionOptions(void 0,void 0,P==null?void 0:P.providers),P&&{triggerKind:1,triggerCharacter:P.ch},C);let A;k.needsClipboard&&(A=yield this._clipboardService.readText());const O=new i.CompletionModel(k.items,S.column,new i.LineContext(R,0),s.WordDistance.None,this._getEditorOption(107,m),this._getEditorOption(102,m),{boostFullMatch:!1,firstMatchCanBeWeak:!1},A);B=new o(m,S.lineNumber,T,O,k,this._suggestMemoryService)}return this._lastResult=B,B})}handleItemDidShow(m,S){S.completion.resolve(y.CancellationToken.None)}freeInlineCompletions(m){m.release()}_getTriggerCharacterInfo(m,S){var p;const C=m.getValueInRange(v.Range.fromPositions({lineNumber:S.lineNumber,column:S.column-1},S)),_=new Set;for(const L of this._languageFeatureService.completionProvider.all(m))((p=L.triggerCharacters)===null||p===void 0?void 0:p.includes(C))&&_.add(L);if(_.size!==0)return{providers:_,ch:C}}};r=De([ge(1,u.ILanguageFeaturesService),ge(2,l.IClipboardService),ge(3,t.ISuggestMemoryService)],r),e.SuggestInlineCompletions=r;let c=class Dt{constructor(m,S,p,C){if(++Dt._counter==1){const _=C.createInstance(r,(L,E)=>{var I;return((I=p.listCodeEditors().find(P=>P.getModel()===E))!==null&&I!==void 0?I:m).getOption(L)});Dt._disposable=S.inlineCompletionsProvider.register("*",_)}}dispose(){var m;--Dt._counter==0&&((m=Dt._disposable)===null||m===void 0||m.dispose(),Dt._disposable=void 0)}};c._counter=0,c=De([ge(1,u.ILanguageFeaturesService),ge(2,b.ICodeEditorService),ge(3,d.IInstantiationService)],c),(0,w.registerEditorContribution)("suggest.inlineCompletionsProvider",c)}),define(ne[307],oe([1,0,47,240,12,594]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class w extends N.EditorAction{constructor(){super({id:w.ID,label:D.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(v,u){const i=!f.TabFocus.getTabFocusMode();f.TabFocus.setTabFocusMode(i),i?(0,y.alert)(D.localize(1,null)):(0,y.alert)(D.localize(2,null))}}e.ToggleTabFocusModeAction=w,w.ID="editor.action.toggleTabFocusMode",(0,N.registerEditorAction)(w)}),define(ne[706],oe([1,0,57,12,595]),function(j,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends f.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:N.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(b,v){if(!v.hasModel())return;const u=v.getModel();u.tokenization.resetTokenization();const h=new y.StopWatch(!0);u.tokenization.forceTokenization(u.getLineCount()),h.stop(),console.log(`tokenization took ${h.elapsed()}`)}}(0,f.registerEditorAction)(D)}),define(ne[707],oe([1,0,2,42,12,29,597,114]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const v="ignoreUnusualLineTerminators";function u(n,t,s){n.setModelProperty(t.uri,v,s)}function h(n,t){return n.getModelProperty(t.uri,v)}let i=class extends y.Disposable{constructor(t,s,l){super();this._editor=t,this._dialogService=s,this._codeEditorService=l,this._config=this._editor.getOption(115),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(115)&&(this._config=this._editor.getOption(115),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Le(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||h(this._codeEditorService,t)===!0||this._editor.getOption(82))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:w.localize(0,null),message:w.localize(1,null),detail:w.localize(2,null,(0,f.basename)(t.uri)),primaryButton:w.localize(3,null),secondaryButton:w.localize(4,null)})).confirmed){u(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())})}};i.ID="editor.contrib.unusualLineTerminatorsDetector",i=De([ge(1,b.IDialogService),ge(2,D.ICodeEditorService)],i),e.UnusualLineTerminatorsDetector=i,(0,N.registerEditorContribution)(i.ID,i)}),define(ne[308],oe([1,0,12,108,34,62,155,130,11,3,23,24,32,599,69,16,287]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class a extends y.EditorCommand{constructor(Z){super(Z);this._inSelectionMode=Z.inSelectionMode,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,x,U){if(!x.hasModel())return;const q=(0,b.getMapForWordSeparators)(x.getOption(118)),le=x.getModel(),Y=x.getSelections().map(de=>{const H=new v.Position(de.positionLineNumber,de.positionColumn),$=this._move(q,le,H,this._wordNavigationType);return this._moveTo(de,$,this._inSelectionMode)});if(le.pushStackElement(),x._getViewModel().setCursorStates("moveWordCommand",3,Y.map(de=>D.CursorState.fromModelSelection(de))),Y.length===1){const de=new v.Position(Y[0].positionLineNumber,Y[0].positionColumn);x.revealPosition(de,0)}}_moveTo(Z,x,U){return U?new h.Selection(Z.selectionStartLineNumber,Z.selectionStartColumn,x.lineNumber,x.column):new h.Selection(x.lineNumber,x.column,x.lineNumber,x.column)}}e.MoveWordCommand=a;class o extends a{_move(Z,x,U,q){return w.WordOperations.moveWordLeft(Z,x,U,q)}}e.WordLeftCommand=o;class r extends a{_move(Z,x,U,q){return w.WordOperations.moveWordRight(Z,x,U,q)}}e.WordRightCommand=r;class c extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=c;class g extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=g;class m extends o{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(s.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=m;class S extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=S;class p extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=p;class C extends o{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(s.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=C;class _ extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Z,x,U,q){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),x,U,q)}}e.CursorWordAccessibilityLeft=_;class L extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Z,x,U,q){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),x,U,q)}}e.CursorWordAccessibilityLeftSelect=L;class E extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class I extends r{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(s.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=I;class T extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class P extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=P;class B extends r{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(s.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=B;class R extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=R;class k extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Z,x,U,q){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),x,U,q)}}e.CursorWordAccessibilityRight=k;class A extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Z,x,U,q){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),x,U,q)}}e.CursorWordAccessibilityRightSelect=A;class O extends y.EditorCommand{constructor(Z){super(Z);this._whitespaceHeuristics=Z.whitespaceHeuristics,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,x,U){const q=Z.get(n.ILanguageConfigurationService);if(!x.hasModel())return;const le=(0,b.getMapForWordSeparators)(x.getOption(118)),se=x.getModel(),Y=x.getSelections(),de=x.getOption(5),H=x.getOption(8),$=q.getLanguageConfiguration(se.getLanguageId()).getAutoClosingPairs(),K=x._getViewModel(),V=Y.map(Q=>{const ee=this._delete({wordSeparators:le,model:se,selection:Q,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:x.getOption(6),autoClosingBrackets:de,autoClosingQuotes:H,autoClosingPairs:$,autoClosedCharacters:K.getCursorAutoClosedCharacters()},this._wordNavigationType);return new f.ReplaceCommand(ee,"")});x.pushUndoStop(),x.executeCommands(this.id,V),x.pushUndoStop()}}e.DeleteWordCommand=O;class F extends O{_delete(Z,x){const U=w.WordOperations.deleteWordLeft(Z,x);return U||new u.Range(1,1,1,1)}}e.DeleteWordLeftCommand=F;class W extends O{_delete(Z,x){const U=w.WordOperations.deleteWordRight(Z,x);if(U)return U;const q=Z.model.getLineCount(),le=Z.model.getLineMaxColumn(q);return new u.Range(q,le,q,le)}}e.DeleteWordRightCommand=W;class M extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartLeft=M;class z extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndLeft=z;class G extends F{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=G;class te extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartRight=te;class X extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndRight=X;class J extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=J;class ie extends y.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:i.EditorContextKeys.writable,label:t.localize(0,null),alias:"Delete Word"})}run(Z,x,U){if(!x.hasModel())return;const q=(0,b.getMapForWordSeparators)(x.getOption(118)),le=x.getModel(),Y=x.getSelections().map(de=>{const H=w.WordOperations.deleteInsideWord(q,le,de);return new f.ReplaceCommand(H,"")});x.pushUndoStop(),x.executeCommands(this.id,Y),x.pushUndoStop()}}e.DeleteInsideWord=ie,(0,y.registerEditorCommand)(new c),(0,y.registerEditorCommand)(new g),(0,y.registerEditorCommand)(new m),(0,y.registerEditorCommand)(new S),(0,y.registerEditorCommand)(new p),(0,y.registerEditorCommand)(new C),(0,y.registerEditorCommand)(new E),(0,y.registerEditorCommand)(new I),(0,y.registerEditorCommand)(new T),(0,y.registerEditorCommand)(new P),(0,y.registerEditorCommand)(new B),(0,y.registerEditorCommand)(new R),(0,y.registerEditorCommand)(new _),(0,y.registerEditorCommand)(new L),(0,y.registerEditorCommand)(new k),(0,y.registerEditorCommand)(new A),(0,y.registerEditorCommand)(new M),(0,y.registerEditorCommand)(new z),(0,y.registerEditorCommand)(new G),(0,y.registerEditorCommand)(new te),(0,y.registerEditorCommand)(new X),(0,y.registerEditorCommand)(new J),(0,y.registerEditorAction)(ie)}),define(ne[708],oe([1,0,12,155,3,24,308,26]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class v extends w.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(a,o){const r=f.WordPartOperations.deleteWordPartLeft(a);return r||new N.Range(1,1,1,1)}}e.DeleteWordPartLeft=v;class u extends w.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(a,o){const r=f.WordPartOperations.deleteWordPartRight(a);if(r)return r;const c=a.model.getLineCount(),g=a.model.getLineMaxColumn(c);return new N.Range(c,g,c,g)}}e.DeleteWordPartRight=u;class h extends w.MoveWordCommand{_move(a,o,r,c){return f.WordPartOperations.moveWordPartLeft(a,o,r)}}e.WordPartLeftCommand=h;class i extends h{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=i,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class n extends h{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=n,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class t extends w.MoveWordCommand{_move(a,o,r,c){return f.WordPartOperations.moveWordPartRight(a,o,r)}}e.WordPartRightCommand=t;class s extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=s;class l extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=l,(0,y.registerEditorCommand)(new v),(0,y.registerEditorCommand)(new u),(0,y.registerEditorCommand)(new i),(0,y.registerEditorCommand)(new n),(0,y.registerEditorCommand)(new s),(0,y.registerEditorCommand)(new l)}),define(ne[709],oe([1,0,7,33,179,47,66,2,17,9,22,12,24,307,16,8,43,45,25,15,76,407]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const g=new s.RawContextKey("accessibilityHelpWidgetVisible",!1);let m=class Fi extends b.Disposable{constructor(E,I){super();this._editor=E,this._widget=this._register(I.createInstance(p,this._editor))}static get(E){return E.getContribution(Fi.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};m.ID="editor.contrib.accessibilityHelpController",m=De([ge(1,l.IInstantiationService)],m);function S(L,E){return!L||L.length===0?c.AccessibilityHelpNLS.noSelection:L.length===1?E?u.format(c.AccessibilityHelpNLS.singleSelectionRange,L[0].positionLineNumber,L[0].positionColumn,E):u.format(c.AccessibilityHelpNLS.singleSelection,L[0].positionLineNumber,L[0].positionColumn):E?u.format(c.AccessibilityHelpNLS.multiSelectionRange,L.length,E):L.length>0?u.format(c.AccessibilityHelpNLS.multiSelection,L.length):""}let p=class Ut extends w.Widget{constructor(E,I,T,P){super();this._contextKeyService=I,this._keybindingService=T,this._openerService=P,this._editor=E,this._isVisibleKey=g.bindTo(this._contextKeyService),this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,f.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(y.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",B=>{if(!!this._isVisible&&(B.equals(2048|35)&&((0,D.alert)(c.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),y.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),B.preventDefault(),B.stopPropagation()),B.equals(2048|38))){(0,D.alert)(c.AccessibilityHelpNLS.openingDocs);let R=this._editor.getRawOptions().accessibilityHelpUrl;typeof R=="undefined"&&(R="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(h.URI.parse(R)),B.preventDefault(),B.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ut.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(E,I,T){const P=this._keybindingService.lookupKeybinding(E);return P?u.format(I,P.getAriaLabel()):u.format(T,E)}_buildContent(){const E=this._editor.getOptions(),I=this._editor.getSelections();let T=0;if(I){const k=this._editor.getModel();k&&I.forEach(A=>{T+=k.getValueLengthInRange(A)})}let P=S(I,T);E.get(55)?E.get(82)?P+=c.AccessibilityHelpNLS.readonlyDiffEditor:P+=c.AccessibilityHelpNLS.editableDiffEditor:E.get(82)?P+=c.AccessibilityHelpNLS.readonlyEditor:P+=c.AccessibilityHelpNLS.editableEditor;const B=v.isMacintosh?c.AccessibilityHelpNLS.changeConfigToOnMac:c.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(E.get(2)){case 0:P+=`

 - `+B;break;case 2:P+=`

 - `+c.AccessibilityHelpNLS.auto_on;break;case 1:P+=`

 - `+c.AccessibilityHelpNLS.auto_off,P+=" "+B;break}E.get(131)?P+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,c.AccessibilityHelpNLS.tabFocusModeOnMsg,c.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):P+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,c.AccessibilityHelpNLS.tabFocusModeOffMsg,c.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const R=v.isMacintosh?c.AccessibilityHelpNLS.openDocMac:c.AccessibilityHelpNLS.openDocWinLinux;P+=`

 - `+R,P+=`

`+c.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,N.renderFormattedText)(P)),this._contentDomNode.domNode.setAttribute("aria-label",P)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,y.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const E=this._editor.getLayoutInfo(),I=Math.max(5,Math.min(Ut.WIDTH,E.width-40)),T=Math.max(5,Math.min(Ut.HEIGHT,E.height-40));this._domNode.setWidth(I),this._domNode.setHeight(T);const P=Math.round((E.height-T)/2);this._domNode.setTop(P);const B=Math.round((E.width-I)/2);this._domNode.setLeft(B)}};p.ID="editor.contrib.accessibilityHelpWidget",p.WIDTH=500,p.HEIGHT=300,p=De([ge(1,s.IContextKeyService),ge(2,d.IKeybindingService),ge(3,a.IOpenerService)],p);class C extends i.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:c.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(E,I){const T=m.get(I);T&&T.show()}}(0,i.registerEditorContribution)(m.ID,m),(0,i.registerEditorAction)(C);const _=i.EditorCommand.bindToContribution(m.get);(0,i.registerEditorCommand)(new _({id:"closeAccessibilityHelp",precondition:g,handler:L=>L.hide(),kbOpts:{weight:100+100,kbExpr:n.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,r.registerThemingParticipant)((L,E)=>{const I=L.getColor(o.editorWidgetBackground);I&&E.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${I}; }`);const T=L.getColor(o.editorWidgetForeground);T&&E.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${T}; }`);const P=L.getColor(o.widgetShadow);P&&E.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${P}; }`);const B=L.getColor(o.contrastBorder);B&&E.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${B}; }`)})}),define(ne[710],oe([1,0,7,2,12,17,408]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class w extends f.Disposable{constructor(u){super();this.editor=u,this.widget=null,D.isIOS&&(this._register(u.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const u=!this.editor.getOption(82);!this.widget&&u?this.widget=new b(this.editor):this.widget&&!u&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=w,w.ID="editor.contrib.iPadShowKeyboard";class b extends f.Disposable{constructor(u){super();this.editor=u,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(y.addDisposableListener(this._domNode,"touchstart",h=>{this.editor.focus()})),this._register(y.addDisposableListener(this._domNode,"focus",h=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}b.ID="editor.contrib.ShowKeyboardWidget",(0,N.registerEditorContribution)(w.ID,w)}),define(ne[711],oe([1,0,7,31,2,12,28,109,132,38,113,25,15,76,56,409]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class Bi extends N.Disposable{constructor(g,m,S){super();this._editor=g,this._languageService=S,this._widget=null,this._register(this._editor.onDidChangeModel(p=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(p=>this.stop())),this._register(w.TokenizationRegistry.onDidChange(p=>this.stop())),this._register(this._editor.onKeyUp(p=>p.keyCode===9&&this.stop()))}static get(g){return g.getContribution(Bi.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new r(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};l.ID="editor.contrib.inspectTokens",l=De([ge(1,h.IStandaloneThemeService),ge(2,u.ILanguageService)],l);class d extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:t.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(g,m){const S=l.get(m);S&&S.launch()}}function a(c){let g="";for(let m=0,S=c.length;m<S;m++){const p=c.charCodeAt(m);switch(p){case 9:g+="\u2192";break;case 32:g+="\xB7";break;default:g+=String.fromCharCode(p)}}return g}function o(c,g){const m=w.TokenizationRegistry.get(g);if(m)return m;const S=c.encodeLanguageId(g);return{getInitialState:()=>v.NullState,tokenize:(p,C,_)=>(0,v.nullTokenize)(g,_),tokenizeEncoded:(p,C,_)=>(0,v.nullTokenizeEncoded)(S,_)}}class r extends N.Disposable{constructor(g,m){super();this.allowEditorOverflow=!0,this._editor=g,this._languageService=m,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=o(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(S=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return r._ID}_compute(g){const m=this._getTokensAtLine(g.lineNumber);let S=0;for(let E=m.tokens1.length-1;E>=0;E--){const I=m.tokens1[E];if(g.column-1>=I.offset){S=E;break}}let p=0;for(let E=m.tokens2.length>>>1;E>=0;E--)if(g.column-1>=m.tokens2[E<<1]){p=E;break}const C=this._model.getLineContent(g.lineNumber);let _="";if(S<m.tokens1.length){const E=m.tokens1[S].offset,I=S+1<m.tokens1.length?m.tokens1[S+1].offset:C.length;_=C.substring(E,I)}(0,y.reset)(this._domNode,(0,y.$)("h2.tm-token",void 0,a(_),(0,y.$)("span.tm-token-length",void 0,`${_.length} ${_.length===1?"char":"chars"}`))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const L=(p<<1)+1<m.tokens2.length?this._decodeMetadata(m.tokens2[(p<<1)+1]):null;(0,y.append)(this._domNode,(0,y.$)("table.tm-metadata-table",void 0,(0,y.$)("tbody",void 0,(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"language"),(0,y.$)("td.tm-metadata-value",void 0,`${L?L.languageId:"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"token type"),(0,y.$)("td.tm-metadata-value",void 0,`${L?this._tokenTypeToString(L.tokenType):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"font style"),(0,y.$)("td.tm-metadata-value",void 0,`${L?this._fontStyleToString(L.fontStyle):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"foreground"),(0,y.$)("td.tm-metadata-value",void 0,`${L?f.Color.Format.CSS.formatHex(L.foreground):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"background"),(0,y.$)("td.tm-metadata-value",void 0,`${L?f.Color.Format.CSS.formatHex(L.background):"-?-"}`))))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator")),S<m.tokens1.length&&(0,y.append)(this._domNode,(0,y.$)("span.tm-token-type",void 0,m.tokens1[S].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(g){const m=w.TokenizationRegistry.getColorMap(),S=b.TokenMetadata.getLanguageId(g),p=b.TokenMetadata.getTokenType(g),C=b.TokenMetadata.getFontStyle(g),_=b.TokenMetadata.getForeground(g),L=b.TokenMetadata.getBackground(g);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(S),tokenType:p,fontStyle:C,foreground:m[_],background:m[L]}}_tokenTypeToString(g){switch(g){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(g){let m="";return g&1&&(m+="italic "),g&2&&(m+="bold "),g&4&&(m+="underline "),g&8&&(m+="strikethrough "),m.length===0&&(m="---"),m}_getTokensAtLine(g){const m=this._getStateBeforeLine(g),S=this._tokenizationSupport.tokenize(this._model.getLineContent(g),!0,m),p=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(g),!0,m);return{startState:m,tokens1:S.tokens,tokens2:p.tokens,endState:S.endState}}_getStateBeforeLine(g){let m=this._tokenizationSupport.getInitialState();for(let S=1;S<g;S++)m=this._tokenizationSupport.tokenize(this._model.getLineContent(S),!0,m).endState;return m}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}r._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(l.ID,l),(0,D.registerEditorAction)(d),(0,n.registerThemingParticipant)((c,g)=>{const m=c.getColor(i.editorHoverBorder);if(m){const C=(0,s.isHighContrast)(c.type)?2:1;g.addRule(`.monaco-editor .tokens-inspect-widget { border: ${C}px solid ${m}; }`),g.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${m}; }`)}const S=c.getColor(i.editorHoverBackground);S&&g.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${S}; }`);const p=c.getColor(i.editorHoverForeground);p&&g.addRule(`.monaco-editor .tokens-inspect-widget { color: ${p}; }`)})}),define(ne[712],oe([1,0,35,117,76,29,656,19,8,43,26,92,114,12,24,84]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let d=class extends w.AbstractEditorCommandsQuickAccessProvider{constructor(r,c,g,m,S,p){super({showAlias:!1},r,g,m,S,p);this.codeEditorService=c}get activeTextEditorControl(){return(0,b.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Le(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};d=De([ge(0,v.IInstantiationService),ge(1,D.ICodeEditorService),ge(2,u.IKeybindingService),ge(3,h.ICommandService),ge(4,i.ITelemetryService),ge(5,n.IDialogService)],d),e.StandaloneCommandsQuickAccessProvider=d;class a extends t.EditorAction{constructor(){super({id:a.ID,label:N.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(r){r.get(l.IQuickInputService).quickAccess.show(d.PREFIX)}}e.GotoLineAction=a,a.ID="editor.action.quickCommand",(0,t.registerEditorAction)(a),y.Registry.as(f.Extensions.Quickaccess).registerQuickAccessProvider({ctor:d,prefix:d.PREFIX,helpEntries:[{description:N.QuickCommandNLS.quickCommandHelp,commandId:a.ID}]})}),define(ne[713],oe([1,0,678,35,117,29,19,76,4,12,24,84]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let n=class extends y.AbstractGotoLineQuickAccessProvider{constructor(l){super();this.editorService=l,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,w.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};n=De([ge(0,D.ICodeEditorService)],n),e.StandaloneGotoLineQuickAccessProvider=n;class t extends u.EditorAction{constructor(){super({id:t.ID,label:b.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(l){l.get(i.IQuickInputService).quickAccess.show(n.PREFIX)}}e.GotoLineAction=t,t.ID="editor.action.gotoLine",(0,u.registerEditorAction)(t),f.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:n.PREFIX,helpEntries:[{description:b.GoToLineNLS.gotoLineActionLabel,commandId:t.ID}]})}),define(ne[714],oe([1,0,679,35,117,29,19,76,4,12,24,84,210,20,147,301]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let s=class extends y.AbstractGotoSymbolQuickAccessProvider{constructor(a,o,r){super(o,r);this.editorService=a,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,w.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};s=De([ge(0,D.ICodeEditorService),ge(1,t.ILanguageFeaturesService),ge(2,n.IOutlineModelService)],s),e.StandaloneGotoSymbolQuickAccessProvider=s;class l extends u.EditorAction{constructor(){super({id:l.ID,label:b.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:h.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(a){a.get(i.IQuickInputService).quickAccess.show(y.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoSymbolAction=l,l.ID="editor.action.quickOutline",(0,u.registerEditorAction)(l),f.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:b.QuickOutlineNLS.quickOutlineActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:l.ID},{description:b.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(ne[715],oe([1,0,12,113,76,56]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends y.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:N.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(v,u){const h=v.get(f.IStandaloneThemeService);(0,D.isHighContrast)(h.getColorTheme().type)?(h.setTheme(this._originalThemeName||"vs"),this._originalThemeName=null):(this._originalThemeName=h.getColorTheme().themeName,h.setTheme("hc-black"))}}(0,y.registerEditorAction)(w)}),define(ne[217],oe([1,0,7,46,135,501,49,205,2,17,600,41,16,82,8,43,40,85,15,56,412]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function c(L,E,I,T,P,B,R){const k=L.getActions(E);return m(k,I,!1,typeof T=="string"?O=>O===T:T,P,B,R),g(k)}e.createAndFillInActionBarActions=c;function g(L){const E=new v.DisposableStore;for(const[,I]of L)for(const T of I)E.add(T);return E}function m(L,E,I,T=k=>k==="navigation",P=Number.MAX_SAFE_INTEGER,B=()=>!1,R=!1){let k,A;Array.isArray(E)?(k=E,A=E):(k=E.primary,A=E.secondary);const O=new Set;for(const[F,W]of L){let M;T(F)?(M=k,M.length>0&&R&&M.push(new w.Separator)):(M=A,M.length>0&&M.push(new w.Separator));for(let z of W){I&&(z=z instanceof i.MenuItemAction&&z.alt?z.alt:z);const G=M.push(z);z instanceof w.SubmenuAction&&O.add({group:F,action:z,index:G-1})}}for(const{group:F,action:W,index:M}of O){const z=T(F)?k:A,G=W.actions;(G.length<=1||z.length+G.length-2<=P)&&B(W,F,z.length)&&z.splice(M,1,...G)}if(k!==A&&k.length>P){const F=k.splice(P,k.length-P);A.unshift(...F,new w.Separator)}}let S=class extends N.ActionViewItem{constructor(E,I,T,P,B,R){super(void 0,E,{icon:!!(E.class||E.item.icon),label:!E.class&&!E.item.icon,draggable:I==null?void 0:I.draggable,keybinding:I==null?void 0:I.keybinding,hoverDelegate:I==null?void 0:I.hoverDelegate});this._keybindingService=T,this._notificationService=P,this._contextKeyService=B,this._themeService=R,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new v.MutableDisposable),this._altKey=y.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(E){return Le(this,void 0,void 0,function*(){E.preventDefault(),E.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(I){this._notificationService.error(I)}})}render(E){super.render(E),E.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let I=!1,T=this._altKey.keyStatus.altKey||(u.isWindows||u.isLinux)&&this._altKey.keyStatus.shiftKey;const P=()=>{var B;const R=I&&T&&!!((B=this._commandAction.alt)===null||B===void 0?void 0:B.enabled);R!==this._wantsAltCommand&&(this._wantsAltCommand=R,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(B=>{T=B.altKey||(u.isWindows||u.isLinux)&&B.shiftKey,P()})),this._register((0,y.addDisposableListener)(E,"mouseleave",B=>{I=!1,P()})),this._register((0,y.addDisposableListener)(E,"mouseenter",B=>{I=!0,P()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){var E;const I=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),T=I&&I.getLabel(),P=this._commandAction.tooltip||this._commandAction.label;let B=T?(0,h.localize)(0,null,P,T):P;if(!this._wantsAltCommand&&((E=this._menuItemAction.alt)===null||E===void 0?void 0:E.enabled)){const R=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,k=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),A=k&&k.getLabel(),O=A?(0,h.localize)(1,null,R,A):R;B=(0,h.localize)(2,null,B,b.UILabelProvider.modifierLabels[u.OS].altKey,O)}this._applyUpdateTooltip(B)}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(E){var I;this._itemClassDispose.value=void 0;const{element:T,label:P}=this;if(!T||!P)return;const B=this._commandAction.checked&&((I=E.toggled)===null||I===void 0?void 0:I.icon)?E.toggled.icon:E.icon;if(!!B)if(o.ThemeIcon.isThemeIcon(B)){const R=o.ThemeIcon.asClassNameArray(B);P.classList.add(...R),this._itemClassDispose.value=(0,v.toDisposable)(()=>{P.classList.remove(...R)})}else P.style.backgroundImage=(0,r.isDark)(this._themeService.getColorTheme().type)?(0,y.asCSSUrl)(B.dark):(0,y.asCSSUrl)(B.light),P.classList.add("icon"),this._itemClassDispose.value=(0,v.combinedDisposable)((0,v.toDisposable)(()=>{P.style.backgroundImage="",P.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};S=De([ge(2,l.IKeybindingService),ge(3,d.INotificationService),ge(4,n.IContextKeyService),ge(5,o.IThemeService)],S),e.MenuEntryActionViewItem=S;let p=class extends D.DropdownMenuActionViewItem{constructor(E,I,T,P){var B,R;const k=Object.assign({},I??Object.create(null),{menuAsChild:(B=I==null?void 0:I.menuAsChild)!==null&&B!==void 0?B:!1,classNames:(R=I==null?void 0:I.classNames)!==null&&R!==void 0?R:o.ThemeIcon.isThemeIcon(E.item.icon)?o.ThemeIcon.asClassName(E.item.icon):void 0});super(E,{getActions:()=>E.actions},T,k);this._themeService=P}render(E){if(super.render(E),this.element){E.classList.add("menu-entry");const{icon:I}=this._action.item;if(I&&!o.ThemeIcon.isThemeIcon(I)){this.element.classList.add("icon");const T=()=>{this.element&&(this.element.style.backgroundImage=(0,r.isDark)(this._themeService.getColorTheme().type)?(0,y.asCSSUrl)(I.dark):(0,y.asCSSUrl)(I.light))};T(),this._register(this._themeService.onDidColorThemeChange(()=>{T()}))}}}};p=De([ge(2,t.IContextMenuService),ge(3,o.IThemeService)],p),e.SubmenuEntryActionViewItem=p;let C=class extends N.BaseActionViewItem{constructor(E,I,T,P,B,R,k,A){var O,F,W;super(null,E);this._keybindingService=T,this._notificationService=P,this._contextMenuService=B,this._menuService=R,this._instaService=k,this._storageService=A,this._container=null,this._options=I,this._storageKey=`${E.item.submenu._debugName}_lastActionId`;let M;const z=A.get(this._storageKey,1);z&&(M=E.actions.find(te=>z===te.id)),M||(M=E.actions[0]),this._defaultAction=this._instaService.createInstance(S,M,{keybinding:this._getDefaultActionKeybindingLabel(M)});const G=Object.assign({},I??Object.create(null),{menuAsChild:(O=I==null?void 0:I.menuAsChild)!==null&&O!==void 0?O:!0,classNames:(F=I==null?void 0:I.classNames)!==null&&F!==void 0?F:["codicon","codicon-chevron-down"],actionRunner:(W=I==null?void 0:I.actionRunner)!==null&&W!==void 0?W:new w.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(E,E.actions,this._contextMenuService,G),this._dropdown.actionRunner.onDidRun(te=>{te.action instanceof i.MenuItemAction&&this.update(te.action)})}update(E){this._storageService.store(this._storageKey,E.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(S,E,{keybinding:this._getDefaultActionKeybindingLabel(E)}),this._defaultAction.actionRunner=new class extends w.ActionRunner{runAction(I,T){return Le(this,void 0,void 0,function*(){yield I.run(void 0)})}},this._container&&this._defaultAction.render((0,y.prepend)(this._container,(0,y.$)(".action-container")))}_getDefaultActionKeybindingLabel(E){var I;let T;if((I=this._options)===null||I===void 0?void 0:I.renderKeybindingWithDefaultActionLabel){const P=this._keybindingService.lookupKeybinding(E.id);P&&(T=`(${P.getLabel()})`)}return T}setActionContext(E){super.setActionContext(E),this._defaultAction.setActionContext(E),this._dropdown.setActionContext(E)}render(E){this._container=E,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const I=(0,y.$)(".action-container");this._defaultAction.render((0,y.append)(this._container,I)),this._register((0,y.addDisposableListener)(I,y.EventType.KEY_DOWN,P=>{const B=new f.StandardKeyboardEvent(P);B.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),B.stopPropagation())}));const T=(0,y.$)(".dropdown-action-container");this._dropdown.render((0,y.append)(this._container,T)),this._register((0,y.addDisposableListener)(T,y.EventType.KEY_DOWN,P=>{var B;const R=new f.StandardKeyboardEvent(P);R.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(B=this._defaultAction.element)===null||B===void 0||B.focus(),R.stopPropagation())}))}focus(E){E?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(E){E?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};C=De([ge(2,l.IKeybindingService),ge(3,d.INotificationService),ge(4,t.IContextMenuService),ge(5,i.IMenuService),ge(6,s.IInstantiationService),ge(7,a.IStorageService)],C),e.DropdownWithDefaultActionViewItem=C;function _(L,E,I){return E instanceof i.MenuItemAction?L.createInstance(S,E,I):E instanceof i.SubmenuItemAction?E.item.rememberDefaultAction?L.createInstance(C,E,I):L.createInstance(p,E,I):void 0}e.createActionViewItem=_}),define(ne[716],oe([1,0,7,89,2,101,592,217,41,16,8]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class i extends b.MenuEntryActionViewItem{updateLabel(){const s=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!s)return super.updateLabel();this.label&&(this.label.textContent=(0,w.localize)(0,null,this._action.label,i.symbolPrintEnter(s)))}static symbolPrintEnter(s){var l;return(l=s.getLabel())===null||l===void 0?void 0:l.replace(/\benter\b/gi,"\u23CE")}}let n=class{constructor(s,l,d,a){this._menuService=d,this._contextKeyService=a,this._menuDisposables=new N.DisposableStore,this.element=y.append(s,y.$(".suggest-status-bar"));const o=r=>r instanceof v.MenuItemAction?l.createInstance(i,r,void 0):void 0;this._leftActions=new f.ActionBar(this.element,{actionViewItemProvider:o}),this._rightActions=new f.ActionBar(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const s=this._menuService.createMenu(D.suggestWidgetStatusbarMenu,this._contextKeyService),l=()=>{const d=[],a=[];for(const[o,r]of s.getActions())o==="left"?d.push(...r):a.push(...r);this._leftActions.clear(),this._leftActions.push(d),this._rightActions.clear(),this._rightActions.push(a)};this._menuDisposables.add(s.onDidChange(()=>l())),this._menuDisposables.add(s)}hide(){this._menuDisposables.clear()}};n=De([ge(1,h.IInstantiationService),ge(2,v.IMenuService),ge(3,u.IContextKeyService)],n),e.SuggestWidgetStatus=n}),define(ne[717],oe([1,0,10,4,2,41,26,16]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let v=class{constructor(i){this._commandService=i}createMenu(i,n,t){return new u(i,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},t),this._commandService,n,this)}};v=De([ge(0,w.ICommandService)],v),e.MenuService=v;let u=class It{constructor(i,n,t,s,l){this._id=i,this._options=n,this._commandService=t,this._contextKeyService=s,this._menuService=l,this._disposables=new N.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const d=new y.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},n.eventDebounceDelay);this._disposables.add(d),this._disposables.add(D.MenuRegistry.onDidChangeMenu(r=>{r.has(i)&&d.schedule()}));const a=this._disposables.add(new N.DisposableStore),o=()=>{const r=new y.RunOnceScheduler(()=>this._onDidChange.fire(this),n.eventDebounceDelay);a.add(r),a.add(s.onDidChangeContext(c=>{c.affectsSome(this._contextKeys)&&r.schedule()}))};this._onDidChange=new f.Emitter({onFirstListenerAdd:o,onLastListenerRemove:a.clear.bind(a)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const i=D.MenuRegistry.getMenuItems(this._id);let n;i.sort(It._compareMenuItems);for(const t of i){const s=t.group||"";(!n||n[0]!==s)&&(n=[s,[]],this._menuGroups.push(n)),n[1].push(t),this._collectContextKeys(t)}}_collectContextKeys(i){if(It._fillInKbExprKeys(i.when,this._contextKeys),(0,D.isIMenuItem)(i)){if(i.command.precondition&&It._fillInKbExprKeys(i.command.precondition,this._contextKeys),i.command.toggled){const n=i.command.toggled.condition||i.command.toggled;It._fillInKbExprKeys(n,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&D.MenuRegistry.getMenuItems(i.submenu).forEach(this._collectContextKeys,this)}getActions(i){const n=[];for(const t of this._menuGroups){const[s,l]=t,d=[];for(const a of l)if(this._contextKeyService.contextMatchesRules(a.when)){const o=(0,D.isIMenuItem)(a)?new D.MenuItemAction(a.command,a.alt,i,this._contextKeyService,this._commandService):new D.SubmenuItemAction(a,this._menuService,this._contextKeyService,i);d.push(o)}d.length>0&&n.push([s,d])}return n}static _fillInKbExprKeys(i,n){if(i)for(const t of i.keys())n.add(t)}static _compareMenuItems(i,n){const t=i.group,s=n.group;if(t!==s){if(t){if(!s)return-1}else return 1;if(t==="navigation")return-1;if(s==="navigation")return 1;const a=t.localeCompare(s);if(a!==0)return a}const l=i.order||0,d=n.order||0;return l<d?-1:l>d?1:It._compareTitles((0,D.isIMenuItem)(i)?i.command.title:i.title,(0,D.isIMenuItem)(n)?n.command.title:n.title)}static _compareTitles(i,n){const t=typeof i=="string"?i:i.original,s=typeof n=="string"?n:n.original;return t.localeCompare(s)}};u=De([ge(2,w.ICommandService),ge(3,b.IContextKeyService),ge(4,D.IMenuService)],u)}),define(ne[718],oe([1,0,7,4,2,43,40,92,15,657,82]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let i=class extends N.Disposable{constructor(t,s,l,d,a){super();this._onDidShowContextMenu=new f.Emitter,this._onDidHideContextMenu=new f.Emitter,this.contextMenuHandler=new u.ContextMenuHandler(l,t,s,d,a)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:s=>{var l;(l=t.onHide)===null||l===void 0||l.call(t,s),this._onDidHideContextMenu.fire()}})),y.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};i=De([ge(0,b.ITelemetryService),ge(1,w.INotificationService),ge(2,h.IContextViewService),ge(3,D.IKeybindingService),ge(4,v.IThemeService)],i),e.ContextMenuService=i}),define(ne[167],oe([1,0,7,361,127,364,498,497,278,4,2,607,69,30,99,16,287,8,43,35,140,15]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,a.createDecorator)("listService");let m=class{constructor($){this._themeService=$,this.disposables=new h.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList($){var K,V;$!==this._lastFocusedWidget&&((K=this._lastFocusedWidget)===null||K===void 0||K.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=$,(V=this._lastFocusedWidget)===null||V===void 0||V.getHTMLElement().classList.add("last-focused"))}register($,K){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const Q=new N.DefaultStyleController((0,y.createStyleSheet)(),"");this.disposables.add((0,c.attachListStyler)(Q,this._themeService))}if(this.lists.some(Q=>Q.widget===$))throw new Error("Cannot register the same widget multiple times");const V={widget:$,extraContextKeys:K};return this.lists.push(V),$.getHTMLElement()===document.activeElement&&this.setLastFocusedList($),(0,h.combinedDisposable)($.onDidFocus(()=>this.setLastFocusedList($)),(0,h.toDisposable)(()=>this.lists.splice(this.lists.indexOf(V),1)),$.onDidDispose(()=>{this.lists=this.lists.filter(Q=>Q!==V),this._lastFocusedWidget===$&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};m=De([ge(0,g.IThemeService)],m),e.ListService=m;const S=new l.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new l.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=l.ContextKeyExpr.and(S,l.ContextKeyExpr.not(d.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new l.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new l.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new l.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new l.RawContextKey("listSelectionNavigation",!1),e.WorkbenchTreeElementCanCollapse=new l.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new l.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new l.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new l.RawContextKey("treeElementHasChild",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function p(H,$){const K=H.createScoped($.getHTMLElement());return S.bindTo(K),K}const C="workbench.list.multiSelectModifier",_="workbench.list.openMode",L="workbench.list.horizontalScrolling",E="workbench.list.keyboardNavigation",I="workbench.list.automaticKeyboardNavigation",T="workbench.tree.indent",P="workbench.tree.renderIndentGuides",B="workbench.list.smoothScrolling",R="workbench.list.mouseWheelScrollSensitivity",k="workbench.list.fastScrollSensitivity",A="workbench.tree.expandMode";function O(H){return H.getValue(C)==="alt"}class F extends h.Disposable{constructor($){super();this.configurationService=$,this.useAltAsMultipleSelectionModifier=O($),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration($=>{$.affectsConfiguration(C)&&(this.useAltAsMultipleSelectionModifier=O(this.configurationService))}))}isSelectionSingleChangeEvent($){return this.useAltAsMultipleSelectionModifier?$.browserEvent.altKey:(0,N.isSelectionSingleChangeEvent)($)}isSelectionRangeChangeEvent($){return(0,N.isSelectionRangeChangeEvent)($)}}function W(H,$,K){var V;const Q=new h.DisposableStore;return[Object.assign(Object.assign({},H),{keyboardNavigationDelegate:{mightProducePrintableCharacter(ae){return K.mightProducePrintableCharacter(ae)}},smoothScrolling:Boolean($.getValue(B)),mouseWheelScrollSensitivity:$.getValue(R),fastScrollSensitivity:$.getValue(k),multipleSelectionController:(V=H.multipleSelectionController)!==null&&V!==void 0?V:Q.add(new F($))}),Q]}let M=class extends N.List{constructor($,K,V,Q,ee,ae,fe,pe,ve,ue){const Ce=typeof ee.horizontalScrolling!="undefined"?ee.horizontalScrolling:Boolean(ve.getValue(L)),[me,be]=W(ee,ve,ue);super($,K,V,Q,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(pe.getColorTheme(),c.defaultListStyles)),me),{horizontalScrolling:Ce}));this.disposables.add(be),this.contextKeyService=p(ae,this),this.themeService=pe,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ee.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ee.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ee.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(ve),this.disposables.add(this.contextKeyService),this.disposables.add(fe.register(this)),ee.overrideStyles&&this.updateStyles(ee.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const he=this.getSelection(),we=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(he.length>0||we.length>0),this.listMultiSelection.set(he.length>1),this.listDoubleSelection.set(he.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const he=this.getSelection(),we=this.getFocus();this.listHasSelectionOrFocus.set(he.length>0||we.length>0)})),this.disposables.add(ve.onDidChangeConfiguration(he=>{he.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=O(ve));let we={};if(he.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const ye=Boolean(ve.getValue(L));we=Object.assign(Object.assign({},we),{horizontalScrolling:ye})}if(he.affectsConfiguration(B)){const ye=Boolean(ve.getValue(B));we=Object.assign(Object.assign({},we),{smoothScrolling:ye})}if(he.affectsConfiguration(R)){const ye=ve.getValue(R);we=Object.assign(Object.assign({},we),{mouseWheelScrollSensitivity:ye})}if(he.affectsConfiguration(k)){const ye=ve.getValue(k);we=Object.assign(Object.assign({},we),{fastScrollSensitivity:ye})}Object.keys(we).length>0&&this.updateOptions(we)})),this.navigator=new X(this,Object.assign({configurationService:ve},ee)),this.disposables.add(this.navigator)}updateOptions($){super.updateOptions($),$.overrideStyles&&this.updateStyles($.overrideStyles),$.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){var K;(K=this._styler)===null||K===void 0||K.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,$)}dispose(){var $;($=this._styler)===null||$===void 0||$.dispose(),super.dispose()}};M=De([ge(5,l.IContextKeyService),ge(6,e.IListService),ge(7,g.IThemeService),ge(8,t.IConfigurationService),ge(9,o.IKeybindingService)],M),e.WorkbenchList=M;let z=class extends f.PagedList{constructor($,K,V,Q,ee,ae,fe,pe,ve,ue){const Ce=typeof ee.horizontalScrolling!="undefined"?ee.horizontalScrolling:Boolean(ve.getValue(L)),[me,be]=W(ee,ve,ue);super($,K,V,Q,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(pe.getColorTheme(),c.defaultListStyles)),me),{horizontalScrolling:Ce}));this.disposables=new h.DisposableStore,this.disposables.add(be),this.contextKeyService=p(ae,this),this.themeService=pe,this.horizontalScrolling=ee.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ee.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ee.selectionNavigation)),this._useAltAsMultipleSelectionModifier=O(ve),this.disposables.add(this.contextKeyService),this.disposables.add(fe.register(this)),ee.overrideStyles&&this.updateStyles(ee.overrideStyles),ee.overrideStyles&&this.disposables.add((0,c.attachListStyler)(this,pe,ee.overrideStyles)),this.disposables.add(ve.onDidChangeConfiguration(he=>{he.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=O(ve));let we={};if(he.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const ye=Boolean(ve.getValue(L));we=Object.assign(Object.assign({},we),{horizontalScrolling:ye})}if(he.affectsConfiguration(B)){const ye=Boolean(ve.getValue(B));we=Object.assign(Object.assign({},we),{smoothScrolling:ye})}if(he.affectsConfiguration(R)){const ye=ve.getValue(R);we=Object.assign(Object.assign({},we),{mouseWheelScrollSensitivity:ye})}if(he.affectsConfiguration(k)){const ye=ve.getValue(k);we=Object.assign(Object.assign({},we),{fastScrollSensitivity:ye})}Object.keys(we).length>0&&this.updateOptions(we)})),this.navigator=new X(this,Object.assign({configurationService:ve},ee)),this.disposables.add(this.navigator)}updateOptions($){super.updateOptions($),$.overrideStyles&&this.updateStyles($.overrideStyles),$.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){var K;(K=this._styler)===null||K===void 0||K.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,$)}dispose(){var $;($=this._styler)===null||$===void 0||$.dispose(),this.disposables.dispose(),super.dispose()}};z=De([ge(5,l.IContextKeyService),ge(6,e.IListService),ge(7,g.IThemeService),ge(8,t.IConfigurationService),ge(9,o.IKeybindingService)],z),e.WorkbenchPagedList=z;let G=class extends D.Table{constructor($,K,V,Q,ee,ae,fe,pe,ve,ue,Ce){const me=typeof ae.horizontalScrolling!="undefined"?ae.horizontalScrolling:Boolean(ue.getValue(L)),[be,ce]=W(ae,ue,Ce);super($,K,V,Q,ee,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(ve.getColorTheme(),c.defaultListStyles)),be),{horizontalScrolling:me}));this.disposables.add(ce),this.contextKeyService=p(fe,this),this.themeService=ve,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ae.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ae.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ae.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(ue),this.disposables.add(this.contextKeyService),this.disposables.add(pe.register(this)),ae.overrideStyles&&this.updateStyles(ae.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const we=this.getSelection(),ye=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(we.length>0||ye.length>0),this.listMultiSelection.set(we.length>1),this.listDoubleSelection.set(we.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const we=this.getSelection(),ye=this.getFocus();this.listHasSelectionOrFocus.set(we.length>0||ye.length>0)})),this.disposables.add(ue.onDidChangeConfiguration(we=>{we.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=O(ue));let ye={};if(we.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Te=Boolean(ue.getValue(L));ye=Object.assign(Object.assign({},ye),{horizontalScrolling:Te})}if(we.affectsConfiguration(B)){const Te=Boolean(ue.getValue(B));ye=Object.assign(Object.assign({},ye),{smoothScrolling:Te})}if(we.affectsConfiguration(R)){const Te=ue.getValue(R);ye=Object.assign(Object.assign({},ye),{mouseWheelScrollSensitivity:Te})}if(we.affectsConfiguration(k)){const Te=ue.getValue(k);ye=Object.assign(Object.assign({},ye),{fastScrollSensitivity:Te})}Object.keys(ye).length>0&&this.updateOptions(ye)})),this.navigator=new J(this,Object.assign({configurationService:ue},ae)),this.disposables.add(this.navigator)}updateOptions($){super.updateOptions($),$.overrideStyles&&this.updateStyles($.overrideStyles),$.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){var K;(K=this._styler)===null||K===void 0||K.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,$)}dispose(){var $;($=this._styler)===null||$===void 0||$.dispose(),this.disposables.dispose(),super.dispose()}};G=De([ge(6,l.IContextKeyService),ge(7,e.IListService),ge(8,g.IThemeService),ge(9,t.IConfigurationService),ge(10,o.IKeybindingService)],G),e.WorkbenchTable=G;class te extends h.Disposable{constructor($,K){var V;super();this.widget=$,this._onDidOpen=this._register(new u.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(u.Event.filter(this.widget.onDidChangeSelection,Q=>Q.browserEvent instanceof KeyboardEvent)(Q=>this.onSelectionFromKeyboard(Q))),this._register(this.widget.onPointer(Q=>this.onPointer(Q.element,Q.browserEvent))),this._register(this.widget.onMouseDblClick(Q=>this.onMouseDblClick(Q.element,Q.browserEvent))),typeof(K==null?void 0:K.openOnSingleClick)!="boolean"&&(K==null?void 0:K.configurationService)?(this.openOnSingleClick=(K==null?void 0:K.configurationService.getValue(_))!=="doubleClick",this._register(K==null?void 0:K.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(K==null?void 0:K.configurationService.getValue(_))!=="doubleClick"}))):this.openOnSingleClick=(V=K==null?void 0:K.openOnSingleClick)!==null&&V!==void 0?V:!0}onSelectionFromKeyboard($){if($.elements.length!==1)return;const K=$.browserEvent,V=typeof K.preserveFocus=="boolean"?K.preserveFocus:!0,Q=typeof K.pinned=="boolean"?K.pinned:!V,ee=!1;this._open(this.getSelectedElement(),V,Q,ee,$.browserEvent)}onPointer($,K){if(!this.openOnSingleClick||K.detail===2)return;const Q=K.button===1,ee=!0,ae=Q,fe=K.ctrlKey||K.metaKey||K.altKey;this._open($,ee,ae,fe,K)}onMouseDblClick($,K){if(!K)return;const V=K.target;if(V.classList.contains("monaco-tl-twistie")||V.classList.contains("monaco-icon-label")&&V.classList.contains("folder-icon")&&K.offsetX<16)return;const ee=!1,ae=!0,fe=K.ctrlKey||K.metaKey||K.altKey;this._open($,ee,ae,fe,K)}_open($,K,V,Q,ee){!$||this._onDidOpen.fire({editorOptions:{preserveFocus:K,pinned:V,revealIfVisible:!0},sideBySide:Q,element:$,browserEvent:ee})}}class X extends te{constructor($,K){super($,K);this.widget=$}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class J extends te{constructor($,K){super($,K)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ie extends te{constructor($,K){super($,K)}getSelectedElement(){var $;return($=this.widget.getSelection()[0])!==null&&$!==void 0?$:void 0}}function re(H,$){let K=!1;return V=>{if(V.toKeybinding().isModifierKey())return!1;if(K)return K=!1,!1;const Q=$.softDispatch(V,H);return Q&&Q.enterChord?(K=!0,!1):(K=!1,!0)}}let Z=class extends v.ObjectTree{constructor($,K,V,Q,ee,ae,fe,pe,ve,ue,Ce){const{options:me,getAutomaticKeyboardNavigation:be,disposable:ce}=se(K,ee,ae,ve,ue,Ce);super($,K,V,Q,me);this.disposables.add(ce),this.internals=new Y(this,ee,be,ee.overrideStyles,ae,fe,pe,ve,Ce),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};Z=De([ge(5,l.IContextKeyService),ge(6,e.IListService),ge(7,g.IThemeService),ge(8,t.IConfigurationService),ge(9,o.IKeybindingService),ge(10,n.IAccessibilityService)],Z),e.WorkbenchObjectTree=Z;let x=class extends v.CompressibleObjectTree{constructor($,K,V,Q,ee,ae,fe,pe,ve,ue,Ce){const{options:me,getAutomaticKeyboardNavigation:be,disposable:ce}=se(K,ee,ae,ve,ue,Ce);super($,K,V,Q,me);this.disposables.add(ce),this.internals=new Y(this,ee,be,ee.overrideStyles,ae,fe,pe,ve,Ce),this.disposables.add(this.internals)}updateOptions($={}){super.updateOptions($),$.overrideStyles&&this.internals.updateStyleOverrides($.overrideStyles),this.internals.updateOptions($)}};x=De([ge(5,l.IContextKeyService),ge(6,e.IListService),ge(7,g.IThemeService),ge(8,t.IConfigurationService),ge(9,o.IKeybindingService),ge(10,n.IAccessibilityService)],x),e.WorkbenchCompressibleObjectTree=x;let U=class extends b.DataTree{constructor($,K,V,Q,ee,ae,fe,pe,ve,ue,Ce,me){const{options:be,getAutomaticKeyboardNavigation:ce,disposable:he}=se(K,ae,fe,ue,Ce,me);super($,K,V,Q,ee,be);this.disposables.add(he),this.internals=new Y(this,ae,ce,ae.overrideStyles,fe,pe,ve,ue,me),this.disposables.add(this.internals)}updateOptions($={}){super.updateOptions($),$.overrideStyles&&this.internals.updateStyleOverrides($.overrideStyles),this.internals.updateOptions($)}};U=De([ge(6,l.IContextKeyService),ge(7,e.IListService),ge(8,g.IThemeService),ge(9,t.IConfigurationService),ge(10,o.IKeybindingService),ge(11,n.IAccessibilityService)],U),e.WorkbenchDataTree=U;let q=class extends w.AsyncDataTree{constructor($,K,V,Q,ee,ae,fe,pe,ve,ue,Ce,me){const{options:be,getAutomaticKeyboardNavigation:ce,disposable:he}=se(K,ae,fe,ue,Ce,me);super($,K,V,Q,ee,be);this.disposables.add(he),this.internals=new Y(this,ae,ce,ae.overrideStyles,fe,pe,ve,ue,me),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions($={}){super.updateOptions($),$.overrideStyles&&this.internals.updateStyleOverrides($.overrideStyles),this.internals.updateOptions($)}};q=De([ge(6,l.IContextKeyService),ge(7,e.IListService),ge(8,g.IThemeService),ge(9,t.IConfigurationService),ge(10,o.IKeybindingService),ge(11,n.IAccessibilityService)],q),e.WorkbenchAsyncDataTree=q;let le=class extends w.CompressibleAsyncDataTree{constructor($,K,V,Q,ee,ae,fe,pe,ve,ue,Ce,me,be){const{options:ce,getAutomaticKeyboardNavigation:he,disposable:we}=se(K,fe,pe,Ce,me,be);super($,K,V,Q,ee,ae,ce);this.disposables.add(we),this.internals=new Y(this,fe,he,fe.overrideStyles,pe,ve,ue,Ce,be),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};le=De([ge(7,l.IContextKeyService),ge(8,e.IListService),ge(9,g.IThemeService),ge(10,t.IConfigurationService),ge(11,o.IKeybindingService),ge(12,n.IAccessibilityService)],le),e.WorkbenchCompressibleAsyncDataTree=le;function se(H,$,K,V,Q,ee){var ae;const fe=()=>{let ce=Boolean(K.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return ce&&(ce=Boolean(V.getValue(I))),ce},pe=ee.isScreenReaderOptimized(),ve=$.simpleKeyboardNavigation||pe?"simple":V.getValue(E),ue=$.horizontalScrolling!==void 0?$.horizontalScrolling:Boolean(V.getValue(L)),[Ce,me]=W($,V,Q),be=$.additionalScrollHeight;return{getAutomaticKeyboardNavigation:fe,disposable:me,options:Object.assign(Object.assign({keyboardSupport:!1},Ce),{indent:typeof V.getValue(T)=="number"?V.getValue(T):void 0,renderIndentGuides:V.getValue(P),smoothScrolling:Boolean(V.getValue(B)),automaticKeyboardNavigation:fe(),simpleKeyboardNavigation:ve==="simple",filterOnType:ve==="filter",horizontalScrolling:ue,keyboardNavigationEventFilter:re(H,Q),additionalScrollHeight:be,hideTwistiesOfChildlessElements:$.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ae=$.expandOnlyOnTwistieClick)!==null&&ae!==void 0?ae:V.getValue(A)==="doubleClick"})}}let Y=class{constructor($,K,V,Q,ee,ae,fe,pe,ve){this.tree=$,this.themeService=fe,this.disposables=[],this.contextKeyService=p(ee,$),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(K.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(K.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=O(pe);const Ce=new Set;Ce.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const me=()=>{const he=ve.isScreenReaderOptimized()?"simple":pe.getValue(E);$.updateOptions({simpleKeyboardNavigation:he==="simple",filterOnType:he==="filter"})};this.updateStyleOverrides(Q);const be=()=>{const ce=$.getFocus()[0];if(!ce)return;const he=$.getNode(ce);this.treeElementCanCollapse.set(he.collapsible&&!he.collapsed),this.treeElementHasParent.set(!!$.getParentElement(ce)),this.treeElementCanExpand.set(he.collapsible&&he.collapsed),this.treeElementHasChild.set(!!$.getFirstElementChild(ce))};this.disposables.push(this.contextKeyService,ae.register($),$.onDidChangeSelection(()=>{const ce=$.getSelection(),he=$.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ce.length>0||he.length>0),this.hasMultiSelection.set(ce.length>1),this.hasDoubleSelection.set(ce.length===2)})}),$.onDidChangeFocus(()=>{const ce=$.getSelection(),he=$.getFocus();this.hasSelectionOrFocus.set(ce.length>0||he.length>0),be()}),$.onDidChangeCollapseState(be),$.onDidChangeModel(be),pe.onDidChangeConfiguration(ce=>{let he={};if(ce.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=O(pe)),ce.affectsConfiguration(T)){const we=pe.getValue(T);he=Object.assign(Object.assign({},he),{indent:we})}if(ce.affectsConfiguration(P)){const we=pe.getValue(P);he=Object.assign(Object.assign({},he),{renderIndentGuides:we})}if(ce.affectsConfiguration(B)){const we=Boolean(pe.getValue(B));he=Object.assign(Object.assign({},he),{smoothScrolling:we})}if(ce.affectsConfiguration(E)&&me(),ce.affectsConfiguration(I)&&(he=Object.assign(Object.assign({},he),{automaticKeyboardNavigation:V()})),ce.affectsConfiguration(L)&&K.horizontalScrolling===void 0){const we=Boolean(pe.getValue(L));he=Object.assign(Object.assign({},he),{horizontalScrolling:we})}if(ce.affectsConfiguration(A)&&K.expandOnlyOnTwistieClick===void 0&&(he=Object.assign(Object.assign({},he),{expandOnlyOnTwistieClick:pe.getValue(A)==="doubleClick"})),ce.affectsConfiguration(R)){const we=pe.getValue(R);he=Object.assign(Object.assign({},he),{mouseWheelScrollSensitivity:we})}if(ce.affectsConfiguration(k)){const we=pe.getValue(k);he=Object.assign(Object.assign({},he),{fastScrollSensitivity:we})}Object.keys(he).length>0&&$.updateOptions(he)}),this.contextKeyService.onDidChangeContext(ce=>{ce.affectsSome(Ce)&&$.updateOptions({automaticKeyboardNavigation:V()})}),ve.onDidChangeScreenReaderOptimized(()=>me())),this.navigator=new ie($,Object.assign({configurationService:pe},K)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions($){$.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyleOverrides($){(0,h.dispose)(this.styler),this.styler=$?(0,c.attachListStyler)(this.tree,this.themeService,$):h.Disposable.None}dispose(){this.disposables=(0,h.dispose)(this.disposables),(0,h.dispose)(this.styler),this.styler=void 0}};Y=De([ge(4,l.IContextKeyService),ge(5,e.IListService),ge(6,g.IThemeService),ge(7,t.IConfigurationService),ge(8,n.IAccessibilityService)],Y),r.Registry.as(s.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[C]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[_]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[L]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[T]:{type:"number",default:8,minimum:4,maximum:40,description:(0,i.localize)(6,null)},[P]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(7,null)},[B]:{type:"boolean",default:!1,description:(0,i.localize)(8,null)},[R]:{type:"number",default:1,markdownDescription:(0,i.localize)(9,null)},[k]:{type:"number",default:5,description:(0,i.localize)(10,null)},[E]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(11,null),(0,i.localize)(12,null),(0,i.localize)(13,null)],default:"highlight",description:(0,i.localize)(14,null)},[I]:{type:"boolean",default:!0,markdownDescription:(0,i.localize)(15,null)},[A]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(16,null)}}})}),define(ne[719],oe([1,0,7,95,46,60,4,2,45,25,15]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let i=class extends b.Disposable{constructor(t,s,l={},d){var a;super();this._link=s,this._enabled=!0,this.el=(0,y.append)(t,(0,y.$)("a.monaco-link",{tabIndex:(a=s.tabIndex)!==null&&a!==void 0?a:0,href:s.href,title:s.title},s.label)),this.el.setAttribute("role","button");const o=this._register(new f.DomEmitter(this.el,"click")),r=this._register(new f.DomEmitter(this.el,"keypress")),c=w.Event.chain(r.event).map(S=>new N.StandardKeyboardEvent(S)).filter(S=>S.keyCode===3).event,g=this._register(new f.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const m=w.Event.any(o.event,c,g);this._register(m(S=>{!this.enabled||(y.EventHelper.stop(S,!0),(l==null?void 0:l.opener)?l.opener(this._link.href):d.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}};i=De([ge(3,v.IOpenerService)],i),e.Link=i,(0,h.registerThemingParticipant)((n,t)=>{const s=n.getColor(u.textLinkForeground);s&&t.addRule(`.monaco-link { color: ${s}; }`);const l=n.getColor(u.textLinkActiveForeground);l&&t.addRule(`.monaco-link:hover { color: ${l}; }`)})}),define(ne[720],oe([1,0,21,513,69,16,8,115,167,653,25,140,15]),function(j,e,y,f,N,D,w,b,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let t=class extends n.Themable{constructor(l,d,a,o,r){super(a);this.instantiationService=l,this.contextKeyService=d,this.accessibilityService=o,this.layoutService=r,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(u.QuickAccessController))),this._quickAccess}createController(l=this.layoutService,d){const a={idPrefix:"quickInput_",container:l.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:r=>this.setContextKey(r),returnFocus:()=>l.focus(),createList:(r,c,g,m,S)=>this.instantiationService.createInstance(v.WorkbenchList,r,c,g,m,S),styles:this.computeStyles()},o=this._register(new f.QuickInputController(Object.assign(Object.assign({},a),d)));return o.layout(l.dimension,l.offset.quickPickTop),this._register(l.onDidLayout(r=>o.layout(r,l.offset.quickPickTop))),this._register(o.onShow(()=>this.resetContextKeys())),this._register(o.onHide(()=>this.resetContextKeys())),o}setContextKey(l){let d;l&&(d=this.contexts.get(l),d||(d=new D.RawContextKey(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,d))),!(d&&d.get())&&(this.resetContextKeys(),d&&d.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,d={},a=y.CancellationToken.None){return this.controller.pick(l,d,a)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,i.computeStyles)(this.theme,{quickInputBackground:h.quickInputBackground,quickInputForeground:h.quickInputForeground,quickInputTitleBackground:h.quickInputTitleBackground,contrastBorder:h.contrastBorder,widgetShadow:h.widgetShadow})),inputBox:(0,i.computeStyles)(this.theme,{inputForeground:h.inputForeground,inputBackground:h.inputBackground,inputBorder:h.inputBorder,inputValidationInfoBackground:h.inputValidationInfoBackground,inputValidationInfoForeground:h.inputValidationInfoForeground,inputValidationInfoBorder:h.inputValidationInfoBorder,inputValidationWarningBackground:h.inputValidationWarningBackground,inputValidationWarningForeground:h.inputValidationWarningForeground,inputValidationWarningBorder:h.inputValidationWarningBorder,inputValidationErrorBackground:h.inputValidationErrorBackground,inputValidationErrorForeground:h.inputValidationErrorForeground,inputValidationErrorBorder:h.inputValidationErrorBorder}),countBadge:(0,i.computeStyles)(this.theme,{badgeBackground:h.badgeBackground,badgeForeground:h.badgeForeground,badgeBorder:h.contrastBorder}),button:(0,i.computeStyles)(this.theme,{buttonForeground:h.buttonForeground,buttonBackground:h.buttonBackground,buttonHoverBackground:h.buttonHoverBackground,buttonBorder:h.contrastBorder}),progressBar:(0,i.computeStyles)(this.theme,{progressBarBackground:h.progressBarBackground}),keybindingLabel:(0,i.computeStyles)(this.theme,{keybindingLabelBackground:h.keybindingLabelBackground,keybindingLabelForeground:h.keybindingLabelForeground,keybindingLabelBorder:h.keybindingLabelBorder,keybindingLabelBottomBorder:h.keybindingLabelBottomBorder,keybindingLabelShadow:h.widgetShadow}),list:(0,i.computeStyles)(this.theme,{listBackground:h.quickInputBackground,listInactiveFocusForeground:h.quickInputListFocusForeground,listInactiveSelectionIconForeground:h.quickInputListFocusIconForeground,listInactiveFocusBackground:h.quickInputListFocusBackground,listFocusOutline:h.activeContrastBorder,listInactiveFocusOutline:h.activeContrastBorder,pickerGroupBorder:h.pickerGroupBorder,pickerGroupForeground:h.pickerGroupForeground})}}};t=De([ge(0,w.IInstantiationService),ge(1,D.IContextKeyService),ge(2,n.IThemeService),ge(3,N.IAccessibilityService),ge(4,b.ILayoutService)],t),e.QuickInputService=t}),define(ne[721],oe([1,0,12,15,21,8,16,69,289,29,720,94,410]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=e.EditorScopedQuickInputService=void 0;let n=class extends h.QuickInputService{constructor(a,o,r,c,g,m){super(o,r,c,g,new v.EditorScopedLayoutService(a.getContainerDomNode(),m));this.host=void 0;const S=s.get(a);if(S){const p=S.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return p.getDomNode()},get dimension(){return a.getLayoutInfo()},get onDidLayout(){return a.onDidLayoutChange},focus:()=>a.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};n=De([ge(1,D.IInstantiationService),ge(2,w.IContextKeyService),ge(3,f.IThemeService),ge(4,b.IAccessibilityService),ge(5,u.ICodeEditorService)],n),e.EditorScopedQuickInputService=n;let t=class{constructor(a,o){this.instantiationService=a,this.codeEditorService=o,this.mapEditorToService=new Map}get activeService(){const a=this.codeEditorService.getFocusedCodeEditor();if(!a)throw new Error("Quick input service needs a focused editor to work.");let o=this.mapEditorToService.get(a);if(!o){const r=o=this.instantiationService.createInstance(n,a);this.mapEditorToService.set(a,o),(0,i.once)(a.onDidDispose)(()=>{r.dispose(),this.mapEditorToService.delete(a)})}return o}get quickAccess(){return this.activeService.quickAccess}pick(a,o={},r=N.CancellationToken.None){return this.activeService.pick(a,o,r)}createQuickPick(){return this.activeService.createQuickPick()}};t=De([ge(0,D.IInstantiationService),ge(1,u.ICodeEditorService)],t),e.StandaloneQuickInputService=t;class s{constructor(a){this.editor=a,this.widget=new l(this.editor)}static get(a){return a.getContribution(s.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=s,s.ID="editor.controller.quickInput";class l{constructor(a){this.codeEditor=a,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return l.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=l,l.ID="editor.contrib.quickInputWidget",(0,y.registerEditorContribution)(s.ID,s)}),define(ne[722],oe([1,0,27,73,25,15]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var w;(function(b){function v(u){switch(u){case f.default.Ignore:return"severity-ignore "+y.Codicon.info.classNames;case f.default.Info:return y.Codicon.info.classNames;case f.default.Warning:return y.Codicon.warning.classNames;case f.default.Error:return y.Codicon.error.classNames;default:return""}}b.className=v})(w=e.SeverityIcon||(e.SeverityIcon={})),(0,D.registerThemingParticipant)((b,v)=>{const u=b.getColor(N.problemsErrorIconForeground);if(u){const n=y.Codicon.error.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${n},
			.markers-panel .marker-icon${n},
			.text-search-provider-messages .providerMessage ${n},
			.extensions-viewlet > .extensions ${n} {
				color: ${u};
			}
		`)}const h=b.getColor(N.problemsWarningIconForeground);if(h){const n=y.Codicon.warning.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${n},
			.markers-panel .marker-icon${n},
			.extensions-viewlet > .extensions ${n},
			.extension-editor ${n},
			.text-search-provider-messages .providerMessage ${n},
			.preferences-editor ${n} {
				color: ${h};
			}
		`)}const i=b.getColor(N.problemsInfoIconForeground);if(i){const n=y.Codicon.info.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${n},
			.markers-panel .marker-icon${n},
			.extensions-viewlet > .extensions ${n},
			.text-search-provider-messages .providerMessage ${n},
			.extension-editor ${n} {
				color: ${i};
			}
		`)}})}),define(ne[78],oe([1,0,10,27,4,612,211,35,15]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var u;(function(a){function o(r,c){let g=r.defaults;for(;v.ThemeIcon.isThemeIcon(g);){const m=i.getIcon(g.id);if(!m)return;g=m.defaults}return g}a.getDefinition=o})(u=e.IconContribution||(e.IconContribution={}));class h{constructor(){this._onDidChange=new N.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,D.localize)(0,null)},fontCharacter:{type:"string",description:(0,D.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${f.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(o,r,c,g){const m=this.iconsById[o];if(m){if(c&&!m.description){m.description=c,this.iconSchema.properties[o].markdownDescription=`${c} $(${o})`;const C=this.iconReferenceSchema.enum.indexOf(o);C!==-1&&(this.iconReferenceSchema.enumDescriptions[C]=c),this._onDidChange.fire()}return m}const S={id:o,description:c,defaults:r,deprecationMessage:g};this.iconsById[o]=S;const p={$ref:"#/definitions/icons"};return g&&(p.deprecationMessage=g),c&&(p.markdownDescription=`${c}: $(${o})`),this.iconSchema.properties[o]=p,this.iconReferenceSchema.enum.push(o),this.iconReferenceSchema.enumDescriptions.push(c||""),this._onDidChange.fire(),{id:o}}getIcons(){return Object.keys(this.iconsById).map(o=>this.iconsById[o])}getIcon(o){return this.iconsById[o]}getIconSchema(){return this.iconSchema}toString(){const o=(m,S)=>m.id.localeCompare(S.id),r=m=>{for(;v.ThemeIcon.isThemeIcon(m.defaults);)m=this.iconsById[m.defaults.id];return`codicon codicon-${m?m.id:""}`},c=[];c.push("| preview     | identifier                        | default codicon ID                | description"),c.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const g=Object.keys(this.iconsById).map(m=>this.iconsById[m]);for(const m of g.filter(S=>!!S.description).sort(o))c.push(`|<i class="${r(m)}"></i>|${m.id}|${v.ThemeIcon.isThemeIcon(m.defaults)?m.defaults.id:m.id}|${m.description||""}|`);c.push("| preview     | identifier                        "),c.push("| ----------- | --------------------------------- |");for(const m of g.filter(S=>!v.ThemeIcon.isThemeIcon(S.defaults)).sort(o))c.push(`|<i class="${r(m)}"></i>|${m.id}|`);return c.join(`
`)}}const i=new h;b.Registry.add(e.Extensions.IconContribution,i);function n(a,o,r,c){return i.registerIcon(a,o,r,c)}e.registerIcon=n;function t(){return i}e.getIconRegistry=t;function s(){for(const a of f.Codicon.getAll())i.registerIcon(a.id,a.definition,a.description)}s(),e.iconsSchemaId="vscode://schemas/icons";const l=b.Registry.as(w.Extensions.JSONContribution);l.registerSchema(e.iconsSchemaId,i.getIconSchema());const d=new y.RunOnceScheduler(()=>l.notifySchemaChanged(e.iconsSchemaId),200);i.onDidChange(()=>{d.isScheduled()||d.schedule()}),e.widgetClose=n("widget-close",f.Codicon.close,(0,D.localize)(2,null)),e.gotoPreviousLocation=n("goto-previous-location",f.Codicon.arrowUp,(0,D.localize)(3,null)),e.gotoNextLocation=n("goto-next-location",f.Codicon.arrowDown,(0,D.localize)(4,null)),e.syncing=v.ThemeIcon.modify(f.Codicon.sync,"spin"),e.spinningLoading=v.ThemeIcon.modify(f.Codicon.loading,"spin")}),define(ne[723],oe([1,0,519,7,33,89,74,49,2,68,12,29,34,81,11,54,134,75,16,25,15,27,78,38,383]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const C=3;class _{constructor(O,F,W,M){this.originalLineStart=O,this.originalLineEnd=F,this.modifiedLineStart=W,this.modifiedLineEnd=M}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class L{constructor(O){this.entries=O}}const E=(0,m.registerIcon)("diff-review-insert",g.Codicon.add,y.localize(0,null)),I=(0,m.registerIcon)("diff-review-remove",g.Codicon.remove,y.localize(1,null)),T=(0,m.registerIcon)("diff-review-close",g.Codicon.close,y.localize(2,null));let P=class Lt extends v.Disposable{constructor(O,F){super();this._languageService=F,this._width=0,this._diffEditor=O,this._isVisible=!1,this.shadow=(0,N.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,N.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new D.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new b.Action("diffreview.close",y.localize(3,null),"close-diff-review "+c.ThemeIcon.asClassName(T),!0,()=>Le(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,N.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new w.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(O.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(O.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(f.addStandardDisposableListener(this.domNode.domNode,"click",W=>{W.preventDefault();const M=f.findParentWithClass(W.target,"diff-review-row");M&&this._goToRow(M)})),this._register(f.addStandardDisposableListener(this.domNode.domNode,"keydown",W=>{(W.equals(18)||W.equals(2048|18)||W.equals(512|18))&&(W.preventDefault(),this._goToRow(this._getNextRow())),(W.equals(16)||W.equals(2048|16)||W.equals(512|16))&&(W.preventDefault(),this._goToRow(this._getPrevRow())),(W.equals(9)||W.equals(2048|9)||W.equals(512|9)||W.equals(1024|9))&&(W.preventDefault(),this.hide()),(W.equals(10)||W.equals(3))&&(W.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let O=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let M=0,z=this._diffs.length;M<z;M++)if(this._diffs[M]===this._currentDiff){W=M;break}O=this._diffs.length+W-1}else O=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;O=O%this._diffs.length;const F=this._diffs[O].entries;this._diffEditor.setPosition(new s.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let O=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let M=0,z=this._diffs.length;M<z;M++)if(this._diffs[M]===this._currentDiff){W=M;break}O=W+1}else O=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;O=O%this._diffs.length;const F=this._diffs[O].entries;this._diffEditor.setPosition(new s.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let O=-1;const F=this._getCurrentFocusedRow();if(F){const W=parseInt(F.getAttribute("data-line"),10);isNaN(W)||(O=W)}this.hide(),O!==-1&&(this._diffEditor.setPosition(new s.Position(O,1)),this._diffEditor.revealPosition(new s.Position(O,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const O=this._getCurrentFocusedRow();return O?O.previousElementSibling?O.previousElementSibling:O:this._getFirstRow()}_getNextRow(){const O=this._getCurrentFocusedRow();return O?O.nextElementSibling?O.nextElementSibling:O:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const O=document.activeElement;return O&&/diff-review-row/.test(O.className)?O:null}_goToRow(O){const F=this._getCurrentFocusedRow();O.tabIndex=0,O.focus(),F&&F!==O&&(F.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(O,F,W){this._width=F,this.shadow.setTop(O-6),this.shadow.setWidth(F),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(O),this.domNode.setWidth(F),this.domNode.setHeight(W),this._content.setHeight(W),this._content.setWidth(F),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const O=this._diffEditor.getLineChanges();if(!O||O.length===0)return[];const F=this._diffEditor.getOriginalEditor().getModel(),W=this._diffEditor.getModifiedEditor().getModel();return!F||!W?[]:Lt._mergeAdjacent(O,F.getLineCount(),W.getLineCount())}static _mergeAdjacent(O,F,W){if(!O||O.length===0)return[];const M=[];let z=0;for(let J=0,ie=O.length;J<ie;J++){const re=O[J],Z=re.originalStartLineNumber,x=re.originalEndLineNumber,U=re.modifiedStartLineNumber,q=re.modifiedEndLineNumber,le=[];let se=0;{const Y=x===0?Z:Z-1,de=q===0?U:U-1;let H=1,$=1;if(J>0){const Q=O[J-1];Q.originalEndLineNumber===0?H=Q.originalStartLineNumber+1:H=Q.originalEndLineNumber+1,Q.modifiedEndLineNumber===0?$=Q.modifiedStartLineNumber+1:$=Q.modifiedEndLineNumber+1}let K=Y-C+1,V=de-C+1;if(K<H){const Q=H-K;K=K+Q,V=V+Q}if(V<$){const Q=$-V;K=K+Q,V=V+Q}le[se++]=new _(K,Y,V,de)}x!==0&&(le[se++]=new _(Z,x,0,0)),q!==0&&(le[se++]=new _(0,0,U,q));{const Y=x===0?Z+1:x+1,de=q===0?U+1:q+1;let H=F,$=W;if(J+1<ie){const Q=O[J+1];Q.originalEndLineNumber===0?H=Q.originalStartLineNumber:H=Q.originalStartLineNumber-1,Q.modifiedEndLineNumber===0?$=Q.modifiedStartLineNumber:$=Q.modifiedStartLineNumber-1}let K=Y+C-1,V=de+C-1;if(K>H){const Q=H-K;K=K+Q,V=V+Q}if(V>$){const Q=$-V;K=K+Q,V=V+Q}le[se++]=new _(Y,K,de,V)}M[z++]=new L(le)}let G=M[0].entries;const te=[];let X=0;for(let J=1,ie=M.length;J<ie;J++){const re=M[J].entries,Z=G[G.length-1],x=re[0];if(Z.getType()===0&&x.getType()===0&&x.originalLineStart<=Z.originalLineEnd){G[G.length-1]=new _(Z.originalLineStart,x.originalLineEnd,Z.modifiedLineStart,x.modifiedLineEnd),G=G.concat(re.slice(1));continue}te[X++]=new L(G),G=re}return te[X++]=new L(G),te}_findDiffIndex(O){const F=O.lineNumber;for(let W=0,M=this._diffs.length;W<M;W++){const z=this._diffs[W].entries,G=z[z.length-1].modifiedLineEnd;if(F<=G)return W}return 0}_render(){const O=this._diffEditor.getOriginalEditor().getOptions(),F=this._diffEditor.getModifiedEditor().getOptions(),W=this._diffEditor.getOriginalEditor().getModel(),M=this._diffEditor.getModifiedEditor().getModel(),z=W.getOptions(),G=M.getOptions();if(!this._isVisible||!W||!M){f.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const te=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[te]===this._currentDiff)return;this._currentDiff=this._diffs[te];const X=this._diffs[te].entries,J=document.createElement("div");J.className="diff-review-table",J.setAttribute("role","list"),J.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,u.applyFontInfo)(J,F.get(45));let ie=0,re=0,Z=0,x=0;for(let V=0,Q=X.length;V<Q;V++){const ee=X[V],ae=ee.originalLineStart,fe=ee.originalLineEnd,pe=ee.modifiedLineStart,ve=ee.modifiedLineEnd;ae!==0&&(ie===0||ae<ie)&&(ie=ae),fe!==0&&(re===0||fe>re)&&(re=fe),pe!==0&&(Z===0||pe<Z)&&(Z=pe),ve!==0&&(x===0||ve>x)&&(x=ve)}const U=document.createElement("div");U.className="diff-review-row";const q=document.createElement("div");q.className="diff-review-cell diff-review-summary";const le=re-ie+1,se=x-Z+1;q.appendChild(document.createTextNode(`${te+1}/${this._diffs.length}: @@ -${ie},${le} +${Z},${se} @@`)),U.setAttribute("data-line",String(Z));const Y=V=>V===0?y.localize(4,null):V===1?y.localize(5,null):y.localize(6,null,V),de=Y(le),H=Y(se);U.setAttribute("aria-label",y.localize(7,null,te+1,this._diffs.length,ie,de,Z,H)),U.appendChild(q),U.setAttribute("role","listitem"),J.appendChild(U);const $=F.get(60);let K=Z;for(let V=0,Q=X.length;V<Q;V++){const ee=X[V];Lt._renderSection(J,ee,K,$,this._width,O,W,z,F,M,G,this._languageService.languageIdCodec),ee.modifiedLineStart!==0&&(K=ee.modifiedLineEnd)}f.clearNode(this._content.domNode),this._content.domNode.appendChild(J),this.scrollbar.scanDomNode()}static _renderSection(O,F,W,M,z,G,te,X,J,ie,re,Z){const x=F.getType();let U="diff-review-row",q="";const le="diff-review-spacer";let se=null;switch(x){case 1:U="diff-review-row line-insert",q=" char-insert",se=E;break;case 2:U="diff-review-row line-delete",q=" char-delete",se=I;break}const Y=F.originalLineStart,de=F.originalLineEnd,H=F.modifiedLineStart,$=F.modifiedLineEnd,K=Math.max($-H,de-Y),V=G.get(132),Q=V.glyphMarginWidth+V.lineNumbersWidth,ee=J.get(132),ae=10+ee.glyphMarginWidth+ee.lineNumbersWidth;for(let fe=0;fe<=K;fe++){const pe=Y===0?0:Y+fe,ve=H===0?0:H+fe,ue=document.createElement("div");ue.style.minWidth=z+"px",ue.className=U,ue.setAttribute("role","listitem"),ve!==0&&(W=ve),ue.setAttribute("data-line",String(W));const Ce=document.createElement("div");Ce.className="diff-review-cell",Ce.style.height=`${M}px`,ue.appendChild(Ce);const me=document.createElement("span");me.style.width=Q+"px",me.style.minWidth=Q+"px",me.className="diff-review-line-number"+q,pe!==0?me.appendChild(document.createTextNode(String(pe))):me.innerText="\xA0",Ce.appendChild(me);const be=document.createElement("span");be.style.width=ae+"px",be.style.minWidth=ae+"px",be.style.paddingRight="10px",be.className="diff-review-line-number"+q,ve!==0?be.appendChild(document.createTextNode(String(ve))):be.innerText="\xA0",Ce.appendChild(be);const ce=document.createElement("span");if(ce.className=le,se){const ye=document.createElement("span");ye.className=c.ThemeIcon.asClassName(se),ye.innerText="\xA0\xA0",ce.appendChild(ye)}else ce.innerText="\xA0\xA0";Ce.appendChild(ce);let he;if(ve!==0){let ye=this._renderLine(ie,J,re.tabSize,ve,Z);Lt._ttPolicy&&(ye=Lt._ttPolicy.createHTML(ye)),Ce.insertAdjacentHTML("beforeend",ye),he=ie.getLineContent(ve)}else{let ye=this._renderLine(te,G,X.tabSize,pe,Z);Lt._ttPolicy&&(ye=Lt._ttPolicy.createHTML(ye)),Ce.insertAdjacentHTML("beforeend",ye),he=te.getLineContent(pe)}he.length===0&&(he=y.localize(8,null));let we="";switch(x){case 0:pe===ve?we=y.localize(9,null,he,pe):we=y.localize(10,null,he,pe,ve);break;case 1:we=y.localize(11,null,he,ve);break;case 2:we=y.localize(12,null,he,pe);break}ue.setAttribute("aria-label",we),O.appendChild(ue)}}static _renderLine(O,F,W,M,z){const G=O.getLineContent(M),te=F.get(45),X=t.LineTokens.createEmpty(G,z),J=a.ViewLineRenderingData.isBasicASCII(G,O.mightContainNonBasicASCII()),ie=a.ViewLineRenderingData.containsRTL(G,J,O.mightContainRTL());return(0,d.renderViewLine2)(new d.RenderLineInput(te.isMonospace&&!F.get(29),te.canUseHalfwidthRightwardsArrow,G,!1,J,ie,0,X,[],W,0,te.spaceWidth,te.middotWidth,te.wsmiddotWidth,F.get(106),F.get(89),F.get(84),F.get(46)!==n.EditorFontLigatures.OFF,null)).html}};P._ttPolicy=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("diffReview",{createHTML:A=>A}),P=De([ge(1,S.ILanguageService)],P),e.DiffReview=P,(0,c.registerThemingParticipant)((A,O)=>{const F=A.getColor(l.editorLineNumbers);F&&O.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${F}; }`);const W=A.getColor(r.scrollbarShadow);W&&O.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${W} 0 -6px 6px -6px inset; }`)});class B extends h.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:y.localize(13,null),alias:"Go to Next Difference",precondition:o.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(O,F){const W=k(O);W&&W.diffReviewNext()}}class R extends h.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:y.localize(14,null),alias:"Go to Previous Difference",precondition:o.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(O,F){const W=k(O);W&&W.diffReviewPrev()}}function k(A){const O=A.get(i.ICodeEditorService),F=O.listDiffEditors(),W=O.getActiveCodeEditor();if(!W)return null;for(let M=0,z=F.length;M<z;M++){const G=F[M];if(G.getModifiedEditor().getId()===W.getId()||G.getOriginalEditor().getId()===W.getId())return G}return null}(0,h.registerEditorAction)(B),(0,h.registerEditorAction)(R)}),define(ne[724],oe([1,0,7,47,74,27,4,2,9,19,38,20,116,624,208,578,16,45,25,78,56,15,399]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const m=y.$,S=(0,r.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,l.localize(0,null)),p=(0,r.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,l.localize(1,null));let C=class Wi extends b.Disposable{constructor(L,E,I,T,P){super();this.editor=L,this.renderDisposeables=this._register(new b.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new n.MarkdownRenderer({editor:L},T,I)),this.model=this._register(new t.ParameterHintsModel(L,P.signatureHelpProvider)),this.keyVisible=s.Context.Visible.bindTo(E),this.keyMultipleSignatures=s.Context.MultipleSignatures.bindTo(E),this._register(this.model.onChangedHints(B=>{B?(this.show(),this.render(B)):this.hide()}))}createParameterHintDOMNodes(){const L=m(".editor-widget.parameter-hints-widget"),E=y.append(L,m(".phwrapper"));E.tabIndex=-1;const I=y.append(E,m(".controls")),T=y.append(I,m(".button"+g.ThemeIcon.asCSSSelector(p))),P=y.append(I,m(".overloads")),B=y.append(I,m(".button"+g.ThemeIcon.asCSSSelector(S)));this._register(y.addDisposableListener(T,"click",W=>{y.EventHelper.stop(W),this.previous()})),this._register(y.addDisposableListener(B,"click",W=>{y.EventHelper.stop(W),this.next()}));const R=m(".body"),k=new N.DomScrollableElement(R,{});this._register(k),E.appendChild(k.getDomNode());const A=y.append(R,m(".signature")),O=y.append(R,m(".docs"));L.style.userSelect="text",this.domNodes={element:L,signature:A,overloads:P,docs:O,scrollbar:k},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(W=>{this.visible&&this.editor.layoutContentWidget(this)}));const F=()=>{if(!this.domNodes)return;const W=this.editor.getOption(45);this.domNodes.element.style.fontSize=`${W.fontSize}px`,this.domNodes.element.style.lineHeight=`${W.lineHeight/W.fontSize}`};F(),this._register(w.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(W=>W.hasChanged(45)).on(F,null)),this._register(this.editor.onDidLayoutChange(W=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(L){var E;if(this.renderDisposeables.clear(),!this.domNodes)return;const I=L.signatures.length>1;this.domNodes.element.classList.toggle("multiple",I),this.keyMultipleSignatures.set(I),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const T=L.signatures[L.activeSignature];if(!T)return;const P=y.append(this.domNodes.signature,m(".code")),B=this.editor.getOption(45);P.style.fontSize=`${B.fontSize}px`,P.style.fontFamily=B.fontFamily;const R=T.parameters.length>0,k=(E=T.activeParameter)!==null&&E!==void 0?E:L.activeParameter;if(R)this.renderParameters(P,T,k);else{const F=y.append(P,m("span"));F.textContent=T.label}const A=T.parameters[k];if(A==null?void 0:A.documentation){const F=m("span.documentation");if(typeof A.documentation=="string")F.textContent=A.documentation;else{const W=this.renderMarkdownDocs(A.documentation);F.appendChild(W.element)}y.append(this.domNodes.docs,m("p",{},F))}if(T.documentation!==void 0)if(typeof T.documentation=="string")y.append(this.domNodes.docs,m("p",{},T.documentation));else{const F=this.renderMarkdownDocs(T.documentation);y.append(this.domNodes.docs,F.element)}const O=this.hasDocs(T,A);if(this.domNodes.signature.classList.toggle("has-docs",O),this.domNodes.docs.classList.toggle("empty",!O),this.domNodes.overloads.textContent=String(L.activeSignature+1).padStart(L.signatures.length.toString().length,"0")+"/"+L.signatures.length,A){let F="";const W=T.parameters[k];Array.isArray(W.label)?F=T.label.substring(W.label[0],W.label[1]):F=W.label,W.documentation&&(F+=typeof W.documentation=="string"?`, ${W.documentation}`:`, ${W.documentation.value}`),T.documentation&&(F+=typeof T.documentation=="string"?`, ${T.documentation}`:`, ${T.documentation.value}`),this.announcedLabel!==F&&(f.alert(l.localize(2,null,F)),this.announcedLabel=F)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(L){const E=this.renderDisposeables.add(this.markdownRenderer.render(L,{asyncRenderCallback:()=>{var I;(I=this.domNodes)===null||I===void 0||I.scrollbar.scanDomNode()}}));return E.element.classList.add("markdown-docs"),E}hasDocs(L,E){return!!(E&&typeof E.documentation=="string"&&(0,u.assertIsDefined)(E.documentation).length>0||E&&typeof E.documentation=="object"&&(0,u.assertIsDefined)(E.documentation).value.length>0||L.documentation&&typeof L.documentation=="string"&&(0,u.assertIsDefined)(L.documentation).length>0||L.documentation&&typeof L.documentation=="object"&&(0,u.assertIsDefined)(L.documentation.value).length>0)}renderParameters(L,E,I){const[T,P]=this.getParameterLabelOffsets(E,I),B=document.createElement("span");B.textContent=E.label.substring(0,T);const R=document.createElement("span");R.textContent=E.label.substring(T,P),R.className="parameter active";const k=document.createElement("span");k.textContent=E.label.substring(P),y.append(L,B,R,k)}getParameterLabelOffsets(L,E){const I=L.parameters[E];if(I){if(Array.isArray(I.label))return I.label;if(I.label.length){const T=new RegExp(`(\\W|^)${(0,v.escapeRegExpCharacters)(I.label)}(?=\\W|$)`,"g");T.test(L.label);const P=T.lastIndex-I.label.length;return P>=0?[P,T.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Wi.ID}trigger(L){this.model.trigger(L,0)}updateMaxHeight(){if(!this.domNodes)return;const E=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=E;const I=this.domNodes.element.getElementsByClassName("phwrapper");I.length&&(I[0].style.maxHeight=E)}};C.ID="editor.widget.parameterHintsWidget",C=De([ge(1,d.IContextKeyService),ge(2,a.IOpenerService),ge(3,h.ILanguageService),ge(4,i.ILanguageFeaturesService)],C),e.ParameterHintsWidget=C,e.editorHoverWidgetHighlightForeground=(0,o.registerColor)("editorHoverWidget.highlightForeground",{dark:o.listHighlightForeground,light:o.listHighlightForeground,hcDark:o.listHighlightForeground,hcLight:o.listHighlightForeground},l.localize(3,null)),(0,g.registerThemingParticipant)((_,L)=>{const E=_.getColor(o.editorHoverBorder);if(E){const A=(0,c.isHighContrast)(_.type)?2:1;L.addRule(`.monaco-editor .parameter-hints-widget { border: ${A}px solid ${E}; }`),L.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${E.transparent(.5)}; }`),L.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${E.transparent(.5)}; }`)}const I=_.getColor(o.editorHoverBackground);I&&L.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${I}; }`);const T=_.getColor(o.textLinkForeground);T&&L.addRule(`.monaco-editor .parameter-hints-widget a { color: ${T}; }`);const P=_.getColor(o.textLinkActiveForeground);P&&L.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${P}; }`);const B=_.getColor(o.editorHoverForeground);B&&L.addRule(`.monaco-editor .parameter-hints-widget { color: ${B}; }`);const R=_.getColor(o.textCodeBlockBackground);R&&L.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${R}; }`);const k=_.getColor(e.editorHoverWidgetHighlightForeground);k&&L.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${k}}`)})}),define(ne[725],oe([1,0,2,12,24,28,208,577,16,8,724]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let i=class xi extends y.Disposable{constructor(d,a){super();this.editor=d,this.widget=this._register(a.createInstance(h.ParameterHintsWidget,this.editor))}static get(d){return d.getContribution(xi.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(d){this.widget.trigger(d)}};i.ID="editor.controller.parameterHints",i=De([ge(1,u.IInstantiationService)],i);class n extends f.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:b.localize(0,null),alias:"Trigger Parameter Hints",precondition:N.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:N.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(d,a){const o=i.get(a);o&&o.trigger({triggerKind:D.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=n,(0,f.registerEditorContribution)(i.ID,i),(0,f.registerEditorAction)(n);const t=100+75,s=f.EditorCommand.bindToContribution(i.get);(0,f.registerEditorCommand)(new s({id:"closeParameterHints",precondition:w.Context.Visible,handler:l=>l.cancel(),kbOpts:{weight:t,kbExpr:N.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,f.registerEditorCommand)(new s({id:"showPrevParameterHint",precondition:v.ContextKeyExpr.and(w.Context.Visible,w.Context.MultipleSignatures),handler:l=>l.previous(),kbOpts:{weight:t,kbExpr:N.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,f.registerEditorCommand)(new s({id:"showNextParameterHint",precondition:v.ContextKeyExpr.and(w.Context.Visible,w.Context.MultipleSignatures),handler:l=>l.next(),kbOpts:{weight:t,kbExpr:N.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(ne[726],oe([1,0,36,7,202,27,4,64,2,22,34,28,644,50,38,591,209,78,15,293]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function g(C){return`suggest-aria-id:${C}`}e.getAriaId=g,e.suggestMoreInfoIcon=(0,a.registerIcon)("suggest-more-info",D.Codicon.chevronRight,l.localize(0,null));const m=new(c=class Kt{extract(_,L){if(_.textLabel.match(Kt._regexStrict))return L[0]=_.textLabel,!0;if(_.completion.detail&&_.completion.detail.match(Kt._regexStrict))return L[0]=_.completion.detail,!0;if(typeof _.completion.documentation=="string"){const E=Kt._regexRelaxed.exec(_.completion.documentation);if(E&&(E.index===0||E.index+E[0].length===_.completion.documentation.length))return L[0]=E[0],!0}return!1}},c._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,c._regexStrict=new RegExp(`^${c._regexRelaxed.source}$`,"i"),c);let S=class{constructor(_,L,E,I){this._editor=_,this._modelService=L,this._languageService=E,this._themeService=I,this._onDidToggleDetails=new w.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(_){const L=Object.create(null);L.disposables=new v.DisposableStore,L.root=_,L.root.classList.add("show-file-icons"),L.icon=(0,f.append)(_,(0,f.$)(".icon")),L.colorspan=(0,f.append)(L.icon,(0,f.$)("span.colorspan"));const E=(0,f.append)(_,(0,f.$)(".contents")),I=(0,f.append)(E,(0,f.$)(".main"));L.iconContainer=(0,f.append)(I,(0,f.$)(".icon-label.codicon")),L.left=(0,f.append)(I,(0,f.$)("span.left")),L.right=(0,f.append)(I,(0,f.$)("span.right")),L.iconLabel=new N.IconLabel(L.left,{supportHighlights:!0,supportIcons:!0}),L.disposables.add(L.iconLabel),L.parametersLabel=(0,f.append)(L.left,(0,f.$)("span.signature-label")),L.qualifierLabel=(0,f.append)(L.left,(0,f.$)("span.qualifier-label")),L.detailsLabel=(0,f.append)(L.right,(0,f.$)("span.details-label")),L.readMore=(0,f.append)(L.right,(0,f.$)("span.readMore"+o.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),L.readMore.title=l.localize(1,null);const T=()=>{const P=this._editor.getOptions(),B=P.get(45),R=B.getMassagedFontFamily(y.isSafari?h.EDITOR_FONT_DEFAULTS.fontFamily:null),k=B.fontFeatureSettings,A=P.get(108)||B.fontSize,O=P.get(109)||B.lineHeight,F=B.fontWeight,W=B.letterSpacing,M=`${A}px`,z=`${O}px`,G=`${W}px`;L.root.style.fontSize=M,L.root.style.fontWeight=F,L.root.style.letterSpacing=G,I.style.fontFamily=R,I.style.fontFeatureSettings=k,I.style.lineHeight=z,L.icon.style.height=z,L.icon.style.width=z,L.readMore.style.height=z,L.readMore.style.width=z};return T(),L.disposables.add(this._editor.onDidChangeConfiguration(P=>{(P.hasChanged(45)||P.hasChanged(108)||P.hasChanged(109))&&T()})),L}renderElement(_,L,E){const{completion:I}=_;E.root.id=g(L),E.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,b.createMatches)(_.score)},P=[];if(I.kind===19&&m.extract(_,P))E.icon.className="icon customcolor",E.iconContainer.className="icon hide",E.colorspan.style.backgroundColor=P[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){E.icon.className="icon hide",E.iconContainer.className="icon hide";const B=(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:_.textLabel}),d.FileKind.FILE),R=(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:I.detail}),d.FileKind.FILE);T.extraClasses=B.length>R.length?B:R}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(E.icon.className="icon hide",E.iconContainer.className="icon hide",T.extraClasses=[(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:_.textLabel}),d.FileKind.FOLDER),(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:I.detail}),d.FileKind.FOLDER)].flat()):(E.icon.className="icon hide",E.iconContainer.className="",E.iconContainer.classList.add("suggest-icon",...D.CSSIcon.asClassNameArray(i.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),E.iconLabel.setLabel(_.textLabel,void 0,T),typeof I.label=="string"?(E.parametersLabel.textContent="",E.detailsLabel.textContent=p(I.detail||""),E.root.classList.add("string-label")):(E.parametersLabel.textContent=p(I.label.detail||""),E.detailsLabel.textContent=p(I.label.description||""),E.root.classList.remove("string-label")),this._editor.getOption(107).showInlineDetails?(0,f.show)(E.detailsLabel):(0,f.hide)(E.detailsLabel),(0,r.canExpandCompletionItem)(_)?(E.right.classList.add("can-expand-details"),(0,f.show)(E.readMore),E.readMore.onmousedown=B=>{B.stopPropagation(),B.preventDefault()},E.readMore.onclick=B=>{B.stopPropagation(),B.preventDefault(),this._onDidToggleDetails.fire()}):(E.right.classList.remove("can-expand-details"),(0,f.hide)(E.readMore),E.readMore.onmousedown=null,E.readMore.onclick=null)}disposeTemplate(_){_.disposables.dispose()}};S=De([ge(1,t.IModelService),ge(2,s.ILanguageService),ge(3,o.IThemeService)],S),e.ItemRenderer=S;function p(C){return C.replace(/\r\n|\r|\n/g,"")}}),define(ne[727],oe([1,0,7,89,49,2,116,8,719,78,15,404]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const i=26;let n=class extends D.Disposable{constructor(l,d){super();this._editor=l,this.instantiationService=d,this.banner=this._register(this.instantiationService.createInstance(t))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(l){this.banner.show(Object.assign(Object.assign({},l),{onClose:()=>{var d;this.hide(),(d=l.onClose)===null||d===void 0||d.call(l)}})),this._editor.setBanner(this.banner.element,i)}};n=De([ge(1,b.IInstantiationService)],n),e.BannerController=n;let t=class extends D.Disposable{constructor(l){super();this.instantiationService=l,this.markdownRenderer=this.instantiationService.createInstance(w.MarkdownRenderer,{}),this.element=(0,y.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(l){if(l.ariaLabel)return l.ariaLabel;if(typeof l.message=="string")return l.message}getBannerMessage(l){if(typeof l=="string"){const d=(0,y.$)("span");return d.innerText=l,d}return this.markdownRenderer.render(l).element}clear(){(0,y.clearNode)(this.element)}show(l){(0,y.clearNode)(this.element);const d=this.getAriaLabel(l);d&&this.element.setAttribute("aria-label",d);const a=(0,y.append)(this.element,(0,y.$)("div.icon-container"));a.setAttribute("aria-hidden","true"),l.icon&&a.appendChild((0,y.$)(`div${h.ThemeIcon.asCSSSelector(l.icon)}`));const o=(0,y.append)(this.element,(0,y.$)("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(l.message)),this.messageActionsContainer=(0,y.append)(this.element,(0,y.$)("div.message-actions-container")),l.actions)for(const c of l.actions)this._register(this.instantiationService.createInstance(v.Link,this.messageActionsContainer,Object.assign(Object.assign({},c),{tabIndex:-1}),{}));const r=(0,y.append)(this.element,(0,y.$)("div.action-container"));this.actionBar=this._register(new f.ActionBar(r)),this.actionBar.push(this._register(new N.Action("banner.close","Close Banner",h.ThemeIcon.asClassName(u.widgetClose),!0,()=>{typeof l.onClose=="function"&&l.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};t=De([ge(0,b.IInstantiationService)],t)}),define(ne[728],oe([1,0,7,4,78,15]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function w(v){const u=new f.Emitter,h=(0,N.getIconRegistry)();return h.onDidChange(()=>u.fire()),v==null||v.onDidProductIconThemeChange(()=>u.fire()),{onDidChange:u.event,getCSS(){const i=v?v.getProductIconTheme():new b,n={},t=l=>{const d=i.getIcon(l);if(!d)return;const a=d.font;return a?(n[a.id]=a.definition,`.codicon-${l.id}:before { content: '${d.fontCharacter}'; font-family: ${(0,y.asCSSPropertyValue)(a.id)}; }`):`.codicon-${l.id}:before { content: '${d.fontCharacter}'; }`},s=[];for(const l of h.getIcons()){const d=t(l);d&&s.push(d)}for(const l in n){const d=n[l],a=d.weight?`font-weight: ${d.weight};`:"",o=d.style?`font-style: ${d.style};`:"",r=d.src.map(c=>`${(0,y.asCSSUrl)(c.location)} format('${c.format}')`).join(", ");s.push(`@font-face { src: ${r}; font-family: ${(0,y.asCSSPropertyValue)(l)};${a}${o} font-display: block; }`)}return s.join(`
`)}}}e.getIconsStyleSheet=w;class b{getIcon(u){const h=(0,N.getIconRegistry)();let i=u.defaults;for(;D.ThemeIcon.isThemeIcon(i);){const n=h.getIcon(i.id);if(!n)return;i=n.defaults}return i}}e.UnthemedProductIconTheme=b}),define(ne[729],oe([1,0,7,36,31,4,28,109,434,681,35,25,15,2,56,728]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=void 0;const d="vs",a="vs-dark",o="hc-black",r="hc-light",c=h.Registry.as(i.Extensions.ColorContribution),g=h.Registry.as(n.Extensions.ThemingContribution);class m{constructor(E,I){this.semanticHighlighting=!1,this.themeData=I;const T=I.base;E.length>0?(S(E)?this.id=E:this.id=T+" "+E,this.themeName=E):(this.id=T,this.themeName=T),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const E=new Map;for(const I in this.themeData.colors)E.set(I,N.Color.fromHex(this.themeData.colors[I]));if(this.themeData.inherit){const I=p(this.themeData.base);for(const T in I.colors)E.has(T)||E.set(T,N.Color.fromHex(I.colors[T]))}this.colors=E}return this.colors}getColor(E,I){const T=this.getColors().get(E);if(T)return T;if(I!==!1)return this.getDefault(E)}getDefault(E){let I=this.defaultColors[E];return I||(I=c.resolveDefaultColor(E,this),this.defaultColors[E]=I,I)}defines(E){return Object.prototype.hasOwnProperty.call(this.getColors(),E)}get type(){switch(this.base){case d:return s.ColorScheme.LIGHT;case o:return s.ColorScheme.HIGH_CONTRAST_DARK;case r:return s.ColorScheme.HIGH_CONTRAST_LIGHT;default:return s.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let E=[],I=[];if(this.themeData.inherit){const B=p(this.themeData.base);E=B.rules,B.encodedTokensColors&&(I=B.encodedTokensColors)}const T=this.themeData.colors["editor.foreground"],P=this.themeData.colors["editor.background"];if(T||P){const B={token:""};T&&(B.foreground=T),P&&(B.background=P),E.push(B)}E=E.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(I=this.themeData.encodedTokensColors),this._tokenTheme=v.TokenTheme.createFromRawTokenTheme(E,I)}return this._tokenTheme}getTokenStyleMetadata(E,I,T){const B=this.tokenTheme._match([E].concat(I).join(".")).metadata,R=b.TokenMetadata.getForeground(B),k=b.TokenMetadata.getFontStyle(B);return{foreground:R,italic:Boolean(k&1),bold:Boolean(k&2),underline:Boolean(k&4),strikethrough:Boolean(k&8)}}}function S(L){return L===d||L===a||L===o||L===r}function p(L){switch(L){case d:return u.vs;case a:return u.vs_dark;case o:return u.hc_black;case r:return u.hc_light}}function C(L){const E=p(L);return new m(L,E)}class _ extends t.Disposable{constructor(){super();this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new l.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(d,C(d)),this._knownThemes.set(a,C(a)),this._knownThemes.set(o,C(o)),this._knownThemes.set(r,C(r));const E=(0,l.getIconsStyleSheet)(this);this._codiconCSS=E.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(d),E.onDidChange(()=>{this._codiconCSS=E.getCSS(),this._updateCSS()}),(0,f.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(E){return y.isInShadowDOM(E)?this._registerShadowDomContainer(E):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=y.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),t.Disposable.None}_registerShadowDomContainer(E){const I=y.createStyleSheet(E);return I.className="monaco-colors",I.textContent=this._allCSS,this._styleElements.push(I),{dispose:()=>{for(let T=0;T<this._styleElements.length;T++)if(this._styleElements[T]===I){this._styleElements.splice(T,1);return}}}}defineTheme(E,I){if(!/^[a-z0-9\-]+$/i.test(E))throw new Error("Illegal theme name!");if(!S(I.base)&&!S(E))throw new Error("Illegal theme base!");this._knownThemes.set(E,new m(E,I)),S(E)&&this._knownThemes.forEach(T=>{T.base===E&&T.notifyBaseUpdated()}),this._theme.themeName===E&&this.setTheme(E)}getColorTheme(){return this._theme}setColorMapOverride(E){this._colorMapOverride=E,this._updateThemeOrColorMap()}setTheme(E){let I;this._knownThemes.has(E)?I=this._knownThemes.get(E):I=this._knownThemes.get(d),this._desiredTheme=I,this._updateActualTheme()}getHighContrastTheme(){return(0,s.isDark)(this._desiredTheme.type)?o:r}_updateActualTheme(){const E=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(this.getHighContrastTheme()):this._desiredTheme;this._theme!==E&&(this._theme=E,this._updateThemeOrColorMap())}setAutoDetectHighContrast(E){this._autoDetectHighContrast=E,this._updateActualTheme()}_updateThemeOrColorMap(){const E=[],I={},T={addRule:R=>{I[R]||(E.push(R),I[R]=!0)}};g.getThemingParticipants().forEach(R=>R(this._theme,T,this._environment));const P=[];for(const R of c.getColors()){const k=this._theme.getColor(R.id,!0);k&&P.push(`${(0,i.asCssVariableName)(R.id)}: ${k.toString()};`)}T.addRule(`.monaco-editor { ${P.join(`
`)} }`);const B=this._colorMapOverride||this._theme.tokenTheme.getColorMap();T.addRule((0,v.generateTokensCSSForColorMap)(B)),this._themeCSS=E.join(`
`),this._updateCSS(),w.TokenizationRegistry.setColorMap(B),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(E=>E.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=_}),define(ne[168],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,y.createDecorator)("undoRedoService");class f{constructor(b,v){this.resource=b,this.elements=v}}e.ResourceEditStackSnapshot=f;class N{constructor(){this.id=N._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=N,N._ID=0,N.None=new N;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(ne[37],oe([1,0,18,31,13,4,2,9,22,129,184,11,3,23,152,38,32,48,447,672,281,259,439,440,256,443,157,457,98,168]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function T(){return new C.PieceTreeTextBufferBuilder}function P(se){const Y=T();return Y.acceptChunk(se),Y.finish()}e.createTextBufferFactory=P;function B(se,Y){return(typeof se=="string"?P(se):se).create(Y)}e.createTextBuffer=B;let R=0;const k=999;e.LONG_LINE_BOUNDARY=1e4;class A{constructor(Y){this._source=Y,this._eos=!1}read(){if(this._eos)return null;const Y=[];let de=0,H=0;do{const $=this._source.read();if($===null)return this._eos=!0,de===0?null:Y.join("");if($.length>0&&(Y[de++]=$,H+=$.length),H>=64*1024)return Y.join("")}while(!0)}}const O=()=>{throw new Error("Invalid change accessor")};let F=class Mt extends w.Disposable{constructor(Y,de,H,$=null,K,V,Q){super();this._undoRedoService=K,this._languageService=V,this._languageConfigurationService=Q,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new q(ve=>this.handleBeforeFireDecorationsChangedEvent(ve))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new le),this._deltaDecorationCallCnt=0,R++,this.id="$model"+R,this.isForSimpleWidget=H.isForSimpleWidget,typeof $=="undefined"||$===null?this._associatedResource=v.URI.parse("inmemory://model/"+R):this._associatedResource=$,this._attachedEditorCount=0;const{textBuffer:ee,disposable:ae}=B(Y,H.defaultEOL);this._buffer=ee,this._bufferDisposable=ae,this._options=Mt.resolveOptions(this._buffer,H),this._bracketPairs=this._register(new o.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new g.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new r.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new L.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,de);const fe=this._buffer.getLineCount(),pe=this._buffer.getValueLengthInRange(new n.Range(1,1,fe,this._buffer.getLineLength(fe)+1),0);H.largeFileOptimizations?this._isTooLargeForTokenization=pe>Mt.LARGE_FILE_SIZE_THRESHOLD||fe>Mt.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=pe>Mt.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=b.singleLetterHash(R),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new G,this._commandManager=new c.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(Y,de){if(de.detectIndentation){const H=(0,m.guessIndentation)(Y,de.tabSize,de.insertSpaces);return new a.TextModelResolvedOptions({tabSize:H.tabSize,indentSize:H.tabSize,insertSpaces:H.insertSpaces,trimAutoWhitespace:de.trimAutoWhitespace,defaultEOL:de.defaultEOL,bracketPairColorizationOptions:de.bracketPairColorizationOptions})}return new a.TextModelResolvedOptions({tabSize:de.tabSize,indentSize:de.indentSize,insertSpaces:de.insertSpaces,trimAutoWhitespace:de.trimAutoWhitespace,defaultEOL:de.defaultEOL,bracketPairColorizationOptions:de.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(Y){return this._eventEmitter.slowEvent(de=>Y(de.contentChangedEvent))}onDidChangeContentOrInjectedText(Y){return(0,w.combinedDisposable)(this._eventEmitter.fastEvent(de=>Y(de)),this._onDidChangeInjectedText.event(de=>Y(de)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const Y=new p.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);Y.dispose(),this._buffer=Y,this._bufferDisposable=w.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(Y,de){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(de),this._bracketPairs.handleDidChangeContent(de),this._eventEmitter.fire(new E.InternalModelContentChangeEvent(Y,de)))}setValue(Y){if(this._assertNotDisposed(),Y===null)return;const{textBuffer:de,disposable:H}=B(Y,this._options.defaultEOL);this._setValueFromTextBuffer(de,H)}_createContentChanged2(Y,de,H,$,K,V,Q){return{changes:[{range:Y,rangeOffset:de,rangeLength:H,text:$}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:K,isRedoing:V,isFlush:Q}}_setValueFromTextBuffer(Y,de){this._assertNotDisposed();const H=this.getFullModelRange(),$=this.getValueLengthInRange(H),K=this.getLineCount(),V=this.getLineMaxColumn(K);this._buffer=Y,this._bufferDisposable.dispose(),this._bufferDisposable=de,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new G,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,K,V),0,$,this.getValue(),!1,!1,!0))}setEOL(Y){this._assertNotDisposed();const de=Y===1?`\r
`:`
`;if(this._buffer.getEOL()===de)return;const H=this.getFullModelRange(),$=this.getValueLengthInRange(H),K=this.getLineCount(),V=this.getLineMaxColumn(K);this._onBeforeEOLChange(),this._buffer.setEOL(de),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,K,V),0,$,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const Y=this.getVersionId(),de=this._decorationsTree.collectNodesPostOrder();for(let H=0,$=de.length;H<$;H++){const K=de[H],V=K.range,Q=K.cachedAbsoluteStart-K.start,ee=this._buffer.getOffsetAt(V.startLineNumber,V.startColumn),ae=this._buffer.getOffsetAt(V.endLineNumber,V.endColumn);K.cachedAbsoluteStart=ee,K.cachedAbsoluteEnd=ae,K.cachedVersionId=Y,K.start=ee-Q,K.end=ae-Q,(0,S.recomputeMaxEnd)(K)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let Y=0,de=0;const H=this._buffer.getLineCount();for(let $=1;$<=H;$++){const K=this._buffer.getLineLength($);K>=e.LONG_LINE_BOUNDARY?de+=K:Y+=K}return de>Y}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(Y){this._assertNotDisposed();const de=typeof Y.tabSize!="undefined"?Y.tabSize:this._options.tabSize,H=typeof Y.indentSize!="undefined"?Y.indentSize:this._options.indentSize,$=typeof Y.insertSpaces!="undefined"?Y.insertSpaces:this._options.insertSpaces,K=typeof Y.trimAutoWhitespace!="undefined"?Y.trimAutoWhitespace:this._options.trimAutoWhitespace,V=typeof Y.bracketColorizationOptions!="undefined"?Y.bracketColorizationOptions:this._options.bracketPairColorizationOptions,Q=new a.TextModelResolvedOptions({tabSize:de,indentSize:H,insertSpaces:$,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:K,bracketPairColorizationOptions:V});if(this._options.equals(Q))return;const ee=this._options.createChangeEvent(Q);this._options=Q,this._bracketPairs.handleDidChangeOptions(ee),this._decorationProvider.handleDidChangeOptions(ee),this._onDidChangeOptions.fire(ee)}detectIndentation(Y,de){this._assertNotDisposed();const H=(0,m.guessIndentation)(this._buffer,de,Y);this.updateOptions({insertSpaces:H.insertSpaces,tabSize:H.tabSize,indentSize:H.tabSize})}normalizeIndentation(Y){return this._assertNotDisposed(),(0,h.normalizeIndentation)(Y,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(Y=null){const de=this.findMatches(b.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(Y,de.map(H=>({range:H.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(Y){this._assertNotDisposed();const de=this._validatePosition(Y.lineNumber,Y.column,0);return this._buffer.getOffsetAt(de.lineNumber,de.column)}getPositionAt(Y){this._assertNotDisposed();const de=Math.min(this._buffer.getLength(),Math.max(0,Y));return this._buffer.getPositionAt(de)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(Y){this._versionId=Y}_overwriteAlternativeVersionId(Y){this._alternativeVersionId=Y}_overwriteInitialUndoRedoSnapshot(Y){this._initialUndoRedoSnapshot=Y}getValue(Y,de=!1){this._assertNotDisposed();const H=this.getFullModelRange(),$=this.getValueInRange(H,Y);return de?this._buffer.getBOM()+$:$}createSnapshot(Y=!1){return new A(this._buffer.createSnapshot(Y))}getValueLength(Y,de=!1){this._assertNotDisposed();const H=this.getFullModelRange(),$=this.getValueLengthInRange(H,Y);return de?this._buffer.getBOM().length+$:$}getValueInRange(Y,de=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(Y),de)}getValueLengthInRange(Y,de=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(Y),de)}getCharacterCountInRange(Y,de=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(Y),de)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(Y)}getLineLength(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(Y)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(Y){return this._assertNotDisposed(),1}getLineMaxColumn(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(Y)+1}getLineFirstNonWhitespaceColumn(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(Y)}getLineLastNonWhitespaceColumn(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(Y)}_validateRangeRelaxedNoAllocations(Y){const de=this._buffer.getLineCount(),H=Y.startLineNumber,$=Y.startColumn;let K=Math.floor(typeof H=="number"&&!isNaN(H)?H:1),V=Math.floor(typeof $=="number"&&!isNaN($)?$:1);if(K<1)K=1,V=1;else if(K>de)K=de,V=this.getLineMaxColumn(K);else if(V<=1)V=1;else{const pe=this.getLineMaxColumn(K);V>=pe&&(V=pe)}const Q=Y.endLineNumber,ee=Y.endColumn;let ae=Math.floor(typeof Q=="number"&&!isNaN(Q)?Q:1),fe=Math.floor(typeof ee=="number"&&!isNaN(ee)?ee:1);if(ae<1)ae=1,fe=1;else if(ae>de)ae=de,fe=this.getLineMaxColumn(ae);else if(fe<=1)fe=1;else{const pe=this.getLineMaxColumn(ae);fe>=pe&&(fe=pe)}return H===K&&$===V&&Q===ae&&ee===fe&&Y instanceof n.Range&&!(Y instanceof t.Selection)?Y:new n.Range(K,V,ae,fe)}_isValidPosition(Y,de,H){if(typeof Y!="number"||typeof de!="number"||isNaN(Y)||isNaN(de)||Y<1||de<1||(Y|0)!==Y||(de|0)!==de)return!1;const $=this._buffer.getLineCount();if(Y>$)return!1;if(de===1)return!0;const K=this.getLineMaxColumn(Y);if(de>K)return!1;if(H===1){const V=this._buffer.getLineCharCode(Y,de-2);if(b.isHighSurrogate(V))return!1}return!0}_validatePosition(Y,de,H){const $=Math.floor(typeof Y=="number"&&!isNaN(Y)?Y:1),K=Math.floor(typeof de=="number"&&!isNaN(de)?de:1),V=this._buffer.getLineCount();if($<1)return new i.Position(1,1);if($>V)return new i.Position(V,this.getLineMaxColumn(V));if(K<=1)return new i.Position($,1);const Q=this.getLineMaxColumn($);if(K>=Q)return new i.Position($,Q);if(H===1){const ee=this._buffer.getLineCharCode($,K-2);if(b.isHighSurrogate(ee))return new i.Position($,K-1)}return new i.Position($,K)}validatePosition(Y){const de=1;return this._assertNotDisposed(),Y instanceof i.Position&&this._isValidPosition(Y.lineNumber,Y.column,de)?Y:this._validatePosition(Y.lineNumber,Y.column,de)}_isValidRange(Y,de){const H=Y.startLineNumber,$=Y.startColumn,K=Y.endLineNumber,V=Y.endColumn;if(!this._isValidPosition(H,$,0)||!this._isValidPosition(K,V,0))return!1;if(de===1){const Q=$>1?this._buffer.getLineCharCode(H,$-2):0,ee=V>1&&V<=this._buffer.getLineLength(K)?this._buffer.getLineCharCode(K,V-2):0,ae=b.isHighSurrogate(Q),fe=b.isHighSurrogate(ee);return!ae&&!fe}return!0}validateRange(Y){const de=1;if(this._assertNotDisposed(),Y instanceof n.Range&&!(Y instanceof t.Selection)&&this._isValidRange(Y,de))return Y;const H=this._validatePosition(Y.startLineNumber,Y.startColumn,0),$=this._validatePosition(Y.endLineNumber,Y.endColumn,0),K=H.lineNumber,V=H.column,Q=$.lineNumber,ee=$.column;if(de===1){const ae=V>1?this._buffer.getLineCharCode(K,V-2):0,fe=ee>1&&ee<=this._buffer.getLineLength(Q)?this._buffer.getLineCharCode(Q,ee-2):0,pe=b.isHighSurrogate(ae),ve=b.isHighSurrogate(fe);return!pe&&!ve?new n.Range(K,V,Q,ee):K===Q&&V===ee?new n.Range(K,V-1,Q,ee-1):pe&&ve?new n.Range(K,V-1,Q,ee+1):pe?new n.Range(K,V-1,Q,ee):new n.Range(K,V,Q,ee+1)}return new n.Range(K,V,Q,ee)}modifyPosition(Y,de){this._assertNotDisposed();const H=this.getOffsetAt(Y)+de;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,H)))}getFullModelRange(){this._assertNotDisposed();const Y=this.getLineCount();return new n.Range(1,1,Y,this.getLineMaxColumn(Y))}findMatchesLineByLine(Y,de,H,$){return this._buffer.findMatchesLineByLine(Y,de,H,$)}findMatches(Y,de,H,$,K,V,Q=k){this._assertNotDisposed();let ee=null;de!==null&&(Array.isArray(de)||(de=[de]),de.every(pe=>n.Range.isIRange(pe))&&(ee=de.map(pe=>this.validateRange(pe)))),ee===null&&(ee=[this.getFullModelRange()]),ee=ee.sort((pe,ve)=>pe.startLineNumber-ve.startLineNumber||pe.startColumn-ve.startColumn);const ae=[];ae.push(ee.reduce((pe,ve)=>n.Range.areIntersecting(pe,ve)?pe.plusRange(ve):(ae.push(pe),ve)));let fe;if(!H&&Y.indexOf(`
`)<0){const ve=new _.SearchParams(Y,H,$,K).parseSearchRequest();if(!ve)return[];fe=ue=>this.findMatchesLineByLine(ue,ve,V,Q)}else fe=pe=>_.TextModelSearch.findMatches(this,new _.SearchParams(Y,H,$,K),pe,V,Q);return ae.map(fe).reduce((pe,ve)=>pe.concat(ve),[])}findNextMatch(Y,de,H,$,K,V){this._assertNotDisposed();const Q=this.validatePosition(de);if(!H&&Y.indexOf(`
`)<0){const ae=new _.SearchParams(Y,H,$,K).parseSearchRequest();if(!ae)return null;const fe=this.getLineCount();let pe=new n.Range(Q.lineNumber,Q.column,fe,this.getLineMaxColumn(fe)),ve=this.findMatchesLineByLine(pe,ae,V,1);return _.TextModelSearch.findNextMatch(this,new _.SearchParams(Y,H,$,K),Q,V),ve.length>0||(pe=new n.Range(1,1,Q.lineNumber,this.getLineMaxColumn(Q.lineNumber)),ve=this.findMatchesLineByLine(pe,ae,V,1),ve.length>0)?ve[0]:null}return _.TextModelSearch.findNextMatch(this,new _.SearchParams(Y,H,$,K),Q,V)}findPreviousMatch(Y,de,H,$,K,V){this._assertNotDisposed();const Q=this.validatePosition(de);return _.TextModelSearch.findPreviousMatch(this,new _.SearchParams(Y,H,$,K),Q,V)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(Y){if((this.getEOL()===`
`?0:1)!==Y)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(Y)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(Y){return Y instanceof a.ValidAnnotatedEditOperation?Y:new a.ValidAnnotatedEditOperation(Y.identifier||null,this.validateRange(Y.range),Y.text,Y.forceMoveMarkers||!1,Y.isAutoWhitespaceEdit||!1,Y._isTracked||!1)}_validateEditOperations(Y){const de=[];for(let H=0,$=Y.length;H<$;H++)de[H]=this._validateEditOperation(Y[H]);return de}pushEditOperations(Y,de,H){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(Y,this._validateEditOperations(de),H)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(Y,de,H){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const $=de.map(V=>({range:this.validateRange(V.range),text:V.text}));let K=!0;if(Y)for(let V=0,Q=Y.length;V<Q;V++){const ee=Y[V];let ae=!1;for(let fe=0,pe=$.length;fe<pe;fe++){const ve=$[fe].range,ue=ve.startLineNumber>ee.endLineNumber,Ce=ee.startLineNumber>ve.endLineNumber;if(!ue&&!Ce){ae=!0;break}}if(!ae){K=!1;break}}if(K)for(let V=0,Q=this._trimAutoWhitespaceLines.length;V<Q;V++){const ee=this._trimAutoWhitespaceLines[V],ae=this.getLineMaxColumn(ee);let fe=!0;for(let pe=0,ve=$.length;pe<ve;pe++){const ue=$[pe].range,Ce=$[pe].text;if(!(ee<ue.startLineNumber||ee>ue.endLineNumber)&&!(ee===ue.startLineNumber&&ue.startColumn===ae&&ue.isEmpty()&&Ce&&Ce.length>0&&Ce.charAt(0)===`
`)&&!(ee===ue.startLineNumber&&ue.startColumn===1&&ue.isEmpty()&&Ce&&Ce.length>0&&Ce.charAt(Ce.length-1)===`
`)){fe=!1;break}}if(fe){const pe=new n.Range(ee,1,ee,ae);de.push(new a.ValidAnnotatedEditOperation(null,pe,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(Y,de,H)}_applyUndo(Y,de,H,$){const K=Y.map(V=>{const Q=this.getPositionAt(V.newPosition),ee=this.getPositionAt(V.newEnd);return{range:new n.Range(Q.lineNumber,Q.column,ee.lineNumber,ee.column),text:V.oldText}});this._applyUndoRedoEdits(K,de,!0,!1,H,$)}_applyRedo(Y,de,H,$){const K=Y.map(V=>{const Q=this.getPositionAt(V.oldPosition),ee=this.getPositionAt(V.oldEnd);return{range:new n.Range(Q.lineNumber,Q.column,ee.lineNumber,ee.column),text:V.newText}});this._applyUndoRedoEdits(K,de,!1,!0,H,$)}_applyUndoRedoEdits(Y,de,H,$,K,V){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=H,this._isRedoing=$,this.applyEdits(Y,!1),this.setEOL(de),this._overwriteAlternativeVersionId(K)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(V),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(Y,de=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const H=this._validateEditOperations(Y);return this._doApplyEdits(H,de)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(Y,de){const H=this._buffer.getLineCount(),$=this._buffer.applyEdits(Y,this._options.trimAutoWhitespace,de),K=this._buffer.getLineCount(),V=$.changes;if(this._trimAutoWhitespaceLines=$.trimAutoWhitespaceLineNumbers,V.length!==0){for(let ae=0,fe=V.length;ae<fe;ae++){const pe=V[ae],[ve,ue,Ce]=(0,u.countEOL)(pe.text);this._tokenizationTextModelPart.acceptEdit(pe.range,pe.text,ve,ue,Ce),this._decorationsTree.acceptReplace(pe.rangeOffset,pe.rangeLength,pe.text.length,pe.forceMoveMarkers)}const Q=[];this._increaseVersionId();let ee=H;for(let ae=0,fe=V.length;ae<fe;ae++){const pe=V[ae],[ve]=(0,u.countEOL)(pe.text);this._onDidChangeDecorations.fire();const ue=pe.range.startLineNumber,Ce=pe.range.endLineNumber,me=Ce-ue,be=ve,ce=Math.min(me,be),he=be-me,we=K-ee-he+ue,ye=we,Te=we+be,ke=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new i.Position(ye,1)),this.getOffsetAt(new i.Position(Te,this.getLineMaxColumn(Te))),0),Ne=E.LineInjectedText.fromDecorations(ke),Oe=new y.ArrayQueue(Ne);for(let Se=ce;Se>=0;Se--){const _e=ue+Se,Ee=we+Se;Oe.takeFromEndWhile(Re=>Re.lineNumber>Ee);const Ae=Oe.takeFromEndWhile(Re=>Re.lineNumber===Ee);Q.push(new E.ModelRawLineChanged(_e,this.getLineContent(Ee),Ae))}if(ce<me){const Se=ue+ce;Q.push(new E.ModelRawLinesDeleted(Se+1,Ce))}if(ce<be){const Se=new y.ArrayQueue(Ne),_e=ue+ce,Ee=be-ce,Ae=K-ee-Ee+_e+1,Re=[],Ve=[];for(let He=0;He<Ee;He++){const ze=Ae+He;Ve[He]=this.getLineContent(ze),Se.takeWhile(Ye=>Ye.lineNumber<ze),Re[He]=Se.takeWhile(Ye=>Ye.lineNumber===ze)}Q.push(new E.ModelRawLinesInserted(_e+1,ue+be,Ve,Re))}ee+=he}this._emitContentChangedEvent(new E.ModelRawContentChangedEvent(Q,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:V,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return $.reverseEdits===null?void 0:$.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(Y){if(Y===null||Y.size===0)return;const H=Array.from(Y).map($=>new E.ModelRawLineChanged($,this.getLineContent($),this._getInjectedTextInLine($)));this._onDidChangeInjectedText.fire(new E.ModelInjectedTextChangedEvent(H))}changeDecorations(Y,de=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(de,Y)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(Y,de){const H={addDecoration:(K,V)=>this._deltaDecorationsImpl(Y,[],[{range:K,options:V}])[0],changeDecoration:(K,V)=>{this._changeDecorationImpl(K,V)},changeDecorationOptions:(K,V)=>{this._changeDecorationOptionsImpl(K,U(V))},removeDecoration:K=>{this._deltaDecorationsImpl(Y,[K],[])},deltaDecorations:(K,V)=>K.length===0&&V.length===0?[]:this._deltaDecorationsImpl(Y,K,V)};let $=null;try{$=de(H)}catch(K){(0,N.onUnexpectedError)(K)}return H.addDecoration=O,H.changeDecoration=O,H.changeDecorationOptions=O,H.removeDecoration=O,H.deltaDecorations=O,$}deltaDecorations(Y,de,H=0){if(this._assertNotDisposed(),Y||(Y=[]),Y.length===0&&de.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,N.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(H,Y,de)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(Y){return this.getDecorationRange(Y)}_setTrackedRange(Y,de,H){const $=Y?this._decorations[Y]:null;if(!$)return de?this._deltaDecorationsImpl(0,[],[{range:de,options:x[H]}])[0]:null;if(!de)return this._decorationsTree.delete($),delete this._decorations[$.id],null;const K=this._validateRangeRelaxedNoAllocations(de),V=this._buffer.getOffsetAt(K.startLineNumber,K.startColumn),Q=this._buffer.getOffsetAt(K.endLineNumber,K.endColumn);return this._decorationsTree.delete($),$.reset(this.getVersionId(),V,Q,K),$.setOptions(x[H]),this._decorationsTree.insert($),$.id}removeAllDecorationsWithOwnerId(Y){if(this._isDisposed)return;const de=this._decorationsTree.collectNodesFromOwner(Y);for(let H=0,$=de.length;H<$;H++){const K=de[H];this._decorationsTree.delete(K),delete this._decorations[K.id]}}getDecorationOptions(Y){const de=this._decorations[Y];return de?de.options:null}getDecorationRange(Y){const de=this._decorations[Y];return de?this._decorationsTree.getNodeRange(this,de):null}getLineDecorations(Y,de=0,H=!1){return Y<1||Y>this.getLineCount()?[]:this.getLinesDecorations(Y,Y,de,H)}getLinesDecorations(Y,de,H=0,$=!1){const K=this.getLineCount(),V=Math.min(K,Math.max(1,Y)),Q=Math.min(K,Math.max(1,de)),ee=this.getLineMaxColumn(Q),ae=new n.Range(V,1,Q,ee),fe=this._getDecorationsInRange(ae,H,$);return(0,y.pushMany)(fe,this._decorationProvider.getDecorationsInRange(ae,H,$)),fe}getDecorationsInRange(Y,de=0,H=!1){const $=this.validateRange(Y),K=this._getDecorationsInRange($,de,H);return(0,y.pushMany)(K,this._decorationProvider.getDecorationsInRange($,de,H)),K}getOverviewRulerDecorations(Y=0,de=!1){return this._decorationsTree.getAll(this,Y,de,!0)}getInjectedTextDecorations(Y=0){return this._decorationsTree.getAllInjectedText(this,Y)}_getInjectedTextInLine(Y){const de=this._buffer.getOffsetAt(Y,1),H=de+this._buffer.getLineLength(Y),$=this._decorationsTree.getInjectedTextInInterval(this,de,H,0);return E.LineInjectedText.fromDecorations($).filter(K=>K.lineNumber===Y)}getAllDecorations(Y=0,de=!1){let H=this._decorationsTree.getAll(this,Y,de,!1);return H=H.concat(this._decorationProvider.getAllDecorations(Y,de)),H}_getDecorationsInRange(Y,de,H){const $=this._buffer.getOffsetAt(Y.startLineNumber,Y.startColumn),K=this._buffer.getOffsetAt(Y.endLineNumber,Y.endColumn);return this._decorationsTree.getAllInInterval(this,$,K,de,H)}getRangeAt(Y,de){return this._buffer.getRangeAt(Y,de-Y)}_changeDecorationImpl(Y,de){const H=this._decorations[Y];if(!H)return;if(H.options.after){const Q=this.getDecorationRange(Y);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Q.endLineNumber)}if(H.options.before){const Q=this.getDecorationRange(Y);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Q.startLineNumber)}const $=this._validateRangeRelaxedNoAllocations(de),K=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),V=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);this._decorationsTree.delete(H),H.reset(this.getVersionId(),K,V,$),this._decorationsTree.insert(H),this._onDidChangeDecorations.checkAffectedAndFire(H.options),H.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText($.endLineNumber),H.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText($.startLineNumber)}_changeDecorationOptionsImpl(Y,de){const H=this._decorations[Y];if(!H)return;const $=!!(H.options.overviewRuler&&H.options.overviewRuler.color),K=!!(de.overviewRuler&&de.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(H.options),this._onDidChangeDecorations.checkAffectedAndFire(de),H.options.after||de.after){const V=this._decorationsTree.getNodeRange(this,H);this._onDidChangeDecorations.recordLineAffectedByInjectedText(V.endLineNumber)}if(H.options.before||de.before){const V=this._decorationsTree.getNodeRange(this,H);this._onDidChangeDecorations.recordLineAffectedByInjectedText(V.startLineNumber)}$!==K?(this._decorationsTree.delete(H),H.setOptions(de),this._decorationsTree.insert(H)):H.setOptions(de)}_deltaDecorationsImpl(Y,de,H){const $=this.getVersionId(),K=de.length;let V=0;const Q=H.length;let ee=0;const ae=new Array(Q);for(;V<K||ee<Q;){let fe=null;if(V<K){do fe=this._decorations[de[V++]];while(!fe&&V<K);if(fe){if(fe.options.after){const pe=this._decorationsTree.getNodeRange(this,fe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(pe.endLineNumber)}if(fe.options.before){const pe=this._decorationsTree.getNodeRange(this,fe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(pe.startLineNumber)}this._decorationsTree.delete(fe),this._onDidChangeDecorations.checkAffectedAndFire(fe.options)}}if(ee<Q){if(!fe){const be=++this._lastDecorationId,ce=`${this._instanceId};${be}`;fe=new S.IntervalNode(ce,0,0),this._decorations[ce]=fe}const pe=H[ee],ve=this._validateRangeRelaxedNoAllocations(pe.range),ue=U(pe.options),Ce=this._buffer.getOffsetAt(ve.startLineNumber,ve.startColumn),me=this._buffer.getOffsetAt(ve.endLineNumber,ve.endColumn);fe.ownerId=Y,fe.reset($,Ce,me,ve),fe.setOptions(ue),fe.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber),fe.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(ue),this._decorationsTree.insert(fe),ae[ee]=fe.id,ee++}else fe&&delete this._decorations[fe.id]}return ae}getLanguageId(){return this.tokenization.getLanguageId()}setMode(Y){this.tokenization.setLanguageId(Y)}getLanguageIdAtPosition(Y,de){return this.tokenization.getLanguageIdAtPosition(Y,de)}getWordAtPosition(Y){return this._tokenizationTextModelPart.getWordAtPosition(Y)}getWordUntilPosition(Y){return this._tokenizationTextModelPart.getWordUntilPosition(Y)}normalizePosition(Y,de){return Y}getLineIndentColumn(Y){return W(this.getLineContent(Y))+1}};F.MODEL_SYNC_LIMIT=50*1024*1024,F.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,F.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,F.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:s.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:s.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:s.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:s.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:s.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:s.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},F=De([ge(4,I.IUndoRedoService),ge(5,l.ILanguageService),ge(6,d.ILanguageConfigurationService)],F),e.TextModel=F;function W(se){let Y=0;for(const de of se)if(de===" "||de==="	")Y++;else break;return Y}function M(se){return!!(se.options.overviewRuler&&se.options.overviewRuler.color)}function z(se){return!!se.options.after||!!se.options.before}class G{constructor(){this._decorationsTree0=new S.IntervalTree,this._decorationsTree1=new S.IntervalTree,this._injectedTextDecorationsTree=new S.IntervalTree}ensureAllNodesHaveRanges(Y){this.getAll(Y,0,!1,!1)}_ensureNodesHaveRanges(Y,de){for(const H of de)H.range===null&&(H.range=Y.getRangeAt(H.cachedAbsoluteStart,H.cachedAbsoluteEnd));return de}getAllInInterval(Y,de,H,$,K){const V=Y.getVersionId(),Q=this._intervalSearch(de,H,$,K,V);return this._ensureNodesHaveRanges(Y,Q)}_intervalSearch(Y,de,H,$,K){const V=this._decorationsTree0.intervalSearch(Y,de,H,$,K),Q=this._decorationsTree1.intervalSearch(Y,de,H,$,K),ee=this._injectedTextDecorationsTree.intervalSearch(Y,de,H,$,K);return V.concat(Q).concat(ee)}getInjectedTextInInterval(Y,de,H,$){const K=Y.getVersionId(),V=this._injectedTextDecorationsTree.intervalSearch(de,H,$,!1,K);return this._ensureNodesHaveRanges(Y,V).filter(Q=>Q.options.showIfCollapsed||!Q.range.isEmpty())}getAllInjectedText(Y,de){const H=Y.getVersionId(),$=this._injectedTextDecorationsTree.search(de,!1,H);return this._ensureNodesHaveRanges(Y,$).filter(K=>K.options.showIfCollapsed||!K.range.isEmpty())}getAll(Y,de,H,$){const K=Y.getVersionId(),V=this._search(de,H,$,K);return this._ensureNodesHaveRanges(Y,V)}_search(Y,de,H,$){if(H)return this._decorationsTree1.search(Y,de,$);{const K=this._decorationsTree0.search(Y,de,$),V=this._decorationsTree1.search(Y,de,$),Q=this._injectedTextDecorationsTree.search(Y,de,$);return K.concat(V).concat(Q)}}collectNodesFromOwner(Y){const de=this._decorationsTree0.collectNodesFromOwner(Y),H=this._decorationsTree1.collectNodesFromOwner(Y),$=this._injectedTextDecorationsTree.collectNodesFromOwner(Y);return de.concat(H).concat($)}collectNodesPostOrder(){const Y=this._decorationsTree0.collectNodesPostOrder(),de=this._decorationsTree1.collectNodesPostOrder(),H=this._injectedTextDecorationsTree.collectNodesPostOrder();return Y.concat(de).concat(H)}insert(Y){z(Y)?this._injectedTextDecorationsTree.insert(Y):M(Y)?this._decorationsTree1.insert(Y):this._decorationsTree0.insert(Y)}delete(Y){z(Y)?this._injectedTextDecorationsTree.delete(Y):M(Y)?this._decorationsTree1.delete(Y):this._decorationsTree0.delete(Y)}getNodeRange(Y,de){const H=Y.getVersionId();return de.cachedVersionId!==H&&this._resolveNode(de,H),de.range===null&&(de.range=Y.getRangeAt(de.cachedAbsoluteStart,de.cachedAbsoluteEnd)),de.range}_resolveNode(Y,de){z(Y)?this._injectedTextDecorationsTree.resolveNode(Y,de):M(Y)?this._decorationsTree1.resolveNode(Y,de):this._decorationsTree0.resolveNode(Y,de)}acceptReplace(Y,de,H,$){this._decorationsTree0.acceptReplace(Y,de,H,$),this._decorationsTree1.acceptReplace(Y,de,H,$),this._injectedTextDecorationsTree.acceptReplace(Y,de,H,$)}}function te(se){return se.replace(/[^a-z0-9\-_]/gi," ")}class X{constructor(Y){this.color=Y.color||"",this.darkColor=Y.darkColor||""}}class J extends X{constructor(Y){super(Y);this._resolvedColor=null,this.position=typeof Y.position=="number"?Y.position:a.OverviewRulerLane.Center}getColor(Y){return this._resolvedColor||(Y.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,Y):this._resolvedColor=this._resolveColor(this.color,Y)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(Y,de){if(typeof Y=="string")return Y;const H=Y?de.getColor(Y.id):null;return H?H.toString():""}}e.ModelDecorationOverviewRulerOptions=J;class ie extends X{constructor(Y){super(Y);this.position=Y.position}getColor(Y){return this._resolvedColor||(Y.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,Y):this._resolvedColor=this._resolveColor(this.color,Y)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(Y,de){return typeof Y=="string"?f.Color.fromHex(Y):de.getColor(Y.id)}}e.ModelDecorationMinimapOptions=ie;class re{constructor(Y){this.content=Y.content||"",this.inlineClassName=Y.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=Y.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=Y.attachedData||null,this.cursorStops=Y.cursorStops||null}static from(Y){return Y instanceof re?Y:new re(Y)}}e.ModelDecorationInjectedTextOptions=re;class Z{constructor(Y){var de,H;this.description=Y.description,this.stickiness=Y.stickiness||0,this.zIndex=Y.zIndex||0,this.className=Y.className?te(Y.className):null,this.hoverMessage=Y.hoverMessage||null,this.glyphMarginHoverMessage=Y.glyphMarginHoverMessage||null,this.isWholeLine=Y.isWholeLine||!1,this.showIfCollapsed=Y.showIfCollapsed||!1,this.collapseOnReplaceEdit=Y.collapseOnReplaceEdit||!1,this.overviewRuler=Y.overviewRuler?new J(Y.overviewRuler):null,this.minimap=Y.minimap?new ie(Y.minimap):null,this.glyphMarginClassName=Y.glyphMarginClassName?te(Y.glyphMarginClassName):null,this.linesDecorationsClassName=Y.linesDecorationsClassName?te(Y.linesDecorationsClassName):null,this.firstLineDecorationClassName=Y.firstLineDecorationClassName?te(Y.firstLineDecorationClassName):null,this.marginClassName=Y.marginClassName?te(Y.marginClassName):null,this.inlineClassName=Y.inlineClassName?te(Y.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=Y.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=Y.beforeContentClassName?te(Y.beforeContentClassName):null,this.afterContentClassName=Y.afterContentClassName?te(Y.afterContentClassName):null,this.after=Y.after?re.from(Y.after):null,this.before=Y.before?re.from(Y.before):null,this.hideInCommentTokens=(de=Y.hideInCommentTokens)!==null&&de!==void 0?de:!1,this.hideInStringTokens=(H=Y.hideInStringTokens)!==null&&H!==void 0?H:!1}static register(Y){return new Z(Y)}static createDynamic(Y){return new Z(Y)}}e.ModelDecorationOptions=Z,Z.EMPTY=Z.register({description:"empty"});const x=[Z.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Z.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Z.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Z.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function U(se){return se instanceof Z?se:Z.createDynamic(se)}class q extends w.Disposable{constructor(Y){super();this.handleBeforeFire=Y,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var Y;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const de={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(de)}(Y=this._affectedInjectedTextLines)===null||Y===void 0||Y.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(Y){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(Y)}checkAffectedAndFire(Y){this._affectsMinimap||(this._affectsMinimap=!!(Y.minimap&&Y.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(Y.overviewRuler&&Y.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=q;class le extends w.Disposable{constructor(){super();this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(Y=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=Y;const de=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(de),this._slowEmitter.fire(de)}}fire(Y){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(Y):this._deferredEvent=Y;return}this._fastEmitter.fire(Y),this._slowEmitter.fire(Y)}}e.DidChangeContentEmitter=le}),define(ne[309],oe([1,0,4,2,17,13,37,152,72,38,50,162,30,10,21,15,70,168,123,281,44,299,282,39,32,71,57,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelService=void 0;function E(M){return M.toString()}function I(M){const z=new o.StringSHA1,G=M.createSnapshot();let te;for(;te=G.read();)z.update(te);return z.digest()}class T{constructor(z,G,te){this._modelEventListeners=new f.DisposableStore,this.model=z,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(z.onWillDispose(()=>G(z))),this._modelEventListeners.add(z.onDidChangeLanguage(X=>te(z,X)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(z){this._disposeLanguageSelection(),this._languageSelection=z,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(z.languageId)),this.model.setMode(z.languageId)}}const P=N.isLinux||N.isMacintosh?1:2;class B{constructor(z,G,te,X,J,ie,re,Z){this.uri=z,this.initialUndoRedoSnapshot=G,this.time=te,this.sharesUndoRedoStack=X,this.heapSize=J,this.sha1=ie,this.versionId=re,this.alternativeVersionId=Z}}let R=class At extends f.Disposable{constructor(z,G,te,X,J,ie,re,Z,x){super();this._configurationService=z,this._resourcePropertiesService=G,this._themeService=te,this._logService=X,this._undoRedoService=J,this._languageService=ie,this._languageConfigurationService=re,this._languageFeatureDebounceService=Z,this._onModelAdded=this._register(new y.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new y.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new y.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new O(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new A(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,x))}static _readModelOptions(z,G){var te;let X=b.EDITOR_MODEL_DEFAULTS.tabSize;if(z.editor&&typeof z.editor.tabSize!="undefined"){const se=parseInt(z.editor.tabSize,10);isNaN(se)||(X=se),X<1&&(X=1)}let J=X;if(z.editor&&typeof z.editor.indentSize!="undefined"&&z.editor.indentSize!=="tabSize"){const se=parseInt(z.editor.indentSize,10);isNaN(se)||(J=se),J<1&&(J=1)}let ie=b.EDITOR_MODEL_DEFAULTS.insertSpaces;z.editor&&typeof z.editor.insertSpaces!="undefined"&&(ie=z.editor.insertSpaces==="false"?!1:Boolean(z.editor.insertSpaces));let re=P;const Z=z.eol;Z===`\r
`?re=2:Z===`
`&&(re=1);let x=b.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;z.editor&&typeof z.editor.trimAutoWhitespace!="undefined"&&(x=z.editor.trimAutoWhitespace==="false"?!1:Boolean(z.editor.trimAutoWhitespace));let U=b.EDITOR_MODEL_DEFAULTS.detectIndentation;z.editor&&typeof z.editor.detectIndentation!="undefined"&&(U=z.editor.detectIndentation==="false"?!1:Boolean(z.editor.detectIndentation));let q=b.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;z.editor&&typeof z.editor.largeFileOptimizations!="undefined"&&(q=z.editor.largeFileOptimizations==="false"?!1:Boolean(z.editor.largeFileOptimizations));let le=b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((te=z.editor)===null||te===void 0?void 0:te.bracketPairColorization)&&typeof z.editor.bracketPairColorization=="object"&&(le={enabled:!!z.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!z.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:G,tabSize:X,indentSize:J,insertSpaces:ie,detectIndentation:U,defaultEOL:re,trimAutoWhitespace:x,largeFileOptimizations:q,bracketPairColorizationOptions:le}}_getEOL(z,G){if(z)return this._resourcePropertiesService.getEOL(z,G);const te=this._configurationService.getValue("files.eol",{overrideIdentifier:G});return te&&typeof te=="string"&&te!=="auto"?te:N.OS===3||N.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const z=this._configurationService.getValue("files.restoreUndoStack");return typeof z=="boolean"?z:!0}getCreationOptions(z,G,te){let X=this._modelCreationOptionsByLanguageAndResource[z+G];if(!X){const J=this._configurationService.getValue("editor",{overrideIdentifier:z,resource:G}),ie=this._getEOL(G,z);X=At._readModelOptions({editor:J,eol:ie},te),this._modelCreationOptionsByLanguageAndResource[z+G]=X}return X}_updateModelOptions(){const z=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const G=Object.keys(this._models);for(let te=0,X=G.length;te<X;te++){const J=G[te],ie=this._models[J],re=ie.model.getLanguageId(),Z=ie.model.uri,x=z[re+Z],U=this.getCreationOptions(re,Z,ie.model.isForSimpleWidget);At._setModelOptionsForModel(ie.model,U,x)}}static _setModelOptionsForModel(z,G,te){te&&te.defaultEOL!==G.defaultEOL&&z.getLineCount()===1&&z.setEOL(G.defaultEOL===1?0:1),!(te&&te.detectIndentation===G.detectIndentation&&te.insertSpaces===G.insertSpaces&&te.tabSize===G.tabSize&&te.indentSize===G.indentSize&&te.trimAutoWhitespace===G.trimAutoWhitespace&&(0,S.equals)(te.bracketPairColorizationOptions,G.bracketPairColorizationOptions))&&(G.detectIndentation?(z.detectIndentation(G.insertSpaces,G.tabSize),z.updateOptions({trimAutoWhitespace:G.trimAutoWhitespace,bracketColorizationOptions:G.bracketPairColorizationOptions})):z.updateOptions({insertSpaces:G.insertSpaces,tabSize:G.tabSize,indentSize:G.indentSize,trimAutoWhitespace:G.trimAutoWhitespace,bracketColorizationOptions:G.bracketPairColorizationOptions}))}_insertDisposedModel(z){this._disposedModels.set(E(z.uri),z),this._disposedModelsHeapSize+=z.heapSize}_removeDisposedModel(z){const G=this._disposedModels.get(E(z));return G&&(this._disposedModelsHeapSize-=G.heapSize),this._disposedModels.delete(E(z)),G}_ensureDisposedModelsHeapSize(z){if(this._disposedModelsHeapSize>z){const G=[];for(this._disposedModels.forEach(te=>{te.sharesUndoRedoStack||G.push(te)}),G.sort((te,X)=>te.time-X.time);G.length>0&&this._disposedModelsHeapSize>z;){const te=G.shift();this._removeDisposedModel(te.uri),te.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(te.initialUndoRedoSnapshot)}}}_createModelData(z,G,te,X){const J=this.getCreationOptions(G,te,X),ie=new w.TextModel(z,G,J,te,this._undoRedoService,this._languageService,this._languageConfigurationService);if(te&&this._disposedModels.has(E(te))){const x=this._removeDisposedModel(te),U=this._undoRedoService.getElements(te),q=I(ie)===x.sha1;if(q||x.sharesUndoRedoStack){for(const le of U.past)(0,r.isEditStackElement)(le)&&le.matchesResource(te)&&le.setModel(ie);for(const le of U.future)(0,r.isEditStackElement)(le)&&le.matchesResource(te)&&le.setModel(ie);this._undoRedoService.setElementsValidFlag(te,!0,le=>(0,r.isEditStackElement)(le)&&le.matchesResource(te)),q&&(ie._overwriteVersionId(x.versionId),ie._overwriteAlternativeVersionId(x.alternativeVersionId),ie._overwriteInitialUndoRedoSnapshot(x.initialUndoRedoSnapshot))}else x.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(x.initialUndoRedoSnapshot)}const re=E(ie.uri);if(this._models[re])throw new Error("ModelService: Cannot add model because it already exists!");const Z=new T(ie,x=>this._onWillDispose(x),(x,U)=>this._onDidChangeLanguage(x,U));return this._models[re]=Z,Z}createModel(z,G,te,X=!1){let J;return G?(J=this._createModelData(z,G.languageId,te,X),this.setMode(J.model,G)):J=this._createModelData(z,v.PLAINTEXT_LANGUAGE_ID,te,X),this._onModelAdded.fire(J.model),J.model}setMode(z,G){if(!G)return;const te=this._models[E(z.uri)];!te||te.setLanguage(G)}getModels(){const z=[],G=Object.keys(this._models);for(let te=0,X=G.length;te<X;te++){const J=G[te];z.push(this._models[J].model)}return z}getModel(z){const G=E(z),te=this._models[G];return te?te.model:null}getSemanticTokensProviderStyling(z){return this._semanticStyling.get(z)}_schemaShouldMaintainUndoRedoElements(z){return z.scheme===c.Schemas.file||z.scheme===c.Schemas.vscodeRemote||z.scheme===c.Schemas.vscodeUserData||z.scheme===c.Schemas.vscodeNotebookCell||z.scheme==="fake-fs"}_onWillDispose(z){const G=E(z.uri),te=this._models[G],X=this._undoRedoService.getUriComparisonKey(z.uri)!==z.uri.toString();let J=!1,ie=0;if(X||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(z.uri)){const Z=this._undoRedoService.getElements(z.uri);if(Z.past.length>0||Z.future.length>0){for(const x of Z.past)(0,r.isEditStackElement)(x)&&x.matchesResource(z.uri)&&(J=!0,ie+=x.heapSize(z.uri),x.setModel(z.uri));for(const x of Z.future)(0,r.isEditStackElement)(x)&&x.matchesResource(z.uri)&&(J=!0,ie+=x.heapSize(z.uri),x.setModel(z.uri))}}const re=At.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(J)if(!X&&ie>re){const Z=te.model.getInitialUndoRedoSnapshot();Z!==null&&this._undoRedoService.restoreSnapshot(Z)}else this._ensureDisposedModelsHeapSize(re-ie),this._undoRedoService.setElementsValidFlag(z.uri,!1,Z=>(0,r.isEditStackElement)(Z)&&Z.matchesResource(z.uri)),this._insertDisposedModel(new B(z.uri,te.model.getInitialUndoRedoSnapshot(),Date.now(),X,ie,I(z),z.getVersionId(),z.getAlternativeVersionId()));else if(!X){const Z=te.model.getInitialUndoRedoSnapshot();Z!==null&&this._undoRedoService.restoreSnapshot(Z)}delete this._models[G],te.dispose(),delete this._modelCreationOptionsByLanguageAndResource[z.getLanguageId()+z.uri],this._onModelRemoved.fire(z)}_onDidChangeLanguage(z,G){const te=G.oldLanguage,X=z.getLanguageId(),J=this.getCreationOptions(te,z.uri,z.isForSimpleWidget),ie=this.getCreationOptions(X,z.uri,z.isForSimpleWidget);At._setModelOptionsForModel(z,ie,J),this._onModelModeChanged.fire({model:z,oldLanguageId:te})}};R.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,R=De([ge(0,n.IConfigurationService),ge(1,i.ITextResourcePropertiesService),ge(2,l.IThemeService),ge(3,d.ILogService),ge(4,a.IUndoRedoService),ge(5,u.ILanguageService),ge(6,p.ILanguageConfigurationService),ge(7,C.ILanguageFeatureDebounceService),ge(8,L.ILanguageFeaturesService)],R),e.ModelService=R,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function k(M,z,G){var te;const X=(te=G.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:M.getLanguageId(),resource:M.uri}))===null||te===void 0?void 0:te.enabled;return typeof X=="boolean"?X:z.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=k;let A=class extends f.Disposable{constructor(z,G,te,X,J,ie){super();this._watchers=Object.create(null),this._semanticStyling=z;const re=U=>{this._watchers[U.uri.toString()]=new W(U,this._semanticStyling,te,J,ie)},Z=(U,q)=>{q.dispose(),delete this._watchers[U.uri.toString()]},x=()=>{for(const U of G.getModels()){const q=this._watchers[U.uri.toString()];k(U,te,X)?q||re(U):q&&Z(U,q)}};this._register(G.onModelAdded(U=>{k(U,te,X)&&re(U)})),this._register(G.onModelRemoved(U=>{const q=this._watchers[U.uri.toString()];q&&Z(U,q)})),this._register(X.onDidChangeConfiguration(U=>{U.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&x()})),this._register(te.onDidColorThemeChange(x))}dispose(){for(const z of Object.values(this._watchers))z.dispose();super.dispose()}};A=De([ge(1,h.IModelService),ge(2,l.IThemeService),ge(3,n.IConfigurationService),ge(4,C.ILanguageFeatureDebounceService),ge(5,L.ILanguageFeaturesService)],A);class O extends f.Disposable{constructor(z,G,te){super();this._themeService=z,this._languageService=G,this._logService=te,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(z){return this._caches.has(z)||this._caches.set(z,new g.SemanticTokensProviderStyling(z.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(z)}}class F{constructor(z,G,te){this.provider=z,this.resultId=G,this.data=te}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let W=class yt extends f.Disposable{constructor(z,G,te,X,J){super();this._isDisposed=!1,this._model=z,this._semanticStyling=G,this._provider=J.documentSemanticTokensProvider,this._debounceInformation=X.for(this._provider,"DocumentSemanticTokens",{min:yt.REQUEST_MIN_DELAY,max:yt.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new t.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),yt.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const ie=()=>{(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const re of this._provider.all(z))typeof re.onDidChange=="function"&&this._documentProvidersChangeListeners.push(re.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};ie(),this._register(this._provider.onDidChange(()=>{ie(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(te.onDidColorThemeChange(re=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,m.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const z=new s.CancellationTokenSource,G=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,te=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,X=(0,m.getDocumentSemanticTokens)(this._provider,this._model,G,te,z.token);this._currentDocumentRequestCancellationTokenSource=z;const J=[],ie=this._model.onDidChangeContent(Z=>{J.push(Z)}),re=new _.StopWatch(!1);X.then(Z=>{if(this._debounceInformation.update(this._model,re.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,ie.dispose(),!Z)this._setDocumentSemanticTokens(null,null,null,J);else{const{provider:x,tokens:U}=Z,q=this._semanticStyling.get(x);this._setDocumentSemanticTokens(x,U||null,q,J)}},Z=>{Z&&(D.isCancellationError(Z)||typeof Z.message=="string"&&Z.message.indexOf("busy")!==-1)||D.onUnexpectedError(Z),this._currentDocumentRequestCancellationTokenSource=null,ie.dispose(),J.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(z,G,te,X,J){J=Math.min(J,te.length-X,z.length-G);for(let ie=0;ie<J;ie++)te[X+ie]=z[G+ie]}_setDocumentSemanticTokens(z,G,te,X){const J=this._currentDocumentResponse,ie=()=>{X.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){z&&G&&z.releaseDocumentSemanticTokens(G.resultId);return}if(!z||!te){this._model.tokenization.setSemanticTokens(null,!1);return}if(!G){this._model.tokenization.setSemanticTokens(null,!0),ie();return}if((0,m.isSemanticTokensEdits)(G)){if(!J){this._model.tokenization.setSemanticTokens(null,!0);return}if(G.edits.length===0)G={resultId:G.resultId,data:J.data};else{let re=0;for(const le of G.edits)re+=(le.data?le.data.length:0)-le.deleteCount;const Z=J.data,x=new Uint32Array(Z.length+re);let U=Z.length,q=x.length;for(let le=G.edits.length-1;le>=0;le--){const se=G.edits[le];if(se.start>Z.length){te.warnInvalidEditStart(J.resultId,G.resultId,le,se.start,Z.length),this._model.tokenization.setSemanticTokens(null,!0);return}const Y=U-(se.start+se.deleteCount);Y>0&&(yt._copy(Z,U-Y,x,q-Y,Y),q-=Y),se.data&&(yt._copy(se.data,0,x,q-se.data.length,se.data.length),q-=se.data.length),U=se.start}U>0&&yt._copy(Z,0,x,0,U),G={resultId:G.resultId,data:x}}}if((0,m.isSemanticTokens)(G)){this._currentDocumentResponse=new F(z,G.resultId,G.data);const re=(0,g.toMultilineTokens2)(G,te,this._model.getLanguageId());if(X.length>0)for(const Z of X)for(const x of re)for(const U of Z.changes)x.applyEdit(U.range,U.text);this._model.tokenization.setSemanticTokens(re,!0)}else this._model.tokenization.setSemanticTokens(null,!0);ie()}};W.REQUEST_MIN_DELAY=300,W.REQUEST_MAX_DELAY=2e3,W=De([ge(2,l.IThemeService),ge(3,C.ILanguageFeatureDebounceService),ge(4,L.ILanguageFeaturesService)],W),e.ModelSemanticColoring=W}),define(ne[730],oe([1,0,18,11,3,193,37,98,195,467,253,75]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class n{constructor(c,g,m,S,p,C,_,L,E){this._editorId=c,this.model=g,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=m,this._monospaceLineBreaksComputerFactory=S,this.fontInfo=p,this.tabSize=C,this.wrappingStrategy=_,this.wrappingColumn=L,this.wrappingIndent=E,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new d(this)}_constructLines(c,g){this.modelLineProjections=[],c&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const m=this.model.getLinesContent(),S=this.model.getInjectedTextDecorations(this._editorId),p=m.length,C=this.createLineBreaksComputer(),_=new y.ArrayQueue(b.LineInjectedText.fromDecorations(S));for(let k=0;k<p;k++){const A=_.takeWhile(O=>O.lineNumber===k+1);C.addRequest(m[k],A,g?g[k]:null)}const L=C.finalize(),E=[],I=this.hiddenAreasDecorationIds.map(k=>this.model.getDecorationRange(k)).sort(N.Range.compareRangesUsingStarts);let T=1,P=0,B=-1,R=B+1<I.length?P+1:p+2;for(let k=0;k<p;k++){const A=k+1;A===R&&(B++,T=I[B].startLineNumber,P=I[B].endLineNumber,R=B+1<I.length?P+1:p+2);const O=A>=T&&A<=P,F=(0,u.createModelLineProjection)(L[k],!O);E[k]=F.getViewLineCount(),this.modelLineProjections[k]=F}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new h.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(c=>this.model.getDecorationRange(c))}setHiddenAreas(c){const g=c.map(P=>this.model.validateRange(P)),m=t(g),S=this.hiddenAreasDecorationIds.map(P=>this.model.getDecorationRange(P)).sort(N.Range.compareRangesUsingStarts);if(m.length===S.length){let P=!1;for(let B=0;B<m.length;B++)if(!m[B].equalsRange(S[B])){P=!0;break}if(!P)return!1}const p=m.map(P=>({range:P,options:w.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,p);const C=m;let _=1,L=0,E=-1,I=E+1<C.length?L+1:this.modelLineProjections.length+2,T=!1;for(let P=0;P<this.modelLineProjections.length;P++){const B=P+1;B===I&&(E++,_=C[E].startLineNumber,L=C[E].endLineNumber,I=E+1<C.length?L+1:this.modelLineProjections.length+2);let R=!1;if(B>=_&&B<=L?this.modelLineProjections[P].isVisible()&&(this.modelLineProjections[P]=this.modelLineProjections[P].setVisible(!1),R=!0):(T=!0,this.modelLineProjections[P].isVisible()||(this.modelLineProjections[P]=this.modelLineProjections[P].setVisible(!0),R=!0)),R){const k=this.modelLineProjections[P].getViewLineCount();this.projectedModelLineLineCounts.setValue(P,k)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(c,g){return c<1||c>this.modelLineProjections.length?!1:this.modelLineProjections[c-1].isVisible()}getModelLineViewLineCount(c){return c<1||c>this.modelLineProjections.length?1:this.modelLineProjections[c-1].getViewLineCount()}setTabSize(c){return this.tabSize===c?!1:(this.tabSize=c,this._constructLines(!1,null),!0)}setWrappingSettings(c,g,m,S){const p=this.fontInfo.equals(c),C=this.wrappingStrategy===g,_=this.wrappingColumn===m,L=this.wrappingIndent===S;if(p&&C&&_&&L)return!1;const E=p&&C&&!_&&L;this.fontInfo=c,this.wrappingStrategy=g,this.wrappingColumn=m,this.wrappingIndent=S;let I=null;if(E){I=[];for(let T=0,P=this.modelLineProjections.length;T<P;T++)I[T]=this.modelLineProjections[T].getProjectionData()}return this._constructLines(!1,I),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(c,g,m){if(!c||c<=this._validModelVersionId)return null;const S=g===1?1:this.projectedModelLineLineCounts.getPrefixSum(g-1)+1,p=this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections.splice(g-1,m-g+1),this.projectedModelLineLineCounts.removeValues(g-1,m-g+1),new v.ViewLinesDeletedEvent(S,p)}onModelLinesInserted(c,g,m,S){if(!c||c<=this._validModelVersionId)return null;const p=g>2&&!this.modelLineProjections[g-2].isVisible(),C=g===1?1:this.projectedModelLineLineCounts.getPrefixSum(g-1)+1;let _=0;const L=[],E=[];for(let I=0,T=S.length;I<T;I++){const P=(0,u.createModelLineProjection)(S[I],!p);L.push(P);const B=P.getViewLineCount();_+=B,E[I]=B}return this.modelLineProjections=this.modelLineProjections.slice(0,g-1).concat(L).concat(this.modelLineProjections.slice(g-1)),this.projectedModelLineLineCounts.insertValues(g-1,E),new v.ViewLinesInsertedEvent(C,C+_-1)}onModelLineChanged(c,g,m){if(c!==null&&c<=this._validModelVersionId)return[!1,null,null,null];const S=g-1,p=this.modelLineProjections[S].getViewLineCount(),C=this.modelLineProjections[S].isVisible(),_=(0,u.createModelLineProjection)(m,C);this.modelLineProjections[S]=_;const L=this.modelLineProjections[S].getViewLineCount();let E=!1,I=0,T=-1,P=0,B=-1,R=0,k=-1;p>L?(I=this.projectedModelLineLineCounts.getPrefixSum(g-1)+1,T=I+L-1,R=T+1,k=R+(p-L)-1,E=!0):p<L?(I=this.projectedModelLineLineCounts.getPrefixSum(g-1)+1,T=I+p-1,P=T+1,B=P+(L-p)-1,E=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(g-1)+1,T=I+L-1),this.projectedModelLineLineCounts.setValue(S,L);const A=I<=T?new v.ViewLinesChangedEvent(I,T-I+1):null,O=P<=B?new v.ViewLinesInsertedEvent(P,B):null,F=R<=k?new v.ViewLinesDeletedEvent(R,k):null;return[E,A,O,F]}acceptVersionId(c){this._validModelVersionId=c,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(c){if(c<1)return 1;const g=this.getViewLineCount();return c>g?g:c|0}getActiveIndentGuide(c,g,m){c=this._toValidViewLineNumber(c),g=this._toValidViewLineNumber(g),m=this._toValidViewLineNumber(m);const S=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),p=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),C=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),_=this.model.guides.getActiveIndentGuide(S.lineNumber,p.lineNumber,C.lineNumber),L=this.convertModelPositionToViewPosition(_.startLineNumber,1),E=this.convertModelPositionToViewPosition(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber));return{startLineNumber:L.lineNumber,endLineNumber:E.lineNumber,indent:_.indent}}getViewLineInfo(c){c=this._toValidViewLineNumber(c);const g=this.projectedModelLineLineCounts.getIndexOf(c-1),m=g.index,S=g.remainder;return new s(m+1,S)}getMinColumnOfViewLine(c){return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(c){return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(c){const g=this.modelLineProjections[c.modelLineNumber-1],m=g.getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx),S=g.getModelColumnOfViewPosition(c.modelLineWrappedLineIdx,m);return new f.Position(c.modelLineNumber,S)}getModelEndPositionOfViewLine(c){const g=this.modelLineProjections[c.modelLineNumber-1],m=g.getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx),S=g.getModelColumnOfViewPosition(c.modelLineWrappedLineIdx,m);return new f.Position(c.modelLineNumber,S)}getViewLineInfosGroupedByModelRanges(c,g){const m=this.getViewLineInfo(c),S=this.getViewLineInfo(g),p=new Array;let C=this.getModelStartPositionOfViewLine(m),_=new Array;for(let L=m.modelLineNumber;L<=S.modelLineNumber;L++){const E=this.modelLineProjections[L-1];if(E.isVisible()){const I=L===m.modelLineNumber?m.modelLineWrappedLineIdx:0,T=L===S.modelLineNumber?S.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let P=I;P<T;P++)_.push(new s(L,P))}if(!E.isVisible()&&C){const I=new f.Position(L-1,this.model.getLineMaxColumn(L-1)+1),T=N.Range.fromPositions(C,I);p.push(new l(T,_)),_=[],C=null}else E.isVisible()&&!C&&(C=new f.Position(L,1))}if(C){const L=N.Range.fromPositions(C,this.getModelEndPositionOfViewLine(S));p.push(new l(L,_))}return p}getViewLinesBracketGuides(c,g,m,S){const p=m?this.convertViewPositionToModelPosition(m.lineNumber,m.column):null,C=[];for(const _ of this.getViewLineInfosGroupedByModelRanges(c,g)){const L=_.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(L,_.modelRange.endLineNumber,p,S);for(const I of _.viewLines)if(I.isWrappedLineContinuation&&this.getMinColumnOfViewLine(I)===1)C.push([]);else{const P=E[I.modelLineNumber-L].map(B=>{if(B.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||B.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!B.horizontalLine)return B;let R=-1;if(B.column!==-1){const O=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,B.column);if(O.lineNumber===I.modelLineWrappedLineIdx)R=O.column;else if(O.lineNumber<I.modelLineWrappedLineIdx)R=this.getMinColumnOfViewLine(I);else if(O.lineNumber>I.modelLineWrappedLineIdx)return}const k=this.convertModelPositionToViewPosition(I.modelLineNumber,B.horizontalLine.endColumn),A=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,B.horizontalLine.endColumn);return A.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(B.visibleColumn,R,B.className,new D.IndentGuideHorizontalLine(B.horizontalLine.top,k.column),-1,-1):A.lineNumber<I.modelLineWrappedLineIdx||B.visibleColumn!==-1?void 0:new D.IndentGuide(B.visibleColumn,R,B.className,new D.IndentGuideHorizontalLine(B.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});C.push(P.filter(B=>!!B))}}return C}getViewLinesIndentGuides(c,g){c=this._toValidViewLineNumber(c),g=this._toValidViewLineNumber(g);const m=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),S=this.convertViewPositionToModelPosition(g,this.getViewLineMaxColumn(g));let p=[];const C=[],_=[],L=m.lineNumber-1,E=S.lineNumber-1;let I=null;for(let R=L;R<=E;R++){const k=this.modelLineProjections[R];if(k.isVisible()){const A=k.getViewLineNumberOfModelPosition(0,R===L?m.column:1),O=k.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(R+1)),F=O-A+1;let W=0;F>1&&k.getViewLineMinColumn(this.model,R+1,O)===1&&(W=A===0?1:2),C.push(F),_.push(W),I===null&&(I=new f.Position(R+1,0))}else I!==null&&(p=p.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,R)),I=null)}I!==null&&(p=p.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,S.lineNumber)),I=null);const T=g-c+1,P=new Array(T);let B=0;for(let R=0,k=p.length;R<k;R++){let A=p[R];const O=Math.min(T-B,C[R]),F=_[R];let W;F===2?W=0:F===1?W=1:W=O;for(let M=0;M<O;M++)M===W&&(A=0),P[B++]=A}return P}getViewLineContent(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineContent(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLineLength(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineLength(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLineMinColumn(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineMinColumn(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLineMaxColumn(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineMaxColumn(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLineData(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineData(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLinesData(c,g,m){c=this._toValidViewLineNumber(c),g=this._toValidViewLineNumber(g);const S=this.projectedModelLineLineCounts.getIndexOf(c-1);let p=c;const C=S.index,_=S.remainder,L=[];for(let E=C,I=this.model.getLineCount();E<I;E++){const T=this.modelLineProjections[E];if(!T.isVisible())continue;const P=E===C?_:0;let B=T.getViewLineCount()-P,R=!1;if(p+B>g&&(R=!0,B=g-p+1),T.getViewLinesData(this.model,E+1,P,B,p-c,m,L),p+=B,R)break}return L}validateViewPosition(c,g,m){c=this._toValidViewLineNumber(c);const S=this.projectedModelLineLineCounts.getIndexOf(c-1),p=S.index,C=S.remainder,_=this.modelLineProjections[p],L=_.getViewLineMinColumn(this.model,p+1,C),E=_.getViewLineMaxColumn(this.model,p+1,C);g<L&&(g=L),g>E&&(g=E);const I=_.getModelColumnOfViewPosition(C,g);return this.model.validatePosition(new f.Position(p+1,I)).equals(m)?new f.Position(c,g):this.convertModelPositionToViewPosition(m.lineNumber,m.column)}validateViewRange(c,g){const m=this.validateViewPosition(c.startLineNumber,c.startColumn,g.getStartPosition()),S=this.validateViewPosition(c.endLineNumber,c.endColumn,g.getEndPosition());return new N.Range(m.lineNumber,m.column,S.lineNumber,S.column)}convertViewPositionToModelPosition(c,g){const m=this.getViewLineInfo(c),S=this.modelLineProjections[m.modelLineNumber-1].getModelColumnOfViewPosition(m.modelLineWrappedLineIdx,g);return this.model.validatePosition(new f.Position(m.modelLineNumber,S))}convertViewRangeToModelRange(c){const g=this.convertViewPositionToModelPosition(c.startLineNumber,c.startColumn),m=this.convertViewPositionToModelPosition(c.endLineNumber,c.endColumn);return new N.Range(g.lineNumber,g.column,m.lineNumber,m.column)}convertModelPositionToViewPosition(c,g,m=2){const S=this.model.validatePosition(new f.Position(c,g)),p=S.lineNumber,C=S.column;let _=p-1,L=!1;for(;_>0&&!this.modelLineProjections[_].isVisible();)_--,L=!0;if(_===0&&!this.modelLineProjections[_].isVisible())return new f.Position(1,1);const E=1+this.projectedModelLineLineCounts.getPrefixSum(_);let I;return L?I=this.modelLineProjections[_].getViewPositionOfModelPosition(E,this.model.getLineMaxColumn(_+1),m):I=this.modelLineProjections[p-1].getViewPositionOfModelPosition(E,C,m),I}convertModelRangeToViewRange(c,g=0){if(c.isEmpty()){const m=this.convertModelPositionToViewPosition(c.startLineNumber,c.startColumn,g);return N.Range.fromPositions(m)}else{const m=this.convertModelPositionToViewPosition(c.startLineNumber,c.startColumn,1),S=this.convertModelPositionToViewPosition(c.endLineNumber,c.endColumn,0);return new N.Range(m.lineNumber,m.column,S.lineNumber,S.column)}}getViewLineNumberOfModelPosition(c,g){let m=c-1;if(this.modelLineProjections[m].isVisible()){const p=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(p,g)}for(;m>0&&!this.modelLineProjections[m].isVisible();)m--;if(m===0&&!this.modelLineProjections[m].isVisible())return 1;const S=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(S,this.model.getLineMaxColumn(m+1))}getDecorationsInRange(c,g,m){const S=this.convertViewPositionToModelPosition(c.startLineNumber,c.startColumn),p=this.convertViewPositionToModelPosition(c.endLineNumber,c.endColumn);if(p.lineNumber-S.lineNumber<=c.endLineNumber-c.startLineNumber)return this.model.getDecorationsInRange(new N.Range(S.lineNumber,1,p.lineNumber,p.column),g,m);let C=[];const _=S.lineNumber-1,L=p.lineNumber-1;let E=null;for(let B=_;B<=L;B++)if(this.modelLineProjections[B].isVisible())E===null&&(E=new f.Position(B+1,B===_?S.column:1));else if(E!==null){const k=this.model.getLineMaxColumn(B);C=C.concat(this.model.getDecorationsInRange(new N.Range(E.lineNumber,E.column,B,k),g,m)),E=null}E!==null&&(C=C.concat(this.model.getDecorationsInRange(new N.Range(E.lineNumber,E.column,p.lineNumber,p.column),g,m)),E=null),C.sort((B,R)=>{const k=N.Range.compareRangesUsingStarts(B.range,R.range);return k===0?B.id<R.id?-1:B.id>R.id?1:0:k});const I=[];let T=0,P=null;for(const B of C){const R=B.id;P!==R&&(P=R,I[T++]=B)}return I}getInjectedTextAt(c){const g=this.getViewLineInfo(c.lineNumber);return this.modelLineProjections[g.modelLineNumber-1].getInjectedTextAt(g.modelLineWrappedLineIdx,c.column)}normalizePosition(c,g){const m=this.getViewLineInfo(c.lineNumber);return this.modelLineProjections[m.modelLineNumber-1].normalizePosition(m.modelLineWrappedLineIdx,c,g)}getLineIndentColumn(c){const g=this.getViewLineInfo(c);return g.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(g.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=n;function t(r){if(r.length===0)return[];const c=r.slice();c.sort(N.Range.compareRangesUsingStarts);const g=[];let m=c[0].startLineNumber,S=c[0].endLineNumber;for(let p=1,C=c.length;p<C;p++){const _=c[p];_.startLineNumber>S+1?(g.push(new N.Range(m,1,S,1)),m=_.startLineNumber,S=_.endLineNumber):_.endLineNumber>S&&(S=_.endLineNumber)}return g.push(new N.Range(m,1,S,1)),g}class s{constructor(c,g){this.modelLineNumber=c,this.modelLineWrappedLineIdx=g}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class l{constructor(c,g){this.modelRange=c,this.viewLines=g}}class d{constructor(c){this._lines=c}convertViewPositionToModelPosition(c){return this._lines.convertViewPositionToModelPosition(c.lineNumber,c.column)}convertViewRangeToModelRange(c){return this._lines.convertViewRangeToModelRange(c)}validateViewPosition(c,g){return this._lines.validateViewPosition(c.lineNumber,c.column,g)}validateViewRange(c,g){return this._lines.validateViewRange(c,g)}convertModelPositionToViewPosition(c,g){return this._lines.convertModelPositionToViewPosition(c.lineNumber,c.column,g)}convertModelRangeToViewRange(c,g){return this._lines.convertModelRangeToViewRange(c,g)}modelPositionIsVisible(c){return this._lines.modelPositionIsVisible(c.lineNumber,c.column)}getModelLineViewLineCount(c){return this._lines.getModelLineViewLineCount(c)}getViewLineNumberOfModelPosition(c,g){return this._lines.getViewLineNumberOfModelPosition(c,g)}}class a{constructor(c){this.model=c}dispose(){}createCoordinatesConverter(){return new o(this)}getHiddenAreas(){return[]}setHiddenAreas(c){return!1}setTabSize(c){return!1}setWrappingSettings(c,g,m,S){return!1}createLineBreaksComputer(){const c=[];return{addRequest:(g,m,S)=>{c.push(null)},finalize:()=>c}}onModelFlushed(){}onModelLinesDeleted(c,g,m){return new v.ViewLinesDeletedEvent(g,m)}onModelLinesInserted(c,g,m,S){return new v.ViewLinesInsertedEvent(g,m)}onModelLineChanged(c,g,m){return[!1,new v.ViewLinesChangedEvent(g,1),null,null]}acceptVersionId(c){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(c,g,m){return{startLineNumber:c,endLineNumber:c,indent:0}}getViewLinesBracketGuides(c,g,m){return new Array(g-c+1).fill([])}getViewLinesIndentGuides(c,g){const m=g-c+1,S=new Array(m);for(let p=0;p<m;p++)S[p]=0;return S}getViewLineContent(c){return this.model.getLineContent(c)}getViewLineLength(c){return this.model.getLineLength(c)}getViewLineMinColumn(c){return this.model.getLineMinColumn(c)}getViewLineMaxColumn(c){return this.model.getLineMaxColumn(c)}getViewLineData(c){const g=this.model.tokenization.getLineTokens(c),m=g.getLineContent();return new i.ViewLineData(m,!1,1,m.length+1,0,g.inflate(),null)}getViewLinesData(c,g,m){const S=this.model.getLineCount();c=Math.min(Math.max(1,c),S),g=Math.min(Math.max(1,g),S);const p=[];for(let C=c;C<=g;C++){const _=C-c;p[_]=m[_]?this.getViewLineData(C):null}return p}getDecorationsInRange(c,g,m){return this.model.getDecorationsInRange(c,g,m)}normalizePosition(c,g){return this.model.normalizePosition(c,g)}getLineIndentColumn(c){return this.model.getLineIndentColumn(c)}getInjectedTextAt(c){return null}}e.ViewModelLinesFromModelAsIs=a;class o{constructor(c){this._lines=c}_validPosition(c){return this._lines.model.validatePosition(c)}_validRange(c){return this._lines.model.validateRange(c)}convertViewPositionToModelPosition(c){return this._validPosition(c)}convertViewRangeToModelRange(c){return this._validRange(c)}validateViewPosition(c,g){return this._validPosition(g)}validateViewRange(c,g){return this._validRange(g)}convertModelPositionToViewPosition(c){return this._validPosition(c)}convertModelRangeToViewRange(c){return this._validRange(c)}modelPositionIsVisible(c){const g=this._lines.model.getLineCount();return!(c.lineNumber<1||c.lineNumber>g)}getModelLineViewLineCount(c){return 1}getViewLineNumberOfModelPosition(c,g){return c}}}),define(ne[731],oe([1,0,18,10,31,2,17,9,34,292,62,11,3,98,28,72,261,195,471,263,75,280,196,730]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const p=!0;class C extends D.Disposable{constructor(I,T,P,B,R,k,A,O){super();if(this.languageConfigurationService=A,this._themeService=O,this._editorId=I,this._configuration=T,this.model=P,this._eventDispatcher=new m.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new f.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new f.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=_.create(this.model),p&&this.model.isTooLargeForTokenization())this._lines=new S.ViewModelLinesFromModelAsIs(this.model);else{const F=this._configuration.options,W=F.get(45),M=F.get(126),z=F.get(133),G=F.get(125);this._lines=new S.ViewModelLinesFromProjectedModel(this._editorId,this.model,B,R,W,this.model.getOptions().tabSize,M,z.wrappingColumn,G)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new u.CursorsController(P,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new o.ViewLayout(this._configuration,this.getLineCount(),k)),this._register(this.viewLayout.onDidScroll(F=>{F.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),F.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new a.ViewScrollChangedEvent(F)),this._eventDispatcher.emitOutgoingEvent(new m.ScrollChangedEvent(F.oldScrollWidth,F.oldScrollLeft,F.oldScrollHeight,F.oldScrollTop,F.scrollWidth,F.scrollLeft,F.scrollHeight,F.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(F=>{this._eventDispatcher.emitOutgoingEvent(F)})),this._decorations=new g.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(F=>{try{const W=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(W,F)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(r.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(F=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new a.ViewThemeChangedEvent(F))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(I){this._eventDispatcher.addViewEventHandler(I)}removeViewEventHandler(I){this._eventDispatcher.removeViewEventHandler(I)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const I=this.viewLayout.getLinesViewportData(),T=new n.Range(I.startLineNumber,this.getLineMinColumn(I.startLineNumber),I.endLineNumber,this.getLineMaxColumn(I.endLineNumber)),P=this._toModelVisibleRanges(T);for(const B of P)this.model.tokenization.tokenizeViewport(B.startLineNumber,B.endLineNumber)}setHasFocus(I){this._hasFocus=I,this._cursor.setHasFocus(I),this._eventDispatcher.emitSingleViewEvent(new a.ViewFocusChangedEvent(I)),this._eventDispatcher.emitOutgoingEvent(new m.FocusChangedEvent(!I,I))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionEndEvent)}_onConfigurationChanged(I,T){let P=null;if(this._viewportStart.isValid){const W=new i.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));P=this.coordinatesConverter.convertViewPositionToModelPosition(W)}let B=!1;const R=this._configuration.options,k=R.get(45),A=R.get(126),O=R.get(133),F=R.get(125);if(this._lines.setWrappingSettings(k,A,O.wrappingColumn,F)&&(I.emitViewEvent(new a.ViewFlushedEvent),I.emitViewEvent(new a.ViewLineMappingChangedEvent),I.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(I),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(B=!0),this._updateConfigurationViewLineCount.schedule()),T.hasChanged(82)&&(this._decorations.reset(),I.emitViewEvent(new a.ViewDecorationsChangedEvent(null))),I.emitViewEvent(new a.ViewConfigurationChangedEvent(T)),this.viewLayout.onConfigurationChanged(T),B&&P){const W=this.coordinatesConverter.convertModelPositionToViewPosition(P),M=this.viewLayout.getVerticalOffsetForLineNumber(W.lineNumber);this.viewLayout.setScrollPosition({scrollTop:M+this._viewportStart.startLineDelta},1)}h.CursorConfiguration.shouldRecreate(T)&&(this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(I=>{try{const P=this._eventDispatcher.beginEmitViewEvents();let B=!1,R=!1;const k=I instanceof t.InternalModelContentChangeEvent?I.rawContentChangedEvent.changes:I.changes,A=I instanceof t.InternalModelContentChangeEvent?I.rawContentChangedEvent.versionId:null,O=this._lines.createLineBreaksComputer();for(const M of k)switch(M.changeType){case 4:{for(let z=0;z<M.detail.length;z++){const G=M.detail[z];let te=M.injectedTexts[z];te&&(te=te.filter(X=>!X.ownerId||X.ownerId===this._editorId)),O.addRequest(G,te,null)}break}case 2:{let z=null;M.injectedText&&(z=M.injectedText.filter(G=>!G.ownerId||G.ownerId===this._editorId)),O.addRequest(M.detail,z,null);break}}const F=O.finalize(),W=new y.ArrayQueue(F);for(const M of k)switch(M.changeType){case 1:{this._lines.onModelFlushed(),P.emitViewEvent(new a.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),B=!0;break}case 3:{const z=this._lines.onModelLinesDeleted(A,M.fromLineNumber,M.toLineNumber);z!==null&&(P.emitViewEvent(z),this.viewLayout.onLinesDeleted(z.fromLineNumber,z.toLineNumber)),B=!0;break}case 4:{const z=W.takeCount(M.detail.length),G=this._lines.onModelLinesInserted(A,M.fromLineNumber,M.toLineNumber,z);G!==null&&(P.emitViewEvent(G),this.viewLayout.onLinesInserted(G.fromLineNumber,G.toLineNumber)),B=!0;break}case 2:{const z=W.dequeue(),[G,te,X,J]=this._lines.onModelLineChanged(A,M.lineNumber,z);R=G,te&&P.emitViewEvent(te),X&&(P.emitViewEvent(X),this.viewLayout.onLinesInserted(X.fromLineNumber,X.toLineNumber)),J&&(P.emitViewEvent(J),this.viewLayout.onLinesDeleted(J.fromLineNumber,J.toLineNumber));break}case 5:break}A!==null&&this._lines.acceptVersionId(A),this.viewLayout.onHeightMaybeChanged(),!B&&R&&(P.emitViewEvent(new a.ViewLineMappingChangedEvent),P.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(P),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const T=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&T){const P=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(P){const B=this.coordinatesConverter.convertModelPositionToViewPosition(P.getStartPosition()),R=this.viewLayout.getVerticalOffsetForLineNumber(B.lineNumber);this.viewLayout.setScrollPosition({scrollTop:R+this._viewportStart.startLineDelta},1)}}try{const P=this._eventDispatcher.beginEmitViewEvents();I instanceof t.InternalModelContentChangeEvent&&P.emitOutgoingEvent(new m.ModelContentChangedEvent(I.contentChangedEvent)),this._cursor.onModelContentChanged(P,I)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(I=>{const T=[];for(let P=0,B=I.ranges.length;P<B;P++){const R=I.ranges[P],k=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(R.fromLineNumber,1)).lineNumber,A=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(R.toLineNumber,this.model.getLineMaxColumn(R.toLineNumber))).lineNumber;T[P]={fromLineNumber:k,toLineNumber:A}}this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensChangedEvent(T)),I.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new m.ModelTokensChangedEvent(I))})),this._register(this.model.onDidChangeLanguageConfiguration(I=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewLanguageConfigurationEvent),this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new m.ModelLanguageConfigurationChangedEvent(I))})),this._register(this.model.onDidChangeLanguage(I=>{this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new m.ModelLanguageChangedEvent(I))})),this._register(this.model.onDidChangeOptions(I=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const T=this._eventDispatcher.beginEmitViewEvents();T.emitViewEvent(new a.ViewFlushedEvent),T.emitViewEvent(new a.ViewLineMappingChangedEvent),T.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new m.ModelOptionsChangedEvent(I))})),this._register(this.model.onDidChangeDecorations(I=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new a.ViewDecorationsChangedEvent(I)),this._eventDispatcher.emitOutgoingEvent(new m.ModelDecorationsChangedEvent(I))}))}setHiddenAreas(I){let T=!1;try{const P=this._eventDispatcher.beginEmitViewEvents();T=this._lines.setHiddenAreas(I),T&&(P.emitViewEvent(new a.ViewFlushedEvent),P.emitViewEvent(new a.ViewLineMappingChangedEvent),P.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(P),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),T&&this._eventDispatcher.emitOutgoingEvent(new m.ViewZonesChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const I=this._configuration.options.get(132),T=this._configuration.options.get(60),P=Math.max(20,Math.round(I.height/T)),B=this.viewLayout.getLinesViewportData(),R=Math.max(1,B.completelyVisibleStartLineNumber-P),k=Math.min(this.getLineCount(),B.completelyVisibleEndLineNumber+P);return this._toModelVisibleRanges(new n.Range(R,this.getLineMinColumn(R),k,this.getLineMaxColumn(k)))}getVisibleRanges(){const I=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(I)}_toModelVisibleRanges(I){const T=this.coordinatesConverter.convertViewRangeToModelRange(I),P=this._lines.getHiddenAreas();if(P.length===0)return[T];const B=[];let R=0,k=T.startLineNumber,A=T.startColumn;const O=T.endLineNumber,F=T.endColumn;for(let W=0,M=P.length;W<M;W++){const z=P[W].startLineNumber,G=P[W].endLineNumber;G<k||z>O||(k<z&&(B[R++]=new n.Range(k,A,z-1,this.model.getLineMaxColumn(z-1))),k=G+1,A=1)}return(k<O||k===O&&A<F)&&(B[R++]=new n.Range(k,A,O,F)),B}getCompletelyVisibleViewRange(){const I=this.viewLayout.getLinesViewportData(),T=I.completelyVisibleStartLineNumber,P=I.completelyVisibleEndLineNumber;return new n.Range(T,this.getLineMinColumn(T),P,this.getLineMaxColumn(P))}getCompletelyVisibleViewRangeAtScrollTop(I){const T=this.viewLayout.getLinesViewportDataAtScrollTop(I),P=T.completelyVisibleStartLineNumber,B=T.completelyVisibleEndLineNumber;return new n.Range(P,this.getLineMinColumn(P),B,this.getLineMaxColumn(B))}saveState(){const I=this.viewLayout.saveState(),T=I.scrollTop,P=this.viewLayout.getLineNumberAtVerticalOffset(T),B=this.coordinatesConverter.convertViewPositionToModelPosition(new i.Position(P,this.getLineMinColumn(P))),R=this.viewLayout.getVerticalOffsetForLineNumber(P)-T;return{scrollLeft:I.scrollLeft,firstPosition:B,firstPositionDeltaTop:R}}reduceRestoreState(I){if(typeof I.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(I);const T=this.model.validatePosition(I.firstPosition),P=this.coordinatesConverter.convertModelPositionToViewPosition(T),B=this.viewLayout.getVerticalOffsetForLineNumber(P.lineNumber)-I.firstPositionDeltaTop;return{scrollLeft:I.scrollLeft,scrollTop:B}}_reduceRestoreStateCompatibility(I){return{scrollLeft:I.scrollLeft,scrollTop:I.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(I,T,P){this._viewportStart.update(this,I)}getActiveIndentGuide(I,T,P){return this._lines.getActiveIndentGuide(I,T,P)}getLinesIndentGuides(I,T){return this._lines.getViewLinesIndentGuides(I,T)}getBracketGuidesInRangeByLine(I,T,P,B){return this._lines.getViewLinesBracketGuides(I,T,P,B)}getLineContent(I){return this._lines.getViewLineContent(I)}getLineLength(I){return this._lines.getViewLineLength(I)}getLineMinColumn(I){return this._lines.getViewLineMinColumn(I)}getLineMaxColumn(I){return this._lines.getViewLineMaxColumn(I)}getLineFirstNonWhitespaceColumn(I){const T=b.firstNonWhitespaceIndex(this.getLineContent(I));return T===-1?0:T+1}getLineLastNonWhitespaceColumn(I){const T=b.lastNonWhitespaceIndex(this.getLineContent(I));return T===-1?0:T+2}getDecorationsInViewport(I){return this._decorations.getDecorationsViewportData(I).decorations}getInjectedTextAt(I){return this._lines.getInjectedTextAt(I)}getViewLineRenderingData(I,T){const P=this.model.mightContainRTL(),B=this.model.mightContainNonBasicASCII(),R=this.getTabSize(),k=this._lines.getViewLineData(T);let O=this._decorations.getDecorationsViewportData(I).inlineDecorations[T-I.startLineNumber];return k.inlineDecorations&&(O=[...O,...k.inlineDecorations.map(F=>F.toInlineDecoration(T))]),new c.ViewLineRenderingData(k.minColumn,k.maxColumn,k.content,k.continuesWithWrappedLine,P,B,k.tokens,O,R,k.startVisibleColumn)}getViewLineData(I){return this._lines.getViewLineData(I)}getMinimapLinesRenderingData(I,T,P){const B=this._lines.getViewLinesData(I,T,P);return new c.MinimapLinesRenderingData(this.getTabSize(),B)}getAllOverviewRulerDecorations(I){const T=this.model.getOverviewRulerDecorations(this._editorId,(0,v.filterValidationDecorations)(this._configuration.options)),P=new L;for(const B of T){const R=B.options,k=R.overviewRuler;if(!k)continue;const A=k.position;if(A===0)continue;const O=k.getColor(I.value),F=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.startLineNumber,B.range.startColumn),W=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.endLineNumber,B.range.endColumn);P.accept(O,R.zIndex,F,W,A)}return P.asArray}_invalidateDecorationsColorCache(){const I=this.model.getOverviewRulerDecorations();for(const T of I){const P=T.options.overviewRuler;P&&P.invalidateCachedColor();const B=T.options.minimap;B&&B.invalidateCachedColor()}}getValueInRange(I,T){const P=this.coordinatesConverter.convertViewRangeToModelRange(I);return this.model.getValueInRange(P,T)}deduceModelPositionRelativeToViewPosition(I,T,P){const B=this.coordinatesConverter.convertViewPositionToModelPosition(I);this.model.getEOL().length===2&&(T<0?T-=P:T+=P);const k=this.model.getOffsetAt(B)+T;return this.model.getPositionAt(k)}getPlainTextToCopy(I,T,P){const B=P?`\r
`:this.model.getEOL();I=I.slice(0),I.sort(n.Range.compareRangesUsingStarts);let R=!1,k=!1;for(const O of I)O.isEmpty()?R=!0:k=!0;if(!k){if(!T)return"";const O=I.map(W=>W.startLineNumber);let F="";for(let W=0;W<O.length;W++)W>0&&O[W-1]===O[W]||(F+=this.model.getLineContent(O[W])+B);return F}if(R&&T){const O=[];let F=0;for(const W of I){const M=W.startLineNumber;W.isEmpty()?M!==F&&O.push(this.model.getLineContent(M)):O.push(this.model.getValueInRange(W,P?2:0)),F=M}return O.length===1?O[0]:O}const A=[];for(const O of I)O.isEmpty()||A.push(this.model.getValueInRange(O,P?2:0));return A.length===1?A[0]:A}getRichTextToCopy(I,T){const P=this.model.getLanguageId();if(P===l.PLAINTEXT_LANGUAGE_ID||I.length!==1)return null;let B=I[0];if(B.isEmpty()){if(!T)return null;const W=B.startLineNumber;B=new n.Range(W,this.model.getLineMinColumn(W),W,this.model.getLineMaxColumn(W))}const R=this._configuration.options.get(45),k=this._getColorMap(),O=/[:;\\\/<>]/.test(R.fontFamily)||R.fontFamily===v.EDITOR_FONT_DEFAULTS.fontFamily;let F;return O?F=v.EDITOR_FONT_DEFAULTS.fontFamily:(F=R.fontFamily,F=F.replace(/"/g,"'"),/[,']/.test(F)||/[+ ]/.test(F)&&(F=`'${F}'`),F=`${F}, ${v.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:P,html:`<div style="color: ${k[1]};background-color: ${k[2]};font-family: ${F};font-weight: ${R.fontWeight};font-size: ${R.fontSize}px;line-height: ${R.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(B,k)+"</div>"}}_getHTMLToCopy(I,T){const P=I.startLineNumber,B=I.startColumn,R=I.endLineNumber,k=I.endColumn,A=this.getTabSize();let O="";for(let F=P;F<=R;F++){const W=this.model.tokenization.getLineTokens(F),M=W.getLineContent(),z=F===P?B-1:0,G=F===R?k-1:M.length;M===""?O+="<br>":O+=(0,d.tokenizeLineToHTML)(M,W.inflate(),T,z,G,A,w.isWindows)}return O}_getColorMap(){const I=s.TokenizationRegistry.getColorMap(),T=["#000000"];if(I)for(let P=1,B=I.length;P<B;P++)T[P]=N.Color.Format.CSS.formatHex(I[P]);return T}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(I,T,P){return this._withViewEventsCollector(B=>this._cursor.setStates(B,I,T,P))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(I){this._cursor.setCursorColumnSelectData(I)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(I){this._cursor.setPrevEditOperationType(I)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(I,T,P=0){this._withViewEventsCollector(B=>this._cursor.setSelections(B,I,T,P))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(I){this._withViewEventsCollector(T=>this._cursor.restoreState(T,I))}_executeCursorEdit(I){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new m.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(I)}executeEdits(I,T,P){this._executeCursorEdit(B=>this._cursor.executeEdits(B,I,T,P))}startComposition(){this._executeCursorEdit(I=>this._cursor.startComposition(I))}endComposition(I){this._executeCursorEdit(T=>this._cursor.endComposition(T,I))}type(I,T){this._executeCursorEdit(P=>this._cursor.type(P,I,T))}compositionType(I,T,P,B,R){this._executeCursorEdit(k=>this._cursor.compositionType(k,I,T,P,B,R))}paste(I,T,P,B){this._executeCursorEdit(R=>this._cursor.paste(R,I,T,P,B))}cut(I){this._executeCursorEdit(T=>this._cursor.cut(T,I))}executeCommand(I,T){this._executeCursorEdit(P=>this._cursor.executeCommand(P,I,T))}executeCommands(I,T){this._executeCursorEdit(P=>this._cursor.executeCommands(P,I,T))}revealPrimaryCursor(I,T,P=!1){this._withViewEventsCollector(B=>this._cursor.revealPrimary(B,I,P,0,T,0))}revealTopMostCursor(I){const T=this._cursor.getTopMostViewPosition(),P=new n.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(B=>B.emitViewEvent(new a.ViewRevealRangeRequestEvent(I,!1,P,null,0,!0,0)))}revealBottomMostCursor(I){const T=this._cursor.getBottomMostViewPosition(),P=new n.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(B=>B.emitViewEvent(new a.ViewRevealRangeRequestEvent(I,!1,P,null,0,!0,0)))}revealRange(I,T,P,B,R){this._withViewEventsCollector(k=>k.emitViewEvent(new a.ViewRevealRangeRequestEvent(I,!1,P,null,B,T,R)))}changeWhitespace(I){this.viewLayout.changeWhitespace(I)&&(this._eventDispatcher.emitSingleViewEvent(new a.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new m.ViewZonesChangedEvent))}_withViewEventsCollector(I){try{const T=this._eventDispatcher.beginEmitViewEvents();return I(T)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(I,T){return this._lines.normalizePosition(I,T)}getLineIndentColumn(I){return this._lines.getLineIndentColumn(I)}}e.ViewModel=C;class _{constructor(I,T,P,B,R){this._model=I,this._viewLineNumber=T,this._isValid=P,this._modelTrackedRange=B,this._startLineDelta=R}static create(I){const T=I._setTrackedRange(null,new n.Range(1,1,1,1),1);return new _(I,1,!1,T,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(I,T){const P=I.coordinatesConverter.convertViewPositionToModelPosition(new i.Position(T,I.getLineMinColumn(T))),B=I.model._setTrackedRange(this._modelTrackedRange,new n.Range(P.lineNumber,P.column,P.lineNumber,P.column),1),R=I.viewLayout.getVerticalOffsetForLineNumber(T),k=I.viewLayout.getCurrentScrollTop();this._viewLineNumber=T,this._isValid=!0,this._modelTrackedRange=B,this._startLineDelta=k-R}invalidate(){this._isValid=!1}}class L{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(I,T,P,B,R){const k=this._asMap[I];if(k){const A=k.data,O=A[A.length-3],F=A[A.length-1];if(O===R&&F+1>=P){B>F&&(A[A.length-1]=B);return}A.push(R,P,B)}else{const A=new c.OverviewRulerDecorationsGroup(I,T,[R,P,B]);this._asMap[I]=A,this.asArray.push(A)}}}}),define(ne[169],oe([1,0,517,7,13,4,2,44,627,12,29,684,242,34,292,67,11,3,23,249,153,24,37,54,25,731,26,16,8,163,40,15,69,19,468,525,155,32,68,20,682,384]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E,I,T,P,B,R,k,A,O,F,W,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let z=0;class G{constructor(H,$,K,V,Q){this.model=H,this.viewModel=$,this.view=K,this.hasRealView=V,this.listenersToRemove=Q}dispose(){(0,w.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let te=class Pt extends w.Disposable{constructor(H,$,K,V,Q,ee,ae,fe,pe,ve,ue,Ce){super();this.languageConfigurationService=ue,this._deliveryQueue=new D.EventDeliveryQueue,this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this._onDidChangeConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new X({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new X({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorationIds=[];const me=Object.assign({},$);this._domElement=H,this._overflowWidgetsDomNode=me.overflowWidgetsDomNode,delete me.overflowWidgetsDomNode,this._id=++z,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=K.telemetryData,this._configuration=this._register(this._createConfiguration(K.isSimpleWidget||!1,me,ve)),this._register(this._configuration.onDidChange(ce=>{this._onDidChangeConfiguration.fire(ce);const he=this._configuration.options;if(ce.hasChanged(132)){const we=he.get(132);this._onDidLayoutChange.fire(we)}})),this._contextKeyService=this._register(ae.createScoped(this._domElement)),this._notificationService=pe,this._codeEditorService=Q,this._commandService=ee,this._themeService=fe,this._register(new J(this,this._contextKeyService)),this._register(new ie(this,this._contextKeyService,Ce)),this._instantiationService=V.createChild(new I.ServiceCollection([L.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new re(H),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let be;Array.isArray(K.contributions)?be=K.contributions:be=u.EditorExtensionsRegistry.getEditorContributions();for(const ce of be){if(this._contributions[ce.id]){(0,N.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${ce.id}`));continue}try{const he=this._instantiationService.createInstance(ce.ctor,this);this._contributions[ce.id]=he}catch(he){(0,N.onUnexpectedError)(he)}}u.EditorExtensionsRegistry.getEditorActions().forEach(ce=>{if(this._actions[ce.id]){(0,N.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${ce.id}`));return}const he=new r.InternalEditorAction(ce.id,ce.label,ce.alias,(0,R.withNullAsUndefined)(ce.precondition),()=>this._instantiationService.invokeFunction(we=>Promise.resolve(ce.runEditorCommand(we,this,null))),this._contextKeyService);this._actions[he.id]=he}),this._register(new f.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:ce=>{if(!this._configuration.options.get(32))return;const he=this.getTargetAtClientPoint(ce.clientX,ce.clientY);(he==null?void 0:he.position)&&this.showDropIndicatorAt(he.position)},onDrop:ce=>Le(this,void 0,void 0,function*(){if(!this._configuration.options.get(32)||(this.removeDropIndicator(),!ce.dataTransfer))return;const he=this.getTargetAtClientPoint(ce.clientX,ce.clientY);(he==null?void 0:he.position)&&this._onDropIntoEditor.fire({position:he.position,event:ce})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(H,$,K){return new v.EditorConfiguration(H,$,this._domElement,K)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const H=Object.keys(this._contributions);for(let $=0,K=H.length;$<K;$++){const V=H[$];this._contributions[V].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(H){return this._instantiationService.invokeFunction(H)}updateOptions(H){this._configuration.updateOptions(H||{})}getOptions(){return this._configuration.options}getOption(H){return this._configuration.options.get(H)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(H){return this._modelData?O.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(118),H):null}getValue(H=null){if(!this._modelData)return"";const $=!!(H&&H.preserveBOM);let K=0;return H&&H.lineEnding&&H.lineEnding===`
`?K=1:H&&H.lineEnding&&H.lineEnding===`\r
`&&(K=2),this._modelData.model.getValue(K,$)}setValue(H){!this._modelData||this._modelData.model.setValue(H)}getModel(){return this._modelData?this._modelData.model:null}setModel(H=null){const $=H;if(this._modelData===null&&$===null||this._modelData&&this._modelData.model===$)return;const K=this.hasTextFocus(),V=this._detachModel();this._attachModel($),K&&this.hasModel()&&this.focus();const Q={oldModelUrl:V?V.uri:null,newModelUrl:$?$.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Q),this._postDetachModelCleanup(V)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const H in this._decorationTypeSubtypes){const $=this._decorationTypeSubtypes[H];for(const K in $)this._removeDecorationType(H+"-"+K)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(H,$,K){const V=H.model.validatePosition({lineNumber:$,column:K}),Q=H.viewModel.coordinatesConverter.convertModelPositionToViewPosition(V);return H.viewModel.viewLayout.getVerticalOffsetForLineNumber(Q.lineNumber)}getTopForLineNumber(H){return this._modelData?Pt._getVerticalOffsetForPosition(this._modelData,H,1):-1}getTopForPosition(H,$){return this._modelData?Pt._getVerticalOffsetForPosition(this._modelData,H,$):-1}setHiddenAreas(H){this._modelData&&this._modelData.viewModel.setHiddenAreas(H.map($=>a.Range.lift($)))}getVisibleColumnFromPosition(H){if(!this._modelData)return H.column;const $=this._modelData.model.validatePosition(H),K=this._modelData.model.getOptions().tabSize;return l.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent($.lineNumber),$.column,K)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(H,$="api"){if(!!this._modelData){if(!d.Position.isIPosition(H))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections($,[{selectionStartLineNumber:H.lineNumber,selectionStartColumn:H.column,positionLineNumber:H.lineNumber,positionColumn:H.column}])}}_sendRevealRange(H,$,K,V){if(!this._modelData)return;if(!a.Range.isIRange(H))throw new Error("Invalid arguments");const Q=this._modelData.model.validateRange(H),ee=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Q);this._modelData.viewModel.revealRange("api",K,ee,$,V)}revealLine(H,$=0){this._revealLine(H,0,$)}revealLineInCenter(H,$=0){this._revealLine(H,1,$)}revealLineInCenterIfOutsideViewport(H,$=0){this._revealLine(H,2,$)}revealLineNearTop(H,$=0){this._revealLine(H,5,$)}_revealLine(H,$,K){if(typeof H!="number")throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(H,1,H,1),$,!1,K)}revealPosition(H,$=0){this._revealPosition(H,0,!0,$)}revealPositionInCenter(H,$=0){this._revealPosition(H,1,!0,$)}revealPositionInCenterIfOutsideViewport(H,$=0){this._revealPosition(H,2,!0,$)}revealPositionNearTop(H,$=0){this._revealPosition(H,5,!0,$)}_revealPosition(H,$,K,V){if(!d.Position.isIPosition(H))throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(H.lineNumber,H.column,H.lineNumber,H.column),$,K,V)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(H,$="api"){const K=o.Selection.isISelection(H),V=a.Range.isIRange(H);if(!K&&!V)throw new Error("Invalid arguments");if(K)this._setSelectionImpl(H,$);else if(V){const Q={selectionStartLineNumber:H.startLineNumber,selectionStartColumn:H.startColumn,positionLineNumber:H.endLineNumber,positionColumn:H.endColumn};this._setSelectionImpl(Q,$)}}_setSelectionImpl(H,$){if(!this._modelData)return;const K=new o.Selection(H.selectionStartLineNumber,H.selectionStartColumn,H.positionLineNumber,H.positionColumn);this._modelData.viewModel.setSelections($,[K])}revealLines(H,$,K=0){this._revealLines(H,$,0,K)}revealLinesInCenter(H,$,K=0){this._revealLines(H,$,1,K)}revealLinesInCenterIfOutsideViewport(H,$,K=0){this._revealLines(H,$,2,K)}revealLinesNearTop(H,$,K=0){this._revealLines(H,$,5,K)}_revealLines(H,$,K,V){if(typeof H!="number"||typeof $!="number")throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(H,1,$,1),K,!1,V)}revealRange(H,$=0,K=!1,V=!0){this._revealRange(H,K?1:0,V,$)}revealRangeInCenter(H,$=0){this._revealRange(H,1,!0,$)}revealRangeInCenterIfOutsideViewport(H,$=0){this._revealRange(H,2,!0,$)}revealRangeNearTop(H,$=0){this._revealRange(H,5,!0,$)}revealRangeNearTopIfOutsideViewport(H,$=0){this._revealRange(H,6,!0,$)}revealRangeAtTop(H,$=0){this._revealRange(H,3,!0,$)}_revealRange(H,$,K,V){if(!a.Range.isIRange(H))throw new Error("Invalid arguments");this._sendRevealRange(a.Range.lift(H),$,K,V)}setSelections(H,$="api",K=0){if(!!this._modelData){if(!H||H.length===0)throw new Error("Invalid arguments");for(let V=0,Q=H.length;V<Q;V++)if(!o.Selection.isISelection(H[V]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections($,H,K)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(H,$=1){if(!!this._modelData){if(typeof H!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:H},$)}}setScrollTop(H,$=1){if(!!this._modelData){if(typeof H!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:H},$)}}setScrollPosition(H,$=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(H,$)}saveViewState(){if(!this._modelData)return null;const H={},$=Object.keys(this._contributions);for(const Q of $){const ee=this._contributions[Q];typeof ee.saveViewState=="function"&&(H[Q]=ee.saveViewState())}const K=this._modelData.viewModel.saveCursorState(),V=this._modelData.viewModel.saveState();return{cursorState:K,viewState:V,contributionsState:H}}restoreViewState(H){if(!this._modelData||!this._modelData.hasRealView)return;const $=H;if($&&$.cursorState&&$.viewState){const K=$.cursorState;Array.isArray(K)?K.length>0&&this._modelData.viewModel.restoreCursorState(K):this._modelData.viewModel.restoreCursorState([K]);const V=$.contributionsState||{},Q=Object.keys(this._contributions);for(let ae=0,fe=Q.length;ae<fe;ae++){const pe=Q[ae],ve=this._contributions[pe];typeof ve.restoreViewState=="function"&&ve.restoreViewState(V[pe])}const ee=this._modelData.viewModel.reduceRestoreState($.viewState);this._modelData.view.restoreState(ee)}}getContribution(H){return this._contributions[H]||null}getActions(){const H=[],$=Object.keys(this._actions);for(let K=0,V=$.length;K<V;K++){const Q=$[K];H.push(this._actions[Q])}return H}getSupportedActions(){let H=this.getActions();return H=H.filter($=>$.isSupported()),H}getAction(H){return this._actions[H]||null}trigger(H,$,K){switch(K=K||{},$){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(H);return;case"type":{const Q=K;this._type(H,Q.text||"");return}case"replacePreviousChar":{const Q=K;this._compositionType(H,Q.text||"",Q.replaceCharCnt||0,0,0);return}case"compositionType":{const Q=K;this._compositionType(H,Q.text||"",Q.replacePrevCharCnt||0,Q.replaceNextCharCnt||0,Q.positionDelta||0);return}case"paste":{const Q=K;this._paste(H,Q.text||"",Q.pasteOnNewLine||!1,Q.multicursorText||null,Q.mode||null);return}case"cut":this._cut(H);return}const V=this.getAction($);if(V){Promise.resolve(V.run()).then(void 0,N.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(H,$,K)||this._triggerCommand($,K)}_triggerCommand(H,$){this._commandService.executeCommand(H,$)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(H){!this._modelData||(this._modelData.viewModel.endComposition(H),this._onDidCompositionEnd.fire())}_type(H,$){!this._modelData||$.length===0||(H==="keyboard"&&this._onWillType.fire($),this._modelData.viewModel.type($,H),H==="keyboard"&&this._onDidType.fire($))}_compositionType(H,$,K,V,Q){!this._modelData||this._modelData.viewModel.compositionType($,K,V,Q,H)}_paste(H,$,K,V,Q){if(!this._modelData||$.length===0)return;const ee=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste($,K,V,H);const ae=this._modelData.viewModel.getSelection().getStartPosition();H==="keyboard"&&this._onDidPaste.fire({range:new a.Range(ee.lineNumber,ee.column,ae.lineNumber,ae.column),languageId:Q})}_cut(H){!this._modelData||this._modelData.viewModel.cut(H)}_triggerEditorCommand(H,$,K){const V=u.EditorExtensionsRegistry.getEditorCommand($);return V?(K=K||{},K.source=H,this._instantiationService.invokeFunction(Q=>{Promise.resolve(V.runEditorCommand(Q,this,K)).then(void 0,N.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(82)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(82)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(H,$,K){if(!this._modelData||this._configuration.options.get(82))return!1;let V;return K?Array.isArray(K)?V=()=>K:V=K:V=()=>null,this._modelData.viewModel.executeEdits(H,$,V),!0}executeCommand(H,$){!this._modelData||this._modelData.viewModel.executeCommand($,H)}executeCommands(H,$){!this._modelData||this._modelData.viewModel.executeCommands($,H)}createDecorationsCollection(H){return new Z(this,H)}changeDecorations(H){return this._modelData?this._modelData.model.changeDecorations(H,this._id):null}getLineDecorations(H){return this._modelData?this._modelData.model.getLineDecorations(H,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(H){return this._modelData?this._modelData.model.getDecorationsInRange(H,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(H,$){return this._modelData?H.length===0&&$.length===0?H:this._modelData.model.deltaDecorations(H,$,this._id):[]}removeDecorations(H){const $=this._decorationTypeKeysToIds[H];$&&this.deltaDecorations($,[]),this._decorationTypeKeysToIds.hasOwnProperty(H)&&delete this._decorationTypeKeysToIds[H],this._decorationTypeSubtypes.hasOwnProperty(H)&&delete this._decorationTypeSubtypes[H]}getLayoutInfo(){return this._configuration.options.get(132)}createOverviewRuler(H){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(H)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(H)}layout(H){this._configuration.observeContainer(H),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(H){const $={widget:H,position:H.getPosition()};this._contentWidgets.hasOwnProperty(H.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[H.getId()]=$,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget($)}layoutContentWidget(H){const $=H.getId();if(this._contentWidgets.hasOwnProperty($)){const K=this._contentWidgets[$];K.position=H.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(K)}}removeContentWidget(H){const $=H.getId();if(this._contentWidgets.hasOwnProperty($)){const K=this._contentWidgets[$];delete this._contentWidgets[$],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(K)}}addOverlayWidget(H){const $={widget:H,position:H.getPosition()};this._overlayWidgets.hasOwnProperty(H.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[H.getId()]=$,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget($)}layoutOverlayWidget(H){const $=H.getId();if(this._overlayWidgets.hasOwnProperty($)){const K=this._overlayWidgets[$];K.position=H.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(K)}}removeOverlayWidget(H){const $=H.getId();if(this._overlayWidgets.hasOwnProperty($)){const K=this._overlayWidgets[$];delete this._overlayWidgets[$],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(K)}}changeViewZones(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(H)}getTargetAtClientPoint(H,$){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(H,$)}getScrolledVisiblePosition(H){if(!this._modelData||!this._modelData.hasRealView)return null;const $=this._modelData.model.validatePosition(H),K=this._configuration.options,V=K.get(132),Q=Pt._getVerticalOffsetForPosition(this._modelData,$.lineNumber,$.column)-this.getScrollTop(),ee=this._modelData.view.getOffsetForColumn($.lineNumber,$.column)+V.glyphMarginWidth+V.lineNumbersWidth+V.decorationsWidth-this.getScrollLeft();return{top:Q,left:ee,height:K.get(60)}}getOffsetForColumn(H,$){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(H,$)}render(H=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,H)}setAriaOptions(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(H)}applyFontInfo(H){(0,W.applyFontInfo)(H,this._configuration.options.get(45))}setBanner(H,$){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=H,this._configuration.setReservedHeight(H?$:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(H){if(!H){this._modelData=null;return}const $=[];this._domElement.setAttribute("data-mode-id",H.getLanguageId()),this._configuration.setIsDominatedByLongLines(H.isDominatedByLongLines()),this._configuration.setModelLineCount(H.getLineCount()),H.onBeforeAttached();const K=new C.ViewModel(this._id,this._configuration,H,A.DOMLineBreaksComputerFactory.create(),k.MonospaceLineBreaksComputerFactory.create(this._configuration.options),ee=>f.scheduleAtNextAnimationFrame(ee),this.languageConfigurationService,this._themeService);$.push(H.onWillDispose(()=>this.setModel(null))),$.push(K.onEvent(ee=>{switch(ee.kind){case 0:this._onDidContentSizeChange.fire(ee);break;case 1:this._editorTextFocus.setValue(ee.hasFocus);break;case 2:this._onDidScrollChange.fire(ee);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ee.reachedMaxCursorCount&&this._notificationService.warn(y.localize(0,null,s.CursorsController.MAX_CURSOR_COUNT));const ae=[];for(let ve=0,ue=ee.selections.length;ve<ue;ve++)ae[ve]=ee.selections[ve].getPosition();const fe={position:ae[0],secondaryPositions:ae.slice(1),reason:ee.reason,source:ee.source};this._onDidChangeCursorPosition.fire(fe);const pe={selection:ee.selections[0],secondarySelections:ee.selections.slice(1),modelVersionId:ee.modelVersionId,oldSelections:ee.oldSelections,oldModelVersionId:ee.oldModelVersionId,source:ee.source,reason:ee.reason};this._onDidChangeCursorSelection.fire(pe);break}case 7:this._onDidChangeModelDecorations.fire(ee.event);break;case 8:this._domElement.setAttribute("data-mode-id",H.getLanguageId()),this._onDidChangeModelLanguage.fire(ee.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ee.event);break;case 10:this._onDidChangeModelContent.fire(ee.event);break;case 11:this._onDidChangeModelOptions.fire(ee.event);break;case 12:this._onDidChangeModelTokens.fire(ee.event);break}}));const[V,Q]=this._createView(K);if(Q){this._domElement.appendChild(V.domNode.domNode);let ee=Object.keys(this._contentWidgets);for(let ae=0,fe=ee.length;ae<fe;ae++){const pe=ee[ae];V.addContentWidget(this._contentWidgets[pe])}ee=Object.keys(this._overlayWidgets);for(let ae=0,fe=ee.length;ae<fe;ae++){const pe=ee[ae];V.addOverlayWidget(this._overlayWidgets[pe])}V.render(!1,!0),V.domNode.domNode.setAttribute("data-uri",H.uri.toString())}this._modelData=new G(H,K,V,Q,$)}_createView(H){let $;this.isSimpleWidget?$={paste:(Q,ee,ae,fe)=>{this._paste("keyboard",Q,ee,ae,fe)},type:Q=>{this._type("keyboard",Q)},compositionType:(Q,ee,ae,fe)=>{this._compositionType("keyboard",Q,ee,ae,fe)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:$={paste:(Q,ee,ae,fe)=>{const pe={text:Q,pasteOnNewLine:ee,multicursorText:ae,mode:fe};this._commandService.executeCommand("paste",pe)},type:Q=>{const ee={text:Q};this._commandService.executeCommand("type",ee)},compositionType:(Q,ee,ae,fe)=>{if(ae||fe){const pe={text:Q,replacePrevCharCnt:ee,replaceNextCharCnt:ae,positionDelta:fe};this._commandService.executeCommand("compositionType",pe)}else{const pe={text:Q,replaceCharCnt:ee};this._commandService.executeCommand("replacePreviousChar",pe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const K=new n.ViewUserInputEvents(H.coordinatesConverter);return K.onKeyDown=Q=>this._onKeyDown.fire(Q),K.onKeyUp=Q=>this._onKeyUp.fire(Q),K.onContextMenu=Q=>this._onContextMenu.fire(Q),K.onMouseMove=Q=>this._onMouseMove.fire(Q),K.onMouseLeave=Q=>this._onMouseLeave.fire(Q),K.onMouseDown=Q=>this._onMouseDown.fire(Q),K.onMouseUp=Q=>this._onMouseUp.fire(Q),K.onMouseDrag=Q=>this._onMouseDrag.fire(Q),K.onMouseDrop=Q=>this._onMouseDrop.fire(Q),K.onMouseDropCanceled=Q=>this._onMouseDropCanceled.fire(Q),K.onMouseWheel=Q=>this._onMouseWheel.fire(Q),[new i.View($,this._configuration,this._themeService.getColorTheme(),H,K,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(H){H&&H.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const H=this._modelData.model,$=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),$&&this._domElement.contains($)&&this._domElement.removeChild($),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),H}_removeDecorationType(H){this._codeEditorService.removeDecorationType(H)}hasModel(){return this._modelData!==null}showDropIndicatorAt(H){const $=[{range:new a.Range(H.lineNumber,H.column,H.lineNumber,H.column),options:Pt.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorationIds=this.deltaDecorations(this._dropIntoEditorDecorationIds,$),this.revealPosition(H,1)}removeDropIndicator(){this._dropIntoEditorDecorationIds=this.deltaDecorations(this._dropIntoEditorDecorationIds,[])}};te.dropIntoEditorDecorationOptions=m.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),te=De([ge(3,E.IInstantiationService),ge(4,h.ICodeEditorService),ge(5,_.ICommandService),ge(6,L.IContextKeyService),ge(7,P.IThemeService),ge(8,T.INotificationService),ge(9,B.IAccessibilityService),ge(10,F.ILanguageConfigurationService),ge(11,M.ILanguageFeaturesService)],te),e.CodeEditorWidget=te;class X extends w.Disposable{constructor(H){super();this._emitterOptions=H,this._onDidChangeToTrue=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(H){const $=H?2:1;this._value!==$&&(this._value=$,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=X;class J extends w.Disposable{constructor(H,$){super();this._editor=H,$.createKey("editorId",H.getId()),this._editorSimpleInput=g.EditorContextKeys.editorSimpleInput.bindTo($),this._editorFocus=g.EditorContextKeys.focus.bindTo($),this._textInputFocus=g.EditorContextKeys.textInputFocus.bindTo($),this._editorTextFocus=g.EditorContextKeys.editorTextFocus.bindTo($),this._editorTabMovesFocus=g.EditorContextKeys.tabMovesFocus.bindTo($),this._editorReadonly=g.EditorContextKeys.readOnly.bindTo($),this._inDiffEditor=g.EditorContextKeys.inDiffEditor.bindTo($),this._editorColumnSelection=g.EditorContextKeys.columnSelection.bindTo($),this._hasMultipleSelections=g.EditorContextKeys.hasMultipleSelections.bindTo($),this._hasNonEmptySelection=g.EditorContextKeys.hasNonEmptySelection.bindTo($),this._canUndo=g.EditorContextKeys.canUndo.bindTo($),this._canRedo=g.EditorContextKeys.canRedo.bindTo($),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const H=this._editor.getOptions();this._editorTabMovesFocus.set(H.get(131)),this._editorReadonly.set(H.get(82)),this._inDiffEditor.set(H.get(55)),this._editorColumnSelection.set(H.get(18))}_updateFromSelection(){const H=this._editor.getSelections();H?(this._hasMultipleSelections.set(H.length>1),this._hasNonEmptySelection.set(H.some($=>!$.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const H=this._editor.getModel();this._canUndo.set(Boolean(H&&H.canUndo())),this._canRedo.set(Boolean(H&&H.canRedo()))}}class ie extends w.Disposable{constructor(H,$,K){super();this._editor=H,this._contextKeyService=$,this._languageFeaturesService=K,this._langId=g.EditorContextKeys.languageId.bindTo($),this._hasCompletionItemProvider=g.EditorContextKeys.hasCompletionItemProvider.bindTo($),this._hasCodeActionsProvider=g.EditorContextKeys.hasCodeActionsProvider.bindTo($),this._hasCodeLensProvider=g.EditorContextKeys.hasCodeLensProvider.bindTo($),this._hasDefinitionProvider=g.EditorContextKeys.hasDefinitionProvider.bindTo($),this._hasDeclarationProvider=g.EditorContextKeys.hasDeclarationProvider.bindTo($),this._hasImplementationProvider=g.EditorContextKeys.hasImplementationProvider.bindTo($),this._hasTypeDefinitionProvider=g.EditorContextKeys.hasTypeDefinitionProvider.bindTo($),this._hasHoverProvider=g.EditorContextKeys.hasHoverProvider.bindTo($),this._hasDocumentHighlightProvider=g.EditorContextKeys.hasDocumentHighlightProvider.bindTo($),this._hasDocumentSymbolProvider=g.EditorContextKeys.hasDocumentSymbolProvider.bindTo($),this._hasReferenceProvider=g.EditorContextKeys.hasReferenceProvider.bindTo($),this._hasRenameProvider=g.EditorContextKeys.hasRenameProvider.bindTo($),this._hasSignatureHelpProvider=g.EditorContextKeys.hasSignatureHelpProvider.bindTo($),this._hasInlayHintsProvider=g.EditorContextKeys.hasInlayHintsProvider.bindTo($),this._hasDocumentFormattingProvider=g.EditorContextKeys.hasDocumentFormattingProvider.bindTo($),this._hasDocumentSelectionFormattingProvider=g.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo($),this._hasMultipleDocumentFormattingProvider=g.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo($),this._hasMultipleDocumentSelectionFormattingProvider=g.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo($),this._isInWalkThrough=g.EditorContextKeys.isInWalkThroughSnippet.bindTo($);const V=()=>this._update();this._register(H.onDidChangeModel(V)),this._register(H.onDidChangeModelLanguage(V)),this._register(K.completionProvider.onDidChange(V)),this._register(K.codeActionProvider.onDidChange(V)),this._register(K.codeLensProvider.onDidChange(V)),this._register(K.definitionProvider.onDidChange(V)),this._register(K.declarationProvider.onDidChange(V)),this._register(K.implementationProvider.onDidChange(V)),this._register(K.typeDefinitionProvider.onDidChange(V)),this._register(K.hoverProvider.onDidChange(V)),this._register(K.documentHighlightProvider.onDidChange(V)),this._register(K.documentSymbolProvider.onDidChange(V)),this._register(K.referenceProvider.onDidChange(V)),this._register(K.renameProvider.onDidChange(V)),this._register(K.documentFormattingEditProvider.onDidChange(V)),this._register(K.documentRangeFormattingEditProvider.onDidChange(V)),this._register(K.signatureHelpProvider.onDidChange(V)),this._register(K.inlayHintsProvider.onDidChange(V)),V()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const H=this._editor.getModel();if(!H){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(H.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(H)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(H)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(H)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(H)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(H)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(H)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(H)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(H)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(H)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(H)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(H)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(H)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(H)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(H)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(H)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(H)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(H)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(H).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(H).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(H).length>1),this._isInWalkThrough.set(H.uri.scheme===b.Schemas.walkThroughSnippet)})}}e.EditorModeContext=ie;class re extends w.Disposable{constructor(H){super();this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(f.trackFocus(H)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class Z{constructor(H,$){this._editor=H,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray($)&&$.length>0&&this.set($)}get length(){return this._decorationIds.length}onDidChange(H,$,K){return this._editor.onDidChangeModelDecorations(V=>{this._isChangingDecorations||H.call($,V)},K)}getRange(H){return!this._editor.hasModel()||H>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[H])}getRanges(){if(!this._editor.hasModel())return[];const H=this._editor.getModel(),$=[];for(const K of this._decorationIds){const V=H.getDecorationRange(K);V&&$.push(V)}return $}has(H){return this._decorationIds.includes(H.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(H){try{this._isChangingDecorations=!0,this._editor.changeDecorations($=>{this._decorationIds=$.deltaDecorations(this._decorationIds,H)})}finally{this._isChangingDecorations=!1}}}const x=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),U=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function q(de){return x+encodeURIComponent(de.toString())+U}const le=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),se=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Y(de){return le+encodeURIComponent(de.toString())+se}(0,P.registerThemingParticipant)((de,H)=>{const $=de.getColor(p.editorErrorBorder);$&&H.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${$}; }`);const K=de.getColor(p.editorErrorForeground);K&&H.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${q(K)}") repeat-x bottom left; }`);const V=de.getColor(p.editorErrorBackground);V&&H.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${V}; }`);const Q=de.getColor(p.editorWarningBorder);Q&&H.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${Q}; }`);const ee=de.getColor(p.editorWarningForeground);ee&&H.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${q(ee)}") repeat-x bottom left; }`);const ae=de.getColor(p.editorWarningBackground);ae&&H.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ae}; }`);const fe=de.getColor(p.editorInfoBorder);fe&&H.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${fe}; }`);const pe=de.getColor(p.editorInfoForeground);pe&&H.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${q(pe)}") repeat-x bottom left; }`);const ve=de.getColor(p.editorInfoBackground);ve&&H.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${ve}; }`);const ue=de.getColor(p.editorHintBorder);ue&&H.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${ue}; }`);const Ce=de.getColor(p.editorHintForeground);Ce&&H.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Y(Ce)}") no-repeat bottom left; }`);const me=de.getColor(S.editorUnnecessaryCodeOpacity);me&&H.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${me.rgba.a}; }`);const be=de.getColor(S.editorUnnecessaryCodeBorder);be&&H.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${be}; }`);const ce=de.getColor(p.editorForeground)||"inherit";H.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${ce}}`)})}),define(ne[310],oe([1,0,518,7,33,126,10,4,2,68,150,29,169,723,34,3,96,153,37,90,264,159,134,75,16,8,163,40,25,15,82,521,91,12,13,77,239,27,148,78,56,382]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E,I,T,P,B,R,k,A,O,F,W,M,z){"use strict";var G;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class te{constructor(ue,Ce){this._contextMenuService=ue,this._clipboardService=Ce,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(ue){return ue.filter(Ce=>!this._zonesMap[String(Ce.id)])}clean(ue){this._zones.length>0&&ue.changeViewZones(Ce=>{for(const me of this._zones)Ce.removeZone(me)}),this._zones=[],this._zonesMap={},this._decorations=ue.deltaDecorations(this._decorations,[])}apply(ue,Ce,me,be){const ce=be?h.StableEditorScrollState.capture(ue):null;ue.changeViewZones(he=>{var we;for(const ye of this._zones)he.removeZone(ye);for(const ye of this._inlineDiffMargins)ye.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let ye=0,Te=me.zones.length;ye<Te;ye++){const ke=me.zones[ye];ke.suppressMouseDown=!0;const Ne=he.addZone(ke);this._zones.push(Ne),this._zonesMap[String(Ne)]=!0,me.zones[ye].diff&&ke.marginDomNode&&(ke.suppressMouseDown=!1,((we=me.zones[ye].diff)===null||we===void 0?void 0:we.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new P.InlineDiffMargin(Ne,ke.marginDomNode,ue,me.zones[ye].diff,this._contextMenuService,this._clipboardService)))}}),ce&&ce.restore(ue),this._decorations=ue.deltaDecorations(this._decorations,me.decorations),Ce&&Ce.setZones(me.overviewZones)}}let X=0;const J=(0,M.registerIcon)("diff-insert",F.Codicon.add,y.localize(0,null)),ie=(0,M.registerIcon)("diff-remove",F.Codicon.remove,y.localize(1,null)),re=(G=window.trustedTypes)===null||G===void 0?void 0:G.createPolicy("diffEditorWidget",{createHTML:ve=>ve});let Z=class rt extends v.Disposable{constructor(ue,Ce,me,be,ce,he,we,ye,Te,ke,Ne,Oe){super();this._editorProgressService=Oe,this._onDidDispose=this._register(new b.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new b.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new b.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=ce,this._codeEditorService=ye,this._contextKeyService=this._register(he.createScoped(ue)),this._instantiationService=we.createChild(new _.ServiceCollection([p.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Te,this._notificationService=ke,this._id=++X,this._state=0,this._updatingDiffProgress=null,this._domElement=ue,Ce=Ce||{},this._options=fe(Ce,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof Ce.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",Ce.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new w.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,N.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(f.addStandardDisposableListener(this._overviewDomElement,f.EventType.POINTER_DOWN,_e=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(_e)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new te(Ne,be),this._modifiedEditorState=new te(Ne,be),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new O.ElementSizeObserver(this._containerDomElement,Ce.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Ce.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Ce,me.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Ce,me.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=we.createInstance(t.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Y(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new H(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Te.onDidColorThemeChange(_e=>{this._strategy&&this._strategy.applyColors(_e)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Se=R.EditorExtensionsRegistry.getDiffEditorContributions();for(const _e of Se)try{this._register(we.createInstance(_e.ctor,this))}catch(Ee){(0,k.onUnexpectedError)(Ee)}this._codeEditorService.addDiffEditor(this)}_setState(ue){this._state!==ue&&(this._state=ue,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(ue,Ce){let me="monaco-diff-editor monaco-editor-background ";return Ce&&(me+="side-by-side "),me+=(0,I.getThemeTypeSelector)(ue.type),me}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(ue,Ce){const me=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(ue),Ce);this._register(me.onDidScrollChange(ce=>{this._isHandlingScrollEvent||!ce.scrollTopChanged&&!ce.scrollLeftChanged&&!ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:ce.scrollLeft,scrollTop:ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(ce=>{!me.getModel()||(ce.hasChanged(45)&&this._updateDecorationsRunner.schedule(),ce.hasChanged(133)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const be=this._contextKeyService.createKey("isInDiffLeftEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>be.set(!0))),this._register(me.onDidBlurEditorWidget(()=>be.set(!1))),this._register(me.onDidContentSizeChange(ce=>{const he=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+rt.ONE_OVERVIEW_WIDTH,we=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:we,contentWidth:he,contentHeightChanged:ce.contentHeightChanged,contentWidthChanged:ce.contentWidthChanged})})),me}_createRightHandSideEditor(ue,Ce){const me=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(ue),Ce);this._register(me.onDidScrollChange(ce=>{this._isHandlingScrollEvent||!ce.scrollTopChanged&&!ce.scrollLeftChanged&&!ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:ce.scrollLeft,scrollTop:ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(ce=>{!me.getModel()||(ce.hasChanged(45)&&this._updateDecorationsRunner.schedule(),ce.hasChanged(133)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(me.onDidChangeModelOptions(ce=>{ce.tabSize&&this._updateDecorationsRunner.schedule()}));const be=this._contextKeyService.createKey("isInDiffRightEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>be.set(!0))),this._register(me.onDidBlurEditorWidget(()=>be.set(!1))),this._register(me.onDidContentSizeChange(ce=>{const he=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+rt.ONE_OVERVIEW_WIDTH,we=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:we,contentWidth:he,contentHeightChanged:ce.contentHeightChanged,contentWidthChanged:ce.contentWidthChanged})})),me}_createInnerEditor(ue,Ce,me,be){return ue.createInstance(n.CodeEditorWidget,Ce,me,be)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return a.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(ue){const Ce=fe(ue,this._options),me=pe(this._options,Ce);this._options=Ce;const be=me.ignoreTrimWhitespace||me.renderIndicators,ce=this._isVisible&&(me.maxComputationTime||me.maxFileSize);be?this._beginUpdateDecorations():ce&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(ue)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(ue)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),me.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Y(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new H(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),me.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(ue){if(ue&&(!ue.original||!ue.modified))throw new Error(ue.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(ue?ue.original:null),this._modifiedEditor.setModel(ue?ue.modified:null),this._updateDecorationsRunner.cancel(),ue&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),ue&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(ue){return this._modifiedEditor.getVisibleColumnFromPosition(ue)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(ue,Ce="api"){this._modifiedEditor.setPosition(ue,Ce)}revealLine(ue,Ce=0){this._modifiedEditor.revealLine(ue,Ce)}revealLineInCenter(ue,Ce=0){this._modifiedEditor.revealLineInCenter(ue,Ce)}revealLineInCenterIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(ue,Ce)}revealLineNearTop(ue,Ce=0){this._modifiedEditor.revealLineNearTop(ue,Ce)}revealPosition(ue,Ce=0){this._modifiedEditor.revealPosition(ue,Ce)}revealPositionInCenter(ue,Ce=0){this._modifiedEditor.revealPositionInCenter(ue,Ce)}revealPositionInCenterIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(ue,Ce)}revealPositionNearTop(ue,Ce=0){this._modifiedEditor.revealPositionNearTop(ue,Ce)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(ue,Ce="api"){this._modifiedEditor.setSelection(ue,Ce)}setSelections(ue,Ce="api"){this._modifiedEditor.setSelections(ue,Ce)}revealLines(ue,Ce,me=0){this._modifiedEditor.revealLines(ue,Ce,me)}revealLinesInCenter(ue,Ce,me=0){this._modifiedEditor.revealLinesInCenter(ue,Ce,me)}revealLinesInCenterIfOutsideViewport(ue,Ce,me=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(ue,Ce,me)}revealLinesNearTop(ue,Ce,me=0){this._modifiedEditor.revealLinesNearTop(ue,Ce,me)}revealRange(ue,Ce=0,me=!1,be=!0){this._modifiedEditor.revealRange(ue,Ce,me,be)}revealRangeInCenter(ue,Ce=0){this._modifiedEditor.revealRangeInCenter(ue,Ce)}revealRangeInCenterIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(ue,Ce)}revealRangeNearTop(ue,Ce=0){this._modifiedEditor.revealRangeNearTop(ue,Ce)}revealRangeNearTopIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(ue,Ce)}revealRangeAtTop(ue,Ce=0){this._modifiedEditor.revealRangeAtTop(ue,Ce)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const ue=this._originalEditor.saveViewState(),Ce=this._modifiedEditor.saveViewState();return{original:ue,modified:Ce}}restoreViewState(ue){if(ue&&ue.original&&ue.modified){const Ce=ue;this._originalEditor.restoreViewState(Ce.original),this._modifiedEditor.restoreViewState(Ce.modified)}}layout(ue){this._elementSizeObserver.observe(ue)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(ue,Ce,me){this._modifiedEditor.trigger(ue,Ce,me)}createDecorationsCollection(ue){return this._modifiedEditor.createDecorationsCollection(ue)}changeDecorations(ue){return this._modifiedEditor.changeDecorations(ue)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const ue=this._elementSizeObserver.getHeight(),Ce=this._getReviewHeight(),me=rt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*rt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:rt.ONE_OVERVIEW_WIDTH,right:me+rt.ONE_OVERVIEW_WIDTH,height:ue-Ce}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:rt.ONE_OVERVIEW_WIDTH,height:ue-Ce}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),rt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(ue,Ce){return!ue&&!Ce?!0:!ue||!Ce?!1:ue.toString()===Ce.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const ue=this._originalEditor.getModel(),Ce=this._modifiedEditor.getModel();if(!ue||!Ce)return;this._diffComputationToken++;const me=this._diffComputationToken,be=this._options.maxFileSize*1024*1024,ce=he=>{const we=he.getValueLength();return be===0||we<=be};if(!ce(ue)||!ce(Ce)){(!rt._equals(ue.uri,this._lastOriginalWarning)||!rt._equals(Ce.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=ue.uri,this._lastModifiedWarning=Ce.uri,this._notificationService.warn(y.localize(2,null)));return}this._setState(1),this._editorWorkerService.computeDiff(ue.uri,Ce.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(he=>{me===this._diffComputationToken&&ue===this._originalEditor.getModel()&&Ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=he,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},he=>{me===this._diffComputationToken&&ue===this._originalEditor.getModel()&&Ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const ue=this._diffComputationResult?this._diffComputationResult.changes:[],Ce=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),me=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),be=this._strategy.getEditorsDiffDecorations(ue,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Ce,me);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,be.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,be.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(ue){const Ce=Object.assign({},ue);return Ce.inDiffEditor=!0,Ce.automaticLayout=!1,Ce.scrollbar=Object.assign({},Ce.scrollbar||{}),Ce.scrollbar.vertical="visible",Ce.folding=!1,Ce.codeLens=this._options.diffCodeLens,Ce.fixedOverflowWidgets=!0,Ce.minimap=Object.assign({},Ce.minimap||{}),Ce.minimap.enabled=!1,Ce}_adjustOptionsForLeftHandSide(ue){const Ce=this._adjustOptionsForSubEditor(ue);return this._options.renderSideBySide?Ce.wordWrapOverride1=this._options.diffWordWrap:(Ce.wordWrapOverride1="off",Ce.wordWrapOverride2="off"),ue.originalAriaLabel&&(Ce.ariaLabel=ue.originalAriaLabel),Ce.readOnly=!this._options.originalEditable,Ce.enableDropIntoEditor=!Ce.readOnly,Ce.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Ce),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(ue){const Ce=this._adjustOptionsForSubEditor(ue);return ue.modifiedAriaLabel&&(Ce.ariaLabel=ue.modifiedAriaLabel),Ce.wordWrapOverride1=this._options.diffWordWrap,Ce.revealHorizontalRightPadding=s.EditorOptions.revealHorizontalRightPadding.defaultValue+rt.ENTIRE_DIFF_OVERVIEW_WIDTH,Ce.scrollbar.verticalHasArrows=!1,Ce.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Ce),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const ue=this._elementSizeObserver.getWidth(),Ce=this._elementSizeObserver.getHeight(),me=this._getReviewHeight(),be=this._strategy.layout();this._originalDomNode.style.width=be+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=ue-be+"px",this._modifiedDomNode.style.left=be+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Ce-me+"px",this._overviewDomElement.style.width=rt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=ue-rt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(rt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:be,height:Ce-me}),this._modifiedEditor.layout({width:ue-be-(this._options.renderOverviewRuler?rt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Ce-me}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Ce-me,ue,me),this._layoutOverviewViewport()}_layoutOverviewViewport(){const ue=this._computeOverviewViewport();ue?(this._overviewViewportDomElement.setTop(ue.top),this._overviewViewportDomElement.setHeight(ue.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const ue=this._modifiedEditor.getLayoutInfo();if(!ue)return null;const Ce=this._modifiedEditor.getScrollTop(),me=this._modifiedEditor.getScrollHeight(),be=Math.max(0,ue.height),ce=Math.max(0,be-2*0),he=me>0?ce/me:0,we=Math.max(0,Math.floor(ue.height*he)),ye=Math.floor(Ce*he);return{height:we,top:ye}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(ue){this._strategy&&this._strategy.dispose(),this._strategy=ue,ue.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(ue,Ce){const me=this._diffComputationResult?this._diffComputationResult.changes:[];if(me.length===0||ue<Ce(me[0]))return null;let be=0,ce=me.length-1;for(;be<ce;){const he=Math.floor((be+ce)/2),we=Ce(me[he]),ye=he+1<=ce?Ce(me[he+1]):1073741824;ue<we?ce=he-1:ue>=ye?be=he+1:(be=he,ce=he)}return me[be]}_getEquivalentLineForOriginalLineNumber(ue){const Ce=this._getLineChangeAtOrBeforeLineNumber(ue,ye=>ye.originalStartLineNumber);if(!Ce)return ue;const me=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),be=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),ce=Ce.originalEndLineNumber>0?Ce.originalEndLineNumber-Ce.originalStartLineNumber+1:0,he=Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber-Ce.modifiedStartLineNumber+1:0,we=ue-me;return we<=ce?be+Math.min(we,he):be+he-ce+we}_getEquivalentLineForModifiedLineNumber(ue){const Ce=this._getLineChangeAtOrBeforeLineNumber(ue,ye=>ye.modifiedStartLineNumber);if(!Ce)return ue;const me=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),be=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),ce=Ce.originalEndLineNumber>0?Ce.originalEndLineNumber-Ce.originalStartLineNumber+1:0,he=Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber-Ce.modifiedStartLineNumber+1:0,we=ue-be;return we<=he?me+Math.min(we,ce):me+ce-he+we}getDiffLineInformationForOriginal(ue){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(ue)}:null}getDiffLineInformationForModified(ue){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(ue)}:null}};Z.ONE_OVERVIEW_WIDTH=15,Z.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Z.UPDATE_DIFF_DECORATIONS_DELAY=200,Z=De([ge(3,B.IClipboardService),ge(4,r.IEditorWorkerService),ge(5,p.IContextKeyService),ge(6,C.IInstantiationService),ge(7,i.ICodeEditorService),ge(8,I.IThemeService),ge(9,L.INotificationService),ge(10,T.IContextMenuService),ge(11,A.IEditorProgressService)],Z),e.DiffEditorWidget=Z;class x extends v.Disposable{constructor(ue){super();this._dataSource=ue,this._insertColor=null,this._removeColor=null}applyColors(ue){const Ce=ue.getColor(E.diffOverviewRulerInserted)||(ue.getColor(E.diffInserted)||E.defaultInsertColor).transparent(2),me=ue.getColor(E.diffOverviewRulerRemoved)||(ue.getColor(E.diffRemoved)||E.defaultRemoveColor).transparent(2),be=!Ce.equals(this._insertColor)||!me.equals(this._removeColor);return this._insertColor=Ce,this._removeColor=me,be}getEditorsDiffDecorations(ue,Ce,me,be,ce){ce=ce.sort((Te,ke)=>Te.afterLineNumber-ke.afterLineNumber),be=be.sort((Te,ke)=>Te.afterLineNumber-ke.afterLineNumber);const he=this._getViewZones(ue,be,ce,me),we=this._getOriginalEditorDecorations(he,ue,Ce,me),ye=this._getModifiedEditorDecorations(he,ue,Ce,me);return{original:{decorations:we.decorations,overviewZones:we.overviewZones,zones:he.original},modified:{decorations:ye.decorations,overviewZones:ye.overviewZones,zones:he.modified}}}}class U{constructor(ue){this._source=ue,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class q{constructor(ue,Ce,me,be,ce){this._lineChanges=ue,this._originalForeignVZ=Ce,this._modifiedForeignVZ=me,this._originalEditor=be,this._modifiedEditor=ce}static _getViewLineCount(ue,Ce,me){const be=ue.getModel(),ce=ue._getViewModel();if(be&&ce){const he=ae(be,ce,Ce,me);return he.endLineNumber-he.startLineNumber+1}return me-Ce+1}getViewZones(){const ue=this._originalEditor.getOption(60),Ce=this._modifiedEditor.getOption(60),me=this._originalEditor.getOption(133).wrappingColumn!==-1,be=this._modifiedEditor.getOption(133).wrappingColumn!==-1,ce=me||be,he=this._originalEditor.getModel(),we=this._originalEditor._getViewModel().coordinatesConverter,ye=this._modifiedEditor._getViewModel().coordinatesConverter,Te={original:[],modified:[]};let ke=0,Ne=0,Oe=0,Se=0,_e=0,Ee=0;const Ae=(et,ot)=>et.afterLineNumber-ot.afterLineNumber,Re=(et,ot)=>{if(ot.domNode===null&&et.length>0){const Ue=et[et.length-1];if(Ue.afterLineNumber===ot.afterLineNumber&&Ue.domNode===null){Ue.heightInLines+=ot.heightInLines;return}}et.push(ot)},Ve=new U(this._modifiedForeignVZ),He=new U(this._originalForeignVZ);let ze=1,Ye=1;for(let et=0,ot=this._lineChanges.length;et<=ot;et++){const Ue=et<ot?this._lineChanges[et]:null;Ue!==null?(Oe=Ue.originalStartLineNumber+(Ue.originalEndLineNumber>0?-1:0),Se=Ue.modifiedStartLineNumber+(Ue.modifiedEndLineNumber>0?-1:0),Ne=Ue.originalEndLineNumber>0?q._getViewLineCount(this._originalEditor,Ue.originalStartLineNumber,Ue.originalEndLineNumber):0,ke=Ue.modifiedEndLineNumber>0?q._getViewLineCount(this._modifiedEditor,Ue.modifiedStartLineNumber,Ue.modifiedEndLineNumber):0,_e=Math.max(Ue.originalStartLineNumber,Ue.originalEndLineNumber),Ee=Math.max(Ue.modifiedStartLineNumber,Ue.modifiedEndLineNumber)):(Oe+=1e7+Ne,Se+=1e7+ke,_e=Oe,Ee=Se);let xe=[],Ie=[];if(ce){let We;Ue?Ue.originalEndLineNumber>0?We=Ue.originalStartLineNumber-ze:We=Ue.modifiedStartLineNumber-Ye:We=he.getLineCount()-ze+1;for(let Ge=0;Ge<We;Ge++){const Je=ze+Ge,Ze=Ye+Ge,it=we.getModelLineViewLineCount(Je),Ke=ye.getModelLineViewLineCount(Ze);it<Ke?xe.push({afterLineNumber:Je,heightInLines:Ke-it,domNode:null,marginDomNode:null}):it>Ke&&Ie.push({afterLineNumber:Ze,heightInLines:it-Ke,domNode:null,marginDomNode:null})}Ue&&(ze=(Ue.originalEndLineNumber>0?Ue.originalEndLineNumber:Ue.originalStartLineNumber)+1,Ye=(Ue.modifiedEndLineNumber>0?Ue.modifiedEndLineNumber:Ue.modifiedStartLineNumber)+1)}for(;Ve.current&&Ve.current.afterLineNumber<=Ee;){let We;Ve.current.afterLineNumber<=Se?We=Oe-Se+Ve.current.afterLineNumber:We=_e;let Ge=null;Ue&&Ue.modifiedStartLineNumber<=Ve.current.afterLineNumber&&Ve.current.afterLineNumber<=Ue.modifiedEndLineNumber&&(Ge=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),xe.push({afterLineNumber:We,heightInLines:Ve.current.height/Ce,domNode:null,marginDomNode:Ge}),Ve.advance()}for(;He.current&&He.current.afterLineNumber<=_e;){let We;He.current.afterLineNumber<=Oe?We=Se-Oe+He.current.afterLineNumber:We=Ee,Ie.push({afterLineNumber:We,heightInLines:He.current.height/ue,domNode:null}),He.advance()}if(Ue!==null&&V(Ue)){const We=this._produceOriginalFromDiff(Ue,Ne,ke);We&&xe.push(We)}if(Ue!==null&&Q(Ue)){const We=this._produceModifiedFromDiff(Ue,Ne,ke);We&&Ie.push(We)}let Pe=0,Be=0;for(xe=xe.sort(Ae),Ie=Ie.sort(Ae);Pe<xe.length&&Be<Ie.length;){const We=xe[Pe],Ge=Ie[Be],Je=We.afterLineNumber-Oe,Ze=Ge.afterLineNumber-Se;Je<Ze?(Re(Te.original,We),Pe++):Ze<Je?(Re(Te.modified,Ge),Be++):We.shouldNotShrink?(Re(Te.original,We),Pe++):Ge.shouldNotShrink?(Re(Te.modified,Ge),Be++):We.heightInLines>=Ge.heightInLines?(We.heightInLines-=Ge.heightInLines,Be++):(Ge.heightInLines-=We.heightInLines,Pe++)}for(;Pe<xe.length;)Re(Te.original,xe[Pe]),Pe++;for(;Be<Ie.length;)Re(Te.modified,Ie[Be]),Be++}return{original:q._ensureDomNodes(Te.original),modified:q._ensureDomNodes(Te.modified)}}static _ensureDomNodes(ue){return ue.map(Ce=>(Ce.domNode||(Ce.domNode=ee()),Ce))}}function le(ve,ue,Ce,me,be){return{range:new l.Range(ve,ue,Ce,me),options:be}}const se={charDelete:o.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:o.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:o.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:o.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:o.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:o.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+I.ThemeIcon.asClassName(J),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:o.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:o.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+I.ThemeIcon.asClassName(ie),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:o.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class Y extends x{constructor(ue,Ce){super(ue);this._disableSash=Ce===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new D.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(me=>this._onSashDrag(me)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(ue){const Ce=ue===!1;this._disableSash!==Ce&&(this._disableSash=Ce,this._sash.state=this._disableSash?0:3)}layout(ue=this._sashRatio){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Z.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let be=Math.floor((ue||.5)*me);const ce=Math.floor(.5*me);return be=this._disableSash?ce:be||ce,me>Y.MINIMUM_EDITOR_WIDTH*2?(be<Y.MINIMUM_EDITOR_WIDTH&&(be=Y.MINIMUM_EDITOR_WIDTH),be>me-Y.MINIMUM_EDITOR_WIDTH&&(be=me-Y.MINIMUM_EDITOR_WIDTH)):be=ce,this._sashPosition!==be&&(this._sashPosition=be),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(ue){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Z.ENTIRE_DIFF_OVERVIEW_WIDTH:0),be=this.layout((this._startSashPosition+(ue.currentX-ue.startX))/me);this._sashRatio=be/me,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(ue){return 0}getVerticalSashLeft(ue){return this._sashPosition}getVerticalSashHeight(ue){return this._dataSource.getHeight()}_getViewZones(ue,Ce,me){const be=this._dataSource.getOriginalEditor(),ce=this._dataSource.getModifiedEditor();return new de(ue,Ce,me,be,ce).getViewZones()}_getOriginalEditorDecorations(ue,Ce,me,be){const ce=this._dataSource.getOriginalEditor(),he=String(this._removeColor),we={decorations:[],overviewZones:[]},ye=ce.getModel(),Te=ce._getViewModel();for(const ke of Ce)if(Q(ke)){we.decorations.push({range:new l.Range(ke.originalStartLineNumber,1,ke.originalEndLineNumber,1073741824),options:be?se.lineDeleteWithSign:se.lineDelete}),(!V(ke)||!ke.charChanges)&&we.decorations.push(le(ke.originalStartLineNumber,1,ke.originalEndLineNumber,1073741824,se.charDeleteWholeLine));const Ne=ae(ye,Te,ke.originalStartLineNumber,ke.originalEndLineNumber);if(we.overviewZones.push(new c.OverviewRulerZone(Ne.startLineNumber,Ne.endLineNumber,0,he)),ke.charChanges){for(const Oe of ke.charChanges)if(Q(Oe))if(me)for(let Se=Oe.originalStartLineNumber;Se<=Oe.originalEndLineNumber;Se++){let _e,Ee;Se===Oe.originalStartLineNumber?_e=Oe.originalStartColumn:_e=ye.getLineFirstNonWhitespaceColumn(Se),Se===Oe.originalEndLineNumber?Ee=Oe.originalEndColumn:Ee=ye.getLineLastNonWhitespaceColumn(Se),we.decorations.push(le(Se,_e,Se,Ee,se.charDelete))}else we.decorations.push(le(Oe.originalStartLineNumber,Oe.originalStartColumn,Oe.originalEndLineNumber,Oe.originalEndColumn,se.charDelete))}}return we}_getModifiedEditorDecorations(ue,Ce,me,be){const ce=this._dataSource.getModifiedEditor(),he=String(this._insertColor),we={decorations:[],overviewZones:[]},ye=ce.getModel(),Te=ce._getViewModel();for(const ke of Ce)if(V(ke)){we.decorations.push({range:new l.Range(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824),options:be?se.lineInsertWithSign:se.lineInsert}),(!Q(ke)||!ke.charChanges)&&we.decorations.push(le(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824,se.charInsertWholeLine));const Ne=ae(ye,Te,ke.modifiedStartLineNumber,ke.modifiedEndLineNumber);if(we.overviewZones.push(new c.OverviewRulerZone(Ne.startLineNumber,Ne.endLineNumber,0,he)),ke.charChanges){for(const Oe of ke.charChanges)if(V(Oe))if(me)for(let Se=Oe.modifiedStartLineNumber;Se<=Oe.modifiedEndLineNumber;Se++){let _e,Ee;Se===Oe.modifiedStartLineNumber?_e=Oe.modifiedStartColumn:_e=ye.getLineFirstNonWhitespaceColumn(Se),Se===Oe.modifiedEndLineNumber?Ee=Oe.modifiedEndColumn:Ee=ye.getLineLastNonWhitespaceColumn(Se),we.decorations.push(le(Se,_e,Se,Ee,se.charInsert))}else we.decorations.push(le(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,se.charInsert))}}return we}}Y.MINIMUM_EDITOR_WIDTH=100;class de extends q{constructor(ue,Ce,me,be,ce){super(ue,Ce,me,be,ce)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(ue,Ce,me){return me>Ce?{afterLineNumber:Math.max(ue.originalStartLineNumber,ue.originalEndLineNumber),heightInLines:me-Ce,domNode:null}:null}_produceModifiedFromDiff(ue,Ce,me){return Ce>me?{afterLineNumber:Math.max(ue.modifiedStartLineNumber,ue.modifiedEndLineNumber),heightInLines:Ce-me,domNode:null}:null}}class H extends x{constructor(ue,Ce){super(ue);this._decorationsLeft=ue.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(ue.getOriginalEditor().onDidLayoutChange(me=>{this._decorationsLeft!==me.decorationsLeft&&(this._decorationsLeft=me.decorationsLeft,ue.relayoutEditors())}))}setEnableSplitViewResizing(ue){}_getViewZones(ue,Ce,me,be){const ce=this._dataSource.getOriginalEditor(),he=this._dataSource.getModifiedEditor();return new $(ue,Ce,me,ce,he,be).getViewZones()}_getOriginalEditorDecorations(ue,Ce,me,be){const ce=String(this._removeColor),he={decorations:[],overviewZones:[]},we=this._dataSource.getOriginalEditor(),ye=we.getModel(),Te=we._getViewModel();let ke=0;for(const Ne of Ce)if(Q(Ne)){for(he.decorations.push({range:new l.Range(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824),options:se.lineDeleteMargin});ke<ue.modified.length;){const _e=ue.modified[ke];if(_e.diff&&_e.diff.originalStartLineNumber>=Ne.originalStartLineNumber)break;ke++}let Oe=0;if(ke<ue.modified.length){const _e=ue.modified[ke];_e.diff&&_e.diff.originalStartLineNumber===Ne.originalStartLineNumber&&_e.diff.originalEndLineNumber===Ne.originalEndLineNumber&&_e.diff.modifiedStartLineNumber===Ne.modifiedStartLineNumber&&_e.diff.modifiedEndLineNumber===Ne.modifiedEndLineNumber&&(Oe=_e.heightInLines)}const Se=ae(ye,Te,Ne.originalStartLineNumber,Ne.originalEndLineNumber);he.overviewZones.push(new c.OverviewRulerZone(Se.startLineNumber,Se.endLineNumber,Oe,ce))}return he}_getModifiedEditorDecorations(ue,Ce,me,be){const ce=this._dataSource.getModifiedEditor(),he=String(this._insertColor),we={decorations:[],overviewZones:[]},ye=ce.getModel(),Te=ce._getViewModel();for(const ke of Ce)if(V(ke)){we.decorations.push({range:new l.Range(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824),options:be?se.lineInsertWithSign:se.lineInsert});const Ne=ae(ye,Te,ke.modifiedStartLineNumber,ke.modifiedEndLineNumber);if(we.overviewZones.push(new c.OverviewRulerZone(Ne.startLineNumber,Ne.endLineNumber,0,he)),ke.charChanges){for(const Oe of ke.charChanges)if(V(Oe))if(me)for(let Se=Oe.modifiedStartLineNumber;Se<=Oe.modifiedEndLineNumber;Se++){let _e,Ee;Se===Oe.modifiedStartLineNumber?_e=Oe.modifiedStartColumn:_e=ye.getLineFirstNonWhitespaceColumn(Se),Se===Oe.modifiedEndLineNumber?Ee=Oe.modifiedEndColumn:Ee=ye.getLineLastNonWhitespaceColumn(Se),we.decorations.push(le(Se,_e,Se,Ee,se.charInsert))}else we.decorations.push(le(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,se.charInsert))}else we.decorations.push(le(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824,se.charInsertWholeLine))}return we}layout(){return Math.max(5,this._decorationsLeft)}}class $ extends q{constructor(ue,Ce,me,be,ce,he){super(ue,Ce,me,be,ce);this._originalModel=be.getModel(),this._renderIndicators=he,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const ue=super.getViewZones();return this._finalize(ue),ue}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const ue=document.createElement("div");return ue.className="inline-added-margin-view-zone",ue}_produceOriginalFromDiff(ue,Ce,me){const be=document.createElement("div");return be.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(ue.originalStartLineNumber,ue.originalEndLineNumber),heightInLines:me,domNode:document.createElement("div"),marginDomNode:be}}_produceModifiedFromDiff(ue,Ce,me){const be=document.createElement("div");be.className=`view-lines line-delete ${W.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const ce=document.createElement("div");ce.className="inline-deleted-margin-view-zone";const he={shouldNotShrink:!0,afterLineNumber:ue.modifiedEndLineNumber===0?ue.modifiedStartLineNumber:ue.modifiedStartLineNumber-1,heightInLines:Ce,minWidthInPx:0,domNode:be,marginDomNode:ce,diff:{originalStartLineNumber:ue.originalStartLineNumber,originalEndLineNumber:ue.originalEndLineNumber,modifiedStartLineNumber:ue.modifiedStartLineNumber,modifiedEndLineNumber:ue.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let we=ue.originalStartLineNumber;we<=ue.originalEndLineNumber;we++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(we),null,null);return this._pendingLineChange.push(ue),this._pendingViewZones.push(he),he}_finalize(ue){const Ce=this._modifiedEditor.getOptions(),me=this._modifiedEditor.getModel().getOptions().tabSize,be=Ce.get(45),ce=Ce.get(29),he=be.typicalHalfwidthCharacterWidth,we=Ce.get(94),ye=this._originalModel.mightContainNonBasicASCII(),Te=this._originalModel.mightContainRTL(),ke=Ce.get(60),Oe=Ce.get(132).decorationsWidth,Se=Ce.get(106),_e=Ce.get(89),Ee=Ce.get(84),Ae=Ce.get(46),Re=this._lineBreaksComputer.finalize();let Ve=0;for(let He=0;He<this._pendingLineChange.length;He++){const ze=this._pendingLineChange[He],Ye=this._pendingViewZones[He],et=Ye.domNode;(0,u.applyFontInfo)(et,be);const ot=Ye.marginDomNode;(0,u.applyFontInfo)(ot,be);const Ue=[];if(ze.charChanges)for(const Ze of ze.charChanges)Q(Ze)&&Ue.push(new S.InlineDecoration(new l.Range(Ze.originalStartLineNumber,Ze.originalStartColumn,Ze.originalEndLineNumber,Ze.originalEndColumn),"char-delete",0));const xe=Ue.length>0,Ie=(0,d.createStringBuilder)(1e4);let Pe=0,Be=0,We=null;for(let Ze=ze.originalStartLineNumber;Ze<=ze.originalEndLineNumber;Ze++){const it=Ze-ze.originalStartLineNumber,Ke=this._originalModel.tokenization.getLineTokens(Ze),Me=Ke.getLineContent(),Fe=Re[Ve++],je=g.LineDecoration.filter(Ue,Ze,1,Me.length+1);if(Fe){let qe=0;for(const $e of Fe.breakOffsets){const Xe=Ke.sliceAndInflate(qe,$e,0),nt=Me.substring(qe,$e);Pe=Math.max(Pe,this._renderOriginalLine(Be++,nt,Xe,g.LineDecoration.extractWrapped(je,qe,$e),xe,ye,Te,be,ce,ke,Oe,Se,_e,Ee,Ae,me,Ie,ot)),qe=$e}for(We||(We=[]);We.length<it;)We[We.length]=1;We[it]=Fe.breakOffsets.length,Ye.heightInLines+=Fe.breakOffsets.length-1;const tt=document.createElement("div");tt.className="gutter-delete",ue.original.push({afterLineNumber:Ze,afterColumn:0,heightInLines:Fe.breakOffsets.length-1,domNode:ee(),marginDomNode:tt})}else Pe=Math.max(Pe,this._renderOriginalLine(Be++,Me,Ke,je,xe,ye,Te,be,ce,ke,Oe,Se,_e,Ee,Ae,me,Ie,ot))}Pe+=we;const Ge=Ie.build(),Je=re?re.createHTML(Ge):Ge;if(et.innerHTML=Je,Ye.minWidthInPx=Pe*he,We){const Ze=ze.originalEndLineNumber-ze.originalStartLineNumber;for(;We.length<=Ze;)We[We.length]=1}Ye.diff.viewLineCounts=We}ue.original.sort((He,ze)=>He.afterLineNumber-ze.afterLineNumber)}_renderOriginalLine(ue,Ce,me,be,ce,he,we,ye,Te,ke,Ne,Oe,Se,_e,Ee,Ae,Re,Ve){Re.appendASCIIString('<div class="view-line'),ce||Re.appendASCIIString(" char-delete"),Re.appendASCIIString('" style="top:'),Re.appendASCIIString(String(ue*ke)),Re.appendASCIIString('px;width:1000000px;">');const He=S.ViewLineRenderingData.isBasicASCII(Ce,he),ze=S.ViewLineRenderingData.containsRTL(Ce,He,we),Ye=(0,m.renderViewLine)(new m.RenderLineInput(ye.isMonospace&&!Te,ye.canUseHalfwidthRightwardsArrow,Ce,!1,He,ze,0,me,be,Ae,0,ye.spaceWidth,ye.middotWidth,ye.wsmiddotWidth,Oe,Se,_e,Ee!==s.EditorFontLigatures.OFF,null),Re);if(Re.appendASCIIString("</div>"),this._renderIndicators){const et=document.createElement("div");et.className=`delete-sign ${I.ThemeIcon.asClassName(ie)}`,et.setAttribute("style",`position:absolute;top:${ue*ke}px;width:${Ne}px;height:${ke}px;right:0;`),Ve.appendChild(et)}return Ye.characterMapping.getHorizontalOffset(Ye.characterMapping.length)}}function K(ve,ue){return(0,s.stringSet)(ve,ue,["off","on","inherit"])}function V(ve){return ve.modifiedEndLineNumber>0}function Q(ve){return ve.originalEndLineNumber>0}function ee(){const ve=document.createElement("div");return ve.className="diagonal-fill",ve}function ae(ve,ue,Ce,me){const be=ve.getLineCount();return Ce=Math.min(be,Math.max(1,Ce)),me=Math.min(be,Math.max(1,me)),ue.coordinatesConverter.convertModelRangeToViewRange(new l.Range(Ce,ve.getLineMinColumn(Ce),me,ve.getLineMaxColumn(me)))}function fe(ve,ue){return{enableSplitViewResizing:(0,s.boolean)(ve.enableSplitViewResizing,ue.enableSplitViewResizing),renderSideBySide:(0,s.boolean)(ve.renderSideBySide,ue.renderSideBySide),maxComputationTime:(0,s.clampedInt)(ve.maxComputationTime,ue.maxComputationTime,0,1073741824),maxFileSize:(0,s.clampedInt)(ve.maxFileSize,ue.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,s.boolean)(ve.ignoreTrimWhitespace,ue.ignoreTrimWhitespace),renderIndicators:(0,s.boolean)(ve.renderIndicators,ue.renderIndicators),originalEditable:(0,s.boolean)(ve.originalEditable,ue.originalEditable),diffCodeLens:(0,s.boolean)(ve.diffCodeLens,ue.diffCodeLens),renderOverviewRuler:(0,s.boolean)(ve.renderOverviewRuler,ue.renderOverviewRuler),diffWordWrap:K(ve.diffWordWrap,ue.diffWordWrap)}}function pe(ve,ue){return{enableSplitViewResizing:ve.enableSplitViewResizing!==ue.enableSplitViewResizing,renderSideBySide:ve.renderSideBySide!==ue.renderSideBySide,maxComputationTime:ve.maxComputationTime!==ue.maxComputationTime,maxFileSize:ve.maxFileSize!==ue.maxFileSize,ignoreTrimWhitespace:ve.ignoreTrimWhitespace!==ue.ignoreTrimWhitespace,renderIndicators:ve.renderIndicators!==ue.renderIndicators,originalEditable:ve.originalEditable!==ue.originalEditable,diffCodeLens:ve.diffCodeLens!==ue.diffCodeLens,renderOverviewRuler:ve.renderOverviewRuler!==ue.renderOverviewRuler,diffWordWrap:ve.diffWordWrap!==ue.diffWordWrap}}(0,I.registerThemingParticipant)((ve,ue)=>{const Ce=ve.getColor(E.diffInserted);Ce&&ue.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Ce}; }`);const me=ve.getColor(E.diffInsertedLine)||Ce;me&&ue.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${me}; }`);const be=ve.getColor(E.diffInsertedLineGutter)||me;be&&(ue.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${be}; }`),ue.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${be}; }`));const ce=ve.getColor(E.diffRemoved);ce&&ue.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${ce}; }`);const he=ve.getColor(E.diffRemovedLine)||ce;he&&ue.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${he}; }`);const we=ve.getColor(E.diffRemovedLineGutter)||he;we&&(ue.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${we}; }`),ue.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${we}; }`));const ye=ve.getColor(E.diffInsertedOutline);ye&&ue.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,z.isHighContrast)(ve.type)?"dashed":"solid"} ${ye}; }`);const Te=ve.getColor(E.diffRemovedOutline);Te&&ue.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,z.isHighContrast)(ve.type)?"dashed":"solid"} ${Te}; }`);const ke=ve.getColor(E.scrollbarShadow);ke&&ue.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ke}; }`);const Ne=ve.getColor(E.diffBorder);Ne&&ue.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Ne}; }`);const Oe=ve.getColor(E.scrollbarSliderBackground);Oe&&ue.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Oe};
			}
		`);const Se=ve.getColor(E.scrollbarSliderHoverBackground);Se&&ue.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Se};
			}
		`);const _e=ve.getColor(E.scrollbarSliderActiveBackground);_e&&ue.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${_e};
			}
		`);const Ee=ve.getColor(E.diffDiagonalFill);ue.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Ee} 12.5%,
			#0000 12.5%, #0000 50%,
			${Ee} 50%, ${Ee} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(ne[170],oe([1,0,39,29,169,26,16,8,40,15,69,32,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let t=class extends N.CodeEditorWidget{constructor(l,d,a,o,r,c,g,m,S,p,C,_){super(l,Object.assign(Object.assign({},a.getRawOptions()),{overflowWidgetsDomNode:a.getOverflowWidgetsDomNode()}),{},o,r,c,g,m,S,p,C,_);this._parentEditor=a,this._overwriteOptions=d,super.updateOptions(this._overwriteOptions),this._register(a.onDidChangeConfiguration(L=>this._onParentConfigurationChanged(L)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(l){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(l){y.mixin(this._overwriteOptions,l,!0),super.updateOptions(this._overwriteOptions)}};t=De([ge(3,b.IInstantiationService),ge(4,f.ICodeEditorService),ge(5,D.ICommandService),ge(6,w.IContextKeyService),ge(7,u.IThemeService),ge(8,v.INotificationService),ge(9,h.IAccessibilityService),ge(10,i.ILanguageConfigurationService),ge(11,n.ILanguageFeaturesService)],t),e.EmbeddedCodeEditorWidget=t}),define(ne[732],oe([1,0,10,2,12,11,3,23,24,48,37,54,534,41,25,15,386]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const d=(0,s.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},n.localize(0,null));class a extends N.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:n.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(m,S){var p;(p=c.get(S))===null||p===void 0||p.jumpToBracket()}}class o extends N.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:n.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(m,S,p){var C;let _=!0;p&&p.selectBrackets===!1&&(_=!1),(C=c.get(S))===null||C===void 0||C.selectToBracket(_)}}class r{constructor(m,S,p){this.position=m,this.brackets=S,this.options=p}}class c extends f.Disposable{constructor(m){super();this._editor=m,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new y.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(65),this._updateBracketsSoon.schedule(),this._register(m.onDidChangeCursorPosition(S=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelContent(S=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModel(S=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelLanguageConfiguration(S=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeConfiguration(S=>{S.hasChanged(65)&&(this._matchBrackets=this._editor.getOption(65),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(m.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(m){return m.getContribution(c.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const m=this._editor.getModel(),S=this._editor.getSelections().map(p=>{const C=p.getStartPosition(),_=m.bracketPairs.matchBracket(C);let L=null;if(_)_[0].containsPosition(C)&&!_[1].containsPosition(C)?L=_[1].getStartPosition():_[1].containsPosition(C)&&(L=_[0].getStartPosition());else{const E=m.bracketPairs.findEnclosingBrackets(C);if(E)L=E[1].getStartPosition();else{const I=m.bracketPairs.findNextBracket(C);I&&I.range&&(L=I.range.getStartPosition())}}return L?new b.Selection(L.lineNumber,L.column,L.lineNumber,L.column):new b.Selection(C.lineNumber,C.column,C.lineNumber,C.column)});this._editor.setSelections(S),this._editor.revealRange(S[0])}selectToBracket(m){if(!this._editor.hasModel())return;const S=this._editor.getModel(),p=[];this._editor.getSelections().forEach(C=>{const _=C.getStartPosition();let L=S.bracketPairs.matchBracket(_);if(!L&&(L=S.bracketPairs.findEnclosingBrackets(_),!L)){const T=S.bracketPairs.findNextBracket(_);T&&T.range&&(L=S.bracketPairs.matchBracket(T.range.getStartPosition()))}let E=null,I=null;if(L){L.sort(w.Range.compareRangesUsingStarts);const[T,P]=L;if(E=m?T.getStartPosition():T.getEndPosition(),I=m?P.getEndPosition():P.getStartPosition(),P.containsPosition(_)){const B=E;E=I,I=B}}E&&I&&p.push(new b.Selection(E.lineNumber,E.column,I.lineNumber,I.column))}),p.length>0&&(this._editor.setSelections(p),this._editor.revealRange(p[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const m=[];let S=0;for(const p of this._lastBracketsData){const C=p.brackets;C&&(m[S++]={range:C[0],options:p.options},m[S++]={range:C[1],options:p.options})}this._decorations.set(m)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getSelections();if(m.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const S=this._editor.getModel(),p=S.getVersionId();let C=[];this._lastVersionId===p&&(C=this._lastBracketsData);const _=[];let L=0;for(let B=0,R=m.length;B<R;B++){const k=m[B];k.isEmpty()&&(_[L++]=k.getStartPosition())}_.length>1&&_.sort(D.Position.compare);const E=[];let I=0,T=0;const P=C.length;for(let B=0,R=_.length;B<R;B++){const k=_[B];for(;T<P&&C[T].position.isBefore(k);)T++;if(T<P&&C[T].position.equals(k))E[I++]=C[T];else{let A=S.bracketPairs.matchBracket(k,20),O=c._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!A&&this._matchBrackets==="always"&&(A=S.bracketPairs.findEnclosingBrackets(k,20),O=c._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[I++]=new r(k,A,O)}}this._lastBracketsData=E,this._lastVersionId=p}}e.BracketMatchingController=c,c.ID="editor.contrib.bracketMatchingController",c._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=h.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,l.themeColorFromId)(d),position:u.OverviewRulerLane.Center}}),c._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=h.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,N.registerEditorContribution)(c.ID,c),(0,N.registerEditorAction)(o),(0,N.registerEditorAction)(a),(0,l.registerThemingParticipant)((g,m)=>{const S=g.getColor(i.editorBracketMatchBackground);S&&m.addRule(`.monaco-editor .bracket-match { background-color: ${S}; }`);const p=g.getColor(i.editorBracketMatchBorder);p&&m.addRule(`.monaco-editor .bracket-match { border: 1px solid ${p}; }`)}),t.MenuRegistry.appendMenuItem(t.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:n.localize(3,null)},order:2})}),define(ne[733],oe([1,0,7,125,3,37,388]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class w{constructor(i,n,t){this.afterColumn=1073741824,this.afterLineNumber=i,this.heightInPx=n,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class b{constructor(i,n,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=i,this._id=`codelens.widget-${b._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${n}`}withCommands(i,n){this._commands.clear();const t=[];let s=!1;for(let l=0;l<i.length;l++){const d=i[l];if(!!d&&(s=!0,d.command)){const a=(0,f.renderLabelWithIcons)(d.command.title.trim());d.command.id?(t.push(y.$("a",{id:String(l),title:d.command.tooltip,role:"button"},...a)),this._commands.set(String(l),d.command)):t.push(y.$("span",{title:d.command.tooltip},...a)),l+1<i.length&&t.push(y.$("span",void 0,"\xA0|\xA0"))}}s?(y.reset(this._domNode,...t),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):y.reset(this._domNode,y.$("span",void 0,"no commands"))}getCommand(i){return i.parentElement===this._domNode?this._commands.get(i.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(i){const n=this._editor.getModel().getLineFirstNonWhitespaceColumn(i);this._widgetPosition={position:{lineNumber:i,column:n},preference:[1]}}getPosition(){return this._widgetPosition||null}}b._idPool=0;class v{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,n){this._addDecorations.push(i),this._addDecorationsCallbacks.push(n)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){const n=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,s=n.length;t<s;t++)this._addDecorationsCallbacks[t](n[t])}}e.CodeLensHelper=v;class u{constructor(i,n,t,s,l,d,a){this._isDisposed=!1,this._editor=n,this._className=t,this._data=i,this._decorationIds=[];let o;const r=[];this._data.forEach((c,g)=>{c.symbol.command&&r.push(c.symbol),s.addDecoration({range:c.symbol.range,options:D.ModelDecorationOptions.EMPTY},m=>this._decorationIds[g]=m),o?o=N.Range.plusRange(o,c.symbol.range):o=N.Range.lift(c.symbol.range)}),this._viewZone=new w(o.startLineNumber-1,d,a),this._viewZoneId=l.addZone(this._viewZone),r.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(r,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new b(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,n){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],n&&n.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,n)=>{const t=this._editor.getModel().getDecorationRange(i),s=this._data[n].symbol;return!!(t&&N.Range.isEmpty(s.range)===t.isEmpty())})}updateCodeLensSymbols(i,n){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],this._data=i,this._data.forEach((t,s)=>{n.addDecoration({range:t.symbol.range,options:D.ModelDecorationOptions.EMPTY},l=>this._decorationIds[s]=l)})}updateHeight(i,n){this._viewZone.heightInPx=i,n.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.isVisible())return null;for(let n=0;n<this._decorationIds.length;n++){const t=i.getDecorationRange(this._decorationIds[n]);t&&(this._data[n].symbol.range=t)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let n=0;n<this._data.length;n++){const t=i[n];if(t){const{symbol:s}=this._data[n];s.command=t.command||s.command}}}getCommand(i){var n;return(n=this._contentWidget)===null||n===void 0?void 0:n.getCommand(i)}getLineNumber(){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);n&&(this._viewZone.afterLineNumber=n.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(n.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=u}),define(ne[734],oe([1,0,7,10,13,123,2,150,12,34,24,283,654,733,540,26,40,84,71,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let c=class{constructor(m,S,p,C,_,L){this._editor=m,this._languageFeaturesService=S,this._commandService=C,this._notificationService=_,this._codeLensCache=L,this._disposables=new w.DisposableStore,this._localToDispose=new w.DisposableStore,this._lenses=[],this._oldCodeLensModels=new w.DisposableStore,this._provideCodeLensDebounce=p.for(S.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=p.for(S.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new f.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(E=>{(E.hasChanged(45)||E.hasChanged(16)||E.hasChanged(15))&&this._updateLensStyle(),E.hasChanged(14)&&this._onModelChange()})),this._disposables.add(S.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,D.hash)(this._editor.getId()).toString(16),this._styleElement=y.createStyleSheet(y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var m;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(m=this._currentCodeLensModel)===null||m===void 0||m.dispose(),this._styleElement.remove()}_getLayoutInfo(){const m=Math.max(1.3,this._editor.getOption(60)/this._editor.getOption(47));let S=this._editor.getOption(16);return(!S||S<5)&&(S=this._editor.getOption(47)*.9|0),{fontSize:S,codeLensHeight:S*m|0}}_updateLensStyle(){const{codeLensHeight:m,fontSize:S}=this._getLayoutInfo(),p=this._editor.getOption(15),C=this._editor.getOption(45),_=`--codelens-font-family${this._styleClassName}`,L=`--codelens-font-features${this._styleClassName}`;let E=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${m}px; font-size: ${S}px; padding-right: ${Math.round(S*.5)}px; font-feature-settings: var(${L}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${m}px; font-size: ${S}px; }
		`;p&&(E+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${_}), ${u.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=E,this._editor.getContainerDomNode().style.setProperty(_,p??"inherit"),this._editor.getContainerDomNode().style.setProperty(L,C.fontFeatureSettings),this._editor.changeViewZones(I=>{for(const T of this._lenses)T.updateHeight(m,I)})}_localDispose(){var m,S,p;(m=this._getCodeLensModelPromise)===null||m===void 0||m.cancel(),this._getCodeLensModelPromise=void 0,(S=this._resolveCodeLensesPromise)===null||S===void 0||S.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(p=this._currentCodeLensModel)===null||p===void 0||p.dispose()}_onModelChange(){this._localDispose();const m=this._editor.getModel();if(!m||!this._editor.getOption(14))return;const S=this._codeLensCache.get(m);if(S&&this._renderCodeLensSymbols(S),!this._languageFeaturesService.codeLensProvider.has(m)){S&&this._localToDispose.add((0,f.disposableTimeout)(()=>{const C=this._codeLensCache.get(m);S===C&&(this._codeLensCache.delete(m),this._onModelChange())},30*1e3));return}for(const C of this._languageFeaturesService.codeLensProvider.all(m))if(typeof C.onDidChange=="function"){const _=C.onDidChange(()=>p.schedule());this._localToDispose.add(_)}const p=new f.RunOnceScheduler(()=>{var C;const _=Date.now();(C=this._getCodeLensModelPromise)===null||C===void 0||C.cancel(),this._getCodeLensModelPromise=(0,f.createCancelablePromise)(L=>(0,i.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,m,L)),this._getCodeLensModelPromise.then(L=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=L,this._codeLensCache.put(m,L);const E=this._provideCodeLensDebounce.update(m,Date.now()-_);p.delay=E,this._renderCodeLensSymbols(L),this._resolveCodeLensesInViewportSoon()},N.onUnexpectedError)},this._provideCodeLensDebounce.get(m));this._localToDispose.add(p),this._localToDispose.add((0,w.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(C=>{this._editor.changeViewZones(_=>{const L=[];let E=-1;this._lenses.forEach(T=>{!T.isValid()||E===T.getLineNumber()?L.push(T):(T.update(_),E=T.getLineNumber())});const I=new t.CodeLensHelper;L.forEach(T=>{T.dispose(I,_),this._lenses.splice(this._lenses.indexOf(T),1)}),I.commit(C)})}),p.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{p.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(C=>{C.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,w.toDisposable)(()=>{if(this._editor.getModel()){const C=b.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(_=>{this._editor.changeViewZones(L=>{this._disposeAllLenses(_,L)})}),C.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(C=>{if(C.target.type!==9)return;let _=C.target.element;if((_==null?void 0:_.tagName)==="SPAN"&&(_=_.parentElement),(_==null?void 0:_.tagName)==="A")for(const L of this._lenses){const E=L.getCommand(_);if(E){this._commandService.executeCommand(E.id,...E.arguments||[]).catch(I=>this._notificationService.error(I));break}}})),p.schedule()}_disposeAllLenses(m,S){const p=new t.CodeLensHelper;for(const C of this._lenses)C.dispose(p,S);m&&p.commit(m),this._lenses.length=0}_renderCodeLensSymbols(m){if(!this._editor.hasModel())return;const S=this._editor.getModel().getLineCount(),p=[];let C;for(const E of m.lenses){const I=E.symbol.range.startLineNumber;I<1||I>S||(C&&C[C.length-1].symbol.range.startLineNumber===I?C.push(E):(C=[E],p.push(C)))}const _=b.StableEditorScrollState.capture(this._editor),L=this._getLayoutInfo();this._editor.changeDecorations(E=>{this._editor.changeViewZones(I=>{const T=new t.CodeLensHelper;let P=0,B=0;for(;B<p.length&&P<this._lenses.length;){const R=p[B][0].symbol.range.startLineNumber,k=this._lenses[P].getLineNumber();k<R?(this._lenses[P].dispose(T,I),this._lenses.splice(P,1)):k===R?(this._lenses[P].updateCodeLensSymbols(p[B],T),B++,P++):(this._lenses.splice(P,0,new t.CodeLensWidget(p[B],this._editor,this._styleClassName,T,I,L.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),P++,B++)}for(;P<this._lenses.length;)this._lenses[P].dispose(T,I),this._lenses.splice(P,1);for(;B<p.length;)this._lenses.push(new t.CodeLensWidget(p[B],this._editor,this._styleClassName,T,I,L.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),B++;T.commit(E)})}),_.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var m;(m=this._resolveCodeLensesPromise)===null||m===void 0||m.cancel(),this._resolveCodeLensesPromise=void 0;const S=this._editor.getModel();if(!S)return;const p=[],C=[];if(this._lenses.forEach(E=>{const I=E.computeIfNecessary(S);I&&(p.push(I),C.push(E))}),p.length===0)return;const _=Date.now(),L=(0,f.createCancelablePromise)(E=>{const I=p.map((T,P)=>{const B=new Array(T.length),R=T.map((k,A)=>!k.symbol.command&&typeof k.provider.resolveCodeLens=="function"?Promise.resolve(k.provider.resolveCodeLens(S,k.symbol,E)).then(O=>{B[A]=O},N.onUnexpectedExternalError):(B[A]=k.symbol,Promise.resolve(void 0)));return Promise.all(R).then(()=>{!E.isCancellationRequested&&!C[P].isDisposed()&&C[P].updateCommands(B)})});return Promise.all(I)});this._resolveCodeLensesPromise=L,this._resolveCodeLensesPromise.then(()=>{const E=this._resolveCodeLensesDebounce.update(S,Date.now()-_);this._resolveCodeLensesScheduler.delay=E,this._currentCodeLensModel&&this._codeLensCache.put(S,this._currentCodeLensModel),this._oldCodeLensModels.clear(),L===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},E=>{(0,N.onUnexpectedError)(E),L===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};c.ID="css.editor.codeLens",c=De([ge(1,r.ILanguageFeaturesService),ge(2,o.ILanguageFeatureDebounceService),ge(3,l.ICommandService),ge(4,d.INotificationService),ge(5,n.ICodeLensCache)],c),e.CodeLensContribution=c,(0,v.registerEditorContribution)(c.ID,c),(0,v.registerEditorAction)(class extends v.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:h.EditorContextKeys.hasCodeLensProvider,label:(0,s.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(m,S){return Le(this,void 0,void 0,function*(){if(!S.hasModel())return;const p=m.get(a.IQuickInputService),C=m.get(l.ICommandService),_=m.get(d.INotificationService),L=S.getSelection().positionLineNumber,E=S.getContribution(c.ID);if(!E)return;const I=E.getModel();if(!I)return;const T=[];for(const B of I.lenses)B.symbol.command&&B.symbol.range.startLineNumber===L&&T.push({label:B.symbol.command.title,command:B.symbol.command});if(T.length===0)return;const P=yield p.pick(T,{canPickMany:!1});if(!!P){if(I.isDisposed)return yield C.executeCommand(this.id);try{yield C.executeCommand(P.command.id,...P.command.arguments||[])}catch(B){_.error(B)}}})}})}),define(ne[311],oe([1,0,10,31,13,2,57,9,139,12,3,37,71,20,284,30]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});const d=500;let a=class zi extends D.Disposable{constructor(r,c,g,m){super();this._editor=r,this._configurationService=c,this._languageFeaturesService=g,this._localToDispose=this._register(new D.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new v.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new D.DisposableStore),this._debounceInformation=m.for(g.colorProvider,"Document Colors",{min:zi.RECOMPUTE_TIME}),this._register(r.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(r.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(g.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(r.onDidChangeConfiguration(()=>{const S=this._isEnabled;this._isEnabled=this.isEnabled(),S!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const r=this._editor.getModel();if(!r)return!1;const c=r.getLanguageId(),g=this._configurationService.getValue(c);if(g&&typeof g=="object"){const m=g.colorDecorators;if(m&&m.enable!==void 0&&!m.enable)return m.enable}return this._editor.getOption(17)}static get(r){return r.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const r=this._editor.getModel();!r||!this._languageFeaturesService.colorProvider.has(r)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new y.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(r)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,y.createCancelablePromise)(r=>Le(this,void 0,void 0,function*(){const c=this._editor.getModel();if(!c)return Promise.resolve([]);const g=new w.StopWatch(!1),m=yield(0,s.getColors)(this._languageFeaturesService.colorProvider,c,r);return this._debounceInformation.update(c,g.elapsed()),m})),this._computePromise.then(r=>{this.updateDecorations(r),this.updateColorDecorators(r),this._computePromise=null},N.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(r){const c=r.map(g=>({range:{startLineNumber:g.colorInfo.range.startLineNumber,startColumn:g.colorInfo.range.startColumn,endLineNumber:g.colorInfo.range.endLineNumber,endColumn:g.colorInfo.range.endColumn},options:i.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,c),this._colorDatas=new Map,this._decorationsIds.forEach((g,m)=>this._colorDatas.set(g,r[m]))}updateColorDecorators(r){this._colorDecorationClassRefs.clear();const c=[];for(let g=0;g<r.length&&c.length<d;g++){const{red:m,green:S,blue:p,alpha:C}=r[g].colorInfo.color,_=new f.RGBA(Math.round(m*255),Math.round(S*255),Math.round(p*255),C),L=`rgba(${_.r}, ${_.g}, ${_.b}, ${_.a})`,E=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:L}));c.push({range:{startLineNumber:r[g].colorInfo.range.startLineNumber,startColumn:r[g].colorInfo.range.startColumn,endLineNumber:r[g].colorInfo.range.endLineNumber,endColumn:r[g].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:b.noBreakWhitespace,inlineClassName:`${E.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}this._colorDecoratorIds.set(c)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(r){const c=this._editor.getModel();if(!c)return null;const g=c.getDecorationsInRange(h.Range.fromPositions(r,r)).filter(m=>this._colorDatas.has(m.id));return g.length===0?null:this._colorDatas.get(g[0].id)}isColorDecoration(r){return this._colorDecoratorIds.has(r)}};a.ID="editor.contrib.colorDetector",a.RECOMPUTE_TIME=1e3,a=De([ge(1,l.IConfigurationService),ge(2,t.ILanguageFeaturesService),ge(3,n.ILanguageFeatureDebounceService)],a),e.ColorDetector=a,(0,u.registerEditorContribution)(a.ID,a)}),define(ne[735],oe([1,0,10,21,31,2,3,284,311,473,675,15]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class n{constructor(l,d,a,o){this.owner=l,this.range=d,this.model=a,this.provider=o,this.forceShowAtRange=!0}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.ColorHover=n;let t=class{constructor(l,d){this._editor=l,this._themeService=d,this.hoverOrdinal=1}computeSync(l,d){return[]}computeAsync(l,d,a){return y.AsyncIterableObject.fromPromise(this._computeAsync(l,d,a))}_computeAsync(l,d,a){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const o=v.ColorDetector.get(this._editor);if(!o)return[];for(const r of d){if(!o.isColorDecoration(r))continue;const c=o.getColorData(r.range.getStartPosition());if(c)return[yield this._createColorHover(this._editor.getModel(),c.colorInfo,c.provider)]}return[]})}_createColorHover(l,d,a){return Le(this,void 0,void 0,function*(){const o=l.getValueInRange(d.range),{red:r,green:c,blue:g,alpha:m}=d.color,S=new N.RGBA(Math.round(r*255),Math.round(c*255),Math.round(g*255),m),p=new N.Color(S),C=yield(0,b.getColorPresentations)(l,d,a,f.CancellationToken.None),_=new u.ColorPickerModel(p,[],0);return _.colorPresentations=C||[],_.guessColorPresentation(p,o),new n(this,w.Range.lift(d.range),_,a)})}renderHoverParts(l,d){if(d.length===0||!this._editor.hasModel())return D.Disposable.None;const a=new D.DisposableStore,o=d[0],r=this._editor.getModel(),c=o.model,g=a.add(new h.ColorPickerWidget(l.fragment,c,this._editor.getOption(130),this._themeService));l.setColorPicker(g);let m=new w.Range(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);const S=()=>{let C,_;if(c.presentation.textEdit){C=[c.presentation.textEdit],_=new w.Range(c.presentation.textEdit.range.startLineNumber,c.presentation.textEdit.range.startColumn,c.presentation.textEdit.range.endLineNumber,c.presentation.textEdit.range.endColumn);const L=this._editor.getModel()._setTrackedRange(null,_,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",C),_=this._editor.getModel()._getTrackedRange(L)||_}else C=[{range:m,text:c.presentation.label,forceMoveMarkers:!1}],_=m.setEndPosition(m.endLineNumber,m.startColumn+c.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",C);c.presentation.additionalTextEdits&&(C=[...c.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",C),l.hide()),this._editor.pushUndoStop(),m=_},p=C=>(0,b.getColorPresentations)(r,{range:m,color:{red:C.rgba.r/255,green:C.rgba.g/255,blue:C.rgba.b/255,alpha:C.rgba.a}},o.provider,f.CancellationToken.None).then(_=>{c.colorPresentations=_||[]});return a.add(c.onColorFlushed(C=>{p(C).then(S)})),a.add(c.onDidChangeColor(p)),a}};t=De([ge(1,i.IThemeService)],t),e.ColorHoverParticipant=t}),define(ne[736],oe([1,0,2,17,12,11,3,23,37,475,390]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function h(n){return f.isMacintosh?n.altKey:n.ctrlKey}class i extends y.Disposable{constructor(t){super();this._editor=t,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(s=>this._onEditorMouseDown(s))),this._register(this._editor.onMouseUp(s=>this._onEditorMouseUp(s))),this._register(this._editor.onMouseDrag(s=>this._onEditorMouseDrag(s))),this._register(this._editor.onMouseDrop(s=>this._onEditorMouseDrop(s))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(s=>this.onEditorKeyDown(s))),this._register(this._editor.onKeyUp(s=>this.onEditorKeyUp(s))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(31)||this._editor.getOption(18)||(h(t)&&(this._modifierPressed=!0),this._mouseDown&&h(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(31)||this._editor.getOption(18)||(h(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===i.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){const s=t.target;if(this._dragSelection===null){const d=(this._editor.getSelections()||[]).filter(a=>s.position&&a.containsPosition(s.position));if(d.length===1)this._dragSelection=d[0];else return}h(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),s.position&&(this._dragSelection.containsPosition(s.position)?this._removeDecoration():this.showAt(s.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){const s=new D.Position(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let l=null;if(t.event.shiftKey){const d=this._editor.getSelection();if(d){const{selectionStartLineNumber:a,selectionStartColumn:o}=d;l=[new b.Selection(a,o,s.lineNumber,s.column)]}}else l=(this._editor.getSelections()||[]).map(d=>d.containsPosition(s)?new b.Selection(s.lineNumber,s.column,s.lineNumber,s.column):d);this._editor.setSelections(l||[],"mouse",3)}else(!this._dragSelection.containsPosition(s)||(h(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(s)||this._dragSelection.getStartPosition().equals(s)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(i.ID,new u.DragAndDropCommand(this._dragSelection,s,h(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){this._dndDecorationIds.set([{range:new w.Range(t.lineNumber,t.column,t.lineNumber,t.column),options:i._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=i,i.ID="editor.contrib.dragAndDrop",i.TRIGGER_KEY_VALUE=f.isMacintosh?6:5,i._DECORATION_OPTIONS=v.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,N.registerEditorContribution)(i.ID,i)}),define(ne[737],oe([1,0,3,48,37,25,15]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class b{constructor(u){this._editor=u,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const u=this._findScopeDecorationIds.map(h=>this._editor.getModel().getDecorationRange(h)).filter(h=>!!h);if(u.length)return u}return null}getStartPosition(){return this._startPosition}setStartPosition(u){this._startPosition=u,this.setCurrentFindMatch(null)}_getDecorationIndex(u){const h=this._decorations.indexOf(u);return h>=0?h+1:1}getCurrentMatchesPosition(u){const h=this._editor.getModel().getDecorationsInRange(u);for(const i of h){const n=i.options;if(n===b._FIND_MATCH_DECORATION||n===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(u){let h=null,i=0;if(u)for(let n=0,t=this._decorations.length;n<t;n++){const s=this._editor.getModel().getDecorationRange(this._decorations[n]);if(u.equalsRange(s)){h=this._decorations[n],i=n+1;break}}return(this._highlightedDecorationId!==null||h!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),h!==null&&(this._highlightedDecorationId=h,n.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),h!==null){let t=this._editor.getModel().getDecorationRange(h);if(t.startLineNumber!==t.endLineNumber&&t.endColumn===1){const s=t.endLineNumber-1,l=this._editor.getModel().getLineMaxColumn(s);t=new y.Range(t.startLineNumber,t.startColumn,s,l)}this._rangeHighlightDecorationId=n.addDecoration(t,b._RANGE_HIGHLIGHT_DECORATION)}}),i}set(u,h){this._editor.changeDecorations(i=>{let n=b._FIND_MATCH_DECORATION;const t=[];if(u.length>1e3){n=b._FIND_MATCH_NO_OVERVIEW_DECORATION;const l=this._editor.getModel().getLineCount(),a=this._editor.getLayoutInfo().height/l,o=Math.max(2,Math.ceil(3/a));let r=u[0].range.startLineNumber,c=u[0].range.endLineNumber;for(let g=1,m=u.length;g<m;g++){const S=u[g].range;c+o>=S.startLineNumber?S.endLineNumber>c&&(c=S.endLineNumber):(t.push({range:new y.Range(r,1,c,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=S.startLineNumber,c=S.endLineNumber)}t.push({range:new y.Range(r,1,c,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const s=new Array(u.length);for(let l=0,d=u.length;l<d;l++)s[l]={range:u[l].range,options:n};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,t),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(l=>i.removeDecoration(l)),this._findScopeDecorationIds=[]),(h==null?void 0:h.length)&&(this._findScopeDecorationIds=h.map(l=>i.addDecoration(l,b._FIND_SCOPE_DECORATION)))})}matchBeforePosition(u){if(this._decorations.length===0)return null;for(let h=this._decorations.length-1;h>=0;h--){const i=this._decorations[h],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.endLineNumber>u.lineNumber)){if(n.endLineNumber<u.lineNumber)return n;if(!(n.endColumn>u.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(u){if(this._decorations.length===0)return null;for(let h=0,i=this._decorations.length;h<i;h++){const n=this._decorations[h],t=this._editor.getModel().getDecorationRange(n);if(!(!t||t.startLineNumber<u.lineNumber)){if(t.startLineNumber>u.lineNumber)return t;if(!(t.startColumn<u.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let u=[];return u=u.concat(this._decorations),u=u.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&u.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&u.push(this._rangeHighlightDecorationId),u}}e.FindDecorations=b,b._CURRENT_FIND_MATCH_DECORATION=N.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,w.themeColorFromId)(D.overviewRulerFindMatchForeground),position:f.OverviewRulerLane.Center},minimap:{color:(0,w.themeColorFromId)(D.minimapFindMatch),position:f.MinimapPosition.Inline}}),b._FIND_MATCH_DECORATION=N.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,w.themeColorFromId)(D.overviewRulerFindMatchForeground),position:f.OverviewRulerLane.Center},minimap:{color:(0,w.themeColorFromId)(D.minimapFindMatch),position:f.MinimapPosition.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=N.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=N.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,w.themeColorFromId)(D.overviewRulerFindMatchForeground),position:f.OverviewRulerLane.Center}}),b._RANGE_HIGHLIGHT_DECORATION=N.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=N.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ne[171],oe([1,0,18,10,2,108,11,3,23,157,737,476,477,16]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new t.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new t.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new t.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const s=240;class l{constructor(a,o){this._toDispose=new N.DisposableStore,this._editor=a,this._state=o,this._isDisposed=!1,this._startSearchingTimer=new f.TimeoutTimer,this._decorations=new h.FindDecorations(a),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new f.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(r=>{(r.reason===3||r.reason===5||r.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(r=>{this._ignoreModelContentChanged||(r.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(r=>this._onStateChanged(r))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,N.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(a){this._isDisposed||!this._editor.hasModel()||(a.searchString||a.isReplaceRevealed||a.isRegex||a.wholeWord||a.matchCase||a.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{a.searchScope?this.research(a.moveCursor,this._state.searchScope):this.research(a.moveCursor)},s)):a.searchScope?this.research(a.moveCursor,this._state.searchScope):this.research(a.moveCursor))}static _getSearchRange(a,o){return o||a.getFullModelRange()}research(a,o){let r=null;typeof o!="undefined"?o!==null&&(Array.isArray(o)?r=o:r=[o]):r=this._decorations.getFindScopes(),r!==null&&(r=r.map(S=>{if(S.startLineNumber!==S.endLineNumber){let p=S.endLineNumber;return S.endColumn===1&&(p=p-1),new b.Range(S.startLineNumber,1,p,this._editor.getModel().getLineMaxColumn(p))}return S}));const c=this._findMatches(r,!1,e.MATCHES_LIMIT);this._decorations.set(c,r);const g=this._editor.getSelection();let m=this._decorations.getCurrentMatchesPosition(g);if(m===0&&c.length>0){const S=(0,y.findFirstInSorted)(c.map(p=>p.range),p=>b.Range.compareRangesUsingStarts(p,g)>=0);m=S>0?S-1+1:m}this._state.changeMatchInfo(m,this._decorations.getCount(),void 0),a&&this._editor.getOption(36).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const a=this._decorations.getFindScope();return a&&this._editor.revealRangeInCenterIfOutsideViewport(a,0),!0}return!1}_setCurrentFindMatch(a){const o=this._decorations.setCurrentFindMatch(a);this._state.changeMatchInfo(o,this._decorations.getCount(),a),this._editor.setSelection(a),this._editor.revealRangeInCenterIfOutsideViewport(a,0)}_prevSearchPosition(a){const o=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:r,column:c}=a;const g=this._editor.getModel();return o||c===1?(r===1?r=g.getLineCount():r--,c=g.getLineMaxColumn(r)):c--,new w.Position(r,c)}_moveToPrevMatch(a,o=!1){if(!this._state.canNavigateBack()){const _=this._decorations.matchAfterPosition(a);_&&this._setCurrentFindMatch(_);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let _=this._decorations.matchBeforePosition(a);_&&_.isEmpty()&&_.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),_=this._decorations.matchBeforePosition(a)),_&&this._setCurrentFindMatch(_);return}if(this._cannotFind())return;const r=this._decorations.getFindScope(),c=l._getSearchRange(this._editor.getModel(),r);c.getEndPosition().isBefore(a)&&(a=c.getEndPosition()),a.isBefore(c.getStartPosition())&&(a=c.getEndPosition());const{lineNumber:g,column:m}=a,S=this._editor.getModel();let p=new w.Position(g,m),C=S.findPreviousMatch(this._state.searchString,p,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(118):null,!1);if(C&&C.range.isEmpty()&&C.range.getStartPosition().equals(p)&&(p=this._prevSearchPosition(p),C=S.findPreviousMatch(this._state.searchString,p,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(118):null,!1)),!!C){if(!o&&!c.containsRange(C.range))return this._moveToPrevMatch(C.range.getStartPosition(),!0);this._setCurrentFindMatch(C.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(a){const o=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:r,column:c}=a;const g=this._editor.getModel();return o||c===g.getLineMaxColumn(r)?(r===g.getLineCount()?r=1:r++,c=1):c++,new w.Position(r,c)}_moveToNextMatch(a){if(!this._state.canNavigateForward()){const r=this._decorations.matchBeforePosition(a);r&&this._setCurrentFindMatch(r);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let r=this._decorations.matchAfterPosition(a);r&&r.isEmpty()&&r.getStartPosition().equals(a)&&(a=this._nextSearchPosition(a),r=this._decorations.matchAfterPosition(a)),r&&this._setCurrentFindMatch(r);return}const o=this._getNextMatch(a,!1,!0);o&&this._setCurrentFindMatch(o.range)}_getNextMatch(a,o,r,c=!1){if(this._cannotFind())return null;const g=this._decorations.getFindScope(),m=l._getSearchRange(this._editor.getModel(),g);m.getEndPosition().isBefore(a)&&(a=m.getStartPosition()),a.isBefore(m.getStartPosition())&&(a=m.getStartPosition());const{lineNumber:S,column:p}=a,C=this._editor.getModel();let _=new w.Position(S,p),L=C.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(118):null,o);return r&&L&&L.range.isEmpty()&&L.range.getStartPosition().equals(_)&&(_=this._nextSearchPosition(_),L=C.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(118):null,o)),L?!c&&!m.containsRange(L.range)?this._getNextMatch(L.range.getEndPosition(),o,r,!0):L:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,n.parseReplaceString)(this._state.replaceString):n.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const a=this._getReplacePattern(),o=this._editor.getSelection(),r=this._getNextMatch(o.getStartPosition(),!0,!1);if(r)if(o.equalsRange(r.range)){const c=a.buildReplaceString(r.matches,this._state.preserveCase),g=new D.ReplaceCommand(o,c);this._executeEditorCommand("replace",g),this._decorations.setStartPosition(new w.Position(o.startLineNumber,o.startColumn+c.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(r.range)}_findMatches(a,o,r){const c=(a||[null]).map(g=>l._getSearchRange(this._editor.getModel(),g));return this._editor.getModel().findMatches(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(118):null,o,r)}replaceAll(){if(!this._hasMatches())return;const a=this._decorations.getFindScopes();a===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(a),this.research(!1)}_largeReplaceAll(){const o=new u.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(118):null).parseSearchRequest();if(!o)return;let r=o.regex;if(!r.multiline){let L="mu";r.ignoreCase&&(L+="i"),r.global&&(L+="g"),r=new RegExp(r.source,L)}const c=this._editor.getModel(),g=c.getValue(1),m=c.getFullModelRange(),S=this._getReplacePattern();let p;const C=this._state.preserveCase;S.hasReplacementPatterns||C?p=g.replace(r,function(){return S.buildReplaceString(arguments,C)}):p=g.replace(r,S.buildReplaceString(null,C));const _=new D.ReplaceCommandThatPreservesSelection(m,p,this._editor.getSelection());this._executeEditorCommand("replaceAll",_)}_regularReplaceAll(a){const o=this._getReplacePattern(),r=this._findMatches(a,o.hasReplacementPatterns||this._state.preserveCase,1073741824),c=[];for(let m=0,S=r.length;m<S;m++)c[m]=o.buildReplaceString(r[m].matches,this._state.preserveCase);const g=new i.ReplaceAllCommand(this._editor.getSelection(),r.map(m=>m.range),c);this._executeEditorCommand("replaceAll",g)}selectAllMatches(){if(!this._hasMatches())return;const a=this._decorations.getFindScopes();let r=this._findMatches(a,!1,1073741824).map(g=>new v.Selection(g.range.startLineNumber,g.range.startColumn,g.range.endLineNumber,g.range.endColumn));const c=this._editor.getSelection();for(let g=0,m=r.length;g<m;g++)if(r[g].equalsRange(c)){r=[c].concat(r.slice(0,g)).concat(r.slice(g+1));break}this._editor.setSelections(r)}_executeEditorCommand(a,o){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(a,o),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=l}),define(ne[738],oe([1,0,7,276,66,10,171,25,15]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class u extends N.Widget{constructor(i,n,t,s){super();this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=i,this._state=n,this._keybindingService=t,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const l=s.getColorTheme().getColor(b.inputActiveOptionBorder),d=s.getColorTheme().getColor(b.inputActiveOptionForeground),a=s.getColorTheme().getColor(b.inputActiveOptionBackground);this.caseSensitive=this._register(new f.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(w.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:l,inputActiveOptionForeground:d,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new f.WholeWordsToggle({appendTitle:this._keybindingLabelFor(w.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:l,inputActiveOptionForeground:d,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new f.RegexToggle({appendTitle:this._keybindingLabelFor(w.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:l,inputActiveOptionForeground:d,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(o=>{let r=!1;o.isRegex&&(this.regex.checked=this._state.isRegex,r=!0),o.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,r=!0),o.matchCase&&(this.caseSensitive.checked=this._state.matchCase,r=!0),!this._state.isRevealed&&r&&this._revealTemporarily()})),this._register(y.addDisposableNonBubblingMouseOutListener(this._domNode,o=>this._onMouseOut())),this._register(y.addDisposableListener(this._domNode,"mouseover",o=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(i){const n=this._keybindingService.lookupKeybinding(i);return n?` (${n.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return u.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(i){const n={inputActiveOptionBorder:i.getColor(b.inputActiveOptionBorder),inputActiveOptionForeground:i.getColor(b.inputActiveOptionForeground),inputActiveOptionBackground:i.getColor(b.inputActiveOptionBackground)};this.caseSensitive.style(n),this.wholeWords.style(n),this.regex.style(n)}}e.FindOptionsWidget=u,u.ID="editor.contrib.findOptionsWidget",(0,v.registerThemingParticipant)((h,i)=>{const n=h.getColor(b.editorWidgetBackground);n&&i.addRule(`.monaco-editor .findOptionsWidget { background-color: ${n}; }`);const t=h.getColor(b.editorWidgetForeground);t&&i.addRule(`.monaco-editor .findOptionsWidget { color: ${t}; }`);const s=h.getColor(b.widgetShadow);s&&i.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${s}; }`);const l=h.getColor(b.contrastBorder);l&&i.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${l}; }`)})}),define(ne[739],oe([1,0,4,2,3,171]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function w(v,u){return v===1?!0:v===2?!1:u}class b extends f.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new y.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return w(this._isRegexOverride,this._isRegex)}get wholeWord(){return w(this._wholeWordOverride,this._wholeWord)}get matchCase(){return w(this._matchCaseOverride,this._matchCase)}get preserveCase(){return w(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(u,h,i){const n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;h===0&&(u=0),u>h&&(u=h),this._matchesPosition!==u&&(this._matchesPosition=u,n.matchesPosition=!0,t=!0),this._matchesCount!==h&&(this._matchesCount=h,n.matchesCount=!0,t=!0),typeof i!="undefined"&&(N.Range.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,t=!0)),t&&this._onFindReplaceStateChange.fire(n)}change(u,h,i=!0){var n;const t={moveCursor:h,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let s=!1;const l=this.isRegex,d=this.wholeWord,a=this.matchCase,o=this.preserveCase;typeof u.searchString!="undefined"&&this._searchString!==u.searchString&&(this._searchString=u.searchString,t.searchString=!0,s=!0),typeof u.replaceString!="undefined"&&this._replaceString!==u.replaceString&&(this._replaceString=u.replaceString,t.replaceString=!0,s=!0),typeof u.isRevealed!="undefined"&&this._isRevealed!==u.isRevealed&&(this._isRevealed=u.isRevealed,t.isRevealed=!0,s=!0),typeof u.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==u.isReplaceRevealed&&(this._isReplaceRevealed=u.isReplaceRevealed,t.isReplaceRevealed=!0,s=!0),typeof u.isRegex!="undefined"&&(this._isRegex=u.isRegex),typeof u.wholeWord!="undefined"&&(this._wholeWord=u.wholeWord),typeof u.matchCase!="undefined"&&(this._matchCase=u.matchCase),typeof u.preserveCase!="undefined"&&(this._preserveCase=u.preserveCase),typeof u.searchScope!="undefined"&&(((n=u.searchScope)===null||n===void 0?void 0:n.every(r=>{var c;return(c=this._searchScope)===null||c===void 0?void 0:c.some(g=>!N.Range.equalsRange(g,r))}))||(this._searchScope=u.searchScope,t.searchScope=!0,s=!0)),typeof u.loop!="undefined"&&this._loop!==u.loop&&(this._loop=u.loop,t.loop=!0,s=!0),typeof u.isSearching!="undefined"&&this._isSearching!==u.isSearching&&(this._isSearching=u.isSearching,t.isSearching=!0,s=!0),typeof u.filters!="undefined"&&(this._filters?this._filters.update(u.filters):this._filters=u.filters,t.filters=!0,s=!0),this._isRegexOverride=typeof u.isRegexOverride!="undefined"?u.isRegexOverride:0,this._wholeWordOverride=typeof u.wholeWordOverride!="undefined"?u.wholeWordOverride:0,this._matchCaseOverride=typeof u.matchCaseOverride!="undefined"?u.matchCaseOverride:0,this._preserveCaseOverride=typeof u.preserveCaseOverride!="undefined"?u.preserveCaseOverride:0,l!==this.isRegex&&(s=!0,t.isRegex=!0),d!==this.wholeWord&&(s=!0,t.wholeWord=!0),a!==this.matchCase&&(s=!0,t.matchCase=!0),o!==this.preserveCase&&(s=!0,t.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(t)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=b}),define(ne[740],oe([1,0,7,47,182,126,66,10,27,13,2,17,9,3,171,548,294,619,25,78,15,56,391]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const m=(0,r.registerIcon)("find-selection",v.Codicon.selection,l.localize(0,null)),S=(0,r.registerIcon)("find-collapsed",v.Codicon.chevronRight,l.localize(1,null)),p=(0,r.registerIcon)("find-expanded",v.Codicon.chevronDown,l.localize(2,null));e.findReplaceIcon=(0,r.registerIcon)("find-replace",v.Codicon.replace,l.localize(3,null)),e.findReplaceAllIcon=(0,r.registerIcon)("find-replace-all",v.Codicon.replaceAll,l.localize(4,null)),e.findPreviousMatchIcon=(0,r.registerIcon)("find-previous-match",v.Codicon.arrowUp,l.localize(5,null)),e.findNextMatchIcon=(0,r.registerIcon)("find-next-match",v.Codicon.arrowDown,l.localize(6,null));const C=l.localize(7,null),_=l.localize(8,null),L=l.localize(9,null),E=l.localize(10,null),I=l.localize(11,null),T=l.localize(12,null),P=l.localize(13,null),B=l.localize(14,null),R=l.localize(15,null),k=l.localize(16,null),A=l.localize(17,null),O=l.localize(18,null,s.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=l.localize(19,null),e.NLS_NO_RESULTS=l.localize(20,null);const F=419,M=275-54;let z=69;const G=33,te="ctrlEnterReplaceAll.windows.donotask",X=i.isMacintosh?256:2048;class J{constructor(q){this.afterLineNumber=q,this.heightInPx=G,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=J;function ie(U,q,le){const se=!!q.match(/\n/);if(le&&se&&le.selectionStart>0){U.stopPropagation();return}}function re(U,q,le){const se=!!q.match(/\n/);if(le&&se&&le.selectionEnd<le.value.length){U.stopPropagation();return}}class Z extends w.Widget{constructor(q,le,se,Y,de,H,$,K,V){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=q,this._controller=le,this._state=se,this._contextViewProvider=Y,this._keybindingService=de,this._contextKeyService=H,this._storageService=K,this._notificationService=V,this._ctrlEnterReplaceAllWarningPrompted=!!K.getBoolean(te,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.Delayer(500),this._register((0,h.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Q=>this._onStateChanged(Q))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Q=>{if(Q.hasChanged(82)&&(this._codeEditor.getOption(82)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Q.hasChanged(132)&&this._tryUpdateWidgetWidth(),Q.hasChanged(2)&&this.updateAccessibilitySupport(),Q.hasChanged(36)){const ee=this._codeEditor.getOption(36).addExtraSpaceOnTop;ee&&!this._viewZone&&(this._viewZone=new J(0),this._showViewZone()),!ee&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Le(this,void 0,void 0,function*(){if(this._isVisible){const Q=yield this._controller.getGlobalBufferTerm();Q&&Q!==this._state.searchString&&(this._state.change({searchString:Q},!1),this._findInput.select())}}))),this._findInputFocused=s.CONTEXT_FIND_INPUT_FOCUSED.bindTo(H),this._findFocusTracker=this._register(y.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=s.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(H),this._replaceFocusTracker=this._register(y.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(36).addExtraSpaceOnTop&&(this._viewZone=new J(0)),this._applyTheme($.getColorTheme()),this._register($.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Q=>{if(Q.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Z.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(q){if(q.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(q.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),q.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),q.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(82)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(q.isRevealed||q.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),q.isRegex&&this._findInput.setRegex(this._state.isRegex),q.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),q.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),q.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),q.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),q.searchString||q.matchesCount||q.matchesPosition){const le=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",le),this._updateMatchesCount(),this._updateButtons()}(q.searchString||q.currentMatch)&&this._layoutViewZone(),q.updateHistory&&this._delayedUpdateHistory(),q.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,u.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=z+"px",this._state.matchesCount>=s.MATCHES_LIMIT?this._matchesCount.title=O:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let q;if(this._state.matchesCount>0){let le=String(this._state.matchesCount);this._state.matchesCount>=s.MATCHES_LIMIT&&(le+="+");let se=String(this._state.matchesPosition);se==="0"&&(se="?"),q=n.format(e.NLS_MATCHES_LOCATION,se,le)}else q=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(q)),(0,f.alert)(this._getAriaLabel(q,this._state.currentMatch,this._state.searchString)),z=Math.max(z,this._matchesCount.clientWidth)}_getAriaLabel(q,le,se){if(q===e.NLS_NO_RESULTS)return se===""?l.localize(21,null,q):l.localize(22,null,q,se);if(le){const Y=l.localize(23,null,q,se,le.startLineNumber+":"+le.startColumn),de=this._codeEditor.getModel();return de&&le.startLineNumber<=de.getLineCount()&&le.startLineNumber>=1?`${de.getLineContent(le.startLineNumber)}, ${Y}`:Y}return l.localize(24,null,q,se)}_updateToggleSelectionFindButton(){const q=this._codeEditor.getSelection(),le=q?q.startLineNumber!==q.endLineNumber||q.startColumn!==q.endColumn:!1,se=this._toggleSelectionFind.checked;this._isVisible&&(se||le)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const q=this._state.searchString.length>0,le=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&q&&le&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&q&&le&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&q),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&q),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const se=!this._codeEditor.getOption(82);this._toggleReplaceBtn.setEnabled(this._isVisible&&se)}_reveal(){if(this._revealTimeouts.forEach(q=>{clearTimeout(q)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const q=this._codeEditor.getSelection();switch(this._codeEditor.getOption(36).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const se=!!q&&q.startLineNumber!==q.endLineNumber;this._toggleSelectionFind.checked=se;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let le=!0;if(this._codeEditor.getOption(36).seedSearchStringFromSelection&&q){const se=this._codeEditor.getDomNode();if(se){const Y=y.getDomNodePagePosition(se),de=this._codeEditor.getScrolledVisiblePosition(q.getStartPosition()),H=Y.left+(de?de.left:0),$=de?de.top:0;if(this._viewZone&&$<this._viewZone.heightInPx){q.endLineNumber>q.startLineNumber&&(le=!1);const K=y.getTopLeftOffset(this._domNode).left;H>K&&(le=!1);const V=this._codeEditor.getScrolledVisiblePosition(q.getEndPosition());Y.left+(V?V.left:0)>K&&(le=!1)}}}this._showViewZone(le)}}_hide(q){this._revealTimeouts.forEach(le=>{clearTimeout(le)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),q&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(q){if(!this._codeEditor.getOption(36).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const se=this._viewZone;this._viewZoneId!==void 0||!se||this._codeEditor.changeViewZones(Y=>{se.heightInPx=this._getHeight(),this._viewZoneId=Y.addZone(se),this._codeEditor.setScrollTop(q||this._codeEditor.getScrollTop()+se.heightInPx)})}_showViewZone(q=!0){if(!this._isVisible||!this._codeEditor.getOption(36).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new J(0));const se=this._viewZone;this._codeEditor.changeViewZones(Y=>{if(this._viewZoneId!==void 0){const de=this._getHeight();if(de===se.heightInPx)return;const H=de-se.heightInPx;se.heightInPx=de,Y.layoutZone(this._viewZoneId),q&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+H);return}else{let de=this._getHeight();if(de-=this._codeEditor.getOption(76).top,de<=0)return;se.heightInPx=de,this._viewZoneId=Y.addZone(se),q&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+de)}})}_removeViewZone(){this._codeEditor.changeViewZones(q=>{this._viewZoneId!==void 0&&(q.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(q){const le={inputActiveOptionBorder:q.getColor(o.inputActiveOptionBorder),inputActiveOptionBackground:q.getColor(o.inputActiveOptionBackground),inputActiveOptionForeground:q.getColor(o.inputActiveOptionForeground),inputBackground:q.getColor(o.inputBackground),inputForeground:q.getColor(o.inputForeground),inputBorder:q.getColor(o.inputBorder),inputValidationInfoBackground:q.getColor(o.inputValidationInfoBackground),inputValidationInfoForeground:q.getColor(o.inputValidationInfoForeground),inputValidationInfoBorder:q.getColor(o.inputValidationInfoBorder),inputValidationWarningBackground:q.getColor(o.inputValidationWarningBackground),inputValidationWarningForeground:q.getColor(o.inputValidationWarningForeground),inputValidationWarningBorder:q.getColor(o.inputValidationWarningBorder),inputValidationErrorBackground:q.getColor(o.inputValidationErrorBackground),inputValidationErrorForeground:q.getColor(o.inputValidationErrorForeground),inputValidationErrorBorder:q.getColor(o.inputValidationErrorBorder)};this._findInput.style(le),this._replaceInput.style(le),this._toggleSelectionFind.style(le)}_tryUpdateWidgetWidth(){if(!this._isVisible||!y.isInDOM(this._domNode))return;const q=this._codeEditor.getLayoutInfo();if(q.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const se=q.width,Y=q.minimap.minimapWidth;let de=!1,H=!1,$=!1;if(this._resized&&y.getTotalWidth(this._domNode)>F){this._domNode.style.maxWidth=`${se-28-Y-15}px`,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode);return}if(F+28+Y>=se&&(H=!0),F+28+Y-z>=se&&($=!0),F+28+Y-z>=se+50&&(de=!0),this._domNode.classList.toggle("collapsed-find-widget",de),this._domNode.classList.toggle("narrow-find-widget",$),this._domNode.classList.toggle("reduced-find-widget",H),!$&&!de&&(this._domNode.style.maxWidth=`${se-28-Y-15}px`),this._resized){this._findInput.inputBox.layout();const K=this._findInput.inputBox.element.clientWidth;K>0&&(this._replaceInput.width=K)}else this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode))}_getHeight(){let q=0;return q+=4,q+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(q+=4,q+=this._replaceInput.inputBox.height+2),q+=4,q}_tryUpdateHeight(){const q=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===q?!1:(this._cachedHeight=q,this._domNode.style.height=`${q}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const q=this._codeEditor.getSelections();q.map(le=>{le.endColumn===1&&le.endLineNumber>le.startLineNumber&&(le=le.setEndPosition(le.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(le.endLineNumber-1)));const se=this._state.currentMatch;return le.startLineNumber!==le.endLineNumber&&!t.Range.equalsRange(le,se)?le:null}).filter(le=>!!le),q.length&&this._state.change({searchScope:q},!0)}}_onFindInputMouseDown(q){q.middleButton&&q.stopPropagation()}_onFindInputKeyDown(q){if(q.equals(X|3))if(this._keybindingService.dispatchEvent(q,q.target)){q.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),q.preventDefault();return}if(q.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),q.preventDefault();return}if(q.equals(2048|18)){this._codeEditor.focus(),q.preventDefault();return}if(q.equals(16))return ie(q,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(q.equals(18))return re(q,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(q){if(q.equals(X|3))if(this._keybindingService.dispatchEvent(q,q.target)){q.preventDefault();return}else{i.isWindows&&i.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(l.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(te,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),q.preventDefault();return}if(q.equals(2)){this._findInput.focusOnCaseSensitive(),q.preventDefault();return}if(q.equals(1024|2)){this._findInput.focus(),q.preventDefault();return}if(q.equals(2048|18)){this._codeEditor.focus(),q.preventDefault();return}if(q.equals(16))return ie(q,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(q.equals(18))return re(q,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(q){return 0}_keybindingLabelFor(q){const le=this._keybindingService.lookupKeybinding(q);return le?` (${le.getLabel()})`:""}_buildDomNode(){const q=!0,le=!0;this._findInput=this._register(new d.ContextScopedFindInput(null,this._contextViewProvider,{width:M,label:C,placeholder:_,appendCaseSensitiveLabel:this._keybindingLabelFor(s.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(s.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(s.FIND_IDS.ToggleRegexCommand),validation:K=>{if(K.length===0||!this._findInput.getRegex())return null;try{return new RegExp(K,"gu"),null}catch(V){return{content:V.message}}},flexibleHeight:q,flexibleWidth:le,flexibleMaxHeight:118,showHistoryHint:()=>(0,a.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(K=>this._onFindInputKeyDown(K))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(K=>{K.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),K.preventDefault())})),this._register(this._findInput.onRegexKeyDown(K=>{K.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),K.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(K=>{this._tryUpdateHeight()&&this._showViewZone()})),i.isLinux&&this._register(this._findInput.onMouseDown(K=>this._onFindInputMouseDown(K))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new x({label:L+this._keybindingLabelFor(s.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(s.FIND_IDS.PreviousMatchFindAction).run().then(void 0,u.onUnexpectedError)}})),this._nextBtn=this._register(new x({label:E+this._keybindingLabelFor(s.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(s.FIND_IDS.NextMatchFindAction).run().then(void 0,u.onUnexpectedError)}}));const se=document.createElement("div");se.className="find-part",se.appendChild(this._findInput.domNode);const Y=document.createElement("div");Y.className="find-actions",se.appendChild(Y),Y.appendChild(this._matchesCount),Y.appendChild(this._prevBtn.domNode),Y.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new N.Toggle({icon:m,title:I+this._keybindingLabelFor(s.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const K=this._codeEditor.getSelections();K.map(V=>(V.endColumn===1&&V.endLineNumber>V.startLineNumber&&(V=V.setEndPosition(V.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(V.endLineNumber-1))),V.isEmpty()?null:V)).filter(V=>!!V),K.length&&this._state.change({searchScope:K},!0)}}else this._state.change({searchScope:null},!0)})),Y.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new x({label:T+this._keybindingLabelFor(s.FIND_IDS.CloseFindWidgetCommand),icon:r.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:K=>{K.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),K.preventDefault())}})),Y.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new d.ContextScopedReplaceInput(null,void 0,{label:P,placeholder:B,appendPreserveCaseLabel:this._keybindingLabelFor(s.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:q,flexibleWidth:le,flexibleMaxHeight:118,showHistoryHint:()=>(0,a.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(K=>this._onReplaceInputKeyDown(K))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(K=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(K=>{K.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),K.preventDefault())})),this._replaceBtn=this._register(new x({label:R+this._keybindingLabelFor(s.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:K=>{K.equals(1024|2)&&(this._closeBtn.focus(),K.preventDefault())}})),this._replaceAllBtn=this._register(new x({label:k+this._keybindingLabelFor(s.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const de=document.createElement("div");de.className="replace-part",de.appendChild(this._replaceInput.domNode);const H=document.createElement("div");H.className="replace-actions",de.appendChild(H),H.appendChild(this._replaceBtn.domNode),H.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new x({label:A,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${F}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(se),this._domNode.appendChild(de),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let $=F;this._register(this._resizeSash.onDidStart(()=>{$=y.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(K=>{this._resized=!0;const V=$+K.startX-K.currentX;if(V<F)return;const Q=parseFloat(y.getComputedStyle(this._domNode).maxWidth)||0;V>Q||(this._domNode.style.width=`${V}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const K=y.getTotalWidth(this._domNode);if(K<F)return;let V=F;if(!this._resized||K===F){const Q=this._codeEditor.getLayoutInfo();V=Q.width-28-Q.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${V}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const q=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(q!==2)}}e.FindWidget=Z,Z.ID="editor.contrib.findWidget";class x extends w.Widget{constructor(q){super();this._opts=q;let le="button";this._opts.className&&(le=le+" "+this._opts.className),this._opts.icon&&(le=le+" "+c.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=le,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,se=>{this._opts.onTrigger(),se.preventDefault()}),this.onkeydown(this._domNode,se=>{var Y,de;if(se.equals(10)||se.equals(3)){this._opts.onTrigger(),se.preventDefault();return}(de=(Y=this._opts).onKeyDown)===null||de===void 0||de.call(Y,se)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(q){this._domNode.classList.toggle("disabled",!q),this._domNode.setAttribute("aria-disabled",String(!q)),this._domNode.tabIndex=q?0:-1}setExpanded(q){this._domNode.setAttribute("aria-expanded",String(!!q)),q?(this._domNode.classList.remove(...c.ThemeIcon.asClassNameArray(S)),this._domNode.classList.add(...c.ThemeIcon.asClassNameArray(p))):(this._domNode.classList.remove(...c.ThemeIcon.asClassNameArray(p)),this._domNode.classList.add(...c.ThemeIcon.asClassNameArray(S)))}}e.SimpleButton=x,(0,c.registerThemingParticipant)((U,q)=>{const le=(pe,ve)=>{ve&&q.addRule(`.monaco-editor ${pe} { background-color: ${ve}; }`)};le(".findMatch",U.getColor(o.editorFindMatchHighlight)),le(".currentFindMatch",U.getColor(o.editorFindMatch)),le(".findScope",U.getColor(o.editorFindRangeHighlight));const se=U.getColor(o.editorWidgetBackground);le(".find-widget",se);const Y=U.getColor(o.widgetShadow);Y&&q.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Y}; }`);const de=U.getColor(o.editorFindMatchHighlightBorder);de&&q.addRule(`.monaco-editor .findMatch { border: 1px ${(0,g.isHighContrast)(U.type)?"dotted":"solid"} ${de}; box-sizing: border-box; }`);const H=U.getColor(o.editorFindMatchBorder);H&&q.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${H}; padding: 1px; box-sizing: border-box; }`);const $=U.getColor(o.editorFindRangeHighlightBorder);$&&q.addRule(`.monaco-editor .findScope { border: 1px ${(0,g.isHighContrast)(U.type)?"dashed":"solid"} ${$}; }`);const K=U.getColor(o.contrastBorder);K&&q.addRule(`.monaco-editor .find-widget { border: 1px solid ${K}; }`);const V=U.getColor(o.editorWidgetForeground);V&&q.addRule(`.monaco-editor .find-widget { color: ${V}; }`);const Q=U.getColor(o.errorForeground);Q&&q.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Q}; }`);const ee=U.getColor(o.editorWidgetResizeBorder);if(ee)q.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ee}; }`);else{const pe=U.getColor(o.editorWidgetBorder);pe&&q.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${pe}; }`)}const ae=U.getColor(o.toolbarHoverBackground);ae&&q.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${ae} !important;
		}
	`);const fe=U.getColor(o.focusBorder);fe&&q.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${fe}; }`)})}),define(ne[312],oe([1,0,10,2,9,12,24,171,738,739,740,547,41,91,16,82,43,40,85,15]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const c=524288;function g(k,A="single",O=!1){if(!k.hasModel())return null;const F=k.getSelection();if(A==="single"&&F.startLineNumber===F.endLineNumber||A==="multiple"){if(F.isEmpty()){const W=k.getConfiguredWordAtPosition(F.getStartPosition());if(W&&O===!1)return W.word}else if(k.getModel().getValueLengthInRange(F)<c)return k.getModel().getValueInRange(F)}return null}e.getSelectionSearchString=g;let m=class Vi extends f.Disposable{constructor(A,O,F,W){super();this._editor=A,this._findWidgetVisible=b.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(O),this._contextKeyService=O,this._storageService=F,this._clipboardService=W,this._updateHistoryDelayer=new y.Delayer(500),this._state=this._register(new u.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(M=>this._onStateChanged(M))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const M=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),M&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(36).loop})}))}get editor(){return this._editor}static get(A){return A.getContribution(Vi.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(A){this.saveQueryState(A),A.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),A.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(A){A.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),A.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),A.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),A.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!b.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const A=this._editor.getSelections();A.map(O=>(O.endColumn===1&&O.endLineNumber>O.startLineNumber&&(O=O.setEndPosition(O.endLineNumber-1,this._editor.getModel().getLineMaxColumn(O.endLineNumber-1))),O.isEmpty()?null:O)).filter(O=>!!O),A.length&&this._state.change({searchScope:A},!0)}}setSearchString(A){this._state.isRegex&&(A=N.escapeRegExpCharacters(A)),this._state.change({searchString:A},!1)}highlightFindOptions(A=!1){}_start(A,O){return Le(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const F=Object.assign(Object.assign({},O),{isRevealed:!0});if(A.seedSearchStringFromSelection==="single"){const W=g(this._editor,A.seedSearchStringFromSelection,A.seedSearchStringFromNonEmptySelection);W&&(this._state.isRegex?F.searchString=N.escapeRegExpCharacters(W):F.searchString=W)}else if(A.seedSearchStringFromSelection==="multiple"&&!A.updateSearchScope){const W=g(this._editor,A.seedSearchStringFromSelection);W&&(F.searchString=W)}if(!F.searchString&&A.seedSearchStringFromGlobalClipboard){const W=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;W&&(F.searchString=W)}if(A.forceRevealReplace||F.isReplaceRevealed?F.isReplaceRevealed=!0:this._findWidgetVisible.get()||(F.isReplaceRevealed=!1),A.updateSearchScope){const W=this._editor.getSelections();W.some(M=>!M.isEmpty())&&(F.searchScope=W)}F.loop=A.loop,this._state.change(F,!1),this._model||(this._model=new b.FindModelBoundToEditorModel(this._editor,this._state))})}start(A,O){return this._start(A,O)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Le(this,void 0,void 0,function*(){return this._editor.getOption(36).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(A){this._editor.getOption(36).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(A)}};m.ID="editor.contrib.findController",m=De([ge(1,s.IContextKeyService),ge(2,o.IStorageService),ge(3,t.IClipboardService)],m),e.CommonFindController=m;let S=class extends m{constructor(A,O,F,W,M,z,G,te){super(A,F,G,te);this._contextViewService=O,this._keybindingService=W,this._themeService=M,this._notificationService=z,this._widget=null,this._findOptionsWidget=null}_start(A,O){const F=Object.create(null,{_start:{get:()=>super._start}});return Le(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const W=this._editor.getSelection();let M=!1;switch(this._editor.getOption(36).autoFindInSelection){case"always":M=!0;break;case"never":M=!1;break;case"multiline":{M=!!W&&W.startLineNumber!==W.endLineNumber;break}default:break}A.updateSearchScope=A.updateSearchScope||M,yield F._start.call(this,A,O),this._widget&&(A.shouldFocus===2?this._widget.focusReplaceInput():A.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(A=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!A?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new h.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new v.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};S=De([ge(1,l.IContextViewService),ge(2,s.IContextKeyService),ge(3,d.IKeybindingService),ge(4,r.IThemeService),ge(5,a.INotificationService),ge(6,o.IStorageService),ge(7,t.IClipboardService)],S),e.FindController=S,e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindAction,label:i.localize(0,null),alias:"Find",precondition:s.ContextKeyExpr.or(w.EditorContextKeys.focus,s.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:n.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(k,A,O)=>{const F=m.get(A);return F?F.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(36).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(36).loop}):!1});const p={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:i.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:i.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:i.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:i.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class C extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithArgs,label:i.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:p})}run(A,O,F){return Le(this,void 0,void 0,function*(){const W=m.get(O);if(W){const M=F?{searchString:F.searchString,replaceString:F.replaceString,isReplaceRevealed:F.replaceString!==void 0,isRegex:F.isRegex,wholeWord:F.matchWholeWord,matchCase:F.isCaseSensitive,preserveCase:F.preserveCase}:{};yield W.start({forceRevealReplace:!1,seedSearchStringFromSelection:W.getState().searchString.length===0&&O.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(F==null?void 0:F.findInSelection)||!1,loop:O.getOption(36).loop},M),W.setGlobalBufferTerm(W.getState().searchString)}})}}e.StartFindWithArgsAction=C;class _ extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithSelection,label:i.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(A,O){return Le(this,void 0,void 0,function*(){const F=m.get(O);F&&(yield F.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(36).loop}),F.setGlobalBufferTerm(F.getState().searchString))})}}e.StartFindWithSelectionAction=_;class L extends D.EditorAction{run(A,O){return Le(this,void 0,void 0,function*(){const F=m.get(O);F&&!this._run(F)&&(yield F.start({forceRevealReplace:!1,seedSearchStringFromSelection:F.getState().searchString.length===0&&O.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(36).loop}),this._run(F))})}}e.MatchFindAction=L;class E extends L{constructor(){super({id:b.FIND_IDS.NextMatchFindAction,label:i.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:w.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:s.ContextKeyExpr.and(w.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(A){return A.moveToNextMatch()?(A.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=E;class I extends L{constructor(){super({id:b.FIND_IDS.PreviousMatchFindAction,label:i.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:w.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:s.ContextKeyExpr.and(w.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(A){return A.moveToPrevMatch()}}e.PreviousMatchFindAction=I;class T extends D.EditorAction{run(A,O){return Le(this,void 0,void 0,function*(){const F=m.get(O);if(!F)return;const W=O.getOption(36).seedSearchStringFromSelection==="selection";let M=null;O.getOption(36).seedSearchStringFromSelection!=="never"&&(M=g(O,"single",W)),M&&F.setSearchString(M),this._run(F)||(yield F.start({forceRevealReplace:!1,seedSearchStringFromSelection:O.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:W,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(36).loop}),this._run(F))})}}e.SelectionMatchFindAction=T;class P extends T{constructor(){super({id:b.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(A){return A.moveToNextMatch()}}e.NextSelectionMatchFindAction=P;class B extends T{constructor(){super({id:b.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(A){return A.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=B,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindReplaceAction,label:i.localize(12,null),alias:"Replace",precondition:s.ContextKeyExpr.or(w.EditorContextKeys.focus,s.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:n.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(k,A,O)=>{if(!A.hasModel()||A.getOption(82))return!1;const F=m.get(A);if(!F)return!1;const W=A.getSelection(),M=F.isFindInputFocused(),z=!W.isEmpty()&&W.startLineNumber===W.endLineNumber&&A.getOption(36).seedSearchStringFromSelection!=="never"&&!M,G=M||z?2:1;return F.start({forceRevealReplace:!0,seedSearchStringFromSelection:z?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(36).seedSearchStringFromSelection!=="never",shouldFocus:G,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(36).loop})}),(0,D.registerEditorContribution)(m.ID,S),(0,D.registerEditorAction)(C),(0,D.registerEditorAction)(_),(0,D.registerEditorAction)(E),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(P),(0,D.registerEditorAction)(B);const R=D.EditorCommand.bindToContribution(m.get);(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.CloseFindWidgetCommand,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:s.ContextKeyExpr.and(w.EditorContextKeys.focus,s.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:k=>k.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:w.EditorContextKeys.focus,primary:b.ToggleCaseSensitiveKeybinding.primary,mac:b.ToggleCaseSensitiveKeybinding.mac,win:b.ToggleCaseSensitiveKeybinding.win,linux:b.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:k=>k.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:w.EditorContextKeys.focus,primary:b.ToggleWholeWordKeybinding.primary,mac:b.ToggleWholeWordKeybinding.mac,win:b.ToggleWholeWordKeybinding.win,linux:b.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:k=>k.toggleRegex(),kbOpts:{weight:100+5,kbExpr:w.EditorContextKeys.focus,primary:b.ToggleRegexKeybinding.primary,mac:b.ToggleRegexKeybinding.mac,win:b.ToggleRegexKeybinding.win,linux:b.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:k=>k.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:w.EditorContextKeys.focus,primary:b.ToggleSearchScopeKeybinding.primary,mac:b.ToggleSearchScopeKeybinding.mac,win:b.ToggleSearchScopeKeybinding.win,linux:b.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:k=>k.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:w.EditorContextKeys.focus,primary:b.TogglePreserveCaseKeybinding.primary,mac:b.TogglePreserveCaseKeybinding.mac,win:b.TogglePreserveCaseKeybinding.win,linux:b.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.replace(),kbOpts:{weight:100+5,kbExpr:w.EditorContextKeys.focus,primary:2048|1024|22}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.replace(),kbOpts:{weight:100+5,kbExpr:s.ContextKeyExpr.and(w.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.replaceAll(),kbOpts:{weight:100+5,kbExpr:w.EditorContextKeys.focus,primary:2048|512|3}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.replaceAll(),kbOpts:{weight:100+5,kbExpr:s.ContextKeyExpr.and(w.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,D.registerEditorCommand)(new R({id:b.FIND_IDS.SelectAllMatchesAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:w.EditorContextKeys.focus,primary:512|3}}))}),define(ne[741],oe([1,0,27,37,550,78,15]),function(j,e,y,f,N,D,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,D.registerIcon)("folding-expanded",y.Codicon.chevronDown,(0,N.localize)(0,null)),e.foldingCollapsedIcon=(0,D.registerIcon)("folding-collapsed",y.Codicon.chevronRight,(0,N.localize)(1,null));class b{constructor(u){this.editor=u,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(u,h){return h?b.HIDDEN_RANGE_DECORATION:u?this.showFoldingHighlights?b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:b.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:b.EXPANDED_VISUAL_DECORATION}deltaDecorations(u,h){return this.editor.deltaDecorations(u,h)}changeDecorations(u){return this.editor.changeDecorations(u)}}e.FoldingDecorationProvider=b,b.COLLAPSED_VISUAL_DECORATION=f.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=f.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=f.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.EXPANDED_VISUAL_DECORATION=f.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.HIDDEN_RANGE_DECORATION=f.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ne[742],oe([1,0,10,13,59,2,9,19,150,12,24,28,32,478,479,480,481,549,16,25,15,741,266,40,73,71,57,20,392]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const E=new o.RawContextKey("foldingEnabled",!1);let I=class Hi extends D.Disposable{constructor(U,q,le,se,Y,de){super();this.contextKeyService=q,this.languageConfigurationService=le,this.languageFeaturesService=de,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new D.DisposableStore),this.editor=U;const H=this.editor.getOptions();this._isEnabled=H.get(38),this._useFoldingProviders=H.get(39)!=="indentation",this._unfoldOnClickAfterEndOfLine=H.get(43),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=H.get(41),this._maxFoldingRegions=H.get(42),this.updateDebounceInfo=Y.for(de.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new g.FoldingDecorationProvider(U),this.foldingDecorationProvider.autoHideFoldingControls=H.get(100)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=H.get(40),this.foldingEnabled=E.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=$=>{this._tooManyRegionsNotified||(se.notify({severity:p.default.Warning,sticky:!0,message:a.localize(0,null,$)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration($=>{if($.hasChanged(38)&&(this._isEnabled=this.editor.getOptions().get(38),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),$.hasChanged(42)&&(this._maxFoldingRegions=this.editor.getOptions().get(42),this._tooManyRegionsNotified=!1,this.onModelChanged()),$.hasChanged(100)||$.hasChanged(40)){const K=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=K.get(100)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=K.get(40),this.triggerFoldingModelChanged()}$.hasChanged(39)&&(this._useFoldingProviders=this.editor.getOptions().get(39)!=="indentation",this.onFoldingStrategyChanged()),$.hasChanged(43)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(43)),$.hasChanged(41)&&(this._foldingImportsByDefault=this.editor.getOptions().get(41))})),this.onModelChanged()}static get(U){return U.getContribution(Hi.ID)}saveViewState(){const U=this.editor.getModel();if(!U||!this._isEnabled||U.isTooLargeForTokenization())return{};if(this.foldingModel){const q=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),le=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:q,lineCount:U.getLineCount(),provider:le,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(U){const q=this.editor.getModel();if(!q||!this._isEnabled||q.isTooLargeForTokenization()||!this.hiddenRangeModel||!U||U.lineCount!==q.getLineCount()||(this._currentModelHasFoldedImports=!!U.foldedImports,!U.collapsedRegions))return;(U.provider===m.ID_SYNTAX_PROVIDER||U.provider===d.ID_INIT_PROVIDER)&&(this.foldingStateMemento=U);const le=U.collapsedRegions;if(this.hiddenRangeModel.applyMemento(le)){const se=this.getFoldingModel();se&&se.then(Y=>{if(Y){this._restoringViewState=!0;try{Y.applyMemento(le)}finally{this._restoringViewState=!1}}}).then(void 0,f.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();const U=this.editor.getModel();!this._isEnabled||!U||U.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(U,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new s.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(q=>this.onHiddenRangesChanges(q))),this.updateScheduler=new y.Delayer(this.updateDebounceInfo.get(U)),this.cursorChangedScheduler=new y.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(q=>this.onDidChangeModelContent(q))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(q=>this.onEditorMouseDown(q))),this.localToDispose.add(this.editor.onMouseUp(q=>this.onEditorMouseUp(q))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(U){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new l.IndentRangeProvider(U,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const q=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);if(q.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new d.InitializingRangeProvider(U,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);q.length>0&&(this.rangeProvider=new m.SyntaxRangeProvider(U,q,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(U){var q;(q=this.hiddenRangeModel)===null||q===void 0||q.notifyChangeModelContent(U),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const U=this.foldingModel;if(!U)return null;const q=new _.StopWatch(!0),le=this.getRangeProvider(U.textModel),se=this.foldingRegionPromise=(0,y.createCancelablePromise)(Y=>le.compute(Y,this._notifyTooManyRegions));return se.then(Y=>{if(Y&&se===this.foldingRegionPromise){let de;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const V=Y.setCollapsedAllOfType(i.FoldingRangeKind.Imports.value,!0);V&&(de=v.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=V)}const H=this.editor.getSelections(),$=H?H.map(V=>V.startLineNumber):[];U.update(Y,$),de&&de.restore(this.editor);const K=this.updateDebounceInfo.update(U.textModel,q.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=K)}return U})}).then(void 0,U=>((0,f.onUnexpectedError)(U),null)))}onHiddenRangesChanges(U){if(this.hiddenRangeModel&&U.length&&!this._restoringViewState){const q=this.editor.getSelections();q&&this.hiddenRangeModel.adjustSelections(q)&&this.editor.setSelections(q)}this.editor.setHiddenAreas(U)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const U=this.getFoldingModel();!U||U.then(q=>{if(q){const le=this.editor.getSelections();if(le&&le.length>0){const se=[];for(const Y of le){const de=Y.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(de)&&se.push(...q.getAllRegionsAtLine(de,H=>H.isCollapsed&&de>H.startLineNumber))}se.length&&(q.toggleCollapseState(se),this.reveal(le[0].getPosition()))}}}).then(void 0,f.onUnexpectedError)}onEditorMouseDown(U){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!U.target||!U.target.range||!U.event.leftButton&&!U.event.middleButton)return;const q=U.target.range;let le=!1;switch(U.target.type){case 4:{const se=U.target.detail,Y=U.target.element.offsetLeft;if(se.offsetX-Y<5)return;le=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!U.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const se=this.editor.getModel();if(se&&q.startColumn===se.getLineMaxColumn(q.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:q.startLineNumber,iconClicked:le}}onEditorMouseUp(U){const q=this.foldingModel;if(!q||!this.mouseDownInfo||!U.target)return;const le=this.mouseDownInfo.lineNumber,se=this.mouseDownInfo.iconClicked,Y=U.target.range;if(!Y||Y.startLineNumber!==le)return;if(se){if(U.target.type!==4)return}else{const H=this.editor.getModel();if(!H||Y.startColumn!==H.getLineMaxColumn(le))return}const de=q.getRegionAtLine(le);if(de&&de.startLineNumber===le){const H=de.isCollapsed;if(se||H){const $=U.event.altKey;let K=[];if($){const V=ee=>!ee.containedBy(de)&&!de.containedBy(ee),Q=q.getRegionsInside(null,V);for(const ee of Q)ee.isCollapsed&&K.push(ee);K.length===0&&(K=Q)}else{const V=U.event.middleButton||U.event.shiftKey;if(V)for(const Q of q.getRegionsInside(de))Q.isCollapsed===H&&K.push(Q);(H||!V||K.length===0)&&K.push(de)}q.toggleCollapseState(K),this.reveal({lineNumber:le,column:1})}}}reveal(U){this.editor.revealPositionInCenterIfOutsideViewport(U,0)}};I.ID="editor.contrib.folding",I=De([ge(1,o.IContextKeyService),ge(2,n.ILanguageConfigurationService),ge(3,S.INotificationService),ge(4,C.ILanguageFeatureDebounceService),ge(5,L.ILanguageFeaturesService)],I),e.FoldingController=I;class T extends u.EditorAction{runEditorCommand(U,q,le){const se=U.get(n.ILanguageConfigurationService),Y=I.get(q);if(!Y)return;const de=Y.getFoldingModel();if(de)return this.reportTelemetry(U,q),de.then(H=>{if(H){this.invoke(Y,H,q,le,se);const $=q.getSelection();$&&Y.reveal($.getStartPosition())}})}getSelectedLines(U){const q=U.getSelections();return q?q.map(le=>le.startLineNumber):[]}getLineNumbers(U,q){return U&&U.selectionLines?U.selectionLines.map(le=>le+1):this.getSelectedLines(q)}run(U,q){}}function P(x){if(!b.isUndefined(x)){if(!b.isObject(x))return!1;const U=x;if(!b.isUndefined(U.levels)&&!b.isNumber(U.levels)||!b.isUndefined(U.direction)&&!b.isString(U.direction)||!b.isUndefined(U.selectionLines)&&(!b.isArray(U.selectionLines)||!U.selectionLines.every(b.isNumber)))return!1}return!0}class B extends T{constructor(){super({id:"editor.unfold",label:a.localize(1,null),alias:"Unfold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:P,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(U,q,le,se){const Y=se&&se.levels||1,de=this.getLineNumbers(se,le);se&&se.direction==="up"?(0,t.setCollapseStateLevelsUp)(q,!1,Y,de):(0,t.setCollapseStateLevelsDown)(q,!1,Y,de)}}class R extends T{constructor(){super({id:"editor.unfoldRecursively",label:a.localize(2,null),alias:"Unfold Recursively",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|89),weight:100}})}invoke(U,q,le,se){(0,t.setCollapseStateLevelsDown)(q,!1,Number.MAX_VALUE,this.getSelectedLines(le))}}class k extends T{constructor(){super({id:"editor.fold",label:a.localize(3,null),alias:"Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:P,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(U,q,le,se){const Y=this.getLineNumbers(se,le),de=se&&se.levels,H=se&&se.direction;typeof de!="number"&&typeof H!="string"?(0,t.setCollapseStateUp)(q,!0,Y):H==="up"?(0,t.setCollapseStateLevelsUp)(q,!0,de||1,Y):(0,t.setCollapseStateLevelsDown)(q,!0,de||1,Y)}}class A extends T{constructor(){super({id:"editor.toggleFold",label:a.localize(4,null),alias:"Toggle Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|42),weight:100}})}invoke(U,q,le){const se=this.getSelectedLines(le);(0,t.toggleCollapseState)(q,1,se)}}class O extends T{constructor(){super({id:"editor.foldRecursively",label:a.localize(5,null),alias:"Fold Recursively",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|87),weight:100}})}invoke(U,q,le){const se=this.getSelectedLines(le);(0,t.setCollapseStateLevelsDown)(q,!0,Number.MAX_VALUE,se)}}class F extends T{constructor(){super({id:"editor.foldAllBlockComments",label:a.localize(6,null),alias:"Fold All Block Comments",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|85),weight:100}})}invoke(U,q,le,se,Y){if(q.regions.hasTypes())(0,t.setCollapseStateForType)(q,i.FoldingRangeKind.Comment.value,!0);else{const de=le.getModel();if(!de)return;const H=Y.getLanguageConfiguration(de.getLanguageId()).comments;if(H&&H.blockCommentStartToken){const $=new RegExp("^\\s*"+(0,w.escapeRegExpCharacters)(H.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(q,$,!0)}}}}class W extends T{constructor(){super({id:"editor.foldAllMarkerRegions",label:a.localize(7,null),alias:"Fold All Regions",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|29),weight:100}})}invoke(U,q,le,se,Y){if(q.regions.hasTypes())(0,t.setCollapseStateForType)(q,i.FoldingRangeKind.Region.value,!0);else{const de=le.getModel();if(!de)return;const H=Y.getLanguageConfiguration(de.getLanguageId()).foldingRules;if(H&&H.markers&&H.markers.start){const $=new RegExp(H.markers.start);(0,t.setCollapseStateForMatchingLines)(q,$,!0)}}}}class M extends T{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:a.localize(8,null),alias:"Unfold All Regions",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|30),weight:100}})}invoke(U,q,le,se,Y){if(q.regions.hasTypes())(0,t.setCollapseStateForType)(q,i.FoldingRangeKind.Region.value,!1);else{const de=le.getModel();if(!de)return;const H=Y.getLanguageConfiguration(de.getLanguageId()).foldingRules;if(H&&H.markers&&H.markers.start){const $=new RegExp(H.markers.start);(0,t.setCollapseStateForMatchingLines)(q,$,!1)}}}}class z extends T{constructor(){super({id:"editor.foldAllExcept",label:a.localize(9,null),alias:"Fold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|83),weight:100}})}invoke(U,q,le){const se=this.getSelectedLines(le);(0,t.setCollapseStateForRest)(q,!0,se)}}class G extends T{constructor(){super({id:"editor.unfoldAllExcept",label:a.localize(10,null),alias:"Unfold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|81),weight:100}})}invoke(U,q,le){const se=this.getSelectedLines(le);(0,t.setCollapseStateForRest)(q,!1,se)}}class te extends T{constructor(){super({id:"editor.foldAll",label:a.localize(11,null),alias:"Fold All",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|21),weight:100}})}invoke(U,q,le){(0,t.setCollapseStateLevelsDown)(q,!0)}}class X extends T{constructor(){super({id:"editor.unfoldAll",label:a.localize(12,null),alias:"Unfold All",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|40),weight:100}})}invoke(U,q,le){(0,t.setCollapseStateLevelsDown)(q,!1)}}class J extends T{getFoldingLevel(){return parseInt(this.id.substr(J.ID_PREFIX.length))}invoke(U,q,le){(0,t.setCollapseStateAtLevel)(q,this.getFoldingLevel(),!0,this.getSelectedLines(le))}}J.ID_PREFIX="editor.foldLevel",J.ID=x=>J.ID_PREFIX+x;class ie extends T{constructor(){super({id:"editor.gotoParentFold",label:a.localize(13,null),alias:"Go to Parent Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}invoke(U,q,le){const se=this.getSelectedLines(le);if(se.length>0){const Y=(0,t.getParentFoldLine)(se[0],q);Y!==null&&le.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class re extends T{constructor(){super({id:"editor.gotoPreviousFold",label:a.localize(14,null),alias:"Go to Previous Folding Range",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}invoke(U,q,le){const se=this.getSelectedLines(le);if(se.length>0){const Y=(0,t.getPreviousFoldLine)(se[0],q);Y!==null&&le.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class Z extends T{constructor(){super({id:"editor.gotoNextFold",label:a.localize(15,null),alias:"Go to Next Folding Range",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}invoke(U,q,le){const se=this.getSelectedLines(le);if(se.length>0){const Y=(0,t.getNextFoldLine)(se[0],q);Y!==null&&le.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}(0,u.registerEditorContribution)(I.ID,I),(0,u.registerEditorAction)(B),(0,u.registerEditorAction)(R),(0,u.registerEditorAction)(k),(0,u.registerEditorAction)(O),(0,u.registerEditorAction)(te),(0,u.registerEditorAction)(X),(0,u.registerEditorAction)(F),(0,u.registerEditorAction)(W),(0,u.registerEditorAction)(M),(0,u.registerEditorAction)(z),(0,u.registerEditorAction)(G),(0,u.registerEditorAction)(A),(0,u.registerEditorAction)(ie),(0,u.registerEditorAction)(re),(0,u.registerEditorAction)(Z);for(let x=1;x<=7;x++)(0,u.registerInstantiatedEditorAction)(new J({id:J.ID(x),label:a.localize(16,null,x),alias:`Fold Level ${x}`,precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|21+x),weight:100}}));e.foldBackgroundBackground=(0,r.registerColor)("editor.foldBackground",{light:(0,r.transparent)(r.editorSelectionBackground,.3),dark:(0,r.transparent)(r.editorSelectionBackground,.3),hcDark:null,hcLight:null},a.localize(17,null),!0),e.editorFoldForeground=(0,r.registerColor)("editorGutter.foldingControlForeground",{dark:r.iconForeground,light:r.iconForeground,hcDark:r.iconForeground,hcLight:r.iconForeground},a.localize(18,null)),(0,c.registerThemingParticipant)((x,U)=>{const q=x.getColor(e.foldBackgroundBackground);q&&U.addRule(`.monaco-editor .folded-background { background-color: ${q}; }`);const le=x.getColor(e.editorFoldForeground);le&&U.addRule(`
		.monaco-editor .cldr${c.ThemeIcon.asCSSSelector(g.foldingExpandedIcon)},
		.monaco-editor .cldr${c.ThemeIcon.asCSSSelector(g.foldingCollapsedIcon)} {
			color: ${le} !important;
		}
		`)})}),define(ne[743],oe([1,0,7,236,18,2,11,3,37,28,268,87,16,8,43,101,10,24]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=e.ContentHoverController=void 0;const o=y.$;let r=class Ui extends D.Disposable{constructor(C,_,L){super();this._editor=C,this._instantiationService=_,this._keybindingService=L,this._widget=this._register(this._instantiationService.createInstance(g,this._editor)),this._decorations=this._editor.createDecorationsCollection(),this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const E of i.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(E,this._editor));this._participants.sort((E,I)=>E.hoverOrdinal-I.hoverOrdinal),this._computer=new S(this._editor,this._participants),this._hoverOperation=this._register(new h.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(E=>{this._withResult(E.value,E.isComplete,E.hasLoadingMessage)})),this._register(this._decorations.onDidChange(()=>this._onModelDecorationsChanged())),this._register(y.addStandardDisposableListener(this._widget.getDomNode(),"keydown",E=>{E.equals(9)&&this.hide()})),this._register(u.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(C){const _=[];for(const E of this._participants)if(E.suggestHoverAnchor){const I=E.suggestHoverAnchor(C);I&&_.push(I)}const L=C.target;if(L.type===6&&_.push(new i.HoverRangeAnchor(0,L.range)),L.type===7){const E=this._editor.getOption(45).typicalHalfwidthCharacterWidth/2;!L.detail.isAfterLines&&typeof L.detail.horizontalDistanceToText=="number"&&L.detail.horizontalDistanceToText<E&&_.push(new i.HoverRangeAnchor(0,L.range))}return _.length===0?!1:(_.sort((E,I)=>I.priority-E.priority),this._startShowingAt(_[0],0,!1),!0)}startShowingAtRange(C,_,L){this._startShowingAt(new i.HoverRangeAnchor(0,C),_,L)}_startShowingAt(C,_,L){if(!(this._computer.anchor&&this._computer.anchor.equals(C))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!C.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const E=this._messages.filter(I=>I.isValidForHoverAnchor(C));if(E.length===0)this.hide();else{if(E.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(C,E)}}this._computer.anchor=C,this._computer.shouldFocus=L,this._hoverOperation.start(_)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(C){return this._widget.getDomNode().contains(C)}_addLoadingMessage(C){if(this._computer.anchor){for(const _ of this._participants)if(_.createLoadingMessage){const L=_.createLoadingMessage(this._computer.anchor);if(L)return C.slice(0).concat([L])}}return C}_withResult(C,_,L){this._messages=L?this._addLoadingMessage(C):C,this._messagesAreComplete=_,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):_&&this.hide()}_renderMessages(C,_){let L=1073741824,E=_[0].range,I=null;for(const A of _)L=Math.min(L,A.range.startColumn),E=b.Range.plusRange(E,A.range),A.forceShowAtRange&&(I=A.range);const T=new D.DisposableStore,P=T.add(new m(this._keybindingService)),B=document.createDocumentFragment();let R=null;const k={fragment:B,statusBar:P,setColorPicker:A=>R=A,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const A of this._participants){const O=_.filter(F=>F.owner===A);O.length>0&&T.add(A.renderHoverParts(k,O))}P.hasContent&&B.appendChild(P.hoverElement),B.hasChildNodes()?(E&&(this._decorations.set([{range:E,options:Ui._DECORATION_OPTIONS}]),T.add((0,D.toDisposable)(()=>{this._decorations.clear()}))),this._widget.showAt(B,new c(R,I?I.getStartPosition():new w.Position(C.range.startLineNumber,L),I||E,this._editor.getOption(54).above,this._computer.shouldFocus,T))):T.dispose()}};r._DECORATION_OPTIONS=v.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),r=De([ge(1,t.IInstantiationService),ge(2,s.IKeybindingService)],r),e.ContentHoverController=r;class c{constructor(C,_,L,E,I,T){this.colorPicker=C,this.showAtPosition=_,this.showAtRange=L,this.preferAbove=E,this.stoleFocus=I,this.disposables=T}}let g=class Ki extends D.Disposable{constructor(C,_){super();this._editor=C,this._contextKeyService=_,this.allowEditorOverflow=!0,this._hoverVisibleKey=a.EditorContextKeys.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new f.HoverWidget),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(L=>{L.hasChanged(45)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var C,_;return(_=(C=this._visibleData)===null||C===void 0?void 0:C.showAtPosition)!==null&&_!==void 0?_:null}get isColorPickerVisible(){var C;return Boolean((C=this._visibleData)===null||C===void 0?void 0:C.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return Ki.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let C=this._visibleData.preferAbove;return!C&&this._contextKeyService.getContextKeyValue(l.Context.Visible.key)&&(C=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:C?[1,2]:[2,1]}}_setVisibleData(C){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=C,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const C=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:_,lineHeight:L}=this._editor.getOption(45);this._hover.contentsDomNode.style.fontSize=`${_}px`,this._hover.contentsDomNode.style.lineHeight=`${L/_}`,this._hover.contentsDomNode.style.maxHeight=`${C}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(_=>this._editor.applyFontInfo(_))}showAt(C,_){this._setVisibleData(_),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(C),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),_.stoleFocus&&this._hover.containerDomNode.focus(),_.colorPicker&&_.colorPicker.layout()}hide(){if(this._visibleData){const C=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),C&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const C=this._hover.scrollbar.getScrollDimensions();if(C.scrollWidth>C.width){const L=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==L&&(this._hover.contentsDomNode.style.paddingBottom=L,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};g.ID="editor.contrib.contentHoverWidget",g=De([ge(1,n.IContextKeyService)],g),e.ContentHoverWidget=g;let m=class extends D.Disposable{constructor(C){super();this._keybindingService=C,this._hasContent=!1,this.hoverElement=o("div.hover-row.status-bar"),this.actionsElement=y.append(this.hoverElement,o("div.actions"))}get hasContent(){return this._hasContent}addAction(C){const _=this._keybindingService.lookupKeybinding(C.commandId),L=_?_.getLabel():null;return this._hasContent=!0,this._register(f.HoverAction.render(this.actionsElement,C,L))}append(C){const _=y.append(this.actionsElement,C);return this._hasContent=!0,_}};m=De([ge(0,s.IKeybindingService)],m);class S{constructor(C,_){this._editor=C,this._participants=_,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(C){this._anchor=C}get shouldFocus(){return this._shouldFocus}set shouldFocus(C){this._shouldFocus=C}static _getLineDecorations(C,_){if(_.type!==1)return[];const L=C.getModel(),E=_.range.startLineNumber;if(E>L.getLineCount())return[];const I=L.getLineMaxColumn(E);return C.getLineDecorations(E).filter(T=>{if(T.options.isWholeLine)return!0;const P=T.range.startLineNumber===E?T.range.startColumn:1,B=T.range.endLineNumber===E?T.range.endColumn:I;if(T.options.showIfCollapsed){if(P>_.range.startColumn+1||_.range.endColumn-1>B)return!1}else if(P>_.range.startColumn||_.range.endColumn>B)return!1;return!0})}computeAsync(C){const _=this._anchor;if(!this._editor.hasModel()||!_)return d.AsyncIterableObject.EMPTY;const L=S._getLineDecorations(this._editor,_);return d.AsyncIterableObject.merge(this._participants.map(E=>E.computeAsync?E.computeAsync(_,L,C):d.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const C=S._getLineDecorations(this._editor,this._anchor);let _=[];for(const L of this._participants)_=_.concat(L.computeSync(this._anchor,C));return(0,N.coalesce)(_)}}}),define(ne[744],oe([1,0,10,13,93,12,3,23,24,37,90,54,566,15,482]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class si{constructor(r,c){this.editor=r,this.editorWorkerService=c,this.decorations=this.editor.createDecorationsCollection()}static get(r){return r.getContribution(si.ID)}dispose(){}run(r,c){this.currentRequest&&this.currentRequest.cancel();const g=this.editor.getSelection(),m=this.editor.getModel();if(!m||!g)return;let S=g;if(S.startLineNumber!==S.endLineNumber)return;const p=new N.EditorState(this.editor,1|4),C=m.uri;return this.editorWorkerService.canNavigateValueSet(C)?(this.currentRequest=(0,y.createCancelablePromise)(_=>this.editorWorkerService.navigateValueSet(C,S,c)),this.currentRequest.then(_=>{if(!_||!_.range||!_.value||!p.validate(this.editor))return;const L=w.Range.lift(_.range);let E=_.range;const I=_.value.length-(S.endColumn-S.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+_.value.length},I>1&&(S=new b.Selection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn+I-1));const T=new s.InPlaceReplaceCommand(L,S,_.value);this.editor.pushUndoStop(),this.editor.executeCommand(r,T),this.editor.pushUndoStop(),this.decorations.set([{range:E,options:si.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,y.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(f.onUnexpectedError)}).catch(f.onUnexpectedError)):Promise.resolve(void 0)}};l.ID="editor.contrib.inPlaceReplaceController",l.DECORATION=u.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),l=De([ge(1,h.IEditorWorkerService)],l);class d extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:n.localize(0,null),alias:"Replace with Previous Value",precondition:v.EditorContextKeys.writable,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(r,c){const g=l.get(c);return g?g.run(this.id,!0):Promise.resolve(void 0)}}class a extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:n.localize(1,null),alias:"Replace with Next Value",precondition:v.EditorContextKeys.writable,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(r,c){const g=l.get(c);return g?g.run(this.id,!1):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(l.ID,l),(0,D.registerEditorAction)(d),(0,D.registerEditorAction)(a),(0,t.registerThemingParticipant)((o,r)=>{const c=o.getColor(i.editorBracketMatchBorder);c&&r.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${c}; }`)})}),define(ne[745],oe([1,0,18,10,21,31,13,4,2,9,22,12,29,11,3,24,37,32,573,16,25,15,20,71,57]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new r.RawContextKey("LinkedEditingInputVisible",!1);const C="linked-editing-decoration";let _=class ri extends v.Disposable{constructor(P,B,R,k,A){super();this.languageConfigurationService=k,this._syncRangesToken=0,this._localToDispose=this._register(new v.DisposableStore),this._editor=P,this._providers=R.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(B),this._debounceInformation=A.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new v.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(O=>{(O.hasChanged(63)||O.hasChanged(83))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(P){return P.getContribution(ri.ID)}reinitialize(P){const B=this._editor.getModel(),R=B!==null&&(this._editor.getOption(63)||this._editor.getOption(83))&&this._providers.has(B);if(R===this._enabled&&!P||(this._enabled=R,this.clearRanges(),this._localToDispose.clear(),!R||B===null))return;this._localToDispose.add(b.Event.runAndSubscribe(B.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(B.getLanguageId()).getWordDefinition()}));const k=new f.Delayer(this._debounceInformation.get(B)),A=()=>{var W;this._rangeUpdateTriggerPromise=k.trigger(()=>this.updateRanges(),(W=this._debounceDuration)!==null&&W!==void 0?W:this._debounceInformation.get(B))},O=new f.Delayer(0),F=W=>{this._rangeSyncTriggerPromise=O.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{A()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const M=this._currentDecorations.getRange(0);if(M&&W.changes.every(z=>M.intersectRanges(z.range))){F(this._syncRangesToken);return}}A()})),this._localToDispose.add({dispose:()=>{k.dispose(),O.dispose()}}),this.updateRanges()}_syncRanges(P){if(!this._editor.hasModel()||P!==this._syncRangesToken||this._currentDecorations.length===0)return;const B=this._editor.getModel(),R=this._currentDecorations.getRange(0);if(!R||R.startLineNumber!==R.endLineNumber)return this.clearRanges();const k=B.getValueInRange(R);if(this._currentWordPattern){const O=k.match(this._currentWordPattern);if((O?O[0].length:0)!==k.length)return this.clearRanges()}const A=[];for(let O=1,F=this._currentDecorations.length;O<F;O++){const W=this._currentDecorations.getRange(O);if(!!W)if(W.startLineNumber!==W.endLineNumber)A.push({range:W,text:k});else{let M=B.getValueInRange(W),z=k,G=W.startColumn,te=W.endColumn;const X=u.commonPrefixLength(M,z);G+=X,M=M.substr(X),z=z.substr(X);const J=u.commonSuffixLength(M,z);te-=J,M=M.substr(0,M.length-J),z=z.substr(0,z.length-J),(G!==te||z.length!==0)&&A.push({range:new s.Range(W.startLineNumber,G,W.endLineNumber,te),text:z})}}if(A.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const O=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",A),this._editor._getViewModel().setPrevEditOperationType(O)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(P=!1){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const B=this._editor.getPosition();if(!this._enabled&&!P||this._editor.getSelections().length>1){this.clearRanges();return}const R=this._editor.getModel(),k=R.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===k){if(B.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const O=this._currentDecorations.getRange(0);if(O&&O.containsPosition(B))return}}this._currentRequestPosition=B,this._currentRequestModelVersion=k;const A=(0,f.createCancelablePromise)(O=>Le(this,void 0,void 0,function*(){try{const F=new p.StopWatch(!1),W=yield I(this._providers,R,B,O);if(this._debounceInformation.update(R,F.elapsed()),A!==this._currentRequest||(this._currentRequest=null,k!==R.getVersionId()))return;let M=[];(W==null?void 0:W.ranges)&&(M=W.ranges),this._currentWordPattern=(W==null?void 0:W.wordPattern)||this._languageWordPattern;let z=!1;for(let te=0,X=M.length;te<X;te++)if(s.Range.containsPosition(M[te],B)){if(z=!0,te!==0){const J=M[te];M.splice(te,1),M.unshift(J)}break}if(!z){this.clearRanges();return}const G=M.map(te=>({range:te,options:ri.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(G),this._syncRangesToken++}catch(F){(0,w.isCancellationError)(F)||(0,w.onUnexpectedError)(F),(this._currentRequest===A||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=A,A})}};_.ID="editor.contrib.linkedEditing",_.DECORATION=d.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:C}),_=De([ge(1,r.IContextKeyService),ge(2,m.ILanguageFeaturesService),ge(3,a.ILanguageConfigurationService),ge(4,S.ILanguageFeatureDebounceService)],_),e.LinkedEditingContribution=_;class L extends i.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:o.localize(0,null),alias:"Start Linked Editing",precondition:r.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(P,B){const R=P.get(n.ICodeEditorService),[k,A]=Array.isArray(B)&&B||[void 0,void 0];return h.URI.isUri(k)&&t.Position.isIPosition(A)?R.openCodeEditor({resource:k},R.getActiveCodeEditor()).then(O=>{!O||(O.setPosition(A),O.invokeWithinContext(F=>(this.reportTelemetry(F,O),this.run(F,O))))},w.onUnexpectedError):super.runCommand(P,B)}run(P,B){const R=_.get(B);return R?Promise.resolve(R.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=L;const E=i.EditorCommand.bindToContribution(_.get);(0,i.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:T=>T.clearRanges(),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function I(T,P,B,R){const k=T.ordered(P);return(0,f.first)(k.map(A=>()=>Le(this,void 0,void 0,function*(){try{return yield A.provideLinkedEditingRanges(P,B,R)}catch(O){(0,w.onUnexpectedExternalError)(O);return}})),A=>!!A&&y.isNonEmptyArray(A==null?void 0:A.ranges))}e.editorLinkedEditingBackground=(0,c.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},o.localize(1,null)),(0,g.registerThemingParticipant)((T,P)=>{const B=T.getColor(e.editorLinkedEditingBackground);B&&P.addRule(`.monaco-editor .${C} { background: ${B}; border-left-color: ${B}; }`)}),(0,i.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(T,P,B)=>{const{linkedEditingRangeProvider:R}=T.get(m.ILanguageFeaturesService);return I(R,P,B,N.CancellationToken.None)}),(0,i.registerEditorContribution)(_.ID,_),(0,i.registerEditorAction)(L)}),define(ne[746],oe([1,0,10,21,13,65,2,44,17,42,57,22,12,37,71,20,198,622,574,40,45,25,15,397]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let S=class ji extends w.Disposable{constructor(I,T,P,B,R){super();this.editor=I,this.openerService=T,this.notificationService=P,this.languageFeaturesService=B,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=R.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new y.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const k=this._register(new d.ClickLinkGesture(I));this._register(k.onMouseMoveOrRelevantKeyDown(([A,O])=>{this._onEditorMouseMove(A,O)})),this._register(k.onExecute(A=>{this.onEditorMouseUp(A)})),this._register(k.onCancel(A=>{this.cleanUpActiveLinkDecoration()})),this._register(I.onDidChangeConfiguration(A=>{!A.hasChanged(64)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(I.onDidChangeModelContent(A=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(I.onDidChangeModel(A=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(I.onDidChangeModelLanguage(A=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(A=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(I){return I.getContribution(ji.ID)}computeLinksNow(){return Le(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(64))return;const I=this.editor.getModel();if(!!this.providers.has(I)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,y.createCancelablePromise)(T=>(0,a.getLinks)(this.providers,I,T));try{const T=new h.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(I,T.elapsed()),I.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(T){(0,N.onUnexpectedError)(T)}finally{this.computePromise=null}}})}updateDecorations(I){const T=this.editor.getOption(71)==="altKey",P=[],B=Object.keys(this.currentOccurrences);for(const A of B){const O=this.currentOccurrences[A];P.push(O.decorationId)}const R=[];if(I)for(const A of I)R.push(C.decoration(A,T));const k=this.editor.deltaDecorations(P,R);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let A=0,O=k.length;A<O;A++){const F=new C(I[A],k[A]);this.currentOccurrences[F.decorationId]=F}}_onEditorMouseMove(I,T){const P=this.editor.getOption(71)==="altKey";if(this.isEnabled(I,T)){this.cleanUpActiveLinkDecoration();const B=this.getLinkOccurrence(I.target.position);B&&this.editor.changeDecorations(R=>{B.activate(R,P),this.activeLinkDecorationId=B.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const I=this.editor.getOption(71)==="altKey";if(this.activeLinkDecorationId){const T=this.currentOccurrences[this.activeLinkDecorationId];T&&this.editor.changeDecorations(P=>{T.deactivate(P,I)}),this.activeLinkDecorationId=null}}onEditorMouseUp(I){if(!this.isEnabled(I))return;const T=this.getLinkOccurrence(I.target.position);!T||this.openLinkOccurrence(T,I.hasSideBySideModifier,!0)}openLinkOccurrence(I,T,P=!1){if(!this.openerService)return;const{link:B}=I;B.resolve(f.CancellationToken.None).then(R=>{if(typeof R=="string"&&this.editor.hasModel()){const k=this.editor.getModel().uri;if(k.scheme===b.Schemas.file&&R.startsWith(`${b.Schemas.file}:`)){const A=i.URI.parse(R);if(A.scheme===b.Schemas.file){const O=u.originalFSPath(A);let F=null;O.startsWith("/./")?F=`.${O.substr(1)}`:O.startsWith("//./")&&(F=`.${O.substr(2)}`),F&&(R=u.joinPath(k,F))}}}return this.openerService.open(R,{openToSide:T,fromUserGesture:P,allowContributedOpeners:!0,allowCommands:!0})},R=>{const k=R instanceof Error?R.message:R;k==="invalid"?this.notificationService.warn(o.localize(0,null,B.url.toString())):k==="missing"?this.notificationService.warn(o.localize(1,null)):(0,N.onUnexpectedError)(R)})}getLinkOccurrence(I){if(!this.editor.hasModel()||!I)return null;const T=this.editor.getModel().getDecorationsInRange({startLineNumber:I.lineNumber,startColumn:I.column,endLineNumber:I.lineNumber,endColumn:I.column},0,!0);for(const P of T){const B=this.currentOccurrences[P.id];if(B)return B}return null}isEnabled(I,T){return Boolean(I.target.type===6&&(I.hasTriggerModifier||T&&T.keyCodeIsTriggerKey))}stop(){var I;this.computeLinks.cancel(),this.activeLinksList&&((I=this.activeLinksList)===null||I===void 0||I.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};S.ID="editor.linkDetector",S=De([ge(1,c.IOpenerService),ge(2,r.INotificationService),ge(3,l.ILanguageFeaturesService),ge(4,s.ILanguageFeatureDebounceService)],S),e.LinkDetector=S;const p={general:t.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:t.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class C{constructor(I,T){this.link=I,this.decorationId=T}static decoration(I,T){return{range:I.range,options:C._getOptions(I,T,!1)}}static _getOptions(I,T,P){const B=Object.assign({},P?p.active:p.general);return B.hoverMessage=_(I,T),B}activate(I,T){I.changeDecorationOptions(this.decorationId,C._getOptions(this.link,T,!0))}deactivate(I,T){I.changeDecorationOptions(this.decorationId,C._getOptions(this.link,T,!1))}}function _(E,I){const T=E.url&&/^command:/i.test(E.url.toString()),P=E.tooltip?E.tooltip:T?o.localize(2,null):o.localize(3,null),B=I?v.isMacintosh?o.localize(4,null):o.localize(5,null):v.isMacintosh?o.localize(6,null):o.localize(7,null);if(E.url){let R="";if(/^command:/i.test(E.url.toString())){const A=E.url.toString().match(/^command:([^?#]+)/);if(A){const O=A[1];R=o.localize(8,null,O)}}return new D.MarkdownString("",!0).appendLink(E.url.toString(!0).replace(/ /g,"%20"),P,R).appendMarkdown(` (${B})`)}else return new D.MarkdownString().appendText(`${P} (${B})`)}class L extends n.EditorAction{constructor(){super({id:"editor.action.openLink",label:o.localize(9,null),alias:"Open Link",precondition:void 0})}run(I,T){const P=S.get(T);if(!P||!T.hasModel())return;const B=T.getSelections();for(const R of B){const k=P.getLinkOccurrence(R.getEndPosition());k&&P.openLinkOccurrence(k,!1)}}}(0,n.registerEditorContribution)(S.ID,S),(0,n.registerEditorAction)(L),(0,m.registerThemingParticipant)((E,I)=>{const T=E.getColor(g.editorActiveLinkForeground);T&&I.addRule(`.monaco-editor .detected-link-active { color: ${T} !important; }`)})}),define(ne[747],oe([1,0,47,10,59,2,12,189,3,23,24,48,37,312,576,41,16,25,15,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function c(te,X){const J=X.filter(ie=>!te.find(re=>re.equals(ie)));if(J.length>=1){const ie=J.map(Z=>`line ${Z.viewState.position.lineNumber} column ${Z.viewState.position.column}`).join(", "),re=J.length===1?s.localize(0,null,ie):s.localize(1,null,ie);(0,y.status)(re)}}class g extends w.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:s.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(3,null),order:2}})}run(X,J,ie){if(!J.hasModel())return;let re=!0;ie&&ie.logicalLine===!1&&(re=!1);const Z=J._getViewModel();if(Z.cursorConfig.readOnly)return;Z.model.pushStackElement();const x=Z.getCursorStates();Z.setCursorStates(ie.source,3,b.CursorMoveCommands.addCursorUp(Z,x,re)),Z.revealTopMostCursor(ie.source),c(x,Z.getCursorStates())}}e.InsertCursorAbove=g;class m extends w.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:s.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(5,null),order:3}})}run(X,J,ie){if(!J.hasModel())return;let re=!0;ie&&ie.logicalLine===!1&&(re=!1);const Z=J._getViewModel();if(Z.cursorConfig.readOnly)return;Z.model.pushStackElement();const x=Z.getCursorStates();Z.setCursorStates(ie.source,3,b.CursorMoveCommands.addCursorDown(Z,x,re)),Z.revealBottomMostCursor(ie.source),c(x,Z.getCursorStates())}}e.InsertCursorBelow=m;class S extends w.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:s.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(7,null),order:4}})}getCursorsForSelection(X,J,ie){if(!X.isEmpty()){for(let re=X.startLineNumber;re<X.endLineNumber;re++){const Z=J.getLineMaxColumn(re);ie.push(new u.Selection(re,Z,re,Z))}X.endColumn>1&&ie.push(new u.Selection(X.endLineNumber,X.endColumn,X.endLineNumber,X.endColumn))}}run(X,J){if(!J.hasModel())return;const ie=J.getModel(),re=J.getSelections(),Z=J._getViewModel(),x=Z.getCursorStates(),U=[];re.forEach(q=>this.getCursorsForSelection(q,ie,U)),U.length>0&&J.setSelections(U),c(x,Z.getCursorStates())}}class p extends w.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:s.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(X,J){if(!J.hasModel())return;const ie=J.getSelections(),re=J.getModel().getLineCount(),Z=[];for(let q=ie[0].startLineNumber;q<=re;q++)Z.push(new u.Selection(q,ie[0].startColumn,q,ie[0].endColumn));const x=J._getViewModel(),U=x.getCursorStates();Z.length>0&&J.setSelections(Z),c(U,x.getCursorStates())}}class C extends w.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:s.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(X,J){if(!J.hasModel())return;const ie=J.getSelections(),re=[];for(let U=ie[0].startLineNumber;U>=1;U--)re.push(new u.Selection(U,ie[0].startColumn,U,ie[0].endColumn));const Z=J._getViewModel(),x=Z.getCursorStates();re.length>0&&J.setSelections(re),c(x,Z.getCursorStates())}}class _{constructor(X,J,ie){this.selections=X,this.revealRange=J,this.revealScrollType=ie}}e.MultiCursorSessionResult=_;class L{constructor(X,J,ie,re,Z,x,U){this._editor=X,this.findController=J,this.isDisconnectedFromFindController=ie,this.searchText=re,this.wholeWord=Z,this.matchCase=x,this.currentMatch=U}static create(X,J){if(!X.hasModel())return null;const ie=J.getState();if(!X.hasTextFocus()&&ie.isRevealed&&ie.searchString.length>0)return new L(X,J,!1,ie.searchString,ie.wholeWord,ie.matchCase,null);let re=!1,Z,x;const U=X.getSelections();U.length===1&&U[0].isEmpty()?(re=!0,Z=!0,x=!0):(Z=ie.wholeWord,x=ie.matchCase);const q=X.getSelection();let le,se=null;if(q.isEmpty()){const Y=X.getConfiguredWordAtPosition(q.getStartPosition());if(!Y)return null;le=Y.word,se=new u.Selection(q.startLineNumber,Y.startColumn,q.startLineNumber,Y.endColumn)}else le=X.getModel().getValueInRange(q).replace(/\r\n/g,`
`);return new L(X,J,re,le,Z,x,se)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const X=this._getNextMatch();if(!X)return null;const J=this._editor.getSelections();return new _(J.concat(X),X,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const X=this._getNextMatch();if(!X)return null;const J=this._editor.getSelections();return new _(J.slice(0,J.length-1).concat(X),X,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const re=this.currentMatch;return this.currentMatch=null,re}this.findController.highlightFindOptions();const X=this._editor.getSelections(),J=X[X.length-1],ie=this._editor.getModel().findNextMatch(this.searchText,J.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(118):null,!1);return ie?new u.Selection(ie.range.startLineNumber,ie.range.startColumn,ie.range.endLineNumber,ie.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const X=this._getPreviousMatch();if(!X)return null;const J=this._editor.getSelections();return new _(J.concat(X),X,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const X=this._getPreviousMatch();if(!X)return null;const J=this._editor.getSelections();return new _(J.slice(0,J.length-1).concat(X),X,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const re=this.currentMatch;return this.currentMatch=null,re}this.findController.highlightFindOptions();const X=this._editor.getSelections(),J=X[X.length-1],ie=this._editor.getModel().findPreviousMatch(this.searchText,J.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(118):null,!1);return ie?new u.Selection(ie.range.startLineNumber,ie.range.startColumn,ie.range.endLineNumber,ie.range.endColumn):null}selectAll(X){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const J=this._editor.getModel();return X?J.findMatches(this.searchText,X,!1,this.matchCase,this.wholeWord?this._editor.getOption(118):null,!1,1073741824):J.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(118):null,!1,1073741824)}}e.MultiCursorSession=L;class E extends D.Disposable{constructor(X){super();this._sessionDispose=this._register(new D.DisposableStore),this._editor=X,this._ignoreSelectionChange=!1,this._session=null}static get(X){return X.getContribution(E.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(X){if(!this._session){const J=L.create(this._editor,X);if(!J)return;this._session=J;const ie={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(ie.wholeWordOverride=1,ie.matchCaseOverride=1,ie.isRegexOverride=2),X.getState().change(ie,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(re=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(X.getState().onFindReplaceStateChange(re=>{(re.matchCase||re.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const X={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(X,!1)}this._session=null}_setSelections(X){this._ignoreSelectionChange=!0,this._editor.setSelections(X),this._ignoreSelectionChange=!1}_expandEmptyToWord(X,J){if(!J.isEmpty())return J;const ie=this._editor.getConfiguredWordAtPosition(J.getStartPosition());return ie?new u.Selection(J.startLineNumber,ie.startColumn,J.startLineNumber,ie.endColumn):J}_applySessionResult(X){!X||(this._setSelections(X.selections),X.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(X.revealRange,X.revealScrollType))}getSession(X){return this._session}addSelectionToNextFindMatch(X){if(!!this._editor.hasModel()){if(!this._session){const J=this._editor.getSelections();if(J.length>1){const re=X.getState().matchCase;if(!W(this._editor.getModel(),J,re)){const x=this._editor.getModel(),U=[];for(let q=0,le=J.length;q<le;q++)U[q]=this._expandEmptyToWord(x,J[q]);this._editor.setSelections(U);return}}}this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(X){if(!this._editor.hasModel())return;let J=null;const ie=X.getState();if(ie.isRevealed&&ie.searchString.length>0&&ie.isRegex){const re=this._editor.getModel();ie.searchScope?J=re.findMatches(ie.searchString,ie.searchScope,ie.isRegex,ie.matchCase,ie.wholeWord?this._editor.getOption(118):null,!1,1073741824):J=re.findMatches(ie.searchString,!0,ie.isRegex,ie.matchCase,ie.wholeWord?this._editor.getOption(118):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(X),!this._session)return;J=this._session.selectAll(ie.searchScope)}if(J.length>0){const re=this._editor.getSelection();for(let Z=0,x=J.length;Z<x;Z++){const U=J[Z];if(U.range.intersectRanges(re)){J[Z]=J[0],J[0]=U;break}}this._setSelections(J.map(Z=>new u.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn)))}}}e.MultiCursorSelectionController=E,E.ID="editor.contrib.multiCursorController";class I extends w.EditorAction{run(X,J){const ie=E.get(J);if(!ie)return;const re=t.CommonFindController.get(J);if(!re)return;const Z=J._getViewModel();if(Z){const x=Z.getCursorStates();this._run(ie,re),c(x,Z.getCursorStates())}}}e.MultiCursorSelectionControllerAction=I;class T extends I{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:s.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(11,null),order:5}})}_run(X,J){X.addSelectionToNextFindMatch(J)}}e.AddSelectionToNextFindMatchAction=T;class P extends I{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:s.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(13,null),order:6}})}_run(X,J){X.addSelectionToPreviousFindMatch(J)}}e.AddSelectionToPreviousFindMatchAction=P;class B extends I{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:s.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:(0,N.KeyChord)(2048|41,2048|34),weight:100}})}_run(X,J){X.moveSelectionToNextFindMatch(J)}}e.MoveSelectionToNextFindMatchAction=B;class R extends I{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:s.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(X,J){X.moveSelectionToPreviousFindMatch(J)}}e.MoveSelectionToPreviousFindMatchAction=R;class k extends I{constructor(){super({id:"editor.action.selectHighlights",label:s.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(17,null),order:7}})}_run(X,J){X.selectAll(J)}}e.SelectHighlightsAction=k;class A extends I{constructor(){super({id:"editor.action.changeAll",label:s.localize(18,null),alias:"Change All Occurrences",precondition:d.ContextKeyExpr.and(h.EditorContextKeys.writable,h.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(X,J){X.selectAll(J)}}e.CompatChangeAll=A;class O{constructor(X,J,ie,re,Z){this._model=X,this._searchText=J,this._matchCase=ie,this._wordSeparators=re,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Z&&this._model===Z._model&&this._searchText===Z._searchText&&this._matchCase===Z._matchCase&&this._wordSeparators===Z._wordSeparators&&this._modelVersionId===Z._modelVersionId&&(this._cachedFindMatches=Z._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(X=>X.range),this._cachedFindMatches.sort(v.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let F=class jt extends D.Disposable{constructor(X,J){super();this._languageFeaturesService=J,this.editor=X,this._isEnabled=X.getOption(98),this._decorations=X.createDecorationsCollection(),this.updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(X.onDidChangeConfiguration(re=>{this._isEnabled=X.getOption(98)})),this._register(X.onDidChangeCursorSelection(re=>{!this._isEnabled||(re.selection.isEmpty()?re.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(X.onDidChangeModel(re=>{this._setState(null)})),this._register(X.onDidChangeModelContent(re=>{this._isEnabled&&this.updateSoon.schedule()}));const ie=t.CommonFindController.get(X);ie&&this._register(ie.getState().onFindReplaceStateChange(re=>{this._update()}))}_update(){this._setState(jt._createState(this.state,this._isEnabled,this.editor))}static _createState(X,J,ie){if(!J||!ie.hasModel())return null;const re=ie.getSelection();if(re.startLineNumber!==re.endLineNumber)return null;const Z=E.get(ie);if(!Z)return null;const x=t.CommonFindController.get(ie);if(!x)return null;let U=Z.getSession(x);if(!U){const se=ie.getSelections();if(se.length>1){const de=x.getState().matchCase;if(!W(ie.getModel(),se,de))return null}U=L.create(ie,x)}if(!U||U.currentMatch||/^[ \t]+$/.test(U.searchText)||U.searchText.length>200)return null;const q=x.getState(),le=q.matchCase;if(q.isRevealed){let se=q.searchString;le||(se=se.toLowerCase());let Y=U.searchText;if(le||(Y=Y.toLowerCase()),se===Y&&U.matchCase===q.matchCase&&U.wholeWord===q.wholeWord&&!q.isRegex)return null}return new O(ie.getModel(),U.searchText,U.matchCase,U.wholeWord?ie.getOption(118):null,X)}_setState(X){if(this.state=X,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const J=this.editor.getModel();if(J.isTooLargeForTokenization())return;const ie=this.state.findMatches(),re=this.editor.getSelections();re.sort(v.Range.compareRangesUsingStarts);const Z=[];for(let q=0,le=0,se=ie.length,Y=re.length;q<se;){const de=ie[q];if(le>=Y)Z.push(de),q++;else{const H=v.Range.compareRangesUsingStarts(de,re[le]);H<0?((re[le].isEmpty()||!v.Range.areIntersecting(de,re[le]))&&Z.push(de),q++):(H>0||q++,le++)}}const x=this._languageFeaturesService.documentHighlightProvider.has(J)&&this.editor.getOption(73),U=Z.map(q=>({range:q,options:x?jt._SELECTION_HIGHLIGHT:jt._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(U)}dispose(){this._setState(null),super.dispose()}};F.ID="editor.contrib.selectionHighlighter",F._SELECTION_HIGHLIGHT_OVERVIEW=n.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,o.themeColorFromId)(a.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline},overviewRuler:{color:(0,o.themeColorFromId)(a.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center}}),F._SELECTION_HIGHLIGHT=n.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),F=De([ge(1,r.ILanguageFeaturesService)],F),e.SelectionHighlighter=F;function W(te,X,J){const ie=M(te,X[0],!J);for(let re=1,Z=X.length;re<Z;re++){const x=X[re];if(x.isEmpty())return!1;const U=M(te,x,!J);if(ie!==U)return!1}return!0}function M(te,X,J){const ie=te.getValueInRange(X);return J?ie.toLowerCase():ie}class z extends w.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:s.localize(19,null),description:{description:s.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(X,J,ie){if(!J.hasModel())return;const re=J._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const Z=Array.from(re.getCursorStates()),x=Z.shift();!x||(Z.push(x),re.setCursorStates(ie.source,3,Z),re.revealPrimaryCursor(ie.source,!0),c(Z,re.getCursorStates()))}}e.FocusNextCursor=z;class G extends w.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:s.localize(21,null),description:{description:s.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(X,J,ie){if(!J.hasModel())return;const re=J._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const Z=Array.from(re.getCursorStates()),x=Z.pop();!x||(Z.unshift(x),re.setCursorStates(ie.source,3,Z),re.revealPrimaryCursor(ie.source,!0),c(Z,re.getCursorStates()))}}e.FocusPreviousCursor=G,(0,w.registerEditorContribution)(E.ID,E),(0,w.registerEditorContribution)(F.ID,F),(0,w.registerEditorAction)(g),(0,w.registerEditorAction)(m),(0,w.registerEditorAction)(S),(0,w.registerEditorAction)(T),(0,w.registerEditorAction)(P),(0,w.registerEditorAction)(B),(0,w.registerEditorAction)(R),(0,w.registerEditorAction)(k),(0,w.registerEditorAction)(A),(0,w.registerEditorAction)(p),(0,w.registerEditorAction)(C),(0,w.registerEditorAction)(z),(0,w.registerEditorAction)(G)}),define(ne[748],oe([1,0,7,127,10,13,4,2,122,9,170,716,589,16,8,85,25,140,56,15,273,101,293,726,147,403,301]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,d.registerColor)("editorSuggestWidget.background",{dark:d.editorWidgetBackground,light:d.editorWidgetBackground,hcDark:d.editorWidgetBackground,hcLight:d.editorWidgetBackground},n.localize(0,null)),e.editorSuggestWidgetBorder=(0,d.registerColor)("editorSuggestWidget.border",{dark:d.editorWidgetBorder,light:d.editorWidgetBorder,hcDark:d.editorWidgetBorder,hcLight:d.editorWidgetBorder},n.localize(1,null)),e.editorSuggestWidgetForeground=(0,d.registerColor)("editorSuggestWidget.foreground",{dark:d.editorForeground,light:d.editorForeground,hcDark:d.editorForeground,hcLight:d.editorForeground},n.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,d.registerColor)("editorSuggestWidget.selectedForeground",{dark:d.quickInputListFocusForeground,light:d.quickInputListFocusForeground,hcDark:d.quickInputListFocusForeground,hcLight:d.quickInputListFocusForeground},n.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,d.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:d.quickInputListFocusIconForeground,light:d.quickInputListFocusIconForeground,hcDark:d.quickInputListFocusIconForeground,hcLight:d.quickInputListFocusIconForeground},n.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,d.registerColor)("editorSuggestWidget.selectedBackground",{dark:d.quickInputListFocusBackground,light:d.quickInputListFocusBackground,hcDark:d.quickInputListFocusBackground,hcLight:d.quickInputListFocusBackground},n.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,d.registerColor)("editorSuggestWidget.highlightForeground",{dark:d.listHighlightForeground,light:d.listHighlightForeground,hcDark:d.listHighlightForeground,hcLight:d.listHighlightForeground},n.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,d.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:d.listFocusHighlightForeground,light:d.listFocusHighlightForeground,hcDark:d.listFocusHighlightForeground,hcLight:d.listFocusHighlightForeground},n.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,d.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),hcDark:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),hcLight:(0,d.transparent)(e.editorSuggestWidgetForeground,.5)},n.localize(8,null));class p{constructor(E,I){this._service=E,this._key=`suggestWidget.size/${I.getEditorType()}/${I instanceof h.EmbeddedCodeEditorWidget}`}restore(){var E;const I=(E=this._service.get(this._key,0))!==null&&E!==void 0?E:"";try{const T=JSON.parse(I);if(y.Dimension.is(T))return y.Dimension.lift(T)}catch{}}store(E){this._service.store(this._key,JSON.stringify(E),0,1)}reset(){this._service.remove(this._key,0)}}let C=class ai{constructor(E,I,T,P,B){this.editor=E,this._storageService=I,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new N.TimeoutTimer,this._disposables=new b.DisposableStore,this._onDidSelect=new w.Emitter,this._onDidFocus=new w.Emitter,this._onDidHide=new w.Emitter,this._onDidShow=new w.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new w.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new c.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new _(this,E),this._persistedSize=new p(I,E);class R{constructor(z,G,te=!1,X=!1){this.persistedSize=z,this.currentSize=G,this.persistHeight=te,this.persistWidth=X}}let k;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),k=new R(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(M=>{var z,G,te,X;if(this._resize(M.dimension.width,M.dimension.height),k&&(k.persistHeight=k.persistHeight||!!M.north||!!M.south,k.persistWidth=k.persistWidth||!!M.east||!!M.west),!!M.done){if(k){const{itemHeight:J,defaultSize:ie}=this.getLayoutInfo(),re=Math.round(J/2);let{width:Z,height:x}=this.element.size;(!k.persistHeight||Math.abs(k.currentSize.height-x)<=re)&&(x=(G=(z=k.persistedSize)===null||z===void 0?void 0:z.height)!==null&&G!==void 0?G:ie.height),(!k.persistWidth||Math.abs(k.currentSize.width-Z)<=re)&&(Z=(X=(te=k.persistedSize)===null||te===void 0?void 0:te.width)!==null&&X!==void 0?X:ie.width),this._persistedSize.store(new y.Dimension(Z,x))}this._contentWidget.unlockPreference(),k=void 0}})),this._messageElement=y.append(this.element.domNode,y.$(".message")),this._listElement=y.append(this.element.domNode,y.$(".tree"));const A=B.createInstance(m.SuggestDetailsWidget,this.editor);A.onDidClose(this.toggleDetails,this,this._disposables),this._details=new m.SuggestDetailsOverlay(A,this.editor);const O=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(107).showIcons);O();const F=B.createInstance(S.ItemRenderer,this.editor);this._disposables.add(F),this._disposables.add(F.onDidToggleDetails(()=>this.toggleDetails())),this._list=new f.List("SuggestWidget",this._listElement,{getHeight:M=>this.getLayoutInfo().itemHeight,getTemplateId:M=>"suggestion"},[F],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>n.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:M=>{let z=M.textLabel;if(typeof M.completion.label!="string"){const{detail:J,description:ie}=M.completion.label;J&&ie?z=n.localize(12,null,z,J,ie):J?z=n.localize(13,null,z,J):ie&&(z=n.localize(14,null,z,ie))}if(!M.isResolved||!this._isDetailsVisible())return z;const{documentation:G,detail:te}=M.completion,X=u.format("{0}{1}",te||"",G?typeof G=="string"?G:G.value:"");return n.localize(15,null,z,X)}}}),this._status=B.createInstance(i.SuggestWidgetStatus,this.element.domNode);const W=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(107).showStatusBar);W(),this._disposables.add((0,a.attachListStyler)(this._list,P,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:d.activeContrastBorder})),this._disposables.add(P.onDidColorThemeChange(M=>this._onThemeChange(M))),this._onThemeChange(P.getColorTheme()),this._disposables.add(this._list.onMouseDown(M=>this._onListMouseDownOrTap(M))),this._disposables.add(this._list.onTap(M=>this._onListMouseDownOrTap(M))),this._disposables.add(this._list.onDidChangeSelection(M=>this._onListSelection(M))),this._disposables.add(this._list.onDidChangeFocus(M=>this._onListFocus(M))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(M=>{M.hasChanged(107)&&(W(),O())})),this._ctxSuggestWidgetVisible=g.Context.Visible.bindTo(T),this._ctxSuggestWidgetDetailsVisible=g.Context.DetailsVisible.bindTo(T),this._ctxSuggestWidgetMultipleSuggestions=g.Context.MultipleSuggestions.bindTo(T),this._disposables.add(y.addStandardDisposableListener(this._details.widget.domNode,"keydown",M=>{this._onDetailsKeydown.fire(M)})),this._disposables.add(this.editor.onMouseDown(M=>this._onEditorMouseDown(M)))}dispose(){var E;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(E){this._details.widget.domNode.contains(E.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(E.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(E){typeof E.element=="undefined"||typeof E.index=="undefined"||(E.browserEvent.preventDefault(),E.browserEvent.stopPropagation(),this._select(E.element,E.index))}_onListSelection(E){E.elements.length&&this._select(E.elements[0],E.indexes[0])}_select(E,I){const T=this._completionModel;T&&(this._onDidSelect.fire({item:E,index:I,model:T}),this.editor.focus())}_onThemeChange(E){this._details.widget.borderWidth=(0,o.isHighContrast)(E.type)?2:1}_onListFocus(E){var I;if(this._ignoreFocusEvents)return;if(!E.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const T=E.elements[0],P=E.indexes[0];T!==this._focusedItem&&((I=this._currentSuggestionDetails)===null||I===void 0||I.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=T,this._list.reveal(P),this._currentSuggestionDetails=(0,N.createCancelablePromise)(B=>Le(this,void 0,void 0,function*(){const R=(0,N.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),k=B.onCancellationRequested(()=>R.dispose()),A=yield T.resolve(B);return R.dispose(),k.dispose(),A})),this._currentSuggestionDetails.then(()=>{P>=this._list.length||T!==this._list.element(P)||(this._ignoreFocusEvents=!0,this._list.splice(P,1,[T]),this._list.setFocus([P]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,S.getAriaId)(P)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:T,index:P,model:this._completionModel})}_setState(E){if(this._state!==E)switch(this._state=E,this.element.domNode.classList.toggle("frozen",E===4),this.element.domNode.classList.remove("message"),E){case 0:y.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ai.LOADING_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ai.NO_SUGGESTIONS_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 4:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 5:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(E,I){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!E,this._isAuto||(this._loadingTimeout=(0,N.disposableTimeout)(()=>this._setState(1),I)))}showSuggestions(E,I,T,P){var B,R;if(this._contentWidget.setPosition(this.editor.getPosition()),(B=this._loadingTimeout)===null||B===void 0||B.dispose(),(R=this._currentSuggestionDetails)===null||R===void 0||R.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==E&&(this._completionModel=E),T&&this._state!==2&&this._state!==0){this._setState(4);return}const k=this._completionModel.items.length,A=k===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(k>1),A){this._setState(P?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(T?4:3),this._list.reveal(I,0),this._list.setFocus([I]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,m.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(E){this._details.show(),E?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var E;(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const I=this._persistedSize.restore(),T=Math.ceil(this.getLayoutInfo().itemHeight*4.3);I&&I.height<T&&this._persistedSize.store(I.with(void 0,T))}isFrozen(){return this._state===4}_afterRender(E){if(E===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(E){var I,T,P;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const B=y.getClientArea(document.body),R=this.getLayoutInfo();E||(E=R.defaultSize);let k=E.height,A=E.width;if(this._status.element.style.lineHeight=`${R.itemHeight}px`,this._state===2||this._state===1)k=R.itemHeight+R.borderHeight,A=R.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new y.Dimension(A,k),this._contentWidget.setPreference(2);else{const O=B.width-R.borderHeight-2*R.horizontalPadding;A>O&&(A=O);const F=this._completionModel?this._completionModel.stats.pLabelLen*R.typicalHalfwidthCharacterWidth:A,W=R.statusBarHeight+this._list.contentHeight+R.borderHeight,M=R.itemHeight+R.statusBarHeight,z=y.getDomNodePagePosition(this.editor.getDomNode()),G=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),te=z.top+G.top+G.height,X=Math.min(B.height-te-R.verticalPadding,W),J=z.top+G.top-R.verticalPadding,ie=Math.min(J,W);let re=Math.min(Math.max(ie,X)+R.borderHeight,W);k===((I=this._cappedHeight)===null||I===void 0?void 0:I.capped)&&(k=this._cappedHeight.wanted),k<M&&(k=M),k>re&&(k=re);const Z=150;k>X||this._forceRenderingAbove&&J>Z?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),re=ie):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),re=X),this.element.preferredSize=new y.Dimension(F,R.defaultSize.height),this.element.maxSize=new y.Dimension(O,re),this.element.minSize=new y.Dimension(220,M),this._cappedHeight=k===W?{wanted:(P=(T=this._cappedHeight)===null||T===void 0?void 0:T.wanted)!==null&&P!==void 0?P:E.height,capped:k}:void 0}this._resize(A,k)}_resize(E,I){const{width:T,height:P}=this.element.maxSize;E=Math.min(T,E),I=Math.min(P,I);const{statusBarHeight:B}=this.getLayoutInfo();this._list.layout(I-B,E),this._listElement.style.height=`${I-B}px`,this.element.layout(I,E),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var E;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((E=this._contentWidget.getPosition())===null||E===void 0?void 0:E.preference[0])===2)}getLayoutInfo(){const E=this.editor.getOption(45),I=(0,v.clamp)(this.editor.getOption(109)||E.lineHeight,8,1e3),T=!this.editor.getOption(107).showStatusBar||this._state===2||this._state===1?0:I,P=this._details.widget.borderWidth,B=2*P;return{itemHeight:I,statusBarHeight:T,borderWidth:P,borderHeight:B,typicalHalfwidthCharacterWidth:E.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new y.Dimension(430,T+12*I+B)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(E){this._storageService.store("expandSuggestionDocs",E,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};C.LOADING_MESSAGE=n.localize(9,null),C.NO_SUGGESTIONS_MESSAGE=n.localize(10,null),C=De([ge(1,l.IStorageService),ge(2,t.IContextKeyService),ge(3,r.IThemeService),ge(4,s.IInstantiationService)],C),e.SuggestWidget=C;class _{constructor(E,I){this._widget=E,this._editor=I,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:E,width:I}=this._widget.element.size,{borderWidth:T,horizontalPadding:P}=this._widget.getLayoutInfo();return new y.Dimension(I+2*T+P,E+2*T)}afterRender(E){this._widget._afterRender(E)}setPreference(E){this._preferenceLocked||(this._preference=E)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(E){this._position=E}}e.SuggestContentWidget=_}),define(ne[749],oe([1,0,10,2,12,282,50,309,299,30,15,71,57,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let s=class extends f.Disposable{constructor(d,a,o,r,c,g){super();this._modelService=a,this._themeService=o,this._configurationService=r,this._editor=d,this._provider=g.documentRangeSemanticTokensProvider,this._debounceInformation=c.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new y.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const m=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{m()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),m()})),this._register(this._editor.onDidChangeModelContent(S=>{this._cancelAll(),m()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),m()})),this._register(this._configurationService.onDidChangeConfiguration(S=>{S.affectsConfiguration(b.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),m())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),m()}))}_cancelAll(){for(const d of this._outstandingRequests)d.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(d){for(let a=0,o=this._outstandingRequests.length;a<o;a++)if(this._outstandingRequests[a]===d){this._outstandingRequests.splice(a,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const d=this._editor.getModel();if(d.tokenization.hasCompleteSemanticTokens())return;if(!(0,b.isSemanticColoringEnabled)(d,this._themeService,this._configurationService)){d.tokenization.hasSomeSemanticTokens()&&d.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,d)){d.tokenization.hasSomeSemanticTokens()&&d.tokenization.setSemanticTokens(null,!1);return}const a=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(a.map(o=>this._requestRange(d,o)))}_requestRange(d,a){const o=d.getVersionId(),r=(0,y.createCancelablePromise)(g=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,d,a,g))),c=new n.StopWatch(!1);return r.then(g=>{if(this._debounceInformation.update(d,c.elapsed()),!g||!g.tokens||d.isDisposed()||d.getVersionId()!==o)return;const{provider:m,tokens:S}=g,p=this._modelService.getSemanticTokensProviderStyling(m);d.tokenization.setPartialSemanticTokens(a,(0,v.toMultilineTokens2)(S,p,d.getLanguageId()))}).then(()=>this._removeOutstandingRequest(r),()=>this._removeOutstandingRequest(r)),r}};s.ID="editor.contrib.viewportSemanticTokens",s=De([ge(1,w.IModelService),ge(2,h.IThemeService),ge(3,u.IConfigurationService),ge(4,i.ILanguageFeatureDebounceService),ge(5,t.ILanguageFeaturesService)],s),(0,N.registerEditorContribution)(s.ID,s)}),define(ne[750],oe([1,0,47,18,10,21,13,2,12,3,24,48,37,28,598,16,25,15,20,56]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const c=(0,d.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},s.localize(0,null),!0),g=(0,d.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},s.localize(1,null),!0),m=(0,d.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:d.activeContrastBorder,hcLight:d.activeContrastBorder},s.localize(2,null)),S=(0,d.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:d.activeContrastBorder,hcLight:d.activeContrastBorder},s.localize(3,null)),p=(0,d.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},s.localize(4,null),!0),C=(0,d.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},s.localize(5,null),!0),_=new l.RawContextKey("hasWordHighlights",!1);function L(W,M,z,G){const te=W.ordered(M);return(0,N.first)(te.map(X=>()=>Promise.resolve(X.provideDocumentHighlights(M,z,G)).then(void 0,w.onUnexpectedExternalError)),f.isNonEmptyArray)}e.getOccurrencesAtPosition=L;class E{constructor(M,z,G){this._model=M,this._selection=z,this._wordSeparators=G,this._wordRange=this._getCurrentWordRange(M,z),this._result=null}get result(){return this._result||(this._result=(0,N.createCancelablePromise)(M=>this._compute(this._model,this._selection,this._wordSeparators,M))),this._result}_getCurrentWordRange(M,z){const G=M.getWordAtPosition(z.getPosition());return G?new u.Range(z.startLineNumber,G.startColumn,z.startLineNumber,G.endColumn):null}isValid(M,z,G){const te=z.startLineNumber,X=z.startColumn,J=z.endColumn,ie=this._getCurrentWordRange(M,z);let re=Boolean(this._wordRange&&this._wordRange.equalsRange(ie));for(let Z=0,x=G.length;!re&&Z<x;Z++){const U=G.getRange(Z);U&&U.startLineNumber===te&&U.startColumn<=X&&U.endColumn>=J&&(re=!0)}return re}cancel(){this.result.cancel()}}class I extends E{constructor(M,z,G,te){super(M,z,G);this._providers=te}_compute(M,z,G,te){return L(this._providers,M,z.getPosition(),te).then(X=>X||[])}}class T extends E{constructor(M,z,G){super(M,z,G);this._selectionIsEmpty=z.isEmpty()}_compute(M,z,G,te){return(0,N.timeout)(250,te).then(()=>{if(!z.isEmpty())return[];const X=M.getWordAtPosition(z.getPosition());return!X||X.word.length>1e3?[]:M.findMatches(X.word,!0,!1,!0,G,!1).map(ie=>({range:ie.range,kind:t.DocumentHighlightKind.Text}))})}isValid(M,z,G){const te=z.isEmpty();return this._selectionIsEmpty!==te?!1:super.isValid(M,z,G)}}function P(W,M,z,G){return W.has(M)?new I(M,z,G,W):new T(M,z,G)}(0,v.registerModelAndPositionCommand)("_executeDocumentHighlights",(W,M,z)=>{const G=W.get(o.ILanguageFeaturesService);return L(G.documentHighlightProvider,M,z,D.CancellationToken.None)});class B{constructor(M,z,G){this.toUnhook=new b.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=M,this.providers=z,this._hasWordHighlights=_.bindTo(G),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(73),this.model=this.editor.getModel(),this.toUnhook.add(M.onDidChangeCursorPosition(te=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(te)})),this.toUnhook.add(M.onDidChangeModelContent(te=>{this._stopAll()})),this.toUnhook.add(M.onDidChangeConfiguration(te=>{const X=this.editor.getOption(73);this.occurrencesHighlight!==X&&(this.occurrencesHighlight=X,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(u.Range.compareRangesUsingStarts)}moveNext(){const M=this._getSortedHighlights(),G=(M.findIndex(X=>X.containsPosition(this.editor.getPosition()))+1)%M.length,te=M[G];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(te.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(te);const X=this._getWord();if(X){const J=this.editor.getModel().getLineContent(te.startLineNumber);(0,y.alert)(`${J}, ${G+1} of ${M.length} for '${X.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const M=this._getSortedHighlights(),G=(M.findIndex(X=>X.containsPosition(this.editor.getPosition()))-1+M.length)%M.length,te=M[G];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(te.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(te);const X=this._getWord();if(X){const J=this.editor.getModel().getLineContent(te.startLineNumber);(0,y.alert)(`${J}, ${G+1} of ${M.length} for '${X.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(M){if(!this.occurrencesHighlight){this._stopAll();return}if(M.reason!==3){this._stopAll();return}this._run()}_getWord(){const M=this.editor.getSelection(),z=M.startLineNumber,G=M.startColumn;return this.model.getWordAtPosition({lineNumber:z,column:G})}_run(){const M=this.editor.getSelection();if(M.startLineNumber!==M.endLineNumber){this._stopAll();return}const z=M.startColumn,G=M.endColumn,te=this._getWord();if(!te||te.startColumn>z||te.endColumn<G){this._stopAll();return}const X=this.workerRequest&&this.workerRequest.isValid(this.model,M,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),X)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const J=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=P(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(118)),this.workerRequest.result.then(ie=>{J===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=ie||[],this._beginRenderDecorations())},w.onUnexpectedError)}}_beginRenderDecorations(){const M=new Date().getTime(),z=this.lastCursorPositionChangeTime+250;M>=z?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},z-M)}renderDecorations(){this.renderDecorationsTimer=-1;const M=[];for(const z of this.workerRequestValue)z.range&&M.push({range:z.range,options:B._getDecorationOptions(z.kind)});this.decorations.set(M),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(M){return M===t.DocumentHighlightKind.Write?this._WRITE_OPTIONS:M===t.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}B._WRITE_OPTIONS=n.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,a.themeColorFromId)(C),position:i.OverviewRulerLane.Center},minimap:{color:(0,a.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),B._TEXT_OPTIONS=n.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,a.themeColorFromId)(d.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center},minimap:{color:(0,a.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),B._REGULAR_OPTIONS=n.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,a.themeColorFromId)(p),position:i.OverviewRulerLane.Center},minimap:{color:(0,a.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}});let R=class qi extends b.Disposable{constructor(M,z,G){super();this.wordHighlighter=null;const te=()=>{M.hasModel()&&(this.wordHighlighter=new B(M,G.documentHighlightProvider,z))};this._register(M.onDidChangeModel(X=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),te()})),te()}static get(M){return M.getContribution(qi.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(M){this.wordHighlighter&&M&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};R.ID="editor.contrib.wordHighlighter",R=De([ge(1,l.IContextKeyService),ge(2,o.ILanguageFeaturesService)],R);class k extends v.EditorAction{constructor(M,z){super(z);this._isNext=M}run(M,z){const G=R.get(z);!G||(this._isNext?G.moveNext():G.moveBack())}}class A extends k{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:s.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:_,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class O extends k{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:s.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:_,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class F extends v.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:s.localize(8,null),alias:"Trigger Symbol Highlight",precondition:_.toNegated(),kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(M,z,G){const te=R.get(z);!te||te.restoreViewState(!0)}}(0,v.registerEditorContribution)(R.ID,R),(0,v.registerEditorAction)(A),(0,v.registerEditorAction)(O),(0,v.registerEditorAction)(F),(0,a.registerThemingParticipant)((W,M)=>{const z=W.getColor(d.editorSelectionHighlight);z&&(M.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${z}; }`),M.addRule(`.monaco-editor .selectionHighlight { background-color: ${z.transparent(.5)}; }`));const G=W.getColor(c);G&&M.addRule(`.monaco-editor .wordHighlight { background-color: ${G}; }`);const te=W.getColor(g);te&&M.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${te}; }`);const X=W.getColor(d.editorSelectionHighlightBorder);X&&M.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,r.isHighContrast)(W.type)?"dotted":"solid"} ${X}; box-sizing: border-box; }`);const J=W.getColor(m);J&&M.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,r.isHighContrast)(W.type)?"dashed":"solid"} ${J}; box-sizing: border-box; }`);const ie=W.getColor(S);ie&&M.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,r.isHighContrast)(W.type)?"dashed":"solid"} ${ie}; box-sizing: border-box; }`)})}),define(ne[751],oe([1,0,7,126,31,141,2,39,3,37,406]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const h=new N.Color(new N.RGBA(0,122,204)),i={showArrow:!0,showFrame:!0,className:"",frameColor:h,arrowColor:h,keepEditorSelection:!1},n="vs.editor.contrib.zoneWidget";class t{constructor(o,r,c,g,m,S){this.id="",this.domNode=o,this.afterLineNumber=r,this.afterColumn=c,this.heightInLines=g,this._onDomNodeTop=m,this._onComputedHeight=S}onDomNodeTop(o){this._onDomNodeTop(o)}onComputedHeight(o){this._onComputedHeight(o)}}e.ViewZoneDelegate=t;class s{constructor(o,r){this._id=o,this._domNode=r}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=s;class l{constructor(o){this._editor=o,this._ruleName=l._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),y.removeCSSRulesContainingSelector(this._ruleName)}set color(o){this._color!==o&&(this._color=o,this._updateStyle())}set height(o){this._height!==o&&(this._height=o,this._updateStyle())}_updateStyle(){y.removeCSSRulesContainingSelector(this._ruleName),y.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(o){o.column===1&&(o={lineNumber:o.lineNumber,column:2}),this._decorations.set([{range:v.Range.fromPositions(o),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}l._IdGenerator=new D.IdGenerator(".arrow-decoration-");class d{constructor(o,r={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new w.DisposableStore,this.container=null,this._isShowing=!1,this.editor=o,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=b.deepClone(r),b.mixin(this.options,i,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(c=>{const g=this._getWidth(c);this.domNode.style.width=g+"px",this.domNode.style.left=this._getLeft(c)+"px",this._onWidth(g)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(o=>{this._viewZone&&o.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new l(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(o){o.frameColor&&(this.options.frameColor=o.frameColor),o.arrowColor&&(this.options.arrowColor=o.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const o=this.options.frameColor.toString();this.container.style.borderTopColor=o,this.container.style.borderBottomColor=o}if(this._arrow&&this.options.arrowColor){const o=this.options.arrowColor.toString();this._arrow.color=o}}_getWidth(o){return o.width-o.minimap.minimapWidth-o.verticalScrollbarWidth}_getLeft(o){return o.minimap.minimapWidth>0&&o.minimap.minimapLeft===0?o.minimap.minimapWidth:0}_onViewZoneTop(o){this.domNode.style.top=o+"px"}_onViewZoneHeight(o){if(this.domNode.style.height=`${o}px`,this.container){const r=o-this._decoratingElementsHeight();this.container.style.height=`${r}px`;const c=this.editor.getLayoutInfo();this._doLayout(r,this._getWidth(c))}this._resizeSash&&this._resizeSash.layout()}get position(){const o=this._positionMarkerId.getRange(0);if(!!o)return o.getStartPosition()}show(o,r){const c=v.Range.isIRange(o)?v.Range.lift(o):v.Range.fromPositions(o);this._isShowing=!0,this._showImpl(c,r),this._isShowing=!1,this._positionMarkerId.set([{range:c,options:u.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(o=>{this._viewZone&&o.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const o=this.editor.getOption(60);let r=0;if(this.options.showArrow){const c=Math.round(o/3);r+=2*c}if(this.options.showFrame){const c=Math.round(o/9);r+=2*c}return r}_showImpl(o,r){const c=o.getStartPosition(),g=this.editor.getLayoutInfo(),m=this._getWidth(g);this.domNode.style.width=`${m}px`,this.domNode.style.left=this._getLeft(g)+"px";const S=document.createElement("div");S.style.overflow="hidden";const p=this.editor.getOption(60),C=Math.max(12,this.editor.getLayoutInfo().height/p*.8);r=Math.min(r,C);let _=0,L=0;if(this._arrow&&this.options.showArrow&&(_=Math.round(p/3),this._arrow.height=_,this._arrow.show(c)),this.options.showFrame&&(L=Math.round(p/9)),this.editor.changeViewZones(T=>{this._viewZone&&T.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new t(S,c.lineNumber,c.column,r,P=>this._onViewZoneTop(P),P=>this._onViewZoneHeight(P)),this._viewZone.id=T.addZone(this._viewZone),this._overlayWidget=new s(n+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const T=this.options.frameWidth?this.options.frameWidth:L;this.container.style.borderTopWidth=T+"px",this.container.style.borderBottomWidth=T+"px"}const E=r*p-this._decoratingElementsHeight();this.container&&(this.container.style.top=_+"px",this.container.style.height=E+"px",this.container.style.overflow="hidden"),this._doLayout(E,m),this.options.keepEditorSelection||this.editor.setSelection(o);const I=this.editor.getModel();if(I){const T=o.endLineNumber+1;T<=I.getLineCount()?this.revealLine(T,!1):this.revealLine(I.getLineCount(),!0)}}revealLine(o,r){r?this.editor.revealLineInCenter(o,0):this.editor.revealLine(o,0)}setCssClass(o,r){!this.container||(r&&this.container.classList.remove(r),this.container.classList.add(o))}_onWidth(o){}_doLayout(o,r){}_relayout(o){this._viewZone&&this._viewZone.heightInLines!==o&&this.editor.changeViewZones(r=>{this._viewZone&&(this._viewZone.heightInLines=o,r.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new f.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let o;this._disposables.add(this._resizeSash.onDidStart(r=>{this._viewZone&&(o={startY:r.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{o=void 0})),this._disposables.add(this._resizeSash.onDidChange(r=>{if(o){const c=(r.currentY-o.startY)/this.editor.getOption(60),g=c<0?Math.ceil(c):Math.floor(c),m=o.heightInLines+g;m>5&&m<35&&this._relayout(m)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const o=this.editor.getLayoutInfo();return o.width-o.minimap.minimapWidth}}e.ZoneWidget=d}),define(ne[118],oe([1,0,7,89,49,27,31,4,39,12,29,170,751,579,217,16,53,8,25,400]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,a.createDecorator)("IPeekViewService"),(0,d.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(p,C){const _=this._widgets.get(p);_&&(_.listener.dispose(),_.widget.dispose());const L=()=>{const E=this._widgets.get(p);E&&E.widget===C&&(E.listener.dispose(),this._widgets.delete(p))};this._widgets.set(p,{widget:C,listener:C.onDidClose(L)})}});var r;(function(p){p.inPeekEditor=new l.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),p.notInPeekEditor=p.inPeekEditor.toNegated()})(r=e.PeekContext||(e.PeekContext={}));let c=class{constructor(C,_){C instanceof i.EmbeddedCodeEditorWidget&&r.inPeekEditor.bindTo(_)}dispose(){}};c.ID="editor.contrib.referenceController",c=De([ge(1,l.IContextKeyService)],c),(0,u.registerEditorContribution)(c.ID,c);function g(p){const C=p.get(h.ICodeEditorService).getFocusedCodeEditor();return C instanceof i.EmbeddedCodeEditorWidget?C.getParentEditor():C}e.getOuterEditor=g;const m={headerBackgroundColor:w.Color.white,primaryHeadingColor:w.Color.fromHex("#333333"),secondaryHeadingColor:w.Color.fromHex("#6c6c6cb3")};let S=class extends n.ZoneWidget{constructor(C,_,L){super(C,_);this.instantiationService=L,this._onDidClose=new b.Emitter,this.onDidClose=this._onDidClose.event,v.mixin(this.options,m,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(C){const _=this.options;C.headerBackgroundColor&&(_.headerBackgroundColor=C.headerBackgroundColor),C.primaryHeadingColor&&(_.primaryHeadingColor=C.primaryHeadingColor),C.secondaryHeadingColor&&(_.secondaryHeadingColor=C.secondaryHeadingColor),super.style(C)}_applyStyles(){super._applyStyles();const C=this.options;this._headElement&&C.headerBackgroundColor&&(this._headElement.style.backgroundColor=C.headerBackgroundColor.toString()),this._primaryHeading&&C.primaryHeadingColor&&(this._primaryHeading.style.color=C.primaryHeadingColor.toString()),this._secondaryHeading&&C.secondaryHeadingColor&&(this._secondaryHeading.style.color=C.secondaryHeadingColor.toString()),this._bodyElement&&C.frameColor&&(this._bodyElement.style.borderColor=C.frameColor.toString())}_fillContainer(C){this.setCssClass("peekview-widget"),this._headElement=y.$(".head"),this._bodyElement=y.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),C.appendChild(this._headElement),C.appendChild(this._bodyElement)}_fillHead(C,_){const L=y.$(".peekview-title");this.options.supportOnTitleClick&&(L.classList.add("clickable"),y.addStandardDisposableListener(L,"click",T=>this._onTitleClick(T))),y.append(this._headElement,L),this._fillTitleIcon(L),this._primaryHeading=y.$("span.filename"),this._secondaryHeading=y.$("span.dirname"),this._metaHeading=y.$("span.meta"),y.append(L,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=y.$(".peekview-actions");y.append(this._headElement,E);const I=this._getActionBarOptions();this._actionbarWidget=new f.ActionBar(E,I),this._disposables.add(this._actionbarWidget),_||this._actionbarWidget.push(new N.Action("peekview.close",t.localize(1,null),D.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(C){}_getActionBarOptions(){return{actionViewItemProvider:s.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(C){}setTitle(C,_){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=C,this._primaryHeading.setAttribute("title",C),_?this._secondaryHeading.innerText=_:y.clearNode(this._secondaryHeading))}setMetaTitle(C){this._metaHeading&&(C?(this._metaHeading.innerText=C,y.show(this._metaHeading)):y.hide(this._metaHeading))}_doLayout(C,_){if(!this._isShowing&&C<0){this.dispose();return}const L=Math.ceil(this.editor.getOption(60)*1.2),E=Math.round(C-(L+2));this._doLayoutHead(L,_),this._doLayoutBody(E,_)}_doLayoutHead(C,_){this._headElement&&(this._headElement.style.height=`${C}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(C,_){this._bodyElement&&(this._bodyElement.style.height=`${C}px`)}};S=De([ge(2,a.IInstantiationService)],S),e.PeekViewWidget=S,e.peekViewTitleBackground=(0,o.registerColor)("peekViewTitle.background",{dark:(0,o.transparent)(o.editorInfoForeground,.1),light:(0,o.transparent)(o.editorInfoForeground,.1),hcDark:null,hcLight:null},t.localize(2,null)),e.peekViewTitleForeground=(0,o.registerColor)("peekViewTitleLabel.foreground",{dark:w.Color.white,light:w.Color.black,hcDark:w.Color.white,hcLight:o.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,o.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,o.registerColor)("peekView.border",{dark:o.editorInfoForeground,light:o.editorInfoForeground,hcDark:o.contrastBorder,hcLight:o.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,o.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:w.Color.black,hcLight:w.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,o.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:w.Color.white,hcLight:o.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,o.registerColor)("peekViewResult.fileForeground",{dark:w.Color.white,light:"#1E1E1E",hcDark:w.Color.white,hcLight:o.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,o.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,o.registerColor)("peekViewResult.selectionForeground",{dark:w.Color.white,light:"#6C6C6C",hcDark:w.Color.white,hcLight:o.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,o.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:w.Color.black,hcLight:w.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,o.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewResultsMatchHighlight=(0,o.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(13,null)),e.peekViewEditorMatchHighlight=(0,o.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,o.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:o.activeContrastBorder,hcLight:o.activeContrastBorder},t.localize(15,null))}),define(ne[752],oe([1,0,7,74,18,31,4,2,42,9,3,118,555,217,41,16,8,138,83,45,722,25,15,393]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class S{constructor(I,T,P,B,R){this._openerService=B,this._labelService=R,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new b.DisposableStore,this._editor=T;const k=document.createElement("div");k.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),k.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),k.appendChild(this._relatedBlock),this._disposables.add(y.addStandardDisposableListener(this._relatedBlock,"click",A=>{A.preventDefault();const O=this._relatedDiagnostics.get(A.target);O&&P(O)})),this._scrollable=new f.ScrollableElement(k,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),I.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(A=>{k.style.left=`-${A.scrollLeft}px`,k.style.top=`-${A.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,b.dispose)(this._disposables)}update(I){const{source:T,message:P,relatedInformation:B,code:R}=I;let k=((T==null?void 0:T.length)||0)+"()".length;R&&(typeof R=="string"?k+=R.length:k+=R.value.length);const A=(0,u.splitLines)(P);this._lines=A.length,this._longestLineLength=0;for(const z of A)this._longestLineLength=Math.max(z.length+k,this._longestLineLength);y.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(I)),this._editor.applyFontInfo(this._messageBlock);let O=this._messageBlock;for(const z of A)O=document.createElement("div"),O.innerText=z,z===""&&(O.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(O);if(T||R){const z=document.createElement("span");if(z.classList.add("details"),O.appendChild(z),T){const G=document.createElement("span");G.innerText=T,G.classList.add("source"),z.appendChild(G)}if(R)if(typeof R=="string"){const G=document.createElement("span");G.innerText=`(${R})`,G.classList.add("code"),z.appendChild(G)}else{this._codeLink=y.$("a.code-link"),this._codeLink.setAttribute("href",`${R.target.toString()}`),this._codeLink.onclick=te=>{this._openerService.open(R.target,{allowCommands:!0}),te.preventDefault(),te.stopPropagation()};const G=y.append(this._codeLink,y.$("span"));G.innerText=R.value,z.appendChild(this._codeLink)}}if(y.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,N.isNonEmptyArray)(B)){const z=this._relatedBlock.appendChild(document.createElement("div"));z.style.paddingTop=`${Math.floor(this._editor.getOption(60)*.66)}px`,this._lines+=1;for(const G of B){const te=document.createElement("div"),X=document.createElement("a");X.classList.add("filename"),X.innerText=`${this._labelService.getUriBasenameLabel(G.resource)}(${G.startLineNumber}, ${G.startColumn}): `,X.title=this._labelService.getUriLabel(G.resource),this._relatedDiagnostics.set(X,G);const J=document.createElement("span");J.innerText=G.message,te.appendChild(X),te.appendChild(J),this._lines+=1,z.appendChild(te)}}const F=this._editor.getOption(45),W=Math.ceil(F.typicalFullwidthCharacterWidth*this._longestLineLength*.75),M=F.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:W,scrollHeight:M})}layout(I,T){this._scrollable.getDomNode().style.height=`${I}px`,this._scrollable.getDomNode().style.width=`${T}px`,this._scrollable.setScrollDimensions({width:T,height:I})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(I){let T="";switch(I.severity){case o.MarkerSeverity.Error:T=n.localize(0,null);break;case o.MarkerSeverity.Warning:T=n.localize(1,null);break;case o.MarkerSeverity.Info:T=n.localize(2,null);break;case o.MarkerSeverity.Hint:T=n.localize(3,null);break}let P=n.localize(4,null,T,I.startLineNumber+":"+I.startColumn);const B=this._editor.getModel();return B&&I.startLineNumber<=B.getLineCount()&&I.startLineNumber>=1&&(P=`${B.getLineContent(I.startLineNumber)}, ${P}`),P}}let p=class $i extends i.PeekViewWidget{constructor(I,T,P,B,R,k,A){super(I,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},R);this._themeService=T,this._openerService=P,this._menuService=B,this._contextKeyService=k,this._labelService=A,this._callOnDispose=new b.DisposableStore,this._onDidSelectRelatedInformation=new w.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=o.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(T.getColorTheme()),this._callOnDispose.add(T.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(I){this._backgroundColor=I.getColor(e.editorMarkerNavigationBackground);let T=e.editorMarkerNavigationError,P=e.editorMarkerNavigationErrorHeader;this._severity===o.MarkerSeverity.Warning?(T=e.editorMarkerNavigationWarning,P=e.editorMarkerNavigationWarningHeader):this._severity===o.MarkerSeverity.Info&&(T=e.editorMarkerNavigationInfo,P=e.editorMarkerNavigationInfoHeader);const B=I.getColor(T),R=I.getColor(P);this.style({arrowColor:B,frameColor:B,headerBackgroundColor:R,primaryHeadingColor:I.getColor(i.peekViewTitleForeground),secondaryHeadingColor:I.getColor(i.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(I){super._fillHead(I),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(B=>this.editor.focus()));const T=[],P=this._menuService.createMenu($i.TitleMenu,this._contextKeyService);(0,t.createAndFillInActionBarActions)(P,void 0,T),this._actionbarWidget.push(T,{label:!1,icon:!0,index:0}),P.dispose()}_fillTitleIcon(I){this._icon=y.append(I,y.$(""))}_fillBody(I){this._parentContainer=I,I.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),I.appendChild(this._container),this._message=new S(this._container,this.editor,T=>this._onDidSelectRelatedInformation.fire(T),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(I,T,P){this._container.classList.remove("stale"),this._message.update(I),this._severity=I.severity,this._applyTheme(this._themeService.getColorTheme());const B=h.Range.lift(I),R=this.editor.getPosition(),k=R&&B.containsPosition(R)?R:B.getStartPosition();super.show(k,this.computeRequiredHeight());const A=this.editor.getModel();if(A){const O=P>1?n.localize(5,null,T,P):n.localize(6,null,T,P);this.setTitle((0,v.basename)(A.uri),O)}this._icon.className=`codicon ${c.SeverityIcon.className(o.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(k,0),this.editor.focus()}updateMarker(I){this._container.classList.remove("stale"),this._message.update(I)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(I,T){super._doLayoutBody(I,T),this._heightInPixel=I,this._message.layout(I,T),this._container.style.height=`${I}px`}_onWidth(I){this._message.layout(this._heightInPixel,I)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};p.TitleMenu=new s.MenuId("gotoErrorTitleMenu"),p=De([ge(1,m.IThemeService),ge(2,r.IOpenerService),ge(3,s.IMenuService),ge(4,d.IInstantiationService),ge(5,l.IContextKeyService),ge(6,a.ILabelService)],p),e.MarkerNavigationWidget=p;const C=(0,g.oneOf)(g.editorErrorForeground,g.editorErrorBorder),_=(0,g.oneOf)(g.editorWarningForeground,g.editorWarningBorder),L=(0,g.oneOf)(g.editorInfoForeground,g.editorInfoBorder);e.editorMarkerNavigationError=(0,g.registerColor)("editorMarkerNavigationError.background",{dark:C,light:C,hcDark:g.contrastBorder,hcLight:g.contrastBorder},n.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,g.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationError,.1),light:(0,g.transparent)(e.editorMarkerNavigationError,.1),hcDark:null,hcLight:null},n.localize(8,null)),e.editorMarkerNavigationWarning=(0,g.registerColor)("editorMarkerNavigationWarning.background",{dark:_,light:_,hcDark:g.contrastBorder,hcLight:g.contrastBorder},n.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,g.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,g.transparent)(e.editorMarkerNavigationWarning,.1),hcDark:"#0C141F",hcLight:(0,g.transparent)(e.editorMarkerNavigationWarning,.2)},n.localize(10,null)),e.editorMarkerNavigationInfo=(0,g.registerColor)("editorMarkerNavigationInfo.background",{dark:L,light:L,hcDark:g.contrastBorder,hcLight:g.contrastBorder},n.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,g.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,g.transparent)(e.editorMarkerNavigationInfo,.1),hcDark:null,hcLight:null},n.localize(12,null)),e.editorMarkerNavigationBackground=(0,g.registerColor)("editorMarkerNavigation.background",{dark:g.editorBackground,light:g.editorBackground,hcDark:g.editorBackground,hcLight:g.editorBackground},n.localize(13,null))}),define(ne[313],oe([1,0,27,2,12,29,11,3,24,637,554,41,16,8,78,752]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let d=class qt{constructor(C,_,L,E,I){this._markerNavigationService=_,this._contextKeyService=L,this._editorService=E,this._instantiationService=I,this._sessionDispoables=new f.DisposableStore,this._editor=C,this._widgetVisible=m.bindTo(this._contextKeyService)}static get(C){return C.getContribution(qt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(C){if(this._model&&this._model.matches(C))return this._model;let _=!1;return this._model&&(_=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(C),_&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(l.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var E,I,T;(!((E=this._model)===null||E===void 0?void 0:E.selected)||!b.Range.containsPosition((I=this._model)===null||I===void 0?void 0:I.selected.marker,L.position))&&((T=this._model)===null||T===void 0||T.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:b.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(C=!0){this._cleanUp(),C&&this._editor.focus()}showAtMarker(C){if(this._editor.hasModel()){const _=this._getOrCreateModel(this._editor.getModel().uri);_.resetIndex(),_.move(!0,this._editor.getModel(),new w.Position(C.startLineNumber,C.startColumn)),_.selected&&this._widget.showAtMarker(_.selected.marker,_.selected.index,_.selected.total)}}nagivate(C,_){var L,E;return Le(this,void 0,void 0,function*(){if(this._editor.hasModel()){const I=this._getOrCreateModel(_?void 0:this._editor.getModel().uri);if(I.move(C,this._editor.getModel(),this._editor.getPosition()),!I.selected)return;if(I.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const T=yield this._editorService.openCodeEditor({resource:I.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:I.selected.marker}},this._editor);T&&((L=qt.get(T))===null||L===void 0||L.close(),(E=qt.get(T))===null||E===void 0||E.nagivate(C,_))}else this._widget.showAtMarker(I.selected.marker,I.selected.index,I.selected.total)}})}};d.ID="editor.contrib.markerController",d=De([ge(1,u.IMarkerNavigationService),ge(2,n.IContextKeyService),ge(3,D.ICodeEditorService),ge(4,t.IInstantiationService)],d),e.MarkerController=d;class a extends N.EditorAction{constructor(C,_,L){super(L);this._next=C,this._multiFile=_}run(C,_){var L;return Le(this,void 0,void 0,function*(){_.hasModel()&&((L=d.get(_))===null||L===void 0||L.nagivate(this._next,this._multiFile))})}}class o extends a{constructor(){super(!0,!1,{id:o.ID,label:o.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:l.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:(0,s.registerIcon)("marker-navigation-next",y.Codicon.arrowDown,h.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=o,o.ID="editor.action.marker.next",o.LABEL=h.localize(0,null);class r extends a{constructor(){super(!1,!1,{id:r.ID,label:r.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:l.MarkerNavigationWidget.TitleMenu,title:r.LABEL,icon:(0,s.registerIcon)("marker-navigation-previous",y.Codicon.arrowUp,h.localize(3,null)),group:"navigation",order:2}})}}r.ID="editor.action.marker.prev",r.LABEL=h.localize(2,null);class c extends a{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:h.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:h.localize(5,null),group:"6_problem_nav",order:1}})}}class g extends a{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:h.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:h.localize(7,null),group:"6_problem_nav",order:2}})}}(0,N.registerEditorContribution)(d.ID,d),(0,N.registerEditorAction)(o),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(c),(0,N.registerEditorAction)(g);const m=new n.RawContextKey("markersNavigationVisible",!1),S=N.EditorCommand.bindToContribution(d.get);(0,N.registerEditorCommand)(new S({id:"closeMarkersNavigation",precondition:m,handler:p=>p.close(),kbOpts:{weight:100+50,kbExpr:v.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(ne[753],oe([1,0,7,237,31,4,2,44,42,170,3,37,32,72,38,58,676,118,560,8,43,138,167,15,168,136,395]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class _{constructor(P,B){this._editor=P,this._model=B,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new w.DisposableStore,this._callOnModelChange=new w.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const P=this._editor.getModel();if(!!P){for(const B of this._model.references)if(B.uri.toString()===P.uri.toString()){this._addDecorations(B.parent);return}}}_addDecorations(P){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const B=[],R=[];for(let A=0,O=P.children.length;A<O;A++){const F=P.children[A];this._decorationIgnoreSet.has(F.id)||F.uri.toString()===this._editor.getModel().uri.toString()&&(B.push({range:F.range,options:_.DecorationOptions}),R.push(A))}const k=this._editor.deltaDecorations([],B);for(let A=0;A<k.length;A++)this._decorations.set(k[A],P.children[R[A]])}_onDecorationChanged(){const P=[],B=this._editor.getModel();if(!!B){for(const[R,k]of this._decorations){const A=B.getDecorationRange(R);if(!A)continue;let O=!1;if(!h.Range.equalsRange(A,k.range)){if(h.Range.spansMultipleLines(A))O=!0;else{const F=k.range.endColumn-k.range.startColumn,W=A.endColumn-A.startColumn;F!==W&&(O=!0)}O?(this._decorationIgnoreSet.add(k.id),P.push(R)):k.range=A}}for(let R=0,k=P.length;R<k;R++)this._decorations.delete(P[R]);this._editor.deltaDecorations(P,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}_.DecorationOptions=i.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class L{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(P){let B,R;try{const k=JSON.parse(P);B=k.ratio,R=k.heightInLines}catch{}return{ratio:B||.7,heightInLines:R||18}}}e.LayoutData=L;class E extends m.WorkbenchAsyncDataTree{}let I=class extends a.PeekViewWidget{constructor(P,B,R,k,A,O,F,W,M,z,G,te){super(P,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},O);this._defaultTreeKeyboardSupport=B,this.layoutData=R,this._textModelResolverService=A,this._instantiationService=O,this._peekViewService=F,this._uriLabel=W,this._undoRedoService=M,this._keybindingService=z,this._languageService=G,this._languageConfigurationService=te,this._disposeOnNewModel=new w.DisposableStore,this._callOnDispose=new w.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new y.Dimension(0,0),this._applyTheme(k.getColorTheme()),this._callOnDispose.add(k.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(P,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,w.dispose)(this._preview),(0,w.dispose)(this._previewNotAvailableMessage),(0,w.dispose)(this._tree),(0,w.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(P){const B=P.getColor(a.peekViewBorder)||N.Color.transparent;this.style({arrowColor:B,frameColor:B,headerBackgroundColor:P.getColor(a.peekViewTitleBackground)||N.Color.transparent,primaryHeadingColor:P.getColor(a.peekViewTitleForeground),secondaryHeadingColor:P.getColor(a.peekViewTitleInfoForeground)})}show(P){super.show(P,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(P){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:P.ctrlKey||P.metaKey||P.altKey?"side":"open",source:"title"})}_fillBody(P){this.setCssClass("reference-zone-widget"),this._messageContainer=y.append(P,y.$("div.messages")),y.hide(this._messageContainer),this._splitView=new f.SplitView(P,{orientation:1}),this._previewContainer=y.append(P,y.$("div.preview.inline"));const B={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(u.EmbeddedCodeEditorWidget,this._previewContainer,B,this.editor),y.hide(this._previewContainer),this._previewNotAvailableMessage=new i.TextModel(o.localize(0,null),t.PLAINTEXT_LANGUAGE_ID,i.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=y.append(P,y.$("div.ref-tree.inline"));const R={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new d.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(d.StringRepresentationProvider),identityProvider:new d.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:a.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(y.addStandardDisposableListener(this._treeContainer,"keydown",A=>{A.equals(9)&&(this._keybindingService.dispatchEvent(A,A.target),A.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new d.Delegate,[this._instantiationService.createInstance(d.FileReferencesRenderer),this._instantiationService.createInstance(d.OneReferenceRenderer)],this._instantiationService.createInstance(d.DataSource),R),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:A=>{this._preview.layout({height:this._dim.height,width:A})}},f.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:A=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${A}px`,this._tree.layout(this._dim.height,A)}},f.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const k=(A,O)=>{A instanceof C.OneReference&&(O==="show"&&this._revealReference(A,!1),this._onDidSelectReference.fire({element:A,kind:O,source:"tree"}))};this._tree.onDidOpen(A=>{A.sideBySide?k(A.element,"side"):A.editorOptions.pinned?k(A.element,"goto"):k(A.element,"show")}),y.hide(this._treeContainer)}_onWidth(P){this._dim&&this._doLayoutBody(this._dim.height,P)}_doLayoutBody(P,B){super._doLayoutBody(P,B),this._dim=new y.Dimension(B,P),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(B),this._splitView.resizeView(0,B*this.layoutData.ratio)}setSelection(P){return this._revealReference(P,!0).then(()=>{!this._model||(this._tree.setSelection([P]),this._tree.setFocus([P]))})}setModel(P){return this._disposeOnNewModel.clear(),this._model=P,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=o.localize(1,null),y.show(this._messageContainer),Promise.resolve(void 0)):(y.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(P=>this._tree.rerender(P))),this._disposeOnNewModel.add(this._preview.onMouseDown(P=>{const{event:B,target:R}=P;if(B.detail!==2)return;const k=this._getFocusedReference();!k||this._onDidSelectReference.fire({element:{uri:k.uri,range:R.range},kind:B.ctrlKey||B.metaKey||B.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),y.show(this._treeContainer),y.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[P]=this._tree.getFocus();if(P instanceof C.OneReference)return P;if(P instanceof C.FileReferences&&P.children.length>0)return P.children[0]}revealReference(P){return Le(this,void 0,void 0,function*(){yield this._revealReference(P,!1),this._onDidSelectReference.fire({element:P,kind:"goto",source:"tree"})})}_revealReference(P,B){return Le(this,void 0,void 0,function*(){if(this._revealedReference===P)return;this._revealedReference=P,P.uri.scheme!==b.Schemas.inMemory?this.setTitle((0,v.basenameOrAuthority)(P.uri),this._uriLabel.getUriLabel((0,v.dirname)(P.uri))):this.setTitle(o.localize(2,null));const R=this._textModelResolverService.createModelReference(P.uri);this._tree.getInput()===P.parent?this._tree.reveal(P):(B&&this._tree.reveal(P.parent),yield this._tree.expand(P.parent),this._tree.reveal(P));const k=yield R;if(!this._model){k.dispose();return}(0,w.dispose)(this._previewModelReference);const A=k.object;if(A){const O=this._preview.getModel()===A.textEditorModel?0:1,F=h.Range.lift(P.range).collapseToStart();this._previewModelReference=k,this._preview.setModel(A.textEditorModel),this._preview.setSelection(F),this._preview.revealRangeInCenter(F,O)}else this._preview.setModel(this._previewNotAvailableMessage),k.dispose()})}};I=De([ge(3,S.IThemeService),ge(4,l.ITextModelService),ge(5,r.IInstantiationService),ge(6,a.IPeekViewService),ge(7,g.ILabelService),ge(8,p.IUndoRedoService),ge(9,c.IKeybindingService),ge(10,s.ILanguageService),ge(11,n.ILanguageConfigurationService)],I),e.ReferenceWidget=I}),define(ne[314],oe([1,0,10,13,59,2,29,11,3,118,558,26,30,16,8,100,167,40,85,136,753]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new t.RawContextKey("referenceSearchVisible",!1,h.localize(0,null));let g=class li{constructor(p,C,_,L,E,I,T,P){this._defaultTreeKeyboardSupport=p,this._editor=C,this._editorService=L,this._notificationService=E,this._instantiationService=I,this._storageService=T,this._configurationService=P,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(_)}static get(p){return p.getContribution(li.ID)}dispose(){var p,C;this._referenceSearchVisible.reset(),this._disposables.dispose(),(p=this._widget)===null||p===void 0||p.dispose(),(C=this._model)===null||C===void 0||C.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(p,C,_){let L;if(this._widget&&(L=this._widget.position),this.closeWidget(),!!L&&p.containsPosition(L))return;this._peekMode=_,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",I=c.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(c.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,I),this._widget.setTitle(h.localize(1,null)),this._widget.show(p),this._disposables.add(this._widget.onDidClose(()=>{C.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(P=>{const{element:B,kind:R}=P;if(!!B)switch(R){case"open":(P.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(B,!1,!1);break;case"side":this.openReference(B,!0,!1);break;case"goto":_?this._gotoReference(B):this.openReference(B,!1,!0);break}}));const T=++this._requestIdPool;C.then(P=>{var B;if(T!==this._requestIdPool||!this._widget){P.dispose();return}return(B=this._model)===null||B===void 0||B.dispose(),this._model=P,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(h.localize(2,null,this._model.title,this._model.references.length));const R=this._editor.getModel().uri,k=new b.Position(p.startLineNumber,p.startColumn),A=this._model.nearestReference(R,k);if(A)return this._widget.setSelection(A).then(()=>{this._widget&&this._editor.getOption(78)==="editor"&&this._widget.focusOnPreviewEditor()})}})},P=>{this._notificationService.error(P)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(p){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const C=this._widget.position;if(!C)return;const _=this._model.nearestReference(this._editor.getModel().uri,C);if(!_)return;const L=this._model.nextOrPreviousReference(_,p),E=this._editor.hasTextFocus(),I=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(L),yield this._gotoReference(L),E?this._editor.focus():this._widget&&I&&this._widget.focusOnPreviewEditor()})}revealReference(p){return Le(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(p))})}closeWidget(p=!0){var C,_;(C=this._widget)===null||C===void 0||C.dispose(),(_=this._model)===null||_===void 0||_.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,p&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(p){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const C=v.Range.lift(p.range).collapseToStart();return this._editorService.openCodeEditor({resource:p.uri,options:{selection:C,selectionSource:"code.jump"}},this._editor).then(_=>{var L;if(this._ignoreModelChangeEvent=!1,!_||!this._widget){this.closeWidget();return}if(this._editor===_)this._widget.show(C),this._widget.focusOnReferenceTree();else{const E=li.get(_),I=this._model.clone();this.closeWidget(),_.focus(),E==null||E.toggleWidget(C,(0,y.createCancelablePromise)(T=>Promise.resolve(I)),(L=this._peekMode)!==null&&L!==void 0?L:!1)}},_=>{this._ignoreModelChangeEvent=!1,(0,f.onUnexpectedError)(_)})}openReference(p,C,_){C||this.closeWidget();const{uri:L,range:E}=p;this._editorService.openCodeEditor({resource:L,options:{selection:E,selectionSource:"code.jump",pinned:_}},this._editor,C)}};g.ID="editor.contrib.referencesController",g=De([ge(2,t.IContextKeyService),ge(3,w.ICodeEditorService),ge(4,a.INotificationService),ge(5,s.IInstantiationService),ge(6,o.IStorageService),ge(7,n.IConfigurationService)],g),e.ReferencesController=g;function m(S,p){const C=(0,u.getOuterEditor)(S);if(!C)return;const _=g.get(C);_&&p(_)}l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,N.KeyChord)(2048|41,60),when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(S){m(S,p=>{p.changeFocusBetweenPreviewAndReferences()})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(S){m(S,p=>{p.goToNextOrPreviousReference(!0)})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(S){m(S,p=>{p.goToNextOrPreviousReference(!1)})}}),i.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),i.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),i.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),i.CommandsRegistry.registerCommand("closeReferenceSearch",S=>m(S,p=>p.closeWidget())),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(u.PeekContext.inPeekEditor,t.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,t.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey,d.WorkbenchTreeElementCanCollapse.negate(),d.WorkbenchTreeElementCanExpand.negate()),handler(S){var p;const _=(p=S.get(d.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(_)&&_[0]instanceof r.OneReference&&m(S,L=>L.revealReference(_[0]))}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey,d.WorkbenchTreeElementCanCollapse.negate(),d.WorkbenchTreeElementCanExpand.negate()),handler(S){var p;const _=(p=S.get(d.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(_)&&_[0]instanceof r.OneReference&&m(S,L=>L.openReference(_[0],!0,!0))}}),i.CommandsRegistry.registerCommand("openReference",S=>{var p;const _=(p=S.get(d.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(_)&&_[0]instanceof r.OneReference&&m(S,L=>L.openReference(_[0],!1,!0))})}),define(ne[218],oe([1,0,36,47,10,59,17,19,22,93,154,12,29,170,11,3,24,28,314,136,697,166,118,556,41,26,16,8,40,77,304,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E,I,T,P){"use strict";var B,R,k,A,O,F,W,M;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,{submenu:p.MenuId.EditorContextPeek,title:S.localize(0,null),group:"navigation",order:100});const z=new Set;function G(le){const se=new le;return(0,i.registerInstantiatedEditorAction)(se),z.add(se.id),se}class te{constructor(se,Y){this.model=se,this.position=Y}static is(se){return!se||typeof se!="object"?!1:!!(se instanceof te||s.Position.isIPosition(se.position)&&se.model)}}e.SymbolNavigationAnchor=te;class X extends i.EditorAction{constructor(se,Y){super(Y);this.configuration=se}run(se,Y,de){if(!Y.hasModel())return Promise.resolve(void 0);const H=se.get(E.INotificationService),$=se.get(n.ICodeEditorService),K=se.get(I.IEditorProgressService),V=se.get(c.ISymbolNavigationService),Q=se.get(P.ILanguageFeaturesService),ee=Y.getModel(),ae=Y.getPosition(),fe=te.is(de)?de:new te(ee,ae),pe=new u.EditorStateCancellationTokenSource(Y,1|4),ve=(0,N.raceCancellation)(this._getLocationModel(Q,fe.model,fe.position,pe.token),pe.token).then(ue=>Le(this,void 0,void 0,function*(){var Ce;if(!ue||pe.token.isCancellationRequested)return;(0,f.alert)(ue.ariaMessage);let me;if(ue.referenceAt(ee.uri,ae)){const ce=this._getAlternativeCommand(Y);ce!==this.id&&z.has(ce)&&(me=Y.getAction(ce))}const be=ue.references.length;if(be===0){if(!this.configuration.muteMessage){const ce=ee.getWordAtPosition(ae);(Ce=g.MessageController.get(Y))===null||Ce===void 0||Ce.showMessage(this._getNoResultFoundMessage(ce),ae)}}else if(be===1&&me)me.run();else return this._onResult($,V,Y,ue)}),ue=>{H.error(ue)}).finally(()=>{pe.dispose()});return K.showWhile(ve,250),ve}_onResult(se,Y,de,H){return Le(this,void 0,void 0,function*(){const $=this._getGoToPreference(de);if(!(de instanceof t.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||$==="peek"&&H.references.length>1))this._openInPeek(de,H);else{const K=H.firstReference(),V=H.references.length>1&&$==="gotoAndPeek",Q=yield this._openReference(de,se,K,this.configuration.openToSide,!V);V&&Q?this._openInPeek(Q,H):H.dispose(),$==="goto"&&Y.put(K)}})}_openReference(se,Y,de,H,$){return Le(this,void 0,void 0,function*(){let K;if((0,a.isLocationLink)(de)&&(K=de.targetSelectionRange),K||(K=de.range),!K)return;const V=yield Y.openCodeEditor({resource:de.uri,options:{selection:l.Range.collapseToStart(K),selectionRevealType:3,selectionSource:"code.jump"}},se,H);if(!!V){if($){const Q=V.getModel(),ee=V.createDecorationsCollection([{range:K,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{V.getModel()===Q&&ee.clear()},350)}return V}})}_openInPeek(se,Y){const de=o.ReferencesController.get(se);de&&se.hasModel()?de.toggleWidget(se.getSelection(),(0,N.createCancelablePromise)(H=>Promise.resolve(Y)),this.configuration.openInPeek):Y.dispose()}}e.SymbolNavigationAction=X;class J extends X{_getLocationModel(se,Y,de,H){return Le(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,T.getDefinitionsAtPosition)(se.definitionProvider,Y,de,H),S.localize(1,null))})}_getNoResultFoundMessage(se){return se&&se.word?S.localize(2,null,se.word):S.localize(3,null)}_getAlternativeCommand(se){return se.getOption(52).alternativeDefinitionCommand}_getGoToPreference(se){return se.getOption(52).multipleDefinitions}}e.DefinitionAction=J;const ie=w.isWeb&&!(0,y.isStandalone)()?2048|70:70;G((B=class di extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:di.id,label:S.localize(4,null),alias:"Go to Definition",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:ie,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});C.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",di.id)}},B.id="editor.action.revealDefinition",B)),G((R=class ci extends J{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:ci.id,label:S.localize(5,null),alias:"Open Definition to the Side",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2048|41,ie),weight:100}});C.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",ci.id)}},R.id="editor.action.revealDefinitionAside",R)),G((k=class ui extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ui.id,label:S.localize(6,null),alias:"Peek Definition",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:2}});C.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",ui.id)}},k.id="editor.action.peekDefinition",k));class re extends X{_getLocationModel(se,Y,de,H){return Le(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,T.getDeclarationsAtPosition)(se.declarationProvider,Y,de,H),S.localize(7,null))})}_getNoResultFoundMessage(se){return se&&se.word?S.localize(8,null,se.word):S.localize(9,null)}_getAlternativeCommand(se){return se.getOption(52).alternativeDeclarationCommand}_getGoToPreference(se){return se.getOption(52).multipleDeclarations}}G((A=class Gi extends re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Gi.id,label:S.localize(10,null),alias:"Go to Declaration",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDeclarationProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(se){return se&&se.word?S.localize(11,null,se.word):S.localize(12,null)}},A.id="editor.action.revealDeclaration",A)),G(class extends re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:S.localize(13,null),alias:"Peek Declaration",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDeclarationProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:3}})}});class Z extends X{_getLocationModel(se,Y,de,H){return Le(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,T.getTypeDefinitionsAtPosition)(se.typeDefinitionProvider,Y,de,H),S.localize(14,null))})}_getNoResultFoundMessage(se){return se&&se.word?S.localize(15,null,se.word):S.localize(16,null)}_getAlternativeCommand(se){return se.getOption(52).alternativeTypeDefinitionCommand}_getGoToPreference(se){return se.getOption(52).multipleTypeDefinitions}}G((O=class Zi extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zi.ID,label:S.localize(17,null),alias:"Go to Type Definition",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasTypeDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},O.ID="editor.action.goToTypeDefinition",O)),G((F=class Yi extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Yi.ID,label:S.localize(18,null),alias:"Peek Type Definition",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasTypeDefinitionProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:4}})}},F.ID="editor.action.peekTypeDefinition",F));class x extends X{_getLocationModel(se,Y,de,H){return Le(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,T.getImplementationsAtPosition)(se.implementationProvider,Y,de,H),S.localize(19,null))})}_getNoResultFoundMessage(se){return se&&se.word?S.localize(20,null,se.word):S.localize(21,null)}_getAlternativeCommand(se){return se.getOption(52).alternativeImplementationCommand}_getGoToPreference(se){return se.getOption(52).multipleImplementations}}G((W=class Qi extends x{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Qi.ID,label:S.localize(22,null),alias:"Go to Implementations",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasImplementationProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},W.ID="editor.action.goToImplementation",W)),G((M=class Xi extends x{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Xi.ID,label:S.localize(23,null),alias:"Peek Implementations",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasImplementationProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:5}})}},M.ID="editor.action.peekImplementation",M));class U extends X{_getNoResultFoundMessage(se){return se?S.localize(24,null,se.word):S.localize(25,null)}_getAlternativeCommand(se){return se.getOption(52).alternativeReferenceCommand}_getGoToPreference(se){return se.getOption(52).multipleReferences}}G(class extends U{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:S.localize(26,null),alias:"Go to References",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasReferenceProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(se,Y,de,H){return Le(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,T.getReferencesAtPosition)(se.referenceProvider,Y,de,!0,H),S.localize(27,null))})}}),G(class extends U{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:S.localize(28,null),alias:"Peek References",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasReferenceProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(se,Y,de,H){return Le(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,T.getReferencesAtPosition)(se.referenceProvider,Y,de,!1,H),S.localize(29,null))})}});class q extends X{constructor(se,Y,de){super(se,{id:"editor.action.goToLocation",label:S.localize(30,null),alias:"Go to Any Symbol",precondition:_.ContextKeyExpr.and(m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=Y,this._gotoMultipleBehaviour=de}_getLocationModel(se,Y,de,H){return Le(this,void 0,void 0,function*(){return new r.ReferencesModel(this._references,S.localize(31,null))})}_getNoResultFoundMessage(se){return se&&S.localize(32,null,se.word)||""}_getGoToPreference(se){var Y;return(Y=this._gotoMultipleBehaviour)!==null&&Y!==void 0?Y:se.getOption(52).multipleReferences}_getAlternativeCommand(){return""}}C.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.URI},{name:"position",description:"The position at which to start",constraint:s.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(le,se,Y,de,H,$,K)=>Le(void 0,void 0,void 0,function*(){(0,b.assertType)(v.URI.isUri(se)),(0,b.assertType)(s.Position.isIPosition(Y)),(0,b.assertType)(Array.isArray(de)),(0,b.assertType)(typeof H=="undefined"||typeof H=="string"),(0,b.assertType)(typeof K=="undefined"||typeof K=="boolean");const V=le.get(n.ICodeEditorService),Q=yield V.openCodeEditor({resource:se},V.getFocusedCodeEditor());if((0,h.isCodeEditor)(Q))return Q.setPosition(Y),Q.revealPositionInCenterIfOutsideViewport(Y,0),Q.invokeWithinContext(ee=>{const ae=new class extends q{_getNoResultFoundMessage(fe){return $||super._getNoResultFoundMessage(fe)}}({muteMessage:!Boolean($),openInPeek:Boolean(K),openToSide:!1},de,H);ee.get(L.IInstantiationService).invokeFunction(ae.run.bind(ae),Q)})})}),C.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.URI},{name:"position",description:"The position at which to start",constraint:s.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(le,se,Y,de,H)=>Le(void 0,void 0,void 0,function*(){le.get(C.ICommandService).executeCommand("editor.action.goToLocations",se,Y,de,H,void 0,!0)})}),C.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(le,se,Y)=>{(0,b.assertType)(v.URI.isUri(se)),(0,b.assertType)(s.Position.isIPosition(Y));const de=le.get(P.ILanguageFeaturesService),H=le.get(n.ICodeEditorService);return H.openCodeEditor({resource:se},H.getFocusedCodeEditor()).then($=>{if(!(0,h.isCodeEditor)($)||!$.hasModel())return;const K=o.ReferencesController.get($);if(!K)return;const V=(0,N.createCancelablePromise)(ee=>(0,T.getReferencesAtPosition)(de.referenceProvider,$.getModel(),s.Position.lift(Y),!1,ee).then(ae=>new r.ReferencesModel(ae,S.localize(33,null)))),Q=new l.Range(Y.lineNumber,Y.column,Y.lineNumber,Y.column);return Promise.resolve(K.toggleWidget(Q,V,!1))})}}),C.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),p.MenuRegistry.appendMenuItems([{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:S.localize(34,null)},group:"4_symbol_nav",order:2}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:S.localize(35,null)},group:"4_symbol_nav",order:3}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:S.localize(36,null)},group:"4_symbol_nav",order:3}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:S.localize(37,null)},group:"4_symbol_nav",order:4}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:S.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(ne[315],oe([1,0,10,13,65,2,19,93,12,3,38,58,198,118,557,16,25,15,218,304,20,394]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let g=class $t{constructor(S,p,C,_){this.textModelResolverService=p,this.languageService=C,this.languageFeaturesService=_,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=S,this.linkDecorations=this.editor.createDecorationsCollection();const L=new n.ClickLinkGesture(S);this.toUnhook.add(L),this.toUnhook.add(L.onMouseMoveOrRelevantKeyDown(([E,I])=>{this.startFindDefinitionFromMouse(E,(0,w.withNullAsUndefined)(I))})),this.toUnhook.add(L.onExecute(E=>{this.isEnabled(E)&&this.gotoDefinition(E.target.position,E.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},I=>{this.removeLinkDecorations(),(0,f.onUnexpectedError)(I)})})),this.toUnhook.add(L.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(S){return S.getContribution($t.ID)}startFindDefinitionFromCursor(S){return this.startFindDefinition(S).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(p=>{p&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(S,p){if(S.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(S,p)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const C=S.target.position;this.startFindDefinition(C)}startFindDefinition(S){var p;this.toUnhookForKeyboard.clear();const C=S?(p=this.editor.getModel())===null||p===void 0?void 0:p.getWordAtPosition(S):null;if(!C)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===C.startColumn&&this.currentWordAtPosition.endColumn===C.endColumn&&this.currentWordAtPosition.word===C.word)return Promise.resolve(0);this.currentWordAtPosition=C;const _=new b.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,y.createCancelablePromise)(L=>this.findDefinition(S,L)),this.previousPromise.then(L=>{if(!L||!L.length||!_.validate(this.editor)){this.removeLinkDecorations();return}if(L.length>1)this.addDecoration(new u.Range(S.lineNumber,C.startColumn,S.lineNumber,C.endColumn),new N.MarkdownString().appendText(s.localize(0,null,L.length)));else{const E=L[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:P}=E.range;if(P<1||P>T.getLineCount()){I.dispose();return}const B=this.getPreviewValue(T,P,E);let R;E.originSelectionRange?R=u.Range.lift(E.originSelectionRange):R=new u.Range(S.lineNumber,C.startColumn,S.lineNumber,C.endColumn);const k=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(R,new N.MarkdownString().appendCodeblock(k||"",B)),I.dispose()})}}).then(void 0,f.onUnexpectedError)}getPreviewValue(S,p,C){let _=C.range;return _.endLineNumber-_.startLineNumber>=$t.MAX_SOURCE_PREVIEW_LINES&&(_=this.getPreviewRangeBasedOnIndentation(S,p)),this.stripIndentationFromPreviewRange(S,p,_)}stripIndentationFromPreviewRange(S,p,C){let L=S.getLineFirstNonWhitespaceColumn(p);for(let I=p+1;I<C.endLineNumber;I++){const T=S.getLineFirstNonWhitespaceColumn(I);L=Math.min(L,T)}return S.getValueInRange(C).replace(new RegExp(`^\\s{${L-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(S,p){const C=S.getLineFirstNonWhitespaceColumn(p),_=Math.min(S.getLineCount(),p+$t.MAX_SOURCE_PREVIEW_LINES);let L=p+1;for(;L<_;L++){const E=S.getLineFirstNonWhitespaceColumn(L);if(C===E)break}return new u.Range(p,1,L+1,1)}addDecoration(S,p){const C={range:S,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:p}};this.linkDecorations.set([C])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(S,p){return this.editor.hasModel()&&S.isNoneOrSingleMouseDown&&S.target.type===6&&(S.hasTriggerModifier||(p?p.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(S,p){const C=this.editor.getModel();return C?(0,r.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,C,S,p):Promise.resolve(null)}gotoDefinition(S,p){return this.editor.setPosition(S),this.editor.invokeWithinContext(C=>{const _=!p&&this.editor.getOption(79)&&!this.isInPeekEditor(C);return new o.DefinitionAction({openToSide:p,openInPeek:_,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(C,this.editor)})}isInPeekEditor(S){const p=S.get(l.IContextKeyService);return t.PeekContext.inPeekEditor.getValue(p)}dispose(){this.toUnhook.dispose()}};g.ID="editor.contrib.gotodefinitionatposition",g.MAX_SOURCE_PREVIEW_LINES=8,g=De([ge(1,i.ITextModelService),ge(2,h.ILanguageService),ge(3,c.ILanguageFeaturesService)],g),e.GotoDefinitionAtPositionEditorContribution=g,(0,v.registerEditorContribution)(g.ID,g),(0,a.registerThemingParticipant)((m,S)=>{const p=m.getColor(d.editorActiveLinkForeground);p&&S.addRule(`.monaco-editor .goto-definition-link { color: ${p} !important; }`)})}),define(ne[754],oe([1,0,7,18,10,13,2,42,3,207,165,306,160,313,565,83,45,77,25,15,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const g=y.$;class m{constructor(_,L,E){this.owner=_,this.range=L,this.marker=E}isValidForHoverAnchor(_){return _.type===1&&this.range.startColumn<=_.range.startColumn&&this.range.endColumn>=_.range.endColumn}}e.MarkerHover=m;const S={type:1,filter:{include:n.CodeActionKind.QuickFix}};let p=class{constructor(_,L,E,I){this._editor=_,this._markerDecorationsService=L,this._openerService=E,this._languageFeaturesService=I,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(_,L){if(!this._editor.hasModel()||_.type!==1)return[];const E=this._editor.getModel(),I=_.range.startLineNumber,T=E.getLineMaxColumn(I),P=[];for(const B of L){const R=B.range.startLineNumber===I?B.range.startColumn:1,k=B.range.endLineNumber===I?B.range.endColumn:T,A=this._markerDecorationsService.getMarker(E.uri,B);if(!A)continue;const O=new v.Range(_.range.startLineNumber,R,_.range.startLineNumber,k);P.push(new m(this,O,A))}return P}renderHoverParts(_,L){if(!L.length)return w.Disposable.None;const E=new w.DisposableStore;L.forEach(T=>_.fragment.appendChild(this.renderMarkerHover(T,E)));const I=L.length===1?L[0]:L.sort((T,P)=>l.MarkerSeverity.compare(T.marker.severity,P.marker.severity))[0];return this.renderMarkerStatusbar(_,I,E),E}renderMarkerHover(_,L){const E=g("div.hover-row"),I=y.append(E,g("div.marker.hover-contents")),{source:T,message:P,code:B,relatedInformation:R}=_.marker;this._editor.applyFontInfo(I);const k=y.append(I,g("span"));if(k.style.whiteSpace="pre-wrap",k.innerText=P,T||B)if(B&&typeof B!="string"){const A=g("span");if(T){const M=y.append(A,g("span"));M.innerText=T}const O=y.append(A,g("a.code-link"));O.setAttribute("href",B.target.toString()),L.add(y.addDisposableListener(O,"click",M=>{this._openerService.open(B.target,{allowCommands:!0}),M.preventDefault(),M.stopPropagation()}));const F=y.append(O,g("span"));F.innerText=B.value;const W=y.append(I,A);W.style.opacity="0.6",W.style.paddingLeft="6px"}else{const A=y.append(I,g("span"));A.style.opacity="0.6",A.style.paddingLeft="6px",A.innerText=T&&B?`${T}(${B})`:T||`(${B})`}if((0,f.isNonEmptyArray)(R))for(const{message:A,resource:O,startLineNumber:F,startColumn:W}of R){const M=y.append(I,g("div"));M.style.marginTop="8px";const z=y.append(M,g("a"));z.innerText=`${(0,b.basename)(O)}(${F}, ${W}): `,z.style.cursor="pointer",L.add(y.addDisposableListener(z,"click",te=>{te.stopPropagation(),te.preventDefault(),this._openerService&&this._openerService.open(O,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:F,startColumn:W}}}).catch(D.onUnexpectedError)}));const G=y.append(M,g("span"));G.innerText=A,this._editor.applyFontInfo(G)}return E}renderMarkerStatusbar(_,L,E){if((L.marker.severity===l.MarkerSeverity.Error||L.marker.severity===l.MarkerSeverity.Warning||L.marker.severity===l.MarkerSeverity.Info)&&_.statusBar.addAction({label:s.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{var I;_.hide(),(I=t.MarkerController.get(this._editor))===null||I===void 0||I.showAtMarker(L.marker),this._editor.focus()}}),!this._editor.getOption(82)){const I=_.statusBar.append(g("div"));this.recentMarkerCodeActionsInfo&&(l.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===l.IMarkerData.makeKey(L.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(I.textContent=s.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const T=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?w.Disposable.None:E.add((0,N.disposableTimeout)(()=>I.textContent=s.localize(2,null),200));I.textContent||(I.textContent=String.fromCharCode(160));const P=this.getCodeActions(L.marker);E.add((0,w.toDisposable)(()=>P.cancel())),P.then(B=>{if(T.dispose(),this.recentMarkerCodeActionsInfo={marker:L.marker,hasCodeActions:B.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){B.dispose(),I.textContent=s.localize(3,null);return}I.style.display="none";let R=!1;E.add((0,w.toDisposable)(()=>{R||B.dispose()})),_.statusBar.addAction({label:s.localize(4,null),commandId:i.QuickFixAction.Id,run:k=>{R=!0;const A=i.QuickFixController.get(this._editor),O=y.getDomNodePagePosition(k);_.hide(),A==null||A.showCodeActions(S,B,{x:O.left+6,y:O.top+O.height+6,width:O.width,height:O.height})}})},D.onUnexpectedError)}}getCodeActions(_){return(0,N.createCancelablePromise)(L=>(0,h.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new v.Range(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn),S,a.Progress.None,L))}};p=De([ge(1,u.IMarkerDecorationsService),ge(2,d.IOpenerService),ge(3,c.ILanguageFeaturesService)],p),e.MarkerHoverParticipant=p,(0,r.registerThemingParticipant)((C,_)=>{const L=C.getColor(o.textLinkForeground);L&&_.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${L}; }`);const E=C.getColor(o.textLinkActiveForeground);E&&_.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${E}; }`)})}),define(ne[316],oe([1,0,59,2,12,3,24,38,315,743,649,563,16,8,45,25,15,87,216,754]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let c=class Ji{constructor(p,C,_,L,E){this._editor=p,this._instantiationService=C,this._openerService=_,this._languageService=L,this._toUnhook=new f.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(I=>{I.hasChanged(54)&&(this._unhookEvents(),this._hookEvents())})}static get(p){return p.getContribution(Ji.ID)}_hookEvents(){const p=()=>this._hideWidgets(),C=this._editor.getOption(54);this._isHoverEnabled=C.enabled,this._isHoverSticky=C.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(_=>this._onEditorMouseDown(_))),this._toUnhook.add(this._editor.onMouseUp(_=>this._onEditorMouseUp(_))),this._toUnhook.add(this._editor.onMouseMove(_=>this._onEditorMouseMove(_))),this._toUnhook.add(this._editor.onKeyDown(_=>this._onKeyDown(_)))):(this._toUnhook.add(this._editor.onMouseMove(_=>this._onEditorMouseMove(_))),this._toUnhook.add(this._editor.onKeyDown(_=>this._onKeyDown(_)))),this._toUnhook.add(this._editor.onMouseLeave(_=>this._onEditorMouseLeave(_))),this._toUnhook.add(this._editor.onDidChangeModel(p)),this._toUnhook.add(this._editor.onDidScrollChange(_=>this._onEditorScrollChanged(_)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(p){(p.scrollTopChanged||p.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(p){this._isMouseDown=!0;const C=p.target;if(C.type===9&&C.detail===u.ContentHoverWidget.ID){this._hoverClicked=!0;return}C.type===12&&C.detail===h.MarginHoverWidget.ID||(C.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(p){this._isMouseDown=!1}_onEditorMouseLeave(p){var C;const _=p.event.browserEvent.relatedTarget;((C=this._contentWidget)===null||C===void 0?void 0:C.containsNode(_))||this._hideWidgets()}_onEditorMouseMove(p){var C,_,L,E,I;const T=p.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&T.type===9&&T.detail===u.ContentHoverWidget.ID||this._isHoverSticky&&!((_=(C=p.event.browserEvent.view)===null||C===void 0?void 0:C.getSelection())===null||_===void 0?void 0:_.isCollapsed)||!this._isHoverSticky&&T.type===9&&T.detail===u.ContentHoverWidget.ID&&((L=this._contentWidget)===null||L===void 0?void 0:L.isColorPickerVisible())||this._isHoverSticky&&T.type===12&&T.detail===h.MarginHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(p)){(E=this._glyphWidget)===null||E===void 0||E.hide();return}if(T.type===2&&T.position){(I=this._contentWidget)===null||I===void 0||I.hide(),this._glyphWidget||(this._glyphWidget=new h.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(T.position.lineNumber);return}this._hideWidgets()}_onKeyDown(p){p.keyCode!==5&&p.keyCode!==6&&p.keyCode!==57&&p.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var p,C,_;this._isMouseDown&&this._hoverClicked&&((p=this._contentWidget)===null||p===void 0?void 0:p.isColorPickerVisible())||(this._hoverClicked=!1,(C=this._glyphWidget)===null||C===void 0||C.hide(),(_=this._contentWidget)===null||_===void 0||_.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(u.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var p;return((p=this._contentWidget)===null||p===void 0?void 0:p.isColorPickerVisible())||!1}showContentHover(p,C,_){this._getOrCreateContentWidget().startShowingAtRange(p,C,_)}dispose(){var p,C;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(p=this._glyphWidget)===null||p===void 0||p.dispose(),(C=this._contentWidget)===null||C===void 0||C.dispose()}};c.ID="editor.contrib.hover",c=De([ge(1,t.IInstantiationService),ge(2,s.IOpenerService),ge(3,b.ILanguageService),ge(4,n.IContextKeyService)],c),e.ModesHoverController=c;class g extends N.EditorAction{constructor(){super({id:"editor.action.showHover",label:i.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|39),weight:100}})}run(p,C){if(!C.hasModel())return;const _=c.get(C);if(!_)return;const L=C.getPosition(),E=new D.Range(L.lineNumber,L.column,L.lineNumber,L.column),I=C.getOption(2)===2;_.showContentHover(E,1,I)}}class m extends N.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:i.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(p,C){const _=c.get(C);if(!_)return;const L=C.getPosition();if(!L)return;const E=new D.Range(L.lineNumber,L.column,L.lineNumber,L.column),I=v.GotoDefinitionAtPositionEditorContribution.get(C);if(!I)return;I.startFindDefinitionFromCursor(L).then(()=>{_.showContentHover(E,1,!0)})}}(0,N.registerEditorContribution)(c.ID,c),(0,N.registerEditorAction)(g),(0,N.registerEditorAction)(m),a.HoverParticipantRegistry.register(o.MarkdownHoverParticipant),a.HoverParticipantRegistry.register(r.MarkerHoverParticipant),(0,d.registerThemingParticipant)((S,p)=>{const C=S.getColor(l.editorHoverHighlight);C&&p.addRule(`.monaco-editor .hoverHighlight { background-color: ${C}; }`);const _=S.getColor(l.editorHoverBackground);_&&p.addRule(`.monaco-editor .monaco-hover { background-color: ${_}; }`);const L=S.getColor(l.editorHoverBorder);L&&(p.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${L}; }`),p.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${L.transparent(.5)}; }`),p.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${L.transparent(.5)}; }`),p.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${L.transparent(.5)}; }`));const E=S.getColor(l.textLinkForeground);E&&p.addRule(`.monaco-editor .monaco-hover a { color: ${E}; }`);const I=S.getColor(l.textLinkActiveForeground);I&&p.addRule(`.monaco-editor .monaco-hover a:hover { color: ${I}; }`);const T=S.getColor(l.editorHoverForeground);T&&p.addRule(`.monaco-editor .monaco-hover { color: ${T}; }`);const P=S.getColor(l.editorHoverStatusBarBackground);P&&p.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${P}; }`);const B=S.getColor(l.textCodeBlockBackground);B&&p.addRule(`.monaco-editor .monaco-hover code { background-color: ${B}; }`)})}),define(ne[755],oe([1,0,2,12,3,311,735,316,87]),function(j,e,y,f,N,D,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class u extends y.Disposable{constructor(i){super();this._editor=i,this._register(i.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(i){const n=i.target;if(n.type!==6||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!n.range)return;const t=this._editor.getContribution(b.ModesHoverController.ID);if(!!t&&!t.isColorPickerVisible()){const s=new N.Range(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);t.showContentHover(s,1,!1)}}}e.ColorContribution=u,u.ID="editor.contrib.colorContribution",(0,f.registerEditorContribution)(u.ID,u),v.HoverParticipantRegistry.register(w.ColorHoverParticipant)}),define(ne[756],oe([1,0,7,49,21,12,3,58,218,118,41,26,16,82,8,40]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function d(o,r,c,g){var m;return Le(this,void 0,void 0,function*(){const S=o.get(b.ITextModelService),p=o.get(t.IContextMenuService),C=o.get(i.ICommandService),_=o.get(s.IInstantiationService),L=o.get(l.INotificationService);if(yield g.item.resolve(N.CancellationToken.None),!g.part.location)return;const E=g.part.location,I=[],T=new Set(h.MenuRegistry.getMenuItems(h.MenuId.EditorContext).map(B=>(0,h.isIMenuItem)(B)?B.command.id:""));for(const B of D.EditorExtensionsRegistry.getEditorActions())B instanceof v.SymbolNavigationAction&&T.has(B.id)&&I.push(new f.Action(B.id,B.label,void 0,!0,()=>Le(this,void 0,void 0,function*(){const R=yield S.createModelReference(E.uri);try{yield _.invokeFunction(B.run.bind(B),r,new v.SymbolNavigationAnchor(R.object.textEditorModel,w.Range.getStartPosition(E.range)))}finally{R.dispose()}})));if(g.part.command){const{command:B}=g.part;I.push(new f.Separator),I.push(new f.Action(B.id,B.title,void 0,!0,()=>Le(this,void 0,void 0,function*(){var R;try{yield C.executeCommand(B.id,...(R=B.arguments)!==null&&R!==void 0?R:[])}catch(k){L.notify({severity:l.Severity.Error,source:g.item.provider.displayName,message:k})}})))}const P=r.getOption(116);p.showContextMenu({domForShadowRoot:P&&(m=r.getDomNode())!==null&&m!==void 0?m:void 0,getAnchor:()=>{const B=y.getDomNodePagePosition(c);return{x:B.left,y:B.top+B.height+8}},getActions:()=>I,onHide:()=>{r.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=d;function a(o,r,c,g){return Le(this,void 0,void 0,function*(){const S=yield o.get(b.ITextModelService).createModelReference(g.uri);yield c.invokeWithinContext(p=>Le(this,void 0,void 0,function*(){const C=r.hasSideBySideModifier,_=p.get(n.IContextKeyService),L=u.PeekContext.inPeekEditor.getValue(_),E=!C&&c.getOption(79)&&!L;return new v.DefinitionAction({openToSide:C,openInPeek:E,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(p,c,{model:S.object.textEditorModel,position:w.Range.getStartPosition(g.range)})})),S.dispose()})}e.goToDefinitionWithLocation=a}),define(ne[317],oe([1,0,7,18,10,21,13,2,51,19,22,139,34,61,3,28,48,37,71,20,58,198,270,756,26,53,8,40,25,15]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class T{constructor(){this._entries=new v.LRUCache(50)}get(F){const W=T._key(F);return this._entries.get(W)}set(F,W){const M=T._key(F);this._entries.set(M,W)}static _key(F){return`${F.uri.toString()}/${F.getVersionId()}`}}const P=(0,_.createDecorator)("IInlayHintsCache");(0,C.registerSingleton)(P,T,!0);class B{constructor(F,W){this.item=F,this.index=W}get part(){const F=this.item.hint.label;return typeof F=="string"?{label:F}:F[this.index]}}e.RenderedInlayHintLabelPart=B;class R{constructor(F,W){this.part=F,this.hasTriggerModifier=W}}let k=class hi{constructor(F,W,M,z,G,te,X){this._editor=F,this._languageFeaturesService=W,this._inlayHintsCache=z,this._commandService=G,this._notificationService=te,this._instaService=X,this._disposables=new b.DisposableStore,this._sessionDisposables=new b.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new i.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=M.for(W.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(W.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(F.onDidChangeModel(()=>this._update())),this._disposables.add(F.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(F.onDidChangeConfiguration(J=>{J.hasChanged(128)&&this._update()})),this._update()}static get(F){var W;return(W=F.getContribution(hi.ID))!==null&&W!==void 0?W:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const F=this._editor.getOption(128);if(F.enabled==="off")return;const W=this._editor.getModel();if(!W||!this._languageFeaturesService.inlayHintsProvider.has(W))return;const M=this._inlayHintsCache.get(W);M&&this._updateHintsDecorators([W.getFullModelRange()],M),this._sessionDisposables.add((0,b.toDisposable)(()=>{W.isDisposed()||this._cacheHintsForFastRestore(W)}));let z;const G=new Set,te=new N.RunOnceScheduler(()=>Le(this,void 0,void 0,function*(){const X=Date.now();z==null||z.dispose(!0),z=new D.CancellationTokenSource;const J=W.onWillDispose(()=>z==null?void 0:z.cancel());try{const ie=z.token,re=yield m.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,W,this._getHintsRanges(),ie);if(te.delay=this._debounceInfo.update(W,Date.now()-X),ie.isCancellationRequested){re.dispose();return}for(const Z of re.provider)typeof Z.onDidChangeInlayHints=="function"&&!G.has(Z)&&(G.add(Z),this._sessionDisposables.add(Z.onDidChangeInlayHints(()=>{te.isScheduled()||te.schedule()})));this._sessionDisposables.add(re),this._updateHintsDecorators(re.ranges,re.items),this._cacheHintsForFastRestore(W)}catch(ie){(0,w.onUnexpectedError)(ie)}finally{z.dispose(),J.dispose()}}),this._debounceInfo.get(W));if(this._sessionDisposables.add(te),this._sessionDisposables.add((0,b.toDisposable)(()=>z==null?void 0:z.dispose(!0))),te.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(X=>{(X.scrollTopChanged||!te.isScheduled())&&te.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(X=>{const J=Math.max(te.delay,1250);te.schedule(J)})),F.enabled==="on")this._activeRenderMode=0;else{let X,J;F.enabled==="onUnlessPressed"?(X=0,J=1):(X=1,J=0),this._activeRenderMode=X,this._sessionDisposables.add(y.ModifierKeyEmitter.getInstance().event(ie=>{if(!this._editor.hasModel())return;const re=ie.altKey&&ie.ctrlKey?J:X;if(re!==this._activeRenderMode){this._activeRenderMode=re;const Z=this._editor.getModel(),x=this._copyInlayHintsWithCurrentAnchor(Z);this._updateHintsDecorators([Z.getFullModelRange()],x),te.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>te.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const F=new b.DisposableStore,W=F.add(new g.ClickLinkGesture(this._editor)),M=new b.DisposableStore;return F.add(M),F.add(W.onMouseMoveOrRelevantKeyDown(z=>{const[G]=z,te=this._getInlayHintLabelPart(G),X=this._editor.getModel();if(!te||!X){M.clear();return}const J=new D.CancellationTokenSource;M.add((0,b.toDisposable)(()=>J.dispose(!0))),te.item.resolve(J.token),this._activeInlayHintPart=te.part.command||te.part.location?new R(te,G.hasTriggerModifier):void 0;const ie=te.item.hint.position.lineNumber,re=new s.Range(ie,1,ie,X.getLineMaxColumn(ie)),Z=this._getInlineHintsForRange(re);this._updateHintsDecorators([re],Z),M.add((0,b.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([re],Z)}))})),F.add(W.onCancel(()=>M.clear())),F.add(W.onExecute(z=>Le(this,void 0,void 0,function*(){const G=this._getInlayHintLabelPart(z);if(G){const te=G.part;te.location?this._instaService.invokeFunction(S.goToDefinitionWithLocation,z,this._editor,te.location):l.Command.is(te.command)&&(yield this._invokeCommand(te.command,G.item))}}))),F}_getInlineHintsForRange(F){const W=new Set;for(const M of this._decorationsMetadata.values())F.containsRange(M.item.anchor.range)&&W.add(M.item);return Array.from(W)}_installDblClickGesture(F){return this._editor.onMouseUp(W=>Le(this,void 0,void 0,function*(){if(W.event.detail!==2)return;const M=this._getInlayHintLabelPart(W);if(!!M&&(W.event.preventDefault(),yield M.item.resolve(D.CancellationToken.None),(0,f.isNonEmptyArray)(M.item.hint.textEdits))){const z=M.item.hint.textEdits.map(G=>t.EditOperation.replace(s.Range.lift(G.range),G.text));this._editor.executeEdits("inlayHint.default",z),F()}}))}_installContextMenu(){return this._editor.onContextMenu(F=>Le(this,void 0,void 0,function*(){if(!(F.event.target instanceof HTMLElement))return;const W=this._getInlayHintLabelPart(F);W&&(yield this._instaService.invokeFunction(S.showGoToContextMenu,this._editor,F.event.target,W))}))}_getInlayHintLabelPart(F){var W;if(F.target.type!==6)return;const M=(W=F.target.detail.injectedText)===null||W===void 0?void 0:W.options;if(M instanceof a.ModelDecorationInjectedTextOptions&&(M==null?void 0:M.attachedData)instanceof B)return M.attachedData}_invokeCommand(F,W){var M;return Le(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(F.id,...(M=F.arguments)!==null&&M!==void 0?M:[])}catch(z){this._notificationService.notify({severity:L.Severity.Error,source:W.provider.displayName,message:z})}})}_cacheHintsForFastRestore(F){const W=this._copyInlayHintsWithCurrentAnchor(F);this._inlayHintsCache.set(F,W)}_copyInlayHintsWithCurrentAnchor(F){const W=new Map;for(const[M,z]of this._decorationsMetadata){if(W.has(z.item))continue;const G=F.getDecorationRange(M);if(G){const te=new m.InlayHintAnchor(G,z.item.anchor.direction),X=z.item.with({anchor:te});W.set(z.item,X)}}return Array.from(W.values())}_getHintsRanges(){const F=30,W=this._editor.getModel(),M=this._editor.getVisibleRangesPlusViewportAboveBelow(),z=[];for(const G of M.sort(s.Range.compareRangesUsingStarts)){const te=W.validateRange(new s.Range(G.startLineNumber-F,G.startColumn,G.endLineNumber+F,G.endColumn));z.length===0||!s.Range.areIntersectingOrTouching(z[z.length-1],te)?z.push(te):z[z.length-1]=s.Range.plusRange(z[z.length-1],te)}return z}_updateHintsDecorators(F,W){var M,z;const G=[],te=(U,q,le,se,Y)=>{const de={content:le,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:q.className,cursorStops:se,attachedData:Y};G.push({item:U,classNameRef:q,decoration:{range:U.anchor.range,options:{description:"InlayHint",showIfCollapsed:U.anchor.range.isEmpty(),collapseOnReplaceEdit:!U.anchor.range.isEmpty(),stickiness:0,[U.anchor.direction]:this._activeRenderMode===0?de:void 0}}})},X=(U,q)=>{const le=this._ruleFactory.createClassNameRef({width:`${J/3|0}px`,display:"inline-block"});te(U,le,"\u200A",q?d.InjectedTextCursorStops.Right:d.InjectedTextCursorStops.None)},{fontSize:J,fontFamily:ie,padding:re}=this._getLayoutInfo(),Z="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Z,ie);for(const U of W){U.hint.paddingLeft&&X(U,!1);const q=typeof U.hint.label=="string"?[{label:U.hint.label}]:U.hint.label;for(let le=0;le<q.length;le++){const se=q[le],Y=le===0,de=le===q.length-1,H={fontSize:`${J}px`,fontFamily:`var(${Z}), ${n.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:"middle"};(0,f.isNonEmptyArray)(U.hint.textEdits)&&(H.cursor="default"),this._fillInColors(H,U.hint),(se.command||se.location)&&((M=this._activeInlayHintPart)===null||M===void 0?void 0:M.part.item)===U&&this._activeInlayHintPart.part.index===le&&(H.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(H.color=(0,I.themeColorFromId)(E.editorActiveLinkForeground),H.cursor="pointer")),re&&(Y&&de?(H.padding=`1px ${Math.max(1,J/4)|0}px`,H.borderRadius=`${J/4|0}px`):Y?(H.padding=`1px 0 1px ${Math.max(1,J/4)|0}px`,H.borderRadius=`${J/4|0}px 0 0 ${J/4|0}px`):de?(H.padding=`1px ${Math.max(1,J/4)|0}px 1px 0`,H.borderRadius=`0 ${J/4|0}px ${J/4|0}px 0`):H.padding="1px 0 1px 0"),te(U,this._ruleFactory.createClassNameRef(H),A(se.label),de&&!U.hint.paddingRight?d.InjectedTextCursorStops.Right:d.InjectedTextCursorStops.None,new B(U,le))}if(U.hint.paddingRight&&X(U,!0),G.length>hi._MAX_DECORATORS)break}const x=[];for(const U of F)for(const{id:q}of(z=this._editor.getDecorationsInRange(U))!==null&&z!==void 0?z:[]){const le=this._decorationsMetadata.get(q);le&&(x.push(q),le.classNameRef.dispose(),this._decorationsMetadata.delete(q))}this._editor.changeDecorations(U=>{const q=U.deltaDecorations(x,G.map(le=>le.decoration));for(let le=0;le<q.length;le++){const se=G[le];this._decorationsMetadata.set(q[le],se)}})}_fillInColors(F,W){W.kind===l.InlayHintKind.Parameter?(F.backgroundColor=(0,I.themeColorFromId)(E.editorInlayHintParameterBackground),F.color=(0,I.themeColorFromId)(E.editorInlayHintParameterForeground)):W.kind===l.InlayHintKind.Type?(F.backgroundColor=(0,I.themeColorFromId)(E.editorInlayHintTypeBackground),F.color=(0,I.themeColorFromId)(E.editorInlayHintTypeForeground)):(F.backgroundColor=(0,I.themeColorFromId)(E.editorInlayHintBackground),F.color=(0,I.themeColorFromId)(E.editorInlayHintForeground))}_getLayoutInfo(){const F=this._editor.getOption(128),W=this._editor.getOption(47);let M=F.fontSize;(!M||M<5||M>W)&&(M=W);const z=F.fontFamily||this._editor.getOption(44);return{fontSize:M,fontFamily:z,padding:F.padding}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(const F of this._decorationsMetadata.values())F.classNameRef.dispose();this._decorationsMetadata.clear()}};k.ID="editor.contrib.InlayHints",k._MAX_DECORATORS=1500,k=De([ge(1,r.ILanguageFeaturesService),ge(2,o.ILanguageFeatureDebounceService),ge(3,P),ge(4,p.ICommandService),ge(5,L.INotificationService),ge(6,_.IInstantiationService)],k),e.InlayHintsController=k;function A(O){const F="\xA0";return O.replace(/[ \t]/g,F)}p.CommandsRegistry.registerCommand("_executeInlayHintProvider",(O,...F)=>Le(void 0,void 0,void 0,function*(){const[W,M]=F;(0,u.assertType)(h.URI.isUri(W)),(0,u.assertType)(s.Range.isIRange(M));const{inlayHintsProvider:z}=O.get(r.ILanguageFeaturesService),G=yield O.get(c.ITextModelService).createModelReference(W);try{const te=yield m.InlayHintsFragments.create(z,G.object.textEditorModel,[s.Range.lift(M)],D.CancellationToken.None),X=te.items.map(J=>J.hint);return setTimeout(()=>te.dispose(),0),X}finally{G.dispose()}}))});var Ct=this&&this.__asyncValues||function(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=j[Symbol.asyncIterator],y;return e?e.call(j):(j=typeof __values=="function"?__values(j):j[Symbol.iterator](),y={},f("next"),f("throw"),f("return"),y[Symbol.asyncIterator]=function(){return this},y);function f(D){y[D]=j[D]&&function(w){return new Promise(function(b,v){w=j[D](w),N(b,v,w.done,w.value)})}}function N(D,w,b,v){Promise.resolve(v).then(function(u){D({value:u,done:b})},w)}};define(ne[757],oe([1,0,10,65,11,37,87,38,58,305,216,317,30,45,20,568,17,270,18]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class r extends w.HoverForeignElementAnchor{constructor(m,S){super(10,S,m.item.anchor.range);this.part=m}}let c=class extends h.MarkdownHoverParticipant{constructor(m,S,p,C,_,L){super(m,S,p,C,L);this._resolverService=_,this.hoverOrdinal=6}suggestHoverAnchor(m){var S;if(!i.InlayHintsController.get(this._editor)||m.target.type!==6)return null;const C=(S=m.target.detail.injectedText)===null||S===void 0?void 0:S.options;return C instanceof D.ModelDecorationInjectedTextOptions&&C.attachedData instanceof i.RenderedInlayHintLabelPart?new r(C.attachedData,this):null}computeSync(){return[]}computeAsync(m,S,p){return m instanceof r?new y.AsyncIterableObject(C=>Le(this,void 0,void 0,function*(){var _,L;const{part:E}=m;if(yield E.item.resolve(p),p.isCancellationRequested)return;let I;typeof E.item.hint.tooltip=="string"?I=new f.MarkdownString().appendText(E.item.hint.tooltip):E.item.hint.tooltip&&(I=E.item.hint.tooltip),I&&C.emitOne(new h.MarkdownHover(this,m.range,[I],0)),(0,o.isNonEmptyArray)(E.item.hint.textEdits)&&C.emitOne(new h.MarkdownHover(this,m.range,[new f.MarkdownString().appendText((0,l.localize)(0,null))],10001));let T;if(typeof E.part.tooltip=="string"?T=new f.MarkdownString().appendText(E.part.tooltip):E.part.tooltip&&(T=E.part.tooltip),T&&C.emitOne(new h.MarkdownHover(this,m.range,[T],1)),E.part.location||E.part.command){let k;const O=this._editor.getOption(71)==="altKey"?d.isMacintosh?(0,l.localize)(1,null):(0,l.localize)(2,null):d.isMacintosh?(0,l.localize)(3,null):(0,l.localize)(4,null);E.part.location&&E.part.command?k=new f.MarkdownString().appendText((0,l.localize)(5,null,O)):E.part.location?k=new f.MarkdownString().appendText((0,l.localize)(6,null,O)):E.part.command&&(k=new f.MarkdownString(`[${(0,l.localize)(7,null)}](${(0,a.asCommandLink)(E.part.command)} "${E.part.command.title}") (${O})`,{isTrusted:!0})),k&&C.emitOne(new h.MarkdownHover(this,m.range,[k],1e4))}const P=yield this._resolveInlayHintLabelPartHover(E,p);try{for(var B=Ct(P),R;R=yield B.next(),!R.done;){const k=R.value;C.emitOne(k)}}catch(k){_={error:k}}finally{try{R&&!R.done&&(L=B.return)&&(yield L.call(B))}finally{if(_)throw _.error}}})):y.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(m,S){return Le(this,void 0,void 0,function*(){if(!m.part.location)return y.AsyncIterableObject.EMPTY;const{uri:p,range:C}=m.part.location,_=yield this._resolverService.createModelReference(p);try{const L=_.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(L)?(0,u.getHover)(this._languageFeaturesService.hoverProvider,L,new N.Position(C.startLineNumber,C.startColumn),S).filter(E=>!(0,f.isEmptyMarkdownString)(E.hover.contents)).map(E=>new h.MarkdownHover(this,m.item.anchor.range,E.hover.contents,2+E.ordinal)):y.AsyncIterableObject.EMPTY}finally{_.dispose()}})}};c=De([ge(1,b.ILanguageService),ge(2,t.IOpenerService),ge(3,n.IConfigurationService),ge(4,v.ITextModelService),ge(5,s.ILanguageFeaturesService)],c),e.InlayHintsHover=c}),define(ne[758],oe([1,0,12,87,317,757]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(N.InlayHintsController.ID,N.InlayHintsController),f.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(ne[759],oe([1,0,12,29,314,30,16,8,40,85]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let h=class extends N.ReferencesController{constructor(n,t,s,l,d,a,o){super(!0,n,t,s,l,d,a,o)}};h=De([ge(1,w.IContextKeyService),ge(2,f.ICodeEditorService),ge(3,v.INotificationService),ge(4,b.IInstantiationService),ge(5,u.IStorageService),ge(6,D.IConfigurationService)],h),e.StandaloneReferencesController=h,(0,y.registerEditorContribution)(N.ReferencesController.ID,h)}),define(ne[760],oe([1,0,13,2,44,73,613,114,53,40,168]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const i=!1;function n(S){return S.scheme===N.Schemas.file?S.fsPath:S.path}let t=0;class s{constructor(p,C,_,L,E,I,T){this.id=++t,this.type=0,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabel=C,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=L,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.isValid=!0}setValid(p){this.isValid=p}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class l{constructor(p,C){this.resourceLabel=p,this.reason=C}}class d{constructor(){this.elements=new Map}createMessage(){const p=[],C=[];for(const[,L]of this.elements)(L.reason===0?p:C).push(L.resourceLabel);const _=[];return p.length>0&&_.push(w.localize(0,null,p.join(", "))),C.length>0&&_.push(w.localize(1,null,C.join(", "))),_.join(`
`)}get size(){return this.elements.size}has(p){return this.elements.has(p)}set(p,C){this.elements.set(p,C)}delete(p){return this.elements.delete(p)}}class a{constructor(p,C,_,L,E,I,T){this.id=++t,this.type=1,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabels=C,this.strResources=_,this.groupId=L,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(p,C,_){this.removedResources||(this.removedResources=new d),this.removedResources.has(C)||this.removedResources.set(C,new l(p,_))}setValid(p,C,_){_?this.invalidatedResources&&(this.invalidatedResources.delete(C),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new d),this.invalidatedResources.has(C)||this.invalidatedResources.set(C,new l(p,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class o{constructor(p,C){this.resourceLabel=p,this.strResource=C,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const p of this._past)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0);for(const p of this._future)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const p=[];p.push(`* ${this.strResource}:`);for(let C=0;C<this._past.length;C++)p.push(`   * [UNDO] ${this._past[C]}`);for(let C=this._future.length-1;C>=0;C--)p.push(`   * [REDO] ${this._future[C]}`);return p.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(p,C){p.type===1?p.setValid(this.resourceLabel,this.strResource,C):p.setValid(C)}setElementsValidFlag(p,C){for(const _ of this._past)C(_.actual)&&this._setElementValidFlag(_,p);for(const _ of this._future)C(_.actual)&&this._setElementValidFlag(_,p)}pushElement(p){for(const C of this._future)C.type===1&&C.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(p),this.versionId++}createSnapshot(p){const C=[];for(let _=0,L=this._past.length;_<L;_++)C.push(this._past[_].id);for(let _=this._future.length-1;_>=0;_--)C.push(this._future[_].id);return new h.ResourceEditStackSnapshot(p,C)}restoreSnapshot(p){const C=p.elements.length;let _=!0,L=0,E=-1;for(let T=0,P=this._past.length;T<P;T++,L++){const B=this._past[T];_&&(L>=C||B.id!==p.elements[L])&&(_=!1,E=0),!_&&B.type===1&&B.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let T=this._future.length-1;T>=0;T--,L++){const P=this._future[T];_&&(L>=C||P.id!==p.elements[L])&&(_=!1,I=T),!_&&P.type===1&&P.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const p=[],C=[];for(const _ of this._past)p.push(_.actual);for(const _ of this._future)C.push(_.actual);return{past:p,future:C}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(p,C){for(let _=this._past.length-1;_>=0;_--)if(this._past[_]===p){C.has(this.strResource)?this._past[_]=C.get(this.strResource):this._past.splice(_,1);break}this.versionId++}splitFutureWorkspaceElement(p,C){for(let _=this._future.length-1;_>=0;_--)if(this._future[_]===p){C.has(this.strResource)?this._future[_]=C.get(this.strResource):this._future.splice(_,1);break}this.versionId++}moveBackward(p){this._past.pop(),this._future.push(p),this.versionId++}moveForward(p){this._future.pop(),this._past.push(p),this.versionId++}}class r{constructor(p){this.editStacks=p,this._versionIds=[];for(let C=0,_=this.editStacks.length;C<_;C++)this._versionIds[C]=this.editStacks[C].versionId}isValid(){for(let p=0,C=this.editStacks.length;p<C;p++)if(this._versionIds[p]!==this.editStacks[p].versionId)return!1;return!0}}const c=new o("","");c.locked=!0;let g=class{constructor(p,C){this._dialogService=p,this._notificationService=C,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(p){for(const C of this._uriComparisonKeyComputers)if(C[0]===p.scheme)return C[1].getComparisonKey(p);return p.toString()}_print(p){console.log("------------------------------------"),console.log(`AFTER ${p}: `);const C=[];for(const _ of this._editStacks)C.push(_[1].toString());console.log(C.join(`
`))}pushElement(p,C=h.UndoRedoGroup.None,_=h.UndoRedoSource.None){if(p.type===0){const L=n(p.resource),E=this.getUriComparisonKey(p.resource);this._pushElement(new s(p,L,E,C.id,C.nextOrder(),_.id,_.nextOrder()))}else{const L=new Set,E=[],I=[];for(const T of p.resources){const P=n(T),B=this.getUriComparisonKey(T);L.has(B)||(L.add(B),E.push(P),I.push(B))}E.length===1?this._pushElement(new s(p,E[0],I[0],C.id,C.nextOrder(),_.id,_.nextOrder())):this._pushElement(new a(p,E,I,C.id,C.nextOrder(),_.id,_.nextOrder()))}i&&this._print("pushElement")}_pushElement(p){for(let C=0,_=p.strResources.length;C<_;C++){const L=p.resourceLabels[C],E=p.strResources[C];let I;this._editStacks.has(E)?I=this._editStacks.get(E):(I=new o(L,E),this._editStacks.set(E,I)),I.pushElement(p)}}getLastElement(p){const C=this.getUriComparisonKey(p);if(this._editStacks.has(C)){const _=this._editStacks.get(C);if(_.hasFutureElements())return null;const L=_.getClosestPastElement();return L?L.actual:null}return null}_splitPastWorkspaceElement(p,C){const _=p.actual.split(),L=new Map;for(const E of _){const I=n(E.resource),T=this.getUriComparisonKey(E.resource),P=new s(E,I,T,0,0,0,0);L.set(P.strResource,P)}for(const E of p.strResources){if(C&&C.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(p,L)}}_splitFutureWorkspaceElement(p,C){const _=p.actual.split(),L=new Map;for(const E of _){const I=n(E.resource),T=this.getUriComparisonKey(E.resource),P=new s(E,I,T,0,0,0,0);L.set(P.strResource,P)}for(const E of p.strResources){if(C&&C.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(p,L)}}removeElements(p){const C=typeof p=="string"?p:this.getUriComparisonKey(p);this._editStacks.has(C)&&(this._editStacks.get(C).dispose(),this._editStacks.delete(C)),i&&this._print("removeElements")}setElementsValidFlag(p,C,_){const L=this.getUriComparisonKey(p);this._editStacks.has(L)&&this._editStacks.get(L).setElementsValidFlag(C,_),i&&this._print("setElementsValidFlag")}createSnapshot(p){const C=this.getUriComparisonKey(p);return this._editStacks.has(C)?this._editStacks.get(C).createSnapshot(p):new h.ResourceEditStackSnapshot(p,[])}restoreSnapshot(p){const C=this.getUriComparisonKey(p.resource);if(this._editStacks.has(C)){const _=this._editStacks.get(C);_.restoreSnapshot(p),!_.hasPastElements()&&!_.hasFutureElements()&&(_.dispose(),this._editStacks.delete(C))}i&&this._print("restoreSnapshot")}getElements(p){const C=this.getUriComparisonKey(p);return this._editStacks.has(C)?this._editStacks.get(C).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(p){if(!p)return[null,null];let C=null,_=null;for(const[L,E]of this._editStacks){const I=E.getClosestPastElement();!I||I.sourceId===p&&(!C||I.sourceOrder>C.sourceOrder)&&(C=I,_=L)}return[C,_]}canUndo(p){if(p instanceof h.UndoRedoSource){const[,_]=this._findClosestUndoElementWithSource(p.id);return!!_}const C=this.getUriComparisonKey(p);return this._editStacks.has(C)?this._editStacks.get(C).hasPastElements():!1}_onError(p,C){(0,y.onUnexpectedError)(p);for(const _ of C.strResources)this.removeElements(_);this._notificationService.error(p)}_acquireLocks(p){for(const C of p.editStacks)if(C.locked)throw new Error("Cannot acquire edit stack lock");for(const C of p.editStacks)C.locked=!0;return()=>{for(const C of p.editStacks)C.locked=!1}}_safeInvokeWithLocks(p,C,_,L,E){const I=this._acquireLocks(_);let T;try{T=C()}catch(P){return I(),L.dispose(),this._onError(P,p)}return T?T.then(()=>(I(),L.dispose(),E()),P=>(I(),L.dispose(),this._onError(P,p))):(I(),L.dispose(),E())}_invokeWorkspacePrepare(p){return Le(this,void 0,void 0,function*(){if(typeof p.actual.prepareUndoRedo=="undefined")return f.Disposable.None;const C=p.actual.prepareUndoRedo();return typeof C=="undefined"?f.Disposable.None:C})}_invokeResourcePrepare(p,C){if(p.actual.type!==1||typeof p.actual.prepareUndoRedo=="undefined")return C(f.Disposable.None);const _=p.actual.prepareUndoRedo();return _?(0,f.isDisposable)(_)?C(_):_.then(L=>C(L)):C(f.Disposable.None)}_getAffectedEditStacks(p){const C=[];for(const _ of p.strResources)C.push(this._editStacks.get(_)||c);return new r(C)}_tryToSplitAndUndo(p,C,_,L){if(C.canSplit())return this._splitPastWorkspaceElement(C,_),this._notificationService.warn(L),new m(this._undo(p,0,!0));for(const E of C.strResources)this.removeElements(E);return this._notificationService.warn(L),new m}_checkWorkspaceUndo(p,C,_,L){if(C.removedResources)return this._tryToSplitAndUndo(p,C,C.removedResources,w.localize(2,null,C.label,C.removedResources.createMessage()));if(L&&C.invalidatedResources)return this._tryToSplitAndUndo(p,C,C.invalidatedResources,w.localize(3,null,C.label,C.invalidatedResources.createMessage()));const E=[];for(const T of _.editStacks)T.getClosestPastElement()!==C&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(p,C,null,w.localize(4,null,C.label,E.join(", ")));const I=[];for(const T of _.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndUndo(p,C,null,w.localize(5,null,C.label,I.join(", "))):_.isValid()?null:this._tryToSplitAndUndo(p,C,null,w.localize(6,null,C.label))}_workspaceUndo(p,C,_){const L=this._getAffectedEditStacks(C),E=this._checkWorkspaceUndo(p,C,L,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(p,C,L,_)}_isPartOfUndoGroup(p){if(!p.groupId)return!1;for(const[,C]of this._editStacks){const _=C.getClosestPastElement();if(!!_){if(_===p){const L=C.getSecondClosestPastElement();if(L&&L.groupId===p.groupId)return!0}if(_.groupId===p.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(p,C,_,L){return Le(this,void 0,void 0,function*(){if(C.canSplit()&&!this._isPartOfUndoGroup(C)){const T=yield this._dialogService.show(D.default.Info,w.localize(7,null,C.label),[w.localize(8,null,_.editStacks.length),w.localize(9,null),w.localize(10,null)],{cancelId:2});if(T.choice===2)return;if(T.choice===1)return this._splitPastWorkspaceElement(C,null),this._undo(p,0,!0);const P=this._checkWorkspaceUndo(p,C,_,!1);if(P)return P.returnValue;L=!0}let E;try{E=yield this._invokeWorkspacePrepare(C)}catch(T){return this._onError(T,C)}const I=this._checkWorkspaceUndo(p,C,_,!0);if(I)return E.dispose(),I.returnValue;for(const T of _.editStacks)T.moveBackward(C);return this._safeInvokeWithLocks(C,()=>C.actual.undo(),_,E,()=>this._continueUndoInGroup(C.groupId,L))})}_resourceUndo(p,C,_){if(!C.isValid){p.flushAllElements();return}if(p.locked){const L=w.localize(11,null,C.label);this._notificationService.warn(L);return}return this._invokeResourcePrepare(C,L=>(p.moveBackward(C),this._safeInvokeWithLocks(C,()=>C.actual.undo(),new r([p]),L,()=>this._continueUndoInGroup(C.groupId,_))))}_findClosestUndoElementInGroup(p){if(!p)return[null,null];let C=null,_=null;for(const[L,E]of this._editStacks){const I=E.getClosestPastElement();!I||I.groupId===p&&(!C||I.groupOrder>C.groupOrder)&&(C=I,_=L)}return[C,_]}_continueUndoInGroup(p,C){if(!p)return;const[,_]=this._findClosestUndoElementInGroup(p);if(_)return this._undo(_,0,C)}undo(p){if(p instanceof h.UndoRedoSource){const[,C]=this._findClosestUndoElementWithSource(p.id);return C?this._undo(C,p.id,!1):void 0}return typeof p=="string"?this._undo(p,0,!1):this._undo(this.getUriComparisonKey(p),0,!1)}_undo(p,C=0,_){if(!this._editStacks.has(p))return;const L=this._editStacks.get(p),E=L.getClosestPastElement();if(!E)return;if(E.groupId){const[T,P]=this._findClosestUndoElementInGroup(E.groupId);if(E!==T&&P)return this._undo(P,C,_)}if((E.sourceId!==C||E.confirmBeforeUndo)&&!_)return this._confirmAndContinueUndo(p,C,E);try{return E.type===1?this._workspaceUndo(p,E,_):this._resourceUndo(L,E,_)}finally{i&&this._print("undo")}}_confirmAndContinueUndo(p,C,_){return Le(this,void 0,void 0,function*(){if((yield this._dialogService.show(D.default.Info,w.localize(12,null,_.label),[w.localize(13,null),w.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(p,C,!0)})}_findClosestRedoElementWithSource(p){if(!p)return[null,null];let C=null,_=null;for(const[L,E]of this._editStacks){const I=E.getClosestFutureElement();!I||I.sourceId===p&&(!C||I.sourceOrder<C.sourceOrder)&&(C=I,_=L)}return[C,_]}canRedo(p){if(p instanceof h.UndoRedoSource){const[,_]=this._findClosestRedoElementWithSource(p.id);return!!_}const C=this.getUriComparisonKey(p);return this._editStacks.has(C)?this._editStacks.get(C).hasFutureElements():!1}_tryToSplitAndRedo(p,C,_,L){if(C.canSplit())return this._splitFutureWorkspaceElement(C,_),this._notificationService.warn(L),new m(this._redo(p));for(const E of C.strResources)this.removeElements(E);return this._notificationService.warn(L),new m}_checkWorkspaceRedo(p,C,_,L){if(C.removedResources)return this._tryToSplitAndRedo(p,C,C.removedResources,w.localize(15,null,C.label,C.removedResources.createMessage()));if(L&&C.invalidatedResources)return this._tryToSplitAndRedo(p,C,C.invalidatedResources,w.localize(16,null,C.label,C.invalidatedResources.createMessage()));const E=[];for(const T of _.editStacks)T.getClosestFutureElement()!==C&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(p,C,null,w.localize(17,null,C.label,E.join(", ")));const I=[];for(const T of _.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndRedo(p,C,null,w.localize(18,null,C.label,I.join(", "))):_.isValid()?null:this._tryToSplitAndRedo(p,C,null,w.localize(19,null,C.label))}_workspaceRedo(p,C){const _=this._getAffectedEditStacks(C),L=this._checkWorkspaceRedo(p,C,_,!1);return L?L.returnValue:this._executeWorkspaceRedo(p,C,_)}_executeWorkspaceRedo(p,C,_){return Le(this,void 0,void 0,function*(){let L;try{L=yield this._invokeWorkspacePrepare(C)}catch(I){return this._onError(I,C)}const E=this._checkWorkspaceRedo(p,C,_,!0);if(E)return L.dispose(),E.returnValue;for(const I of _.editStacks)I.moveForward(C);return this._safeInvokeWithLocks(C,()=>C.actual.redo(),_,L,()=>this._continueRedoInGroup(C.groupId))})}_resourceRedo(p,C){if(!C.isValid){p.flushAllElements();return}if(p.locked){const _=w.localize(20,null,C.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(C,_=>(p.moveForward(C),this._safeInvokeWithLocks(C,()=>C.actual.redo(),new r([p]),_,()=>this._continueRedoInGroup(C.groupId))))}_findClosestRedoElementInGroup(p){if(!p)return[null,null];let C=null,_=null;for(const[L,E]of this._editStacks){const I=E.getClosestFutureElement();!I||I.groupId===p&&(!C||I.groupOrder<C.groupOrder)&&(C=I,_=L)}return[C,_]}_continueRedoInGroup(p){if(!p)return;const[,C]=this._findClosestRedoElementInGroup(p);if(C)return this._redo(C)}redo(p){if(p instanceof h.UndoRedoSource){const[,C]=this._findClosestRedoElementWithSource(p.id);return C?this._redo(C):void 0}return typeof p=="string"?this._redo(p):this._redo(this.getUriComparisonKey(p))}_redo(p){if(!this._editStacks.has(p))return;const C=this._editStacks.get(p),_=C.getClosestFutureElement();if(!!_){if(_.groupId){const[L,E]=this._findClosestRedoElementInGroup(_.groupId);if(_!==L&&E)return this._redo(E)}try{return _.type===1?this._workspaceRedo(p,_):this._resourceRedo(C,_)}finally{i&&this._print("redo")}}}};g=De([ge(0,b.IDialogService),ge(1,u.INotificationService)],g),e.UndoRedoService=g;class m{constructor(p){this.returnValue=p}}(0,v.registerSingleton)(h.IUndoRedoService,g)}),define(ne[172],oe([1,0,614,51,22,8]),function(j,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,D.createDecorator)("contextService");function w(h){const i=h;return typeof(i==null?void 0:i.id)=="string"&&N.URI.isUri(i.uri)}e.isSingleFolderWorkspaceIdentifier=w;function b(h){if(h.configuration)return{id:h.id,configPath:h.configuration};if(h.folders.length===1)return{id:h.id,uri:h.folders[0].uri}}e.toWorkspaceIdentifier=b;class v{constructor(i,n,t,s,l){this._id=i,this._transient=t,this._configuration=s,this._ignorePathCasing=l,this._foldersMap=f.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=n}get folders(){return this._folders}set folders(i){this._folders=i,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(i){this._configuration=i}getFolder(i){return i&&this._foldersMap.findSubstr(i)||null}updateFoldersMap(){this._foldersMap=f.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const i of this.folders)this._foldersMap.set(i.uri,i)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=v;class u{constructor(i,n){this.raw=n,this.uri=i.uri,this.index=i.index,this.name=i.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=u,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,y.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}]}),define(ne[761],oe([1,0,335,80,42,9,227,32,88,586,172]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class i{constructor(c){this._delegates=c}resolve(c){for(const g of this._delegates){const m=g.resolve(c);if(m!==void 0)return m}}}e.CompositeSnippetVariableResolver=i;class n{constructor(c,g,m,S){this._model=c,this._selection=g,this._selectionIdx=m,this._overtypingCapturer=S}resolve(c){const{name:g}=c;if(g==="SELECTION"||g==="TM_SELECTED_TEXT"){let m=this._model.getValueInRange(this._selection)||void 0,S=this._selection.startLineNumber!==this._selection.endLineNumber;if(!m&&this._overtypingCapturer){const p=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);p&&(m=p.value,S=p.multiline)}if(m&&S&&c.snippet){const p=this._model.getLineContent(this._selection.startLineNumber),C=(0,D.getLeadingWhitespace)(p,0,this._selection.startColumn-1);let _=C;c.snippet.walk(E=>E===c?!1:(E instanceof v.Text&&(_=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const L=(0,D.commonPrefixLength)(_,C);m=m.replace(/(\r\n|\r|\n)(.*)/g,(E,I,T)=>`${I}${_.substr(L)}${T}`)}return m}else{if(g==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(g==="TM_CURRENT_WORD"){const m=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return m&&m.word||void 0}else{if(g==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(g==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(g==="CURSOR_INDEX")return String(this._selectionIdx);if(g==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=n;class t{constructor(c,g){this._labelService=c,this._model=g}resolve(c){const{name:g}=c;if(g==="TM_FILENAME")return f.basename(this._model.uri.fsPath);if(g==="TM_FILENAME_BASE"){const m=f.basename(this._model.uri.fsPath),S=m.lastIndexOf(".");return S<=0?m:m.slice(0,S)}else{if(g==="TM_DIRECTORY")return f.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,N.dirname)(this._model.uri));if(g==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(g==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=t;class s{constructor(c,g,m,S){this._readClipboardText=c,this._selectionIdx=g,this._selectionCount=m,this._spread=S}resolve(c){if(c.name!=="CLIPBOARD")return;const g=this._readClipboardText();if(!!g){if(this._spread){const m=g.split(/\r\n|\n|\r/).filter(S=>!(0,D.isFalsyOrWhitespace)(S));if(m.length===this._selectionCount)return m[this._selectionIdx]}return g}}}e.ClipboardBasedVariableResolver=s;let l=class{constructor(c,g,m){this._model=c,this._selection=g,this._languageConfigurationService=m}resolve(c){const{name:g}=c,m=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),S=this._languageConfigurationService.getLanguageConfiguration(m).comments;if(!!S){if(g==="LINE_COMMENT")return S.lineCommentToken||void 0;if(g==="BLOCK_COMMENT_START")return S.blockCommentStartToken||void 0;if(g==="BLOCK_COMMENT_END")return S.blockCommentEndToken||void 0}}};l=De([ge(2,b.ILanguageConfigurationService)],l),e.CommentBasedVariableResolver=l;class d{constructor(){this._date=new Date}resolve(c){const{name:g}=c;if(g==="CURRENT_YEAR")return String(this._date.getFullYear());if(g==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(g==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(g==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(g==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(g==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(g==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(g==="CURRENT_DAY_NAME")return d.dayNames[this._date.getDay()];if(g==="CURRENT_DAY_NAME_SHORT")return d.dayNamesShort[this._date.getDay()];if(g==="CURRENT_MONTH_NAME")return d.monthNames[this._date.getMonth()];if(g==="CURRENT_MONTH_NAME_SHORT")return d.monthNamesShort[this._date.getMonth()];if(g==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=d,d.dayNames=[u.localize(0,null),u.localize(1,null),u.localize(2,null),u.localize(3,null),u.localize(4,null),u.localize(5,null),u.localize(6,null)],d.dayNamesShort=[u.localize(7,null),u.localize(8,null),u.localize(9,null),u.localize(10,null),u.localize(11,null),u.localize(12,null),u.localize(13,null)],d.monthNames=[u.localize(14,null),u.localize(15,null),u.localize(16,null),u.localize(17,null),u.localize(18,null),u.localize(19,null),u.localize(20,null),u.localize(21,null),u.localize(22,null),u.localize(23,null),u.localize(24,null),u.localize(25,null)],d.monthNamesShort=[u.localize(26,null),u.localize(27,null),u.localize(28,null),u.localize(29,null),u.localize(30,null),u.localize(31,null),u.localize(32,null),u.localize(33,null),u.localize(34,null),u.localize(35,null),u.localize(36,null),u.localize(37,null)];class a{constructor(c){this._workspaceService=c}resolve(c){if(!this._workspaceService)return;const g=(0,h.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!g){if(c.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(g);if(c.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(g)}}_resolveWorkspaceName(c){if((0,h.isSingleFolderWorkspaceIdentifier)(c))return f.basename(c.uri.path);let g=f.basename(c.configPath.path);return g.endsWith(h.WORKSPACE_EXTENSION)&&(g=g.substr(0,g.length-h.WORKSPACE_EXTENSION.length-1)),g}_resoveWorkspacePath(c){if((0,h.isSingleFolderWorkspaceIdentifier)(c))return(0,y.normalizeDriveLetter)(c.uri.fsPath);const g=f.basename(c.configPath.path);let m=c.configPath.fsPath;return m.endsWith(g)&&(m=m.substr(0,m.length-g.length-1)),m?(0,y.normalizeDriveLetter)(m):"/"}}e.WorkspaceBasedVariableResolver=a;class o{resolve(c){const{name:g}=c;if(g==="RANDOM")return Math.random().toString().slice(-6);if(g==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(g==="UUID")return(0,w.generateUuid)()}}e.RandomBasedVariableResolver=o}),define(ne[318],oe([1,0,18,2,9,61,3,23,32,37,138,172,88,761,402]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class s{constructor(o,r,c){this._editor=o,this._snippet=r,this._snippetLineLeadingWhitespace=c,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,y.groupBy)(r.placeholders,n.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(o){this._offset=o.newPosition}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const o=this._editor.getModel();this._editor.changeDecorations(r=>{for(const c of this._snippet.placeholders){const g=this._snippet.offset(c),m=this._snippet.fullLen(c),S=w.Range.fromPositions(o.getPositionAt(this._offset+g),o.getPositionAt(this._offset+g+m)),p=c.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive,C=r.addDecoration(S,p);this._placeholderDecorations.set(c,C)}})}move(o){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const g=[];for(const m of this._placeholderGroups[this._placeholderGroupsIdx])if(m.transform){const S=this._placeholderDecorations.get(m),p=this._editor.getModel().getDecorationRange(S),C=this._editor.getModel().getValueInRange(p),_=m.transform.resolve(C).split(/\r\n|\r|\n/);for(let L=1;L<_.length;L++)_[L]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+_[L]);g.push(D.EditOperation.replace(p,_.join(this._editor.getModel().getEOL())))}g.length>0&&this._editor.executeEdits("snippet.placeholderTransform",g)}let r=!1;o===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,r=!0):o===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,r=!0);const c=this._editor.getModel().changeDecorations(g=>{const m=new Set,S=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const C=this._placeholderDecorations.get(p),_=this._editor.getModel().getDecorationRange(C);S.push(new b.Selection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)),r=r&&this._hasPlaceholderBeenCollapsed(p),g.changeDecorationOptions(C,p.isFinalTabstop?s._decor.activeFinal:s._decor.active),m.add(p);for(const L of this._snippet.enclosingPlaceholders(p)){const E=this._placeholderDecorations.get(L);g.changeDecorationOptions(E,L.isFinalTabstop?s._decor.activeFinal:s._decor.active),m.add(L)}}for(const[p,C]of this._placeholderDecorations)m.has(p)||g.changeDecorationOptions(C,p.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive);return S});return r?this.move(o):c??[]}_hasPlaceholderBeenCollapsed(o){let r=o;for(;r;){if(r instanceof n.Placeholder){const c=this._placeholderDecorations.get(r);if(this._editor.getModel().getDecorationRange(c).isEmpty()&&r.toString().length>0)return!0}r=r.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const o=new Map;for(const r of this._placeholderGroups){let c;for(const g of r){if(g.isFinalTabstop)break;c||(c=[],o.set(g.index,c));const m=this._placeholderDecorations.get(g),S=this._editor.getModel().getDecorationRange(m);if(!S){o.delete(g.index);break}c.push(S)}}return o}get activeChoice(){if(!this._placeholderDecorations)return;const o=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(o==null?void 0:o.choice))return;const r=this._placeholderDecorations.get(o);if(!r)return;const c=this._editor.getModel().getDecorationRange(r);if(!!c)return{range:c,choice:o.choice}}get hasChoice(){let o=!1;return this._snippet.walk(r=>(o=r instanceof n.Choice,!o)),o}merge(o){const r=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(c=>{for(const g of this._placeholderGroups[this._placeholderGroupsIdx]){const m=o.shift();console.assert(m._offset!==-1),console.assert(!m._placeholderDecorations);const S=m._snippet.placeholderInfo.last.index;for(const C of m._snippet.placeholderInfo.all)C.isFinalTabstop?C.index=g.index+(S+1)/this._nestingLevel:C.index=g.index+C.index/this._nestingLevel;this._snippet.replace(g,m._snippet.children);const p=this._placeholderDecorations.get(g);c.removeDecoration(p),this._placeholderDecorations.delete(g);for(const C of m._snippet.placeholders){const _=m._snippet.offset(C),L=m._snippet.fullLen(C),E=w.Range.fromPositions(r.getPositionAt(m._offset+_),r.getPositionAt(m._offset+_+L)),I=c.addDecoration(E,s._decor.inactive);this._placeholderDecorations.set(C,I)}}this._placeholderGroups=(0,y.groupBy)(this._snippet.placeholders,n.Placeholder.compareByIndex)})}}e.OneSnippet=s,s._decor={active:u.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:u.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const l={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let d=class _t{constructor(o,r,c=l,g){this._languageConfigurationService=g,this._templateMerges=[],this._snippets=[],this._editor=o,this._template=r,this._options=c}static adjustWhitespace(o,r,c,g,m){const S=o.getLineContent(r.lineNumber),p=(0,N.getLeadingWhitespace)(S,0,r.column-1);let C;return c.walk(_=>{if(!(_ instanceof n.Text)||_.parent instanceof n.Choice)return!0;const L=_.value.split(/\r\n|\r|\n/);if(g){const I=c.offset(_);if(I===0)L[0]=o.normalizeIndentation(L[0]);else{C=C??c.toString();const T=C.charCodeAt(I-1);(T===10||T===13)&&(L[0]=o.normalizeIndentation(p+L[0]))}for(let T=1;T<L.length;T++)L[T]=o.normalizeIndentation(p+L[T])}const E=L.join(o.getEOL());return E!==_.value&&(_.parent.replace(_,[new n.Text(E)]),C=void 0),!0}),p}static adjustSelection(o,r,c,g){if(c!==0||g!==0){const{positionLineNumber:m,positionColumn:S}=r,p=S-c,C=S+g,_=o.validateRange({startLineNumber:m,startColumn:p,endLineNumber:m,endColumn:C});r=b.Selection.createWithDirection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn,r.getDirection())}return r}static createEditsAndSnippets(o,r,c,g,m,S,p,C,_){const L=[],E=[];if(!o.hasModel())return{edits:L,snippets:E};const I=o.getModel(),T=o.invokeWithinContext(F=>F.get(i.IWorkspaceContextService)),P=o.invokeWithinContext(F=>new t.ModelBasedVariableResolver(F.get(h.ILabelService),I)),B=()=>p,R=I.getValueInRange(_t.adjustSelection(I,o.getSelection(),c,0)),k=I.getValueInRange(_t.adjustSelection(I,o.getSelection(),0,g)),A=I.getLineFirstNonWhitespaceColumn(o.getSelection().positionLineNumber),O=o.getSelections().map((F,W)=>({selection:F,idx:W})).sort((F,W)=>w.Range.compareRangesUsingStarts(F.selection,W.selection));for(const{selection:F,idx:W}of O){let M=_t.adjustSelection(I,F,c,0),z=_t.adjustSelection(I,F,0,g);R!==I.getValueInRange(M)&&(M=F),k!==I.getValueInRange(z)&&(z=F);const G=F.setStartPosition(M.startLineNumber,M.startColumn).setEndPosition(z.endLineNumber,z.endColumn),te=new n.SnippetParser().parse(r,!0,m),X=G.getStartPosition(),J=_t.adjustWhitespace(I,X,te,S||W>0&&A!==I.getLineFirstNonWhitespaceColumn(F.positionLineNumber),!0);te.resolveVariables(new t.CompositeSnippetVariableResolver([P,new t.ClipboardBasedVariableResolver(B,W,O.length,o.getOption(72)==="spread"),new t.SelectionBasedVariableResolver(I,F,W,C),new t.CommentBasedVariableResolver(I,F,_),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(T),new t.RandomBasedVariableResolver])),L[W]=D.EditOperation.replace(G,te.toString()),L[W].identifier={major:W,minor:0},L[W]._isTracked=!0,E[W]=new s(o,te,J)}return{edits:L,snippets:E}}dispose(){(0,f.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:o,snippets:r}=_t.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=r,this._editor.executeEdits("snippet",o,c=>{const g=c.filter(m=>!!m.identifier);for(let m=0;m<r.length;m++)r[m].initialize(g[m].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):g.map(m=>b.Selection.fromPositions(m.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(o,r=l){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,o]);const{edits:c,snippets:g}=_t.createEditsAndSnippets(this._editor,o,r.overwriteBefore,r.overwriteAfter,!0,r.adjustWhitespace,r.clipboardText,r.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",c,m=>{const S=m.filter(C=>!!C.identifier);for(let C=0;C<g.length;C++)g[C].initialize(S[C].textChange);const p=g[0].isTrivialSnippet;if(!p){for(const C of this._snippets)C.merge(g);console.assert(g.length===0)}return this._snippets[0].hasPlaceholder&&!p?this._move(void 0):S.map(C=>b.Selection.fromPositions(C.range.getEndPosition()))})}next(){const o=this._move(!0);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}prev(){const o=this._move(!1);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}_move(o){const r=[];for(const c of this._snippets){const g=c.move(o);r.push(...g)}return r}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const o=this._editor.getSelections();if(o.length<this._snippets.length)return!1;const r=new Map;for(const c of this._snippets){const g=c.computePossibleSelections();if(r.size===0)for(const[m,S]of g){S.sort(w.Range.compareRangesUsingStarts);for(const p of o)if(S[0].containsRange(p)){r.set(m,[]);break}}if(r.size===0)return!1;r.forEach((m,S)=>{m.push(...g.get(S))})}o.sort(w.Range.compareRangesUsingStarts);for(const[c,g]of r){if(g.length!==o.length){r.delete(c);continue}g.sort(w.Range.compareRangesUsingStarts);for(let m=0;m<g.length;m++)if(!g[m].containsRange(o[m])){r.delete(c);continue}}return r.size>0}};d=De([ge(3,v.ILanguageConfigurationService)],d),e.SnippetSession=d}),define(ne[119],oe([1,0,2,12,11,24,32,20,101,585,16,70,318]),function(j,e,y,f,N,D,w,b,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performSnippetEdit=e.SnippetController2=void 0;const t={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let s=class Rt{constructor(o,r,c,g,m){this._editor=o,this._logService=r,this._languageFeaturesService=c,this._languageConfigurationService=m,this._snippetListener=new y.DisposableStore,this._modelVersionId=-1,this._inSnippet=Rt.InSnippetMode.bindTo(g),this._hasNextTabstop=Rt.HasNextTabstop.bindTo(g),this._hasPrevTabstop=Rt.HasPrevTabstop.bindTo(g)}static get(o){return o.getContribution(Rt.ID)}dispose(){var o;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(o=this._session)===null||o===void 0||o.dispose(),this._snippetListener.dispose()}insert(o,r){try{this._doInsert(o,typeof r=="undefined"?t:Object.assign(Object.assign({},t),r))}catch(c){this.cancel(),this._logService.error(c),this._logService.error("snippet_error"),this._logService.error("insert_template=",o),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(o,r){var c;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),r.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(o,r):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new n.SnippetSession(this._editor,o,r,this._languageConfigurationService),this._session.insert()),r.undoStopAfter&&this._editor.getModel().pushStackElement(),(c=this._session)===null||c===void 0?void 0:c.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(m,S)=>{if(!this._session||m!==this._editor.getModel()||!N.Position.equals(this._editor.getPosition(),S))return;const{activeChoice:p}=this._session;if(!p||p.choice.options.length===0)return;const C=m.getValueInRange(p.range),_=Boolean(p.choice.options.find(E=>E.value===C)),L=[];for(let E=0;E<p.choice.options.length;E++){const I=p.choice.options[E];L.push({kind:13,label:I.value,insertText:I.value,sortText:"a".repeat(E+1),range:p.range,filterText:_?`${C}_${I.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,u.localize)(3,null)}})}return{suggestions:L}}};const g=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(g)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(g=>g.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:o}=this._session;if(!o||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==o.choice&&(this._currentChoice=o.choice,queueMicrotask(()=>{(0,v.showSimpleSuggestions)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(o=!1){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(r=this._session)===null||r===void 0||r.dispose(),this._session=void 0,this._modelVersionId=-1,o&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};s.ID="snippetController2",s.InSnippetMode=new h.RawContextKey("inSnippetMode",!1,(0,u.localize)(0,null)),s.HasNextTabstop=new h.RawContextKey("hasNextTabstop",!1,(0,u.localize)(1,null)),s.HasPrevTabstop=new h.RawContextKey("hasPrevTabstop",!1,(0,u.localize)(2,null)),s=De([ge(1,i.ILogService),ge(2,b.ILanguageFeaturesService),ge(3,h.IContextKeyService),ge(4,w.ILanguageConfigurationService)],s),e.SnippetController2=s,(0,f.registerEditorContribution)(s.ID,s);const l=f.EditorCommand.bindToContribution(s.get);(0,f.registerEditorCommand)(new l({id:"jumpToNextSnippetPlaceholder",precondition:h.ContextKeyExpr.and(s.InSnippetMode,s.HasNextTabstop),handler:a=>a.next(),kbOpts:{weight:100+30,kbExpr:D.EditorContextKeys.editorTextFocus,primary:2}})),(0,f.registerEditorCommand)(new l({id:"jumpToPrevSnippetPlaceholder",precondition:h.ContextKeyExpr.and(s.InSnippetMode,s.HasPrevTabstop),handler:a=>a.prev(),kbOpts:{weight:100+30,kbExpr:D.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,f.registerEditorCommand)(new l({id:"leaveSnippet",precondition:s.InSnippetMode,handler:a=>a.cancel(!0),kbOpts:{weight:100+30,kbExpr:D.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,f.registerEditorCommand)(new l({id:"acceptSnippet",precondition:s.InSnippetMode,handler:a=>a.finish()}));function d(a,o,r){const c=s.get(a);return c?(a.focus(),a.setSelections(r??[]),c.insert(o),c.isInSnippet()):!1}e.performSnippetEdit=d}),define(ne[762],oe([1,0,121,7,10,173,2,105,227,241,137,20,93,119,88,91,30]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=void 0;const a="application/vnd.code.copyId",o=new class{constructor(){this.pasteMimeTypes=[b.Mimes.text,"text"]}provideDocumentPasteEdits(c,g,m,S){var p;return Le(this,void 0,void 0,function*(){const C=(p=m.get(b.Mimes.text))!==null&&p!==void 0?p:m.get("text");if(C)return{insertText:yield C.asString()}})}};let r=class extends w.Disposable{constructor(g,m,S,p,C){super();this._bulkEditService=m,this._clipboardService=S,this._configurationService=p,this._languageFeaturesService=C,this._editor=g;const _=g.getContainerDomNode();this._register((0,f.addDisposableListener)(_,"copy",L=>this.handleCopy(L))),this._register((0,f.addDisposableListener)(_,"cut",L=>this.handleCopy(L))),this._register((0,f.addDisposableListener)(_,"paste",L=>this.handlePaste(L),!0))}arePasteActionsEnabled(g){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:g.uri})}handleCopy(g){var m;if(!g.clipboardData)return;const S=this._editor.getModel(),p=this._editor.getSelections();if(!S||!(p==null?void 0:p.length)||!this.arePasteActionsEnabled(S))return;const C=this._languageFeaturesService.documentPasteEditProvider.ordered(S).filter(I=>!!I.prepareDocumentPaste);if(!C.length)return;const _=(0,u.toVSDataTransfer)(g.clipboardData),L=(0,v.generateUuid)();g.clipboardData.setData(a,L);const E=(0,N.createCancelablePromise)(I=>Le(this,void 0,void 0,function*(){const T=yield Promise.all(C.map(P=>P.prepareDocumentPaste(S,p,_,I)));for(const P of T)P==null||P.forEach((B,R)=>{_.replace(R,B)});return _}));(m=this._currentClipboardItem)===null||m===void 0||m.dataTransferPromise.cancel(),this._currentClipboardItem={handle:L,dataTransferPromise:E}}handlePaste(g){var m,S;return Le(this,void 0,void 0,function*(){const p=this._editor.getSelections();if(!g.clipboardData||!(p==null?void 0:p.length)||!this._editor.hasModel())return;const C=this._editor.getModel();if(!this.arePasteActionsEnabled(C))return;const _=(m=g.clipboardData)===null||m===void 0?void 0:m.getData(a);if(typeof _!="string")return;const L=this._languageFeaturesService.documentPasteEditProvider.ordered(C);if(!L.length)return;g.preventDefault(),g.stopImmediatePropagation();const E=C.getVersionId(),I=new n.EditorStateCancellationTokenSource(this._editor,1|2);try{const T=(0,u.toVSDataTransfer)(g.clipboardData);if(_&&((S=this._currentClipboardItem)===null||S===void 0?void 0:S.handle)===_&&(yield this._currentClipboardItem.dataTransferPromise).forEach((B,R)=>{T.replace(R,B)}),!T.has(b.Mimes.uriList)){const P=yield this._clipboardService.readResources();if(P.length){const B=P.join(`
`);T.append(b.Mimes.uriList,(0,D.createStringDataTransferItem)(B))}}T.delete(a);for(const P of[...L,o]){if(!P.pasteMimeTypes.some(R=>R.toLowerCase()===y.DataTransfers.FILES.toLowerCase()?[...T.values()].some(k=>k.asFile()):T.has(R)))continue;const B=yield P.provideDocumentPasteEdits(C,p,T,I.token);if(E!==C.getVersionId())return;if(B){(0,t.performSnippetEdit)(this._editor,typeof B.insertText=="string"?s.SnippetParser.escape(B.insertText):B.insertText.snippet,p),B.additionalEdit&&(yield this._bulkEditService.apply(h.ResourceEdit.convert(B.additionalEdit),{editor:this._editor}));return}}}finally{I.dispose()}})}};r.ID="editor.contrib.copyPasteActionController",r=De([ge(1,h.IBulkEditService),ge(2,l.IClipboardService),ge(3,d.IConfigurationService),ge(4,i.ILanguageFeaturesService)],r),e.CopyPasteController=r}),define(ne[763],oe([1,0,12,290,762,544,99,35]),function(j,e,y,f,N,D,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(N.CopyPasteController.ID,N.CopyPasteController),b.Registry.as(w.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},f.editorConfigurationBaseNode),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:D.localize(0,null),default:!1}}}))}),define(ne[764],oe([1,0,18,173,2,105,42,22,241,12,137,3,23,20,93,119,88,30,642,8,172]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=void 0;let g=class extends N.Disposable{constructor(p,C,_,L,E,I){super();this._instantiationService=_,this._languageFeaturesService=L,this._configurationService=E,this._bulkEditService=I,this._register(p.onDropIntoEditor(T=>this.onDropIntoEditor(p,T.position,T.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new m(C)),this._register(this._configurationService.onDidChangeConfiguration(T=>{T.affectsConfiguration("workbench.experimental.editor.dropIntoEditor.enabled")&&this.updateEditorOptions(p)})),this.updateEditorOptions(p)}updateEditorOptions(p){p.updateOptions({enableDropIntoEditor:this._configurationService.getValue("workbench.experimental.editor.dropIntoEditor.enabled")})}onDropIntoEditor(p,C,_){return Le(this,void 0,void 0,function*(){if(!_.dataTransfer||!p.hasModel())return;const L=p.getModel(),E=L.getVersionId(),I=yield this.extractDataTransferData(_);if(I.size===0||p.getModel().getVersionId()!==E)return;const T=new s.EditorStateCancellationTokenSource(p,1);try{const P=this._languageFeaturesService.documentOnDropEditProvider.ordered(L);for(const B of P){const R=yield B.provideDocumentOnDropEdits(L,C,I,T.token);if(T.token.isCancellationRequested||p.getModel().getVersionId()!==E)return;if(R){const k=new i.Range(C.lineNumber,C.column,C.lineNumber,C.column);(0,l.performSnippetEdit)(p,typeof R.insertText=="string"?d.SnippetParser.escape(R.insertText):R.insertText.snippet,[n.Selection.fromRange(k,0)]),R.additionalEdit&&(yield this._bulkEditService.apply(h.ResourceEdit.convert(R.additionalEdit),{editor:p}));return}}}finally{T.dispose()}})}extractDataTransferData(p){return Le(this,void 0,void 0,function*(){if(!p.dataTransfer)return new f.VSDataTransfer;const C=(0,v.toVSDataTransfer)(p.dataTransfer),_=(yield this._instantiationService.invokeFunction(o.extractEditorsDropData,p)).filter(L=>L.resource).map(L=>L.resource.toString());if(_.length){const L=(0,y.distinct)(_).join(`
`);C.replace(D.Mimes.uriList,(0,f.createStringDataTransferItem)(L))}return C})}};g.ID="editor.contrib.dropIntoEditorController",g=De([ge(1,c.IWorkspaceContextService),ge(2,r.IInstantiationService),ge(3,t.ILanguageFeaturesService),ge(4,a.IConfigurationService),ge(5,h.IBulkEditService)],g),e.DropIntoEditorController=g;let m=class{constructor(p){this._workspaceContextService=p}provideDocumentOnDropEdits(p,C,_,L){var E;return Le(this,void 0,void 0,function*(){const I=_.get("text/uri-list");if(I){const P=yield I.asString(),B=this.getUriListInsertText(P);if(B)return{insertText:B}}const T=(E=_.get("text"))!==null&&E!==void 0?E:_.get(D.Mimes.text);if(T)return{insertText:yield T.asString()}})}getUriListInsertText(p){const C=[];for(const _ of p.split(`
`))try{C.push(b.URI.parse(_))}catch{}if(!!C.length)return C.map(_=>{const L=this._workspaceContextService.getWorkspaceFolder(_);if(L){const E=(0,w.relativePath)(L.uri,_);if(E)return E}return _.fsPath}).join(" ")}};m=De([ge(0,c.IWorkspaceContextService)],m),(0,u.registerEditorContribution)(g.ID,g)}),define(ne[319],oe([1,0,10,21,13,4,2,164,61,3,28,161,26,199,201,32,438,20,71,88,119,19,64,200,30]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let C=class extends w.Disposable{constructor(k,A,O,F,W,M,z){super();this.editor=k,this.cache=A,this.commandService=O,this.languageConfigurationService=F,this.languageFeaturesService=W,this.debounceService=M,this.onDidChangeEmitter=new D.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new w.MutableDisposable),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:200}),this._register(O.onDidExecuteCommand(G=>{new Set([b.CoreEditingCommands.Tab.id,b.CoreEditingCommands.DeleteLeft.id,b.CoreEditingCommands.DeleteRight.id,t.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(G.commandId)&&k.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(G=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(G=>{(G.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,w.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{z.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var k;return(k=this.session)===null||k===void 0?void 0:k.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(k){var A;(A=this.session)===null||A===void 0||A.setExpanded(k)}setActive(k){var A;this.active=k,k&&((A=this.session)===null||A===void 0||A.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(56).enabled||this.session&&this.session.isValid||this.trigger(h.InlineCompletionTriggerKind.Automatic)}trigger(k){if(this.completionSession.value){k===h.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new _(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,k,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var k;(k=this.session)===null||k===void 0||k.commitCurrentCompletion()}showNext(){var k;(k=this.session)===null||k===void 0||k.showNextInlineCompletion()}showPrevious(){var k;(k=this.session)===null||k===void 0||k.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var k;return Le(this,void 0,void 0,function*(){const A=yield(k=this.session)===null||k===void 0?void 0:k.hasMultipleInlineCompletions();return A!==void 0?A:!1})}};C=De([ge(2,n.ICommandService),ge(3,l.ILanguageConfigurationService),ge(4,a.ILanguageFeaturesService),ge(5,o.ILanguageFeatureDebounceService),ge(6,p.IConfigurationService)],C),e.InlineCompletionsModel=C;class _ extends i.BaseGhostTextWidgetModel{constructor(k,A,O,F,W,M,z,G,te){super(k);this.triggerPosition=A,this.shouldUpdate=O,this.commandService=F,this.cache=W,this.initialTriggerKind=M,this.languageConfigurationService=z,this.registry=G,this.debounce=te,this.minReservedLineCount=0,this.updateOperation=this._register(new w.MutableDisposable),this.updateSoon=this._register(new y.RunOnceScheduler(()=>{const J=this.initialTriggerKind;return this.initialTriggerKind=h.InlineCompletionTriggerKind.Automatic,this.update(J)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let X;this._register(this.onDidChange(()=>{var J;const ie=this.currentCompletion;if(ie&&ie.sourceInlineCompletion!==X){X=ie.sourceInlineCompletion;const re=ie.sourceProvider;(J=re.handleItemDidShow)===null||J===void 0||J.call(re,ie.sourceInlineCompletions,X)}})),this._register((0,w.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(J=>{var ie;J.reason!==3&&((ie=this.cache.value)===null||ie===void 0||ie.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(J=>{var ie;(ie=this.cache.value)===null||ie===void 0||ie.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const k=this.editor.getModel(),A=k.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(O=>{const F=k.getValueInRange(O.synchronizedRange).toLowerCase(),W=O.inlineCompletion.filterText.toLowerCase(),M=k.getLineIndentColumn(O.synchronizedRange.startLineNumber),z=Math.max(0,A.column-O.synchronizedRange.startColumn);let G=W.substring(0,z),te=W.substring(z),X=F.substring(0,z),J=F.substring(z);return O.synchronizedRange.startColumn<=M&&(X=X.trimStart(),X.length===0&&(J=J.trimStart()),G=G.trimStart(),G.length===0&&(te=te.trimStart())),G.startsWith(X)&&(0,m.matchesSubString)(J,te)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const k=this.filteredCompletions.findIndex(A=>A.semanticId===this.currentlySelectedCompletionId);return k===-1?(this.currentlySelectedCompletionId=void 0,0):k}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return Le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const k=this.filteredCompletions||[];if(k.length>0){const A=(this.fixAndGetIndexOfCurrentSelection()+1)%k.length;this.currentlySelectedCompletionId=k[A].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return Le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const k=this.filteredCompletions||[];if(k.length>0){const A=(this.fixAndGetIndexOfCurrentSelection()+k.length-1)%k.length;this.currentlySelectedCompletionId=k[A].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var k;return Le(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===h.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(h.InlineCompletionTriggerKind.Explicit):((k=this.cache.value)===null||k===void 0?void 0:k.triggerKind)!==h.InlineCompletionTriggerKind.Explicit&&(yield this.update(h.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var k;return Le(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((k=this.cache.value)===null||k===void 0?void 0:k.completions.length)||0)>1})}get ghostText(){const k=this.currentCompletion;if(!k)return;const A=this.editor.getPosition();if(k.range.getEndPosition().isBefore(A))return;const O=this.editor.getOptions().get(56).mode,F=(0,s.inlineCompletionToGhostText)(k,this.editor.getModel(),O,A);return F?F.isEmpty()?void 0:F:new i.GhostTextReplacement(k.range.startLineNumber,k.range.startColumn,k.range.endColumn-k.range.startColumn,k.insertText.split(`
`),0)}get currentCompletion(){const k=this.currentCachedCompletion;if(!!k)return k.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(k){return Le(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const A=this.editor.getPosition(),O=new Date,F=(0,y.createCancelablePromise)(M=>Le(this,void 0,void 0,function*(){let z;try{z=yield T(this.registry,A,this.editor.getModel(),{triggerKind:k,selectedSuggestionInfo:void 0},M,this.languageConfigurationService);const G=new Date;this.debounce.update(this.editor.getModel(),G.getTime()-O.getTime())}catch(G){(0,N.onUnexpectedError)(G);return}M.isCancellationRequested||(this.cache.setValue(this.editor,z,k),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),W=new L(F,k);this.updateOperation.value=W,yield F,this.updateOperation.value===W&&this.updateOperation.clear()})}takeOwnership(k){this._register(k)}commitCurrentCompletion(){if(!this.ghostText)return;const A=this.currentCompletion;A&&this.commit(A)}commit(k){var A;const O=this.cache.clearAndLeak();k.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[v.EditOperation.replaceMove(k.range,""),...k.additionalTextEdits]),this.editor.setPosition(k.snippetInfo.range.getStartPosition()),(A=c.SnippetController2.get(this.editor))===null||A===void 0||A.insert(k.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[v.EditOperation.replaceMove(k.range,k.insertText),...k.additionalTextEdits]),k.command?this.commandService.executeCommand(k.command.id,...k.command.arguments||[]).finally(()=>{O==null||O.dispose()}).then(void 0,N.onUnexpectedExternalError):O==null||O.dispose(),this.onDidChangeEmitter.fire()}get commands(){var k;return[...new Set(((k=this.cache.value)===null||k===void 0?void 0:k.completions.map(O=>O.inlineCompletion.sourceInlineCompletions))||[])].flatMap(O=>O.commands||[])}}e.InlineCompletionsSession=_;class L{constructor(k,A){this.promise=k,this.triggerKind=A}dispose(){this.promise.cancel()}}e.UpdateOperation=L;class E extends w.Disposable{constructor(k,A,O,F){super();this.editor=A,this.onChange=O,this.triggerKind=F,this.isDisposing=!1;const W=A.deltaDecorations([],k.items.map(M=>({range:M.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,w.toDisposable)(()=>{this.isDisposing=!0,A.deltaDecorations(W,[])})),this.completions=k.items.map((M,z)=>new I(M,W[z])),this._register(A.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(k)}updateRanges(){if(this.isDisposing)return;let k=!1;const A=this.editor.getModel();for(const O of this.completions){const F=A.getDecorationRange(O.decorationId);if(!F){(0,N.onUnexpectedError)(new Error("Decoration has no range"));continue}O.synchronizedRange.equalsRange(F)||(k=!0,O.synchronizedRange=F)}k&&this.onChange()}}e.SynchronizedInlineCompletionsCache=E;class I{constructor(k,A){this.inlineCompletion=k,this.decorationId=A,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=k.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function T(R,k,A,O,F=f.CancellationToken.None,W){return Le(this,void 0,void 0,function*(){const M=P(k,A),z=R.all(A),G=yield Promise.all(z.map(X=>Le(this,void 0,void 0,function*(){const J=yield Promise.resolve(X.provideInlineCompletions(A,k,O,F)).catch(N.onUnexpectedExternalError);return{completions:J,provider:X,dispose:()=>{J&&X.freeInlineCompletions(J)}}}))),te=new Map;for(const X of G){const J=X.completions;if(!!J)for(const ie of J.items){const re=ie.range?u.Range.lift(ie.range):M;if(re.startLineNumber!==re.endLineNumber)continue;let Z,x;typeof ie.insertText=="string"?(Z=ie.insertText,W&&ie.completeBracketPairs&&(Z=B(Z,re.getStartPosition(),A,W)),x=void 0):"snippet"in ie.insertText?(Z=new r.SnippetParser().parse(ie.insertText.snippet).toString(),x={snippet:ie.insertText.snippet,range:re}):(0,g.assertNever)(ie.insertText);const U={insertText:Z,snippetInfo:x,range:re,command:ie.command,sourceProvider:X.provider,sourceInlineCompletions:J,sourceInlineCompletion:ie,filterText:ie.filterText||Z,additionalTextEdits:ie.additionalTextEdits||(0,S.getReadonlyEmptyArray)()};te.set(JSON.stringify({insertText:Z,range:ie.range}),U)}}return{items:[...te.values()],dispose:()=>{for(const X of G)X.dispose()}}})}e.provideInlineCompletions=T;function P(R,k){const A=k.getWordAtPosition(R),O=k.getLineMaxColumn(R.lineNumber);return A?new u.Range(R.lineNumber,A.startColumn,R.lineNumber,O):u.Range.fromPositions(R,R.with(void 0,O))}function B(R,k,A,O){const W=A.getLineContent(k.lineNumber).substring(0,k.column-1)+R,M=A.tokenization.tokenizeLineWithEdit(k,W.length-(k.column-1),R),z=M==null?void 0:M.sliceAndInflate(k.column-1,W.length,0);return z?(0,d.fixBracketsInLine)(z,O):R}}),define(ne[765],oe([1,0,10,21,13,4,2,9,23,90,119,274,91,30,16,70,92,272,101,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class c{constructor(_,L,E,I){this.leadingLineContent=_.getLineContent(L.lineNumber).substr(0,L.column-1),this.leadingWord=_.getWordUntilPosition(L),this.lineNumber=L.lineNumber,this.column=L.column,this.auto=E,this.shy=I}static shouldAutoTrigger(_){if(!_.hasModel())return!1;const L=_.getModel(),E=_.getPosition();L.tokenization.tokenizeIfCheap(E.lineNumber);const I=L.getWordAtPosition(E);return!(!I||I.endColumn!==E.column||!isNaN(Number(I.word)))}}e.LineContext=c;function g(C){return C.getOption(107).preview}function m(C,_,L){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=L.getValue("editor.inlineSuggest.allowQuickSuggestions");return E!==void 0?Boolean(E):!1}function S(C,_,L){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=L.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return E!==void 0?Boolean(E):!1}let p=class en{constructor(_,L,E,I,T,P,B,R){this._editor=_,this._editorWorkerService=L,this._clipboardService=E,this._telemetryService=I,this._logService=T,this._contextKeyService=P,this._configurationService=B,this._languageFeaturesService=R,this._toDispose=new w.DisposableStore,this._triggerCharacterListener=new w.DisposableStore,this._triggerQuickSuggest=new y.TimeoutTimer,this._state=0,this._completionDisposables=new w.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new v.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let k=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{k=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{k=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(A=>{k||this._onCursorChange(A)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{k||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,w.dispose)(this._triggerCharacterListener),(0,w.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(82)||!this._editor.hasModel()||!this._editor.getOption(110))return;const _=new Map;for(const E of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const I of E.triggerCharacters||[]){let T=_.get(I);T||(T=new Set,T.add((0,o.getSnippetSuggestSupport)()),_.set(I,T)),T.add(E)}const L=E=>{if(!S(this._editor,this._contextKeyService,this._configurationService)||c.shouldAutoTrigger(this._editor))return;if(!E){const P=this._editor.getPosition();E=this._editor.getModel().getLineContent(P.lineNumber).substr(0,P.column-1)}let I="";(0,b.isLowSurrogate)(E.charCodeAt(E.length-1))?(0,b.isHighSurrogate)(E.charCodeAt(E.length-2))&&(I=E.substr(E.length-2)):I=E.charAt(E.length-1);const T=_.get(I);if(T){const P=this._completionModel?{items:this._completionModel.adopt(T),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:I},Boolean(this._completionModel),T,P)}};this._triggerCharacterListener.add(this._editor.onDidType(L)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>L()))}get state(){return this._state}cancel(_=!1){var L;this._state!==0&&(this._triggerQuickSuggest.cancel(),(L=this._requestToken)===null||L===void 0||L.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:_}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(_){if(!this._editor.hasModel())return;const L=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!_.selection.isEmpty()||_.reason!==0&&_.reason!==3||_.source!=="keyboard"&&_.source!=="deleteLeft"){this.cancel();return}this._state===0&&_.reason===0?(L.containsRange(this._currentSelection)||L.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&_.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var _;o.QuickSuggestionsOptions.isAllOff(this._editor.getOption(80))||this._editor.getOption(107).snippetsPreventQuickSuggestions&&((_=h.SnippetController2.get(this._editor))===null||_===void 0?void 0:_.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!c.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const L=this._editor.getModel(),E=this._editor.getPosition(),I=this._editor.getOption(80);if(!o.QuickSuggestionsOptions.isAllOff(I)){if(!o.QuickSuggestionsOptions.isAllOn(I)){L.tokenization.tokenizeIfCheap(E.lineNumber);const T=L.tokenization.getLineTokens(E.lineNumber),P=T.getStandardTokenType(T.findTokenIndexAtOffset(Math.max(E.column-1-1,0)));if(o.QuickSuggestionsOptions.valueFor(I,P)!=="on")return}!m(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(L)||this.trigger({auto:!0,shy:!1})}},this._editor.getOption(81)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const _=this._editor.getModel(),L=this._editor.getPosition(),E=new c(_,L,this._state===2,!1);this._onNewContext(E)})}trigger(_,L=!1,E,I,T){var P;if(!this._editor.hasModel())return;const B=this._editor.getModel(),R=_.auto,k=new c(B,this._editor.getPosition(),R,_.shy);this.cancel(L),this._state=R?2:1,this._onDidTrigger.fire({auto:R,shy:_.shy,position:this._editor.getPosition()}),this._context=k;let A={triggerKind:(P=_.triggerKind)!==null&&P!==void 0?P:0};_.triggerCharacter&&(A={triggerKind:1,triggerCharacter:_.triggerCharacter}),this._requestToken=new f.CancellationTokenSource;const O=this._editor.getOption(102);let F=1;switch(O){case"top":F=0;break;case"bottom":F=2;break}const{itemKind:W,showDeprecated:M}=en._createSuggestFilter(this._editor),z=new o.CompletionOptions(F,T?new Set:W,E,M),G=i.WordDistance.create(this._editorWorkerService,this._editor),te=(0,o.provideSuggestionItems)(this._languageFeaturesService.completionProvider,B,this._editor.getPosition(),z,A,this._requestToken.token);Promise.all([te,G]).then(([X,J])=>Le(this,void 0,void 0,function*(){var ie;if((ie=this._requestToken)===null||ie===void 0||ie.dispose(),!this._editor.hasModel())return;let re=I==null?void 0:I.clipboardText;if(!re&&X.needsClipboard&&(re=yield this._clipboardService.readText()),this._state===0)return;const Z=this._editor.getModel();let x=X.items;if(I){const q=(0,o.getSuggestionComparator)(F);x=x.concat(I.items).sort(q)}const U=new c(Z,this._editor.getPosition(),R,_.shy);this._completionModel=new a.CompletionModel(x,this._context.column,{leadingLineContent:U.leadingLineContent,characterCountDelta:U.column-this._context.column},J,this._editor.getOption(107),this._editor.getOption(102),void 0,re),this._completionDisposables.add(X.disposable),this._onNewContext(U),this._reportDurationsTelemetry(X.durations)})).catch(N.onUnexpectedError)}_reportDurationsTelemetry(_){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(_)}),this._logService.debug("suggest.durations.json",_)})}static _createSuggestFilter(_){const L=new Set;_.getOption(102)==="none"&&L.add(27);const I=_.getOption(107);return I.showMethods||L.add(0),I.showFunctions||L.add(1),I.showConstructors||L.add(2),I.showFields||L.add(3),I.showVariables||L.add(4),I.showClasses||L.add(5),I.showStructs||L.add(6),I.showInterfaces||L.add(7),I.showModules||L.add(8),I.showProperties||L.add(9),I.showEvents||L.add(10),I.showOperators||L.add(11),I.showUnits||L.add(12),I.showValues||L.add(13),I.showConstants||L.add(14),I.showEnums||L.add(15),I.showEnumMembers||L.add(16),I.showKeywords||L.add(17),I.showWords||L.add(18),I.showColors||L.add(19),I.showFiles||L.add(20),I.showReferences||L.add(21),I.showColors||L.add(22),I.showFolders||L.add(23),I.showTypeParameters||L.add(24),I.showSnippets||L.add(27),I.showUsers||L.add(25),I.showIssues||L.add(26),{itemKind:L,showDeprecated:I.showDeprecated}}_onNewContext(_){if(!!this._context){if(_.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,b.getLeadingWhitespace)(_.leadingLineContent)!==(0,b.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(_.column<this._context.column){_.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(_.leadingWord.word.length!==0&&_.leadingWord.startColumn>this._context.leadingWord.startColumn){const L=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const I of this._completionModel.allProvider)L.delete(I);const E=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,L,{items:E,clipboardText:this._completionModel.clipboardText});return}if(_.column>this._context.column&&this._completionModel.incomplete.size>0&&_.leadingWord.word.length!==0){const{incomplete:L}=this._completionModel,E=this._completionModel.adopt(L);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,L,{items:E,clipboardText:this._completionModel.clipboardText})}else{const L=this._completionModel.lineContext;let E=!1;if(this._completionModel.lineContext={leadingLineContent:_.leadingLineContent,characterCountDelta:_.column-this._context.column},this._completionModel.items.length===0){if(c.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<_.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=L,E=this._completionModel.items.length>0,E&&_.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:E})}}}}};p=De([ge(1,u.IEditorWorkerService),ge(2,n.IClipboardService),ge(3,d.ITelemetryService),ge(4,l.ILogService),ge(5,s.IContextKeyService),ge(6,t.IConfigurationService),ge(7,r.ILanguageFeaturesService)],p),e.SuggestModel=p}),define(ne[320],oe([1,0,47,18,10,21,13,4,104,2,17,57,19,150,12,61,11,3,24,119,88,295,626,588,26,16,8,70,101,625,486,765,487,748,92,42,123]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E,I,T,P,B,R,k,A,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const F=!1;class W{constructor(ie,re){if(this._model=ie,this._position=re,ie.getLineMaxColumn(re.lineNumber)!==re.column){const x=ie.getOffsetAt(re),U=ie.getPositionAt(x+1);this._marker=ie.deltaDecorations([],[{range:a.Range.fromPositions(re,U),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(ie){if(this._model.isDisposed()||this._position.lineNumber!==ie.lineNumber)return 0;if(this._marker){const re=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(re.getStartPosition())-this._model.getOffsetAt(ie)}else return this._model.getLineMaxColumn(ie.lineNumber)-ie.column}}let M=class tn{constructor(ie,re,Z,x,U,q,le){this._memoryService=re,this._commandService=Z,this._contextKeyService=x,this._instantiationService=U,this._logService=q,this._telemetryService=le,this._lineSuffix=new u.MutableDisposable,this._toDispose=new u.DisposableStore,this._selectors=new z(H=>H.priority),this._telemetryGate=0,this.editor=ie,this.model=U.createInstance(P.SuggestModel,this.editor);const se=E.Context.InsertMode.bindTo(x);se.set(ie.getOption(107).insertMode),this.model.onDidTrigger(()=>se.set(ie.getOption(107).insertMode)),this.widget=this._toDispose.add(new N.IdleValue(()=>{const H=this._instantiationService.createInstance(R.SuggestWidget,this.editor);this._toDispose.add(H),this._toDispose.add(H.onDidSelect(ee=>this._insertSuggestion(ee,0),this));const $=new T.CommitCharacterController(this.editor,H,ee=>this._insertSuggestion(ee,2));this._toDispose.add($),this._toDispose.add(this.model.onDidSuggest(ee=>{ee.completionModel.items.length===0&&$.reset()}));const K=E.Context.MakesTextEdit.bindTo(this._contextKeyService),V=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Q=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,u.toDisposable)(()=>{K.reset(),V.reset(),Q.reset()})),this._toDispose.add(H.onDidFocus(({item:ee})=>{const ae=this.editor.getPosition(),fe=ee.editStart.column,pe=ae.column;let ve=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ee.completion.additionalTextEdits&&!(ee.completion.insertTextRules&4)&&pe-fe===ee.completion.insertText.length&&(ve=this.editor.getModel().getValueInRange({startLineNumber:ae.lineNumber,startColumn:fe,endLineNumber:ae.lineNumber,endColumn:pe})!==ee.completion.insertText),K.set(ve),V.set(!d.Position.equals(ee.editInsertEnd,ee.editReplaceEnd)),Q.set(Boolean(ee.provider.resolveCompletionItem)||Boolean(ee.completion.documentation)||ee.completion.detail!==ee.completion.label)})),this._toDispose.add(H.onDetailsKeyDown(ee=>{if(ee.toKeybinding().equals(new v.SimpleKeybinding(!0,!1,!1,!1,33))||h.isMacintosh&&ee.toKeybinding().equals(new v.SimpleKeybinding(!1,!1,!1,!0,33))){ee.stopPropagation();return}ee.toKeybinding().isModifierKey()||this.editor.focus()})),H})),this._overtypingCapturer=this._toDispose.add(new N.IdleValue(()=>this._toDispose.add(new B.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new N.IdleValue(()=>this._toDispose.add(new I.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(U.createInstance(m.WordContextKey,ie)),this._toDispose.add(this.model.onDidTrigger(H=>{this.widget.value.showTriggered(H.auto,H.shy?250:50),this._lineSuffix.value=new W(this.editor.getModel(),H.position)})),this._toDispose.add(this.model.onDidSuggest(H=>{if(!H.shy){let $=-1;for(const K of this._selectors.itemsOrderedByPriorityDesc)if($=K.select(this.editor.getModel(),this.editor.getPosition(),H.completionModel.items),$!==-1)break;$===-1&&($=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),H.completionModel.items)),this.widget.value.showSuggestions(H.completionModel,$,H.isFrozen,H.auto)}})),this._toDispose.add(this.model.onDidCancel(H=>{H.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{F||(this.model.cancel(),this.model.clear())}));const Y=E.Context.AcceptSuggestionsOnEnter.bindTo(x),de=()=>{const H=this.editor.getOption(1);Y.set(H==="on"||H==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>de())),de()}static get(ie){return ie.getContribution(tn.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(ie,re){if(!ie||!ie.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Z=r.SnippetController2.get(this.editor);if(!Z)return;const x=this.editor.getModel(),U=x.getAlternativeVersionId(),{item:q}=ie,le=[],se=new D.CancellationTokenSource;re&1||this.editor.pushUndoStop();const Y=this.getOverwriteInfo(q,Boolean(re&8));if(this._memoryService.memorize(x,this.editor.getPosition(),q),Array.isArray(q.completion.additionalTextEdits)){const H=t.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",q.completion.additionalTextEdits.map($=>l.EditOperation.replaceMove(a.Range.lift($.range),$.text))),H.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!q.isResolved){const H=new i.StopWatch(!0);let $;const K=x.onDidChangeContent(ae=>{if(ae.isFlush){se.cancel(),K.dispose();return}for(const fe of ae.changes){const pe=a.Range.getEndPosition(fe.range);(!$||d.Position.isBefore(pe,$))&&($=pe)}}),V=re;re|=2;let Q=!1;const ee=this.editor.onWillType(()=>{ee.dispose(),Q=!0,V&2||this.editor.pushUndoStop()});le.push(q.resolve(se.token).then(()=>{if(!q.completion.additionalTextEdits||se.token.isCancellationRequested||$&&q.completion.additionalTextEdits.some(fe=>d.Position.isBefore($,a.Range.getStartPosition(fe.range))))return!1;Q&&this.editor.pushUndoStop();const ae=t.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",q.completion.additionalTextEdits.map(fe=>l.EditOperation.replaceMove(a.Range.lift(fe.range),fe.text))),ae.restoreRelativeVerticalPositionOfCursor(this.editor),(Q||!(V&2))&&this.editor.pushUndoStop(),!0}).then(ae=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",H.elapsed(),ae),K.dispose(),ee.dispose()}))}let{insertText:de}=q.completion;q.completion.insertTextRules&4||(de=c.SnippetParser.escape(de)),Z.insert(de,{overwriteBefore:Y.overwriteBefore,overwriteAfter:Y.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(q.completion.insertTextRules&1),clipboardText:ie.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),re&2||this.editor.pushUndoStop(),q.completion.command?q.completion.command.id===G.id?this.model.trigger({auto:!0,shy:!1},!0):(le.push(this._commandService.executeCommand(q.completion.command.id,...q.completion.command.arguments?[...q.completion.command.arguments]:[]).catch(w.onUnexpectedError)),this.model.cancel()):this.model.cancel(),re&4&&this._alternatives.value.set(ie,H=>{for(se.cancel();x.canUndo();){U!==x.getAlternativeVersionId()&&x.undo(),this._insertSuggestion(H,1|2|(re&8?8:0));break}}),this._alertCompletionItem(q),Promise.all(le).finally(()=>{this._reportSuggestionAcceptedTelemetry(q,x,ie),this.model.clear(),se.dispose()})}_reportSuggestionAcceptedTelemetry(ie,re,Z){var x;if(this._telemetryGate++%100!=0)return;const U=ie.extensionId?ie.extensionId.value:((x=Z.item.provider._debugDisplayName)!==null&&x!==void 0?x:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:U,kind:ie.completion.kind,basenameHash:(0,O.hash)((0,A.basename)(re.uri)).toString(16),languageId:re.getLanguageId(),fileExtension:(0,A.extname)(re.uri)})}getOverwriteInfo(ie,re){(0,n.assertType)(this.editor.hasModel());let Z=this.editor.getOption(107).insertMode==="replace";re&&(Z=!Z);const x=ie.position.column-ie.editStart.column,U=(Z?ie.editReplaceEnd.column:ie.editInsertEnd.column)-ie.position.column,q=this.editor.getPosition().column-ie.position.column,le=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:x+q,overwriteAfter:U+le}}_alertCompletionItem(ie){if((0,f.isNonEmptyArray)(ie.completion.additionalTextEdits)){const re=S.localize(0,null,ie.textLabel,ie.completion.additionalTextEdits.length);(0,y.alert)(re)}}triggerSuggest(ie,re,Z){this.editor.hasModel()&&(this.model.trigger({auto:re??!1,shy:!1},!1,ie,void 0,Z),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(ie){if(!this.editor.hasModel())return;const re=this.editor.getPosition(),Z=()=>{re.equals(this.editor.getPosition())&&this._commandService.executeCommand(ie.fallback)},x=U=>{if(U.completion.insertTextRules&4||U.completion.additionalTextEdits)return!0;const q=this.editor.getPosition(),le=U.editStart.column,se=q.column;return se-le!==U.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:q.lineNumber,startColumn:le,endLineNumber:q.lineNumber,endColumn:se})!==U.completion.insertText};b.Event.once(this.model.onDidTrigger)(U=>{const q=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,u.dispose)(q),Z()},void 0,q),this.model.onDidSuggest(({completionModel:le})=>{if((0,u.dispose)(q),le.items.length===0){Z();return}const se=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),le.items),Y=le.items[se];if(!x(Y)){Z();return}this.editor.pushUndoStop(),this._insertSuggestion({index:se,item:Y,model:le},4|1|2)},void 0,q)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(re,0),this.editor.focus()}acceptSelectedSuggestion(ie,re){const Z=this.widget.value.getFocusedItem();let x=0;ie&&(x|=4),re&&(x|=8),this._insertSuggestion(Z,x)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(ie){return this._selectors.register(ie)}};M.ID="editor.contrib.suggestController",M=De([ge(1,g.ISuggestMemoryService),ge(2,p.ICommandService),ge(3,C.IContextKeyService),ge(4,_.IInstantiationService),ge(5,L.ILogService),ge(6,k.ITelemetryService)],M),e.SuggestController=M;class z{constructor(ie){this.prioritySelector=ie,this._items=new Array}register(ie){if(this._items.indexOf(ie)!==-1)throw new Error("Value is already registered");return this._items.push(ie),this._items.sort((re,Z)=>this.prioritySelector(Z)-this.prioritySelector(re)),{dispose:()=>{const re=this._items.indexOf(ie);re>=0&&this._items.splice(re,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class G extends s.EditorAction{constructor(){super({id:G.id,label:S.localize(1,null),alias:"Trigger Suggest",precondition:C.ContextKeyExpr.and(o.EditorContextKeys.writable,o.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(ie,re,Z){const x=M.get(re);if(!x)return;let U;Z&&typeof Z=="object"&&Z.auto===!0&&(U=!0),x.triggerSuggest(void 0,U)}}e.TriggerSuggestAction=G,G.id="editor.action.triggerSuggest",(0,s.registerEditorContribution)(M.ID,M),(0,s.registerEditorAction)(G);const te=100+90,X=s.EditorCommand.bindToContribution(M.get);(0,s.registerEditorCommand)(new X({id:"acceptSelectedSuggestion",precondition:E.Context.Visible,handler(J){J.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:C.ContextKeyExpr.and(E.Context.Visible,o.EditorContextKeys.textInputFocus),weight:te},{primary:3,kbExpr:C.ContextKeyExpr.and(E.Context.Visible,o.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:te}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(3,null),group:"left",order:1,when:C.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(4,null),group:"left",order:1,when:C.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,s.registerEditorCommand)(new X({id:"acceptAlternativeSelectedSuggestion",precondition:C.ContextKeyExpr.and(E.Context.Visible,o.EditorContextKeys.textInputFocus),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(J){J.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:C.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:S.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:C.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:S.localize(6,null)}]})),p.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,s.registerEditorCommand)(new X({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:J=>J.cancelSuggestWidget(),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,s.registerEditorCommand)(new X({id:"selectNextSuggestion",precondition:C.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectNextSuggestion(),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,s.registerEditorCommand)(new X({id:"selectNextPageSuggestion",precondition:C.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectNextPageSuggestion(),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,s.registerEditorCommand)(new X({id:"selectLastSuggestion",precondition:C.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectLastSuggestion()})),(0,s.registerEditorCommand)(new X({id:"selectPrevSuggestion",precondition:C.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectPrevSuggestion(),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,s.registerEditorCommand)(new X({id:"selectPrevPageSuggestion",precondition:C.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectPrevPageSuggestion(),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,s.registerEditorCommand)(new X({id:"selectFirstSuggestion",precondition:C.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectFirstSuggestion()})),(0,s.registerEditorCommand)(new X({id:"toggleSuggestionDetails",precondition:E.Context.Visible,handler:J=>J.toggleSuggestionDetails(),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:C.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:S.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:C.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:S.localize(8,null)}]})),(0,s.registerEditorCommand)(new X({id:"toggleExplainMode",precondition:E.Context.Visible,handler:J=>J.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,s.registerEditorCommand)(new X({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:J=>J.toggleSuggestionFocus(),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,s.registerEditorCommand)(new X({id:"insertBestCompletion",precondition:C.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,C.ContextKeyExpr.equals("config.editor.tabCompletion","on"),m.WordContextKey.AtEnd,E.Context.Visible.toNegated(),I.SuggestAlternatives.OtherSuggestions.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:(J,ie)=>{J.triggerSuggestAndAcceptBest((0,n.isObject)(ie)?Object.assign({fallback:"tab"},ie):{fallback:"tab"})},kbOpts:{weight:te,primary:2}})),(0,s.registerEditorCommand)(new X({id:"insertNextSuggestion",precondition:C.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,C.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:J=>J.acceptNextSuggestion(),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:2}})),(0,s.registerEditorCommand)(new X({id:"insertPrevSuggestion",precondition:C.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,C.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:J=>J.acceptPrevSuggestion(),kbOpts:{weight:te,kbExpr:o.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,s.registerEditorAction)(class extends s.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:S.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(J,ie){var re;(re=M.get(ie))===null||re===void 0||re.resetWidgetSize()}})}),define(ne[766],oe([1,0,18,10,4,2,11,3,88,318,320,201]),function(j,e,y,f,N,D,w,b,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class n extends D.Disposable{constructor(a,o){super();this.editor=a,this.suggestControllerPreselector=o,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new N.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new f.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(a.onKeyDown(c=>{c.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(a.onKeyUp(c=>{c.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const r=h.SuggestController.get(this.editor);if(r){this._register(r.registerSelector({priority:100,select:(m,S,p)=>{const C=this.editor.getModel(),_=(0,i.minimizeInlineCompletion)(C,this.suggestControllerPreselector());if(!_)return-1;const L=w.Position.lift(S),E=p.map((T,P)=>{const B=l(r,L,T,this.isShiftKeyPressed),R=(0,i.minimizeInlineCompletion)(C,B==null?void 0:B.normalizedInlineCompletion);if(!R)return;const k=t(_.range,R.range)&&_.insertText.startsWith(R.insertText);return{index:P,valid:k,prefixLength:R.insertText.length,suggestItem:T}}).filter(T=>T&&T.valid),I=(0,y.findMaxBy)(E,(0,y.compareBy)(T=>T.prefixLength,y.numberComparator));return I?I.index:-1}}));let c=!1;const g=()=>{c||(c=!0,this._register(r.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(r.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(r.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(N.Event.once(r.model.onDidTrigger)(m=>{g()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(a){const o=this.getSuggestItemInfo();let r=!1;s(this._currentSuggestItemInfo,o)||(this._currentSuggestItemInfo=o,r=!0),this._isActive!==a&&(this._isActive=a,r=!0),r&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const a=h.SuggestController.get(this.editor);if(!a||!this.isSuggestWidgetVisible)return;const o=a.widget.value.getFocusedItem();if(!!o)return l(a,this.editor.getPosition(),o.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const a=h.SuggestController.get(this.editor);a&&a.stopForceRenderingAbove()}forceRenderingAbove(){const a=h.SuggestController.get(this.editor);a&&a.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=n;function t(d,a){return a.startLineNumber===d.startLineNumber&&a.startColumn===d.startColumn&&(a.endLineNumber<d.endLineNumber||a.endLineNumber===d.endLineNumber&&a.endColumn<=d.endColumn)}e.rangeStartsWith=t;function s(d,a){return d===a?!0:!d||!a?!1:d.completionItemKind===a.completionItemKind&&d.isSnippetText===a.isSnippetText&&(0,i.normalizedInlineCompletionsEquals)(d.normalizedInlineCompletion,a.normalizedInlineCompletion)}function l(d,a,o,r){if(Array.isArray(o.completion.additionalTextEdits)&&o.completion.additionalTextEdits.length>0)return{completionItemKind:o.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:b.Range.fromPositions(a,a),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:c}=o.completion,g=!1;if(o.completion.insertTextRules&4){const S=new v.SnippetParser().parse(c),p=d.editor.getModel();if(S.children.length>100)return;u.SnippetSession.adjustWhitespace(p,a,S,!0,!0),c=S.toString(),g=!0}const m=d.getOverwriteInfo(o,r);return{isSnippetText:g,completionItemKind:o.completion.kind,normalizedInlineCompletion:{insertText:c,filterText:c,range:b.Range.fromPositions(a.delta(0,-m.overwriteBefore),a.delta(0,Math.max(m.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}}),define(ne[767],oe([1,0,10,13,2,28,20,161,319,201,766]),function(j,e,y,f,N,D,w,b,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;let i=class extends b.BaseGhostTextWidgetModel{constructor(s,l,d){super(s);this.cache=l,this.languageFeaturesService=d,this.suggestionInlineCompletionSource=this._register(new h.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var a,o;return(o=(a=this.cache.value)===null||a===void 0?void 0:a.completions[0])===null||o===void 0?void 0:o.toLiveInlineCompletion()})),this.updateOperation=this._register(new N.MutableDisposable),this.updateCacheSoon=this._register(new y.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const o=this.ghostText;o&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,n(o.parts.map(r=>r.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(a=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,N.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(107).preview}updateCache(){return Le(this,void 0,void 0,function*(){const s=this.suggestionInlineCompletionSource.state;if(!s||!s.selectedItem)return;const l={text:s.selectedItem.normalizedInlineCompletion.insertText,range:s.selectedItem.normalizedInlineCompletion.range,isSnippetText:s.selectedItem.isSnippetText,completionKind:s.selectedItem.completionItemKind},d=this.editor.getPosition();if(s.selectedItem.isSnippetText||s.selectedItem.completionItemKind===27||s.selectedItem.completionItemKind===20||s.selectedItem.completionItemKind===23){this.cache.clear();return}const a=(0,y.createCancelablePromise)(r=>Le(this,void 0,void 0,function*(){let c;try{c=yield(0,v.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,d,this.editor.getModel(),{triggerKind:D.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:l},r)}catch(g){(0,f.onUnexpectedError)(g);return}if(r.isCancellationRequested){c.dispose();return}this.cache.setValue(this.editor,c,D.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire()})),o=new v.UpdateOperation(a,D.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=o,yield a,this.updateOperation.value===o&&this.updateOperation.clear()})}get ghostText(){var s,l,d;const a=this.isSuggestionPreviewEnabled(),o=this.editor.getModel(),r=(0,u.minimizeInlineCompletion)(o,(l=(s=this.cache.value)===null||s===void 0?void 0:s.completions[0])===null||l===void 0?void 0:l.toLiveInlineCompletion()),c=this.suggestionInlineCompletionSource.state,g=(0,u.minimizeInlineCompletion)(o,(d=c==null?void 0:c.selectedItem)===null||d===void 0?void 0:d.normalizedInlineCompletion),m=r&&g&&r.insertText.startsWith(g.insertText)&&r.range.equalsRange(g.range);if(!a&&!m)return;const S=m?r:g||r,p=m?S.insertText.length-g.insertText.length:0;return this.toGhostText(S,p)}toGhostText(s,l){const d=this.editor.getOptions().get(107).previewMode;return s?(0,u.inlineCompletionToGhostText)(s,this.editor.getModel(),d,this.editor.getPosition(),l)||new b.GhostText(s.range.endLineNumber,[],this.minReservedLineCount):void 0}};i=De([ge(2,w.ILanguageFeaturesService)],i),e.SuggestWidgetPreviewModel=i;function n(t){return t.reduce((s,l)=>s+l,0)}}),define(ne[768],oe([1,0,4,2,11,28,319,767,200,8]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class h extends f.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new f.MutableDisposable)}get targetModel(){var s;return(s=this.currentModelRef.value)===null||s===void 0?void 0:s.object}setTargetModel(s){var l;((l=this.currentModelRef.value)===null||l===void 0?void 0:l.object)!==s&&(this.currentModelRef.clear(),this.currentModelRef.value=s?(0,v.createDisposableRef)(s,s.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var s,l;return this.hasCachedGhostText||(this.cachedGhostText=(l=(s=this.currentModelRef.value)===null||s===void 0?void 0:s.object)===null||l===void 0?void 0:l.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(s){var l;(l=this.targetModel)===null||l===void 0||l.setExpanded(s)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=h;let i=class extends h{constructor(s,l){super();this.editor=s,this.instantiationService=l,this.sharedCache=this._register(new n),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(b.SuggestWidgetPreviewModel,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(w.InlineCompletionsModel,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(s){var l;const d=(l=this.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText;return d?d.parts.some(a=>s.containsPosition(new N.Position(d.lineNumber,a.column))):!1}triggerInlineCompletion(){var s;(s=this.activeInlineCompletionsModel)===null||s===void 0||s.trigger(D.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var s;(s=this.activeInlineCompletionsModel)===null||s===void 0||s.commitCurrentSuggestion()}hideInlineCompletion(){var s;(s=this.activeInlineCompletionsModel)===null||s===void 0||s.hide()}showNextInlineCompletion(){var s;(s=this.activeInlineCompletionsModel)===null||s===void 0||s.showNext()}showPreviousInlineCompletion(){var s;(s=this.activeInlineCompletionsModel)===null||s===void 0||s.showPrevious()}hasMultipleInlineCompletions(){var s;return Le(this,void 0,void 0,function*(){const l=yield(s=this.activeInlineCompletionsModel)===null||s===void 0?void 0:s.hasMultipleInlineCompletions();return l!==void 0?l:!1})}};i=De([ge(1,u.IInstantiationService)],i),e.GhostTextModel=i;class n extends f.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new f.MutableDisposable)}get value(){return this.cache.value}setValue(s,l,d){this.cache.value=new w.SynchronizedInlineCompletionsCache(l,s,()=>this.onDidChangeEmitter.fire(),d)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=n}),define(ne[321],oe([1,0,4,2,9,12,67,24,768,677,569,16,8]),function(j,e,y,f,N,D,w,b,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let t=class nn extends f.Disposable{constructor(c,g){super();this.editor=c,this.instantiationService=g,this.triggeredExplicitly=!1,this.activeController=this._register(new f.MutableDisposable),this.activeModelDidChangeEmitter=this._register(new y.Emitter),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(m=>{m.hasChanged(107)&&this.updateModelController(),m.hasChanged(56)&&this.updateModelController()})),this.updateModelController()}static get(c){return c.getContribution(nn.ID)}get activeModel(){var c;return(c=this.activeController.value)===null||c===void 0?void 0:c.model}updateModelController(){const c=this.editor.getOption(107),g=this.editor.getOption(56);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(c.preview||g.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(l,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(c){var g;return((g=this.activeModel)===null||g===void 0?void 0:g.shouldShowHoverAt(c))||!1}shouldShowHoverAtViewZone(c){var g,m;return((m=(g=this.activeController.value)===null||g===void 0?void 0:g.widget)===null||m===void 0?void 0:m.shouldShowHoverAtViewZone(c))||!1}trigger(){var c;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(c=this.activeModel)===null||c===void 0||c.triggerInlineCompletion()}commit(){var c;(c=this.activeModel)===null||c===void 0||c.commitInlineCompletion()}hide(){var c;(c=this.activeModel)===null||c===void 0||c.hideInlineCompletion()}showNextInlineCompletion(){var c;(c=this.activeModel)===null||c===void 0||c.showNextInlineCompletion()}showPreviousInlineCompletion(){var c;(c=this.activeModel)===null||c===void 0||c.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var c;return Le(this,void 0,void 0,function*(){const g=yield(c=this.activeModel)===null||c===void 0?void 0:c.hasMultipleInlineCompletions();return g!==void 0?g:!1})}};t.inlineSuggestionVisible=new i.RawContextKey("inlineSuggestionVisible",!1,h.localize(0,null)),t.inlineSuggestionHasIndentation=new i.RawContextKey("inlineSuggestionHasIndentation",!1,h.localize(1,null)),t.inlineSuggestionHasIndentationLessThanTabSize=new i.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,h.localize(2,null)),t.ID="editor.contrib.ghostTextController",t=De([ge(1,n.IInstantiationService)],t),e.GhostTextController=t;class s{constructor(c){this.contextKeyService=c,this.inlineCompletionVisible=t.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=t.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=t.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let l=class extends f.Disposable{constructor(c,g,m){super();this.editor=c,this.instantiationService=g,this.contextKeyService=m,this.contextKeys=new s(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(v.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(u.GhostTextWidget,this.editor,this.model)),this._register((0,f.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var c;this.contextKeys.inlineCompletionVisible.set(((c=this.model.activeInlineCompletionsModel)===null||c===void 0?void 0:c.ghostText)!==void 0);let g=!1,m=!0;const S=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&S&&S.parts.length>0){const{column:p,lines:C}=S.parts[0],_=C[0],L=this.editor.getModel().getLineIndentColumn(S.lineNumber);if(p<=L){let I=(0,N.firstNonWhitespaceIndex)(_);I===-1&&(I=_.length-1),g=I>0;const T=this.editor.getModel().getOptions().tabSize;m=w.CursorColumns.visibleColumnFromColumn(_,I+1,T)<T}}this.contextKeys.inlineCompletionSuggestsIndentation.set(g),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(m)}};l=De([ge(1,n.IInstantiationService),ge(2,i.IContextKeyService)],l),e.ActiveGhostTextController=l;class d extends D.EditorAction{constructor(){super({id:d.ID,label:h.localize(3,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(b.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(c,g){return Le(this,void 0,void 0,function*(){const m=t.get(g);m&&(m.showNextInlineCompletion(),g.focus())})}}e.ShowNextInlineSuggestionAction=d,d.ID="editor.action.inlineSuggest.showNext";class a extends D.EditorAction{constructor(){super({id:a.ID,label:h.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(b.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(c,g){return Le(this,void 0,void 0,function*(){const m=t.get(g);m&&(m.showPreviousInlineCompletion(),g.focus())})}}e.ShowPreviousInlineSuggestionAction=a,a.ID="editor.action.inlineSuggest.showPrevious";class o extends D.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:h.localize(5,null),alias:"Trigger Inline Suggestion",precondition:b.EditorContextKeys.writable})}run(c,g){return Le(this,void 0,void 0,function*(){const m=t.get(g);m&&m.trigger()})}}e.TriggerInlineSuggestionAction=o}),define(ne[769],oe([1,0,7,65,2,116,3,38,87,321,570,69,41,26,16,45,199]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class a{constructor(c,g,m){this.owner=c,this.range=g,this.controller=m}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var c,g,m;return((m=(g=(c=this.controller.activeModel)===null||c===void 0?void 0:c.activeInlineCompletionsModel)===null||g===void 0?void 0:g.completionSession.value)===null||m===void 0?void 0:m.commands)||[]}}e.InlineCompletionsHover=a;let o=class{constructor(c,g,m,S,p,C,_){this._editor=c,this._commandService=g,this._menuService=m,this._contextKeyService=S,this._languageService=p,this._openerService=C,this.accessibilityService=_,this.hoverOrdinal=3}suggestHoverAnchor(c){const g=u.GhostTextController.get(this._editor);if(!g)return null;const m=c.target;if(m.type===8){const S=m.detail;if(g.shouldShowHoverAtViewZone(S.viewZoneId))return new v.HoverForeignElementAnchor(1e3,this,w.Range.fromPositions(S.positionBefore||S.position,S.positionBefore||S.position))}return m.type===7&&g.shouldShowHoverAt(m.range)?new v.HoverForeignElementAnchor(1e3,this,m.range):m.type===6&&m.detail.mightBeForeignElement&&g.shouldShowHoverAt(m.range)?new v.HoverForeignElementAnchor(1e3,this,m.range):null}computeSync(c,g){const m=u.GhostTextController.get(this._editor);return m&&m.shouldShowHoverAt(c.range)?[new a(this,c.range,m)]:[]}renderHoverParts(c,g){const m=new N.DisposableStore,S=g[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(c,S,m);const p=m.add(this._menuService.createMenu(n.MenuId.InlineCompletionsActions,this._contextKeyService)),C=c.statusBar.addAction({label:h.localize(0,null),commandId:u.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowNextInlineSuggestionAction.ID)}),_=c.statusBar.addAction({label:h.localize(1,null),commandId:u.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowPreviousInlineSuggestionAction.ID)});c.statusBar.addAction({label:h.localize(2,null),commandId:d.inlineSuggestCommitId,run:()=>this._commandService.executeCommand(d.inlineSuggestCommitId)});const L=[C,_];for(const E of L)E.setEnabled(!1);S.hasMultipleSuggestions().then(E=>{for(const I of L)I.setEnabled(E)});for(const E of S.commands)c.statusBar.addAction({label:E.title,commandId:E.id,run:()=>this._commandService.executeCommand(E.id,...E.arguments||[])});for(const[E,I]of p.getActions())for(const T of I)T instanceof n.MenuItemAction&&c.statusBar.addAction({label:T.label,commandId:T.item.id,run:()=>this._commandService.executeCommand(T.item.id)});return m}renderScreenReaderText(c,g,m){var S,p;const C=y.$,_=C("div.hover-row.markdown-hover"),L=y.append(_,C("div.hover-contents")),E=m.add(new D.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),I=P=>{m.add(E.onDidRenderAsync(()=>{L.className="hover-contents code-hover-contents",c.onContentsChanged()}));const B=h.localize(3,null),R=m.add(E.render(new f.MarkdownString().appendText(B).appendCodeblock("text",P)));L.replaceChildren(R.element)},T=(p=(S=g.controller.activeModel)===null||S===void 0?void 0:S.inlineCompletionsModel)===null||p===void 0?void 0:p.ghostText;if(T){const P=this._editor.getModel().getLineContent(T.lineNumber);I(T.renderForScreenReader(P))}c.fragment.appendChild(_)}};o=De([ge(1,t.ICommandService),ge(2,n.IMenuService),ge(3,s.IContextKeyService),ge(4,b.ILanguageService),ge(5,l.IOpenerService),ge(6,i.IAccessibilityService)],o),e.InlineCompletionsHoverParticipant=o}),define(ne[770],oe([1,0,12,24,87,199,321,769,16,100]),function(j,e,y,f,N,D,w,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commitInlineSuggestionAction=void 0,(0,y.registerEditorContribution)(w.GhostTextController.ID,w.GhostTextController),(0,y.registerEditorAction)(w.TriggerInlineSuggestionAction),(0,y.registerEditorAction)(w.ShowNextInlineSuggestionAction),(0,y.registerEditorAction)(w.ShowPreviousInlineSuggestionAction),N.HoverParticipantRegistry.register(b.InlineCompletionsHoverParticipant);const h=y.EditorCommand.bindToContribution(w.GhostTextController.get);e.commitInlineSuggestionAction=new h({id:D.inlineSuggestCommitId,precondition:w.GhostTextController.inlineSuggestionVisible,handler(i){i.commit(),i.editor.focus()}}),(0,y.registerEditorCommand)(e.commitInlineSuggestionAction),u.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:v.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,f.EditorContextKeys.tabMovesFocus.toNegated(),w.GhostTextController.inlineSuggestionHasIndentationLessThanTabSize)}),(0,y.registerEditorCommand)(new h({id:"editor.action.inlineSuggest.hide",precondition:w.GhostTextController.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(i){i.hide()}}))}),define(ne[322],oe([1,0,8]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,y.createDecorator)("workspaceTrustManagementService")}),define(ne[771],oe([1,0,10,27,65,2,17,9,12,34,37,258,90,38,280,87,216,727,596,30,8,45,84,78,322,405]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,S.registerIcon)("extensions-warning-message",f.Codicon.warning,o.localize(0,null));let C=class extends D.Disposable{constructor(ie,re,Z,x){super();this._editor=ie,this._editorWorkerService=re,this._workspaceTrustService=Z,this._highlighter=null,this._bannerClosed=!1,this._updateState=U=>{if(U&&U.hasMore){if(this._bannerClosed)return;const q=Math.max(U.ambiguousCharacterCount,U.nonBasicAsciiCharacterCount,U.invisibleCharacterCount);let le;if(U.nonBasicAsciiCharacterCount>=q)le={message:o.localize(1,null),command:new M};else if(U.ambiguousCharacterCount>=q)le={message:o.localize(2,null),command:new F};else if(U.invisibleCharacterCount>=q)le={message:o.localize(3,null),command:new W};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:le.message,icon:e.warningIcon,actions:[{label:le.command.shortLabel,href:`command:${le.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(x.createInstance(a.BannerController,ie)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ie.getOption(114),this._register(Z.onDidChangeTrust(U=>{this._updateHighlighter()})),this._register(ie.onDidChangeConfiguration(U=>{U.hasChanged(114)&&(this._options=ie.getOption(114),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ie=_(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ie.nonBasicASCII,ie.ambiguousCharacters,ie.invisibleCharacters].every(Z=>Z===!1))return;const re={nonBasicASCII:ie.nonBasicASCII,ambiguousCharacters:ie.ambiguousCharacters,invisibleCharacters:ie.invisibleCharacters,includeComments:ie.includeComments,includeStrings:ie.includeStrings,allowedCodePoints:Object.keys(ie.allowedCharacters).map(Z=>Z.codePointAt(0)),allowedLocales:Object.keys(ie.allowedLocales).map(Z=>Z==="_os"?new Intl.NumberFormat().resolvedOptions().locale:Z==="_vscode"?w.language:Z)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new L(this._editor,re,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,re,this._updateState)}getDecorationInfo(ie){return this._highlighter?this._highlighter.getDecorationInfo(ie):null}};C.ID="editor.contrib.unicodeHighlighter",C=De([ge(1,n.IEditorWorkerService),ge(2,p.IWorkspaceTrustManagementService),ge(3,c.IInstantiationService)],C),e.UnicodeHighlighter=C;function _(J,ie){return{nonBasicASCII:ie.nonBasicASCII===u.inUntrustedWorkspace?!J:ie.nonBasicASCII,ambiguousCharacters:ie.ambiguousCharacters,invisibleCharacters:ie.invisibleCharacters,includeComments:ie.includeComments===u.inUntrustedWorkspace?!J:ie.includeComments,includeStrings:ie.includeStrings===u.inUntrustedWorkspace?!J:ie.includeStrings,allowedCharacters:ie.allowedCharacters,allowedLocales:ie.allowedLocales}}let L=class extends D.Disposable{constructor(ie,re,Z,x){super();this._editor=ie,this._options=re,this._updateState=Z,this._editorWorkerService=x,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ie=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(re=>{if(this._model.isDisposed()||this._model.getVersionId()!==ie)return;this._updateState(re);const Z=[];if(!re.hasMore)for(const x of re.ranges)Z.push({range:x,options:k.instance.getDecorationFromOptions(this._options)});this._decorations.set(Z)})}getDecorationInfo(ie){if(!this._decorations.has(ie))return null;const re=this._editor.getModel();if(!(0,s.isModelDecorationVisible)(re,ie))return null;const Z=re.getValueInRange(ie.range);return{reason:R(Z,this._options),inComment:(0,s.isModelDecorationInComment)(re,ie),inString:(0,s.isModelDecorationInString)(re,ie)}}};L=De([ge(3,n.IEditorWorkerService)],L);class E extends D.Disposable{constructor(ie,re,Z){super();this._editor=ie,this._options=re,this._updateState=Z,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ie=this._editor.getVisibleRanges(),re=[],Z={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const x of ie){const U=i.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,x);for(const q of U.ranges)Z.ranges.push(q);Z.ambiguousCharacterCount+=Z.ambiguousCharacterCount,Z.invisibleCharacterCount+=Z.invisibleCharacterCount,Z.nonBasicAsciiCharacterCount+=Z.nonBasicAsciiCharacterCount,Z.hasMore=Z.hasMore||U.hasMore}if(!Z.hasMore)for(const x of Z.ranges)re.push({range:x,options:k.instance.getDecorationFromOptions(this._options)});this._updateState(Z),this._decorations.set(re)}getDecorationInfo(ie){if(!this._decorations.has(ie))return null;const re=this._editor.getModel(),Z=re.getValueInRange(ie.range);return(0,s.isModelDecorationVisible)(re,ie)?{reason:R(Z,this._options),inComment:(0,s.isModelDecorationInComment)(re,ie),inString:(0,s.isModelDecorationInString)(re,ie)}:null}}let I=class{constructor(ie,re,Z){this._editor=ie,this._languageService=re,this._openerService=Z,this.hoverOrdinal=4}computeSync(ie,re){if(!this._editor.hasModel()||ie.type!==1)return[];const Z=this._editor.getModel(),x=this._editor.getContribution(C.ID);if(!x)return[];const U=[];let q=300;for(const le of re){const se=x.getDecorationInfo(le);if(!se)continue;const de=Z.getValueInRange(le.range).codePointAt(0),H=P(de);let $;switch(se.reason.kind){case 0:$=o.localize(4,null,H,P(se.reason.confusableWith.codePointAt(0)));break;case 1:$=o.localize(5,null,H);break;case 2:$=o.localize(6,null,H);break}const K={codePoint:de,reason:se.reason,inComment:se.inComment,inString:se.inString},V=o.localize(7,null),Q=`command:${z.ID}?${encodeURIComponent(JSON.stringify(K))}`,ee=new N.MarkdownString("",!0).appendMarkdown($).appendText(" ").appendLink(Q,V);U.push(new d.MarkdownHover(this,le.range,[ee],q++))}return U}renderHoverParts(ie,re){return(0,d.renderMarkdownHovers)(ie,re,this._editor,this._languageService,this._openerService)}};I=De([ge(1,t.ILanguageService),ge(2,g.IOpenerService)],I),e.UnicodeHighlighterHoverParticipant=I;function T(J){return`U+${J.toString(16).padStart(4,"0")}`}function P(J){let ie=`\`${T(J)}\``;return b.InvisibleCharacters.isInvisibleCharacter(J)||(ie+=` "${`${B(J)}`}"`),ie}function B(J){return J===96?"`` ` ``":"`"+String.fromCodePoint(J)+"`"}function R(J,ie){return i.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(J,ie)}class k{constructor(){this.map=new Map}getDecorationFromOptions(ie){return this.getDecoration(!ie.includeComments,!ie.includeStrings)}getDecoration(ie,re){const Z=`${ie}${re}`;let x=this.map.get(Z);return x||(x=h.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ie,hideInStringTokens:re}),this.map.set(Z,x)),x}}k.instance=new k;class A extends v.EditorAction{constructor(){super({id:F.ID,label:o.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0});this.shortLabel=o.localize(8,null)}run(ie,re,Z){return Le(this,void 0,void 0,function*(){const x=ie==null?void 0:ie.get(r.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.includeComments,!1,1)})}}e.DisableHighlightingInCommentsAction=A;class O extends v.EditorAction{constructor(){super({id:F.ID,label:o.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0});this.shortLabel=o.localize(10,null)}run(ie,re,Z){return Le(this,void 0,void 0,function*(){const x=ie==null?void 0:ie.get(r.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.includeStrings,!1,1)})}}e.DisableHighlightingInStringsAction=O;class F extends v.EditorAction{constructor(){super({id:F.ID,label:o.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=o.localize(12,null)}run(ie,re,Z){return Le(this,void 0,void 0,function*(){const x=ie==null?void 0:ie.get(r.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.ambiguousCharacters,!1,1)})}}e.DisableHighlightingOfAmbiguousCharactersAction=F,F.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class W extends v.EditorAction{constructor(){super({id:W.ID,label:o.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=o.localize(14,null)}run(ie,re,Z){return Le(this,void 0,void 0,function*(){const x=ie==null?void 0:ie.get(r.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.invisibleCharacters,!1,1)})}}e.DisableHighlightingOfInvisibleCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class M extends v.EditorAction{constructor(){super({id:M.ID,label:o.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=o.localize(16,null)}run(ie,re,Z){return Le(this,void 0,void 0,function*(){const x=ie==null?void 0:ie.get(r.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.nonBasicASCII,!1,1)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=M,M.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class z extends v.EditorAction{constructor(){super({id:z.ID,label:o.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(ie,re,Z){return Le(this,void 0,void 0,function*(){const{codePoint:x,reason:U,inString:q,inComment:le}=Z,se=String.fromCodePoint(x),Y=ie.get(m.IQuickInputService),de=ie.get(r.IConfigurationService);function H(V){return b.InvisibleCharacters.isInvisibleCharacter(V)?o.localize(19,null,T(V)):o.localize(20,null,`${T(V)} "${se}"`)}const $=[];if(U.kind===0)for(const V of U.notAmbiguousInLocales)$.push({label:o.localize(21,null,V),run:()=>Le(this,void 0,void 0,function*(){te(de,[V])})});if($.push({label:H(x),run:()=>G(de,[x])}),le){const V=new A;$.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}else if(q){const V=new O;$.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}if(U.kind===0){const V=new F;$.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}else if(U.kind===1){const V=new W;$.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}else if(U.kind===2){const V=new M;$.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}else X(U);const K=yield Y.pick($,{title:o.localize(22,null)});K&&(yield K.run())})}}e.ShowExcludeOptions=z,z.ID="editor.action.unicodeHighlight.showExcludeOptions";function G(J,ie){return Le(this,void 0,void 0,function*(){const re=J.getValue(u.unicodeHighlightConfigKeys.allowedCharacters);let Z;typeof re=="object"&&re?Z=re:Z={};for(const x of ie)Z[String.fromCodePoint(x)]=!0;yield J.updateValue(u.unicodeHighlightConfigKeys.allowedCharacters,Z,1)})}function te(J,ie){var re;return Le(this,void 0,void 0,function*(){const Z=(re=J.inspect(u.unicodeHighlightConfigKeys.allowedLocales).user)===null||re===void 0?void 0:re.value;let x;typeof Z=="object"&&Z?x=Object.assign({},Z):x={};for(const U of ie)x[U]=!0;yield J.updateValue(u.unicodeHighlightConfigKeys.allowedLocales,x,1)})}function X(J){throw new Error(`Unexpected value: ${J}`)}(0,v.registerEditorAction)(F),(0,v.registerEditorAction)(W),(0,v.registerEditorAction)(M),(0,v.registerEditorAction)(z),(0,v.registerEditorContribution)(C.ID,C),l.HoverParticipantRegistry.register(I)}),define(ne[772],oe([1,0,164,169,310,245,685,732,686,687,688,702,734,755,763,689,690,691,736,764,312,742,695,696,640,770,218,315,313,316,698,758,744,699,700,745,746,747,725,703,704,119,320,705,706,307,771,707,749,750,308,708,76,147]),function(j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ne[219],oe([1,0,9,7,46,4,104,2,17,73,22,137,290,61,11,3,50,58,162,26,30,286,16,114,8,630,43,632,100,288,633,138,40,77,92,172,115,76,42,29,70,322,82,635,647,718,15,53,639,90,291,38,673,207,309,721,729,113,634,69,41,717,636,91,628,206,629,163,167,83,638,45,84,85,650,32,302,289,760,71,621]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E,I,T,P,B,R,k,A,O,F,W,M,z,G,te,X,J,ie,re,Z,x,U,q,le,se,Y,de,H,$,K,V,Q,ee,ae,fe,pe,ve,ue,Ce,me,be,ce,he,we,ye,Te,ke){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class Ne{constructor(Me){this.disposed=!1,this.model=Me,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Oe=class{constructor(Me){this.modelService=Me}createModelReference(Me){const Fe=this.modelService.getModel(Me);return Fe?Promise.resolve(new b.ImmortalReference(new Ne(Fe))):Promise.reject(new Error("Model not found"))}};Oe=De([ge(0,d.IModelService)],Oe);class Se{show(){return Se.NULL_PROGRESS_RUNNER}showWhile(Me,Fe){return Le(this,void 0,void 0,function*(){yield Me})}}Se.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class _e{confirm(Me){return this.doConfirm(Me).then(Fe=>({confirmed:Fe,checkboxChecked:!1}))}doConfirm(Me){let Fe=Me.message;return Me.detail&&(Fe=Fe+`

`+Me.detail),Promise.resolve(window.confirm(Fe))}show(Me,Fe,je,qe){return Promise.resolve({choice:0})}}class Ee{info(Me){return this.notify({severity:u.default.Info,message:Me})}warn(Me){return this.notify({severity:u.default.Warning,message:Me})}error(Me){return this.notify({severity:u.default.Error,message:Me})}notify(Me){switch(Me.severity){case u.default.Error:console.error(Me.message);break;case u.default.Warning:console.warn(Me.message);break;default:console.log(Me.message);break}return Ee.NO_OP}status(Me,Fe){return b.Disposable.None}}e.StandaloneNotificationService=Ee,Ee.NO_OP=new B.NoOpNotification;let Ae=class{constructor(Me){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Me}executeCommand(Me,...Fe){const je=r.CommandsRegistry.getCommand(Me);if(!je)return Promise.reject(new Error(`command '${Me}' not found`));try{this._onWillExecuteCommand.fire({commandId:Me,args:Fe});const qe=this._instantiationService.invokeFunction.apply(this._instantiationService,[je.handler,...Fe]);return this._onDidExecuteCommand.fire({commandId:Me,args:Fe}),Promise.resolve(qe)}catch(qe){return Promise.reject(qe)}}};Ae=De([ge(0,p.IInstantiationService)],Ae),e.StandaloneCommandService=Ae;let Re=class extends C.AbstractKeybindingService{constructor(Me,Fe,je,qe,tt,$e){super(Me,Fe,je,qe,tt);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Xe=at=>{const ut=new b.DisposableStore;ut.add(f.addDisposableListener(at,f.EventType.KEY_DOWN,Et=>{const bt=new N.StandardKeyboardEvent(Et);this._dispatch(bt,bt.target)&&(bt.preventDefault(),bt.stopPropagation())})),ut.add(f.addDisposableListener(at,f.EventType.KEY_UP,Et=>{const bt=new N.StandardKeyboardEvent(Et);this._singleModifierDispatch(bt,bt.target)&&bt.preventDefault()})),this._domNodeListeners.push(new Ve(at,ut))},nt=at=>{for(let ut=0;ut<this._domNodeListeners.length;ut++){const Et=this._domNodeListeners[ut];Et.domNode===at&&(this._domNodeListeners.splice(ut,1),Et.dispose())}},dt=at=>{at.getOption(55)||Xe(at.getContainerDomNode())},ct=at=>{at.getOption(55)||nt(at.getContainerDomNode())};this._register($e.onCodeEditorAdd(dt)),this._register($e.onCodeEditorRemove(ct)),$e.listCodeEditors().forEach(dt);const ft=at=>{Xe(at.getContainerDomNode())},Wt=at=>{nt(at.getContainerDomNode())};this._register($e.onDiffEditorAdd(ft)),this._register($e.onDiffEditorRemove(Wt)),$e.listDiffEditors().forEach(ft)}addDynamicKeybinding(Me,Fe,je,qe){const tt=(0,w.createKeybinding)(Fe,v.OS),$e=new b.DisposableStore;return tt&&(this._dynamicKeybindings.push({keybinding:tt.parts,command:Me,when:qe,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),$e.add((0,b.toDisposable)(()=>{for(let Xe=0;Xe<this._dynamicKeybindings.length;Xe++)if(this._dynamicKeybindings[Xe].command===Me){this._dynamicKeybindings.splice(Xe,1),this.updateResolver();return}}))),$e.add(r.CommandsRegistry.registerCommand(Me,je)),this.updateResolver(),$e}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Me=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),Fe=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new L.KeybindingResolver(Me,Fe,je=>this._log(je))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Me,Fe){const je=[];let qe=0;for(const tt of Me){const $e=tt.when||void 0,Xe=tt.keybinding;if(!Xe)je[qe++]=new I.ResolvedKeybindingItem(void 0,tt.command,tt.commandArgs,$e,Fe,null,!1);else{const nt=T.USLayoutResolvedKeybinding.resolveUserBinding(Xe,v.OS);for(const dt of nt)je[qe++]=new I.ResolvedKeybindingItem(dt,tt.command,tt.commandArgs,$e,Fe,null,!1)}}return je}resolveKeyboardEvent(Me){const Fe=new w.SimpleKeybinding(Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey,Me.keyCode).toChord();return new T.USLayoutResolvedKeybinding(Fe,v.OS)}};Re=De([ge(0,m.IContextKeyService),ge(1,r.ICommandService),ge(2,k.ITelemetryService),ge(3,B.INotificationService),ge(4,z.ILogService),ge(5,M.ICodeEditorService)],Re),e.StandaloneKeybindingService=Re;class Ve extends b.Disposable{constructor(Me,Fe){super();this.domNode=Me,this._register(Fe)}}function He(Ke){return Ke&&typeof Ke=="object"&&(!Ke.overrideIdentifier||typeof Ke.overrideIdentifier=="string")&&(!Ke.resource||Ke.resource instanceof h.URI)}class ze{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new g.Configuration(new ke.DefaultConfigurationModel,new g.ConfigurationModel,new g.ConfigurationModel)}getValue(Me,Fe){const je=typeof Me=="string"?Me:void 0,qe=He(Me)?Me:He(Fe)?Fe:{};return this._configuration.getValue(je,qe,void 0)}updateValues(Me){const Fe={data:this._configuration.toData()},je=[];for(const qe of Me){const[tt,$e]=qe;this.getValue(tt)!==$e&&(this._configuration.updateValue(tt,$e),je.push(tt))}if(je.length>0){const qe=new g.ConfigurationChangeEvent({keys:je,overrides:[]},Fe,this._configuration);qe.source=7,qe.sourceConfig=null,this._onDidChangeConfiguration.fire(qe)}return Promise.resolve()}updateValue(Me,Fe,je,qe){return this.updateValues([[Me,Fe]])}inspect(Me,Fe={}){return this._configuration.inspect(Me,Fe,void 0)}}e.StandaloneConfigurationService=ze;let Ye=class{constructor(Me){this.configurationService=Me,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(Fe=>{this._onDidChangeConfiguration.fire({affectedKeys:Fe.affectedKeys,affectsConfiguration:(je,qe)=>Fe.affectsConfiguration(qe)})})}getValue(Me,Fe,je){const tt=(s.Position.isIPosition(Fe)?Fe:null)?typeof je=="string"?je:void 0:typeof Fe=="string"?Fe:void 0;return typeof tt=="undefined"?this.configurationService.getValue():this.configurationService.getValue(tt)}};Ye=De([ge(0,c.IConfigurationService)],Ye);let et=class{constructor(Me){this.configurationService=Me}getEOL(Me,Fe){const je=this.configurationService.getValue("files.eol",{overrideIdentifier:Fe,resource:Me});return je&&typeof je=="string"&&je!=="auto"?je:v.isLinux||v.isMacintosh?`
`:`\r
`}};et=De([ge(0,c.IConfigurationService)],et);class ot{publicLog(Me,Fe){return Promise.resolve(void 0)}publicLog2(Me,Fe){return this.publicLog(Me,Fe)}}class Ue{constructor(){const Me=h.URI.from({scheme:Ue.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new A.WorkspaceFolder({uri:Me,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Me){return Me&&Me.scheme===Ue.SCHEME?this.workspace.folders[0]:null}}Ue.SCHEME="inmemory";function xe(Ke,Me,Fe){if(!Me||!(Ke instanceof ze))return;const je=[];Object.keys(Me).forEach(qe=>{(0,n.isEditorConfigurationKey)(qe)&&je.push([`editor.${qe}`,Me[qe]]),Fe&&(0,n.isDiffEditorConfigurationKey)(qe)&&je.push([`diffEditor.${qe}`,Me[qe]])}),je.length>0&&Ke.updateValues(je)}e.updateConfigurationService=xe;let Ie=class{constructor(Me){this._modelService=Me}hasPreviewHandler(){return!1}apply(Me,Fe){return Le(this,void 0,void 0,function*(){const je=new Map;for(const $e of Me){if(!($e instanceof i.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const Xe=this._modelService.getModel($e.resource);if(!Xe)throw new Error("bad edit - model not found");if(typeof $e.versionId=="number"&&Xe.getVersionId()!==$e.versionId)throw new Error("bad state - model changed in the meantime");let nt=je.get(Xe);nt||(nt=[],je.set(Xe,nt)),nt.push(t.EditOperation.replaceMove(l.Range.lift($e.textEdit.range),$e.textEdit.text))}let qe=0,tt=0;for(const[$e,Xe]of je)$e.pushStackElement(),$e.pushEditOperations([],Xe,()=>[]),$e.pushStackElement(),tt+=1,qe+=Xe.length;return{ariaSummary:y.format(F.StandaloneServicesNLS.bulkEditServiceSummary,qe,tt)}})}};Ie=De([ge(0,d.IModelService)],Ie);class Pe{getUriLabel(Me,Fe){return Me.scheme==="file"?Me.fsPath:Me.path}getUriBasenameLabel(Me){return(0,W.basename)(Me)}}let Be=class extends X.ContextViewService{constructor(Me,Fe){super(Me);this._codeEditorService=Fe}showContextView(Me,Fe,je){if(!Fe){const qe=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();qe&&(Fe=qe.getContainerDomNode())}return super.showContextView(Me,Fe,je)}};Be=De([ge(0,O.ILayoutService),ge(1,M.ICodeEditorService)],Be);class We{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Ge extends J.LanguageService{constructor(){super()}}class Je extends z.LogService{constructor(){super(new z.ConsoleLogger)}}let Ze=class extends ie.ContextMenuService{constructor(Me,Fe,je,qe,tt){super(Me,Fe,je,qe,tt);this.configure({blockMouse:!1})}};Ze=De([ge(0,k.ITelemetryService),ge(1,B.INotificationService),ge(2,te.IContextViewService),ge(3,_.IKeybindingService),ge(4,re.IThemeService)],Ze),(0,Z.registerSingleton)(c.IConfigurationService,ze),(0,Z.registerSingleton)(o.ITextResourceConfigurationService,Ye),(0,Z.registerSingleton)(o.ITextResourcePropertiesService,et),(0,Z.registerSingleton)(A.IWorkspaceContextService,Ue),(0,Z.registerSingleton)(P.ILabelService,Pe),(0,Z.registerSingleton)(k.ITelemetryService,ot),(0,Z.registerSingleton)(S.IDialogService,_e),(0,Z.registerSingleton)(B.INotificationService,Ee),(0,Z.registerSingleton)(ce.IMarkerService,he.MarkerService),(0,Z.registerSingleton)(le.ILanguageService,Ge),(0,Z.registerSingleton)(K.IStandaloneThemeService,$.StandaloneThemeService),(0,Z.registerSingleton)(z.ILogService,Je),(0,Z.registerSingleton)(d.IModelService,de.ModelService),(0,Z.registerSingleton)(Y.IMarkerDecorationsService,se.MarkerDecorationsService),(0,Z.registerSingleton)(m.IContextKeyService,ve.ContextKeyService),(0,Z.registerSingleton)(R.IEditorProgressService,Se),(0,Z.registerSingleton)(Te.IStorageService,Te.InMemoryStorageService),(0,Z.registerSingleton)(U.IEditorWorkerService,q.EditorWorkerService),(0,Z.registerSingleton)(i.IBulkEditService,Ie),(0,Z.registerSingleton)(G.IWorkspaceTrustManagementService,We),(0,Z.registerSingleton)(a.ITextModelService,Oe),(0,Z.registerSingleton)(Q.IAccessibilityService,V.AccessibilityService),(0,Z.registerSingleton)(be.IListService,be.ListService),(0,Z.registerSingleton)(r.ICommandService,Ae),(0,Z.registerSingleton)(_.IKeybindingService,Re),(0,Z.registerSingleton)(ye.IQuickInputService,H.StandaloneQuickInputService),(0,Z.registerSingleton)(te.IContextViewService,Be),(0,Z.registerSingleton)(we.IOpenerService,x.OpenerService),(0,Z.registerSingleton)(pe.IClipboardService,fe.BrowserClipboardService),(0,Z.registerSingleton)(te.IContextMenuService,Ze),(0,Z.registerSingleton)(ee.IMenuService,ae.MenuService);var it;(function(Ke){const Me=new me.ServiceCollection;for(const[$e,Xe]of(0,Z.getSingletonServiceDescriptors)())Me.set($e,Xe);const Fe=new Ce.InstantiationService(Me,!0);Me.set(p.IInstantiationService,Fe);function je($e){const Xe=Me.get($e);if(!Xe)throw new Error("Missing service "+$e);return Xe instanceof ue.SyncDescriptor?Fe.invokeFunction(nt=>nt.get($e)):Xe}Ke.get=je;let qe=!1;function tt($e){if(qe)return Fe;qe=!0;for(const[Xe,nt]of(0,Z.getSingletonServiceDescriptors)())Me.get(Xe)||Me.set(Xe,nt);for(const Xe in $e)if($e.hasOwnProperty(Xe)){const nt=(0,p.createDecorator)(Xe);Me.get(nt)instanceof ue.SyncDescriptor&&Me.set(nt,$e[Xe])}return Fe}Ke.initialize=tt})(it=e.StandaloneServices||(e.StandaloneServices={}))}),define(ne[773],oe([1,0,47,2,29,169,310,249,90,219,113,41,26,30,16,82,8,43,40,15,69,76,91,77,50,38,302,72,32,20]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m,S,p,C,_,L,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let T=0,P=!1;function B(W){if(!W){if(P)return;P=!0}y.setARIAContainer(W||document.body)}let R=class extends D.CodeEditorWidget{constructor(M,z,G,te,X,J,ie,re,Z,x,U,q){const le=Object.assign({},z);le.ariaLabel=le.ariaLabel||g.StandaloneCodeEditorNLS.editorViewAccessibleLabel,le.ariaLabel=le.ariaLabel+";"+g.StandaloneCodeEditorNLS.accessibilityHelpMessage;super(M,le,{},G,te,X,J,re,Z,x,U,q);ie instanceof u.StandaloneKeybindingService?this._standaloneKeybindingService=ie:this._standaloneKeybindingService=null,B(le.ariaContainerElement)}addCommand(M,z,G){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const te="DYNAMIC_"+ ++T,X=s.ContextKeyExpr.deserialize(G);return this._standaloneKeybindingService.addDynamicKeybinding(te,M,z,X),te}createContextKey(M,z){return this._contextKeyService.createKey(M,z)}addAction(M){if(typeof M.id!="string"||typeof M.label!="string"||typeof M.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),f.Disposable.None;const z=M.id,G=M.label,te=s.ContextKeyExpr.and(s.ContextKeyExpr.equals("editorId",this.getId()),s.ContextKeyExpr.deserialize(M.precondition)),X=M.keybindings,J=s.ContextKeyExpr.and(te,s.ContextKeyExpr.deserialize(M.keybindingContext)),ie=M.contextMenuGroupId||null,re=M.contextMenuOrder||0,Z=(le,...se)=>Promise.resolve(M.run(this,...se)),x=new f.DisposableStore,U=this.getId()+":"+z;if(x.add(n.CommandsRegistry.registerCommand(U,Z)),ie){const le={command:{id:U,title:G},when:te,group:ie,order:re};x.add(i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,le))}if(Array.isArray(X))for(const le of X)x.add(this._standaloneKeybindingService.addDynamicKeybinding(U,le,Z,J));const q=new b.InternalEditorAction(U,G,G,te,Z,this._contextKeyService);return this._actions[z]=q,x.add((0,f.toDisposable)(()=>{delete this._actions[z]})),x}_triggerCommand(M,z){if(this._codeEditorService instanceof _.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(M,z)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(M,z)}};R=De([ge(2,d.IInstantiationService),ge(3,N.ICodeEditorService),ge(4,n.ICommandService),ge(5,s.IContextKeyService),ge(6,a.IKeybindingService),ge(7,r.IThemeService),ge(8,o.INotificationService),ge(9,c.IAccessibilityService),ge(10,E.ILanguageConfigurationService),ge(11,I.ILanguageFeaturesService)],R),e.StandaloneCodeEditor=R;let k=class extends R{constructor(M,z,G,te,X,J,ie,re,Z,x,U,q,le,se,Y){const de=Object.assign({},z);(0,u.updateConfigurationService)(x,de,!1);const H=re.registerEditorContainer(M);typeof de.theme=="string"&&re.setTheme(de.theme),typeof de.autoDetectHighContrast!="undefined"&&re.setAutoDetectHighContrast(Boolean(de.autoDetectHighContrast));const $=de.model;delete de.model;super(M,de,G,te,X,J,ie,re,Z,U,se,Y);this._configurationService=x,this._standaloneThemeService=re,this._register(H);let K;if(typeof $=="undefined"){const V=le.getLanguageIdByMimeType(de.language)||de.language||L.PLAINTEXT_LANGUAGE_ID;K=O(q,le,de.value||"",V,void 0),this._ownsModel=!0}else K=$,this._ownsModel=!1;if(this._attachModel(K),K){const V={oldModelUrl:null,newModelUrl:K.uri};this._onDidChangeModel.fire(V)}}dispose(){super.dispose()}updateOptions(M){(0,u.updateConfigurationService)(this._configurationService,M,!1),typeof M.theme=="string"&&this._standaloneThemeService.setTheme(M.theme),typeof M.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(M.autoDetectHighContrast)),super.updateOptions(M)}_postDetachModelCleanup(M){super._postDetachModelCleanup(M),M&&this._ownsModel&&(M.dispose(),this._ownsModel=!1)}};k=De([ge(2,d.IInstantiationService),ge(3,N.ICodeEditorService),ge(4,n.ICommandService),ge(5,s.IContextKeyService),ge(6,a.IKeybindingService),ge(7,h.IStandaloneThemeService),ge(8,o.INotificationService),ge(9,t.IConfigurationService),ge(10,c.IAccessibilityService),ge(11,p.IModelService),ge(12,C.ILanguageService),ge(13,E.ILanguageConfigurationService),ge(14,I.ILanguageFeaturesService)],k),e.StandaloneEditor=k;let A=class extends w.DiffEditorWidget{constructor(M,z,G,te,X,J,ie,re,Z,x,U,q){const le=Object.assign({},z);(0,u.updateConfigurationService)(Z,le,!0);const se=ie.registerEditorContainer(M);typeof le.theme=="string"&&ie.setTheme(le.theme),typeof le.autoDetectHighContrast!="undefined"&&ie.setAutoDetectHighContrast(Boolean(le.autoDetectHighContrast));super(M,le,{},q,X,te,G,J,ie,re,x,U);this._configurationService=Z,this._standaloneThemeService=ie,this._register(se)}dispose(){super.dispose()}updateOptions(M){(0,u.updateConfigurationService)(this._configurationService,M,!0),typeof M.theme=="string"&&this._standaloneThemeService.setTheme(M.theme),typeof M.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(M.autoDetectHighContrast)),super.updateOptions(M)}_createInnerEditor(M,z,G){return M.createInstance(R,z,G)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(M,z,G){return this.getModifiedEditor().addCommand(M,z,G)}createContextKey(M,z){return this.getModifiedEditor().createContextKey(M,z)}addAction(M){return this.getModifiedEditor().addAction(M)}};A=De([ge(2,d.IInstantiationService),ge(3,s.IContextKeyService),ge(4,v.IEditorWorkerService),ge(5,N.ICodeEditorService),ge(6,h.IStandaloneThemeService),ge(7,o.INotificationService),ge(8,t.IConfigurationService),ge(9,l.IContextMenuService),ge(10,S.IEditorProgressService),ge(11,m.IClipboardService)],A),e.StandaloneDiffEditor=A;function O(W,M,z,G,te){if(z=z||"",!G){const X=z.indexOf(`
`);let J=z;return X!==-1&&(J=z.substring(0,X)),F(W,z,M.createByFilepathOrFirstLine(te||null,J),te)}return F(W,z,M.createById(G),te)}e.createTextModel=O;function F(W,M,z,G){return W.createModel(M,z,G)}}),define(ne[774],oe([1,0,9,279,29,245,34,183,153,48,28,32,132,38,50,643,158,623,773,219,113,26,83,411]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l,d,a,o,r,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function S(se,Y,de){return r.StandaloneServices.initialize(de||{}).createInstance(o.StandaloneEditor,se,Y)}e.create=S;function p(se){return r.StandaloneServices.get(N.ICodeEditorService).onCodeEditorAdd(de=>{se(de)})}e.onDidCreateEditor=p;function C(se){return r.StandaloneServices.get(N.ICodeEditorService).onDiffEditorAdd(de=>{se(de)})}e.onDidCreateDiffEditor=C;function _(){return r.StandaloneServices.get(N.ICodeEditorService).listCodeEditors()}e.getEditors=_;function L(){return r.StandaloneServices.get(N.ICodeEditorService).listDiffEditors()}e.getDiffEditors=L;function E(se,Y,de){return r.StandaloneServices.initialize(de||{}).createInstance(o.StandaloneDiffEditor,se,Y)}e.createDiffEditor=E;function I(se,Y){return new D.DiffNavigator(se,Y)}e.createDiffNavigator=I;function T(se,Y,de){const H=r.StandaloneServices.get(t.ILanguageService),$=H.getLanguageIdByMimeType(Y)||Y;return(0,o.createTextModel)(r.StandaloneServices.get(s.IModelService),H,se,$,de)}e.createModel=T;function P(se,Y){const de=r.StandaloneServices.get(t.ILanguageService);r.StandaloneServices.get(s.IModelService).setMode(se,de.createById(Y))}e.setModelLanguage=P;function B(se,Y,de){se&&r.StandaloneServices.get(m.IMarkerService).changeOne(Y,se.uri,de)}e.setModelMarkers=B;function R(se){r.StandaloneServices.get(m.IMarkerService).changeAll(se,[])}e.removeAllMarkers=R;function k(se){return r.StandaloneServices.get(m.IMarkerService).read(se)}e.getModelMarkers=k;function A(se){return r.StandaloneServices.get(m.IMarkerService).onMarkerChanged(se)}e.onDidChangeMarkers=A;function O(se){return r.StandaloneServices.get(s.IModelService).getModel(se)}e.getModel=O;function F(){return r.StandaloneServices.get(s.IModelService).getModels()}e.getModels=F;function W(se){return r.StandaloneServices.get(s.IModelService).onModelAdded(se)}e.onDidCreateModel=W;function M(se){return r.StandaloneServices.get(s.IModelService).onModelRemoved(se)}e.onWillDisposeModel=M;function z(se){return r.StandaloneServices.get(s.IModelService).onModelLanguageChanged(de=>{se({model:de.model,oldLanguage:de.oldLanguageId})})}e.onDidChangeModelLanguage=z;function G(se){return(0,l.createWebWorker)(r.StandaloneServices.get(s.IModelService),r.StandaloneServices.get(i.ILanguageConfigurationService),se)}e.createWebWorker=G;function te(se,Y){const de=r.StandaloneServices.get(t.ILanguageService),H=r.StandaloneServices.get(c.IStandaloneThemeService);return H.registerEditorContainer(se),a.Colorizer.colorizeElement(H,de,se,Y)}e.colorizeElement=te;function X(se,Y,de){const H=r.StandaloneServices.get(t.ILanguageService);return r.StandaloneServices.get(c.IStandaloneThemeService).registerEditorContainer(document.body),a.Colorizer.colorize(H,se,Y,de)}e.colorize=X;function J(se,Y,de=4){return r.StandaloneServices.get(c.IStandaloneThemeService).registerEditorContainer(document.body),a.Colorizer.colorizeModelLine(se,Y,de)}e.colorizeModelLine=J;function ie(se){const Y=h.TokenizationRegistry.get(se);return Y||{getInitialState:()=>n.NullState,tokenize:(de,H,$)=>(0,n.nullTokenize)(se,$)}}function re(se,Y){h.TokenizationRegistry.getOrCreate(Y);const de=ie(Y),H=(0,y.splitLines)(se),$=[];let K=de.getInitialState();for(let V=0,Q=H.length;V<Q;V++){const ee=H[V],ae=de.tokenize(ee,!0,K);$[V]=ae.tokens,K=ae.endState}return $}e.tokenize=re;function Z(se,Y){r.StandaloneServices.get(c.IStandaloneThemeService).defineTheme(se,Y)}e.defineTheme=Z;function x(se){r.StandaloneServices.get(c.IStandaloneThemeService).setTheme(se)}e.setTheme=x;function U(){f.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=U;function q(se,Y){return g.CommandsRegistry.registerCommand({id:se,handler:Y})}e.registerCommand=q;function le(){return{create:S,getEditors:_,getDiffEditors:L,onDidCreateEditor:p,onDidCreateDiffEditor:C,createDiffEditor:E,createDiffNavigator:I,createModel:T,setModelLanguage:P,setModelMarkers:B,getModelMarkers:k,removeAllMarkers:R,onDidChangeMarkers:A,getModels:F,getModel:O,onDidCreateModel:W,onWillDisposeModel:M,onDidChangeModelLanguage:z,createWebWorker:G,colorizeElement:te,colorize:X,colorizeModelLine:J,tokenize:re,defineTheme:Z,setTheme:x,remeasureFonts:U,registerCommand:q,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,InjectedTextCursorStops:d.InjectedTextCursorStops,PositionAffinity:d.PositionAffinity,ConfigurationChangedEvent:w.ConfigurationChangedEvent,BareFontInfo:b.BareFontInfo,FontInfo:b.FontInfo,TextModelResolvedOptions:u.TextModelResolvedOptions,FindMatch:u.FindMatch,ApplyUpdateResult:w.ApplyUpdateResult,EditorType:v.EditorType,EditorOptions:w.EditorOptions}}e.createMonacoEditorAPI=le}),define(ne[775],oe([1,0,31,3,28,32,72,38,158,219,488,285,113,83,20,30]),function(j,e,y,f,N,D,w,b,v,u,h,i,n,t,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function d(K){w.ModesRegistry.registerLanguage(K)}e.register=d;function a(){let K=[];return K=K.concat(w.ModesRegistry.getLanguages()),K}e.getLanguages=a;function o(K){return u.StandaloneServices.get(b.ILanguageService).languageIdCodec.encodeLanguageId(K)}e.getEncodedLanguageId=o;function r(K,V){const ee=u.StandaloneServices.get(b.ILanguageService).onDidEncounterLanguage(ae=>{ae===K&&(ee.dispose(),V())});return ee}e.onLanguage=r;function c(K,V){if(!u.StandaloneServices.get(b.ILanguageService).isRegisteredLanguageId(K))throw new Error(`Cannot set configuration for unknown language ${K}`);return u.StandaloneServices.get(D.ILanguageConfigurationService).register(K,V,100)}e.setLanguageConfiguration=c;class g{constructor(V,Q){this._languageId=V,this._actual=Q}getInitialState(){return this._actual.getInitialState()}tokenize(V,Q,ee){if(typeof this._actual.tokenize=="function")return m.adaptTokenize(this._languageId,this._actual,V,ee);throw new Error("Not supported!")}tokenizeEncoded(V,Q,ee){const ae=this._actual.tokenizeEncoded(V,ee);return new N.EncodedTokenizationResult(ae.tokens,ae.endState)}}e.EncodedTokenizationSupportAdapter=g;class m{constructor(V,Q,ee,ae){this._languageId=V,this._actual=Q,this._languageService=ee,this._standaloneThemeService=ae}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(V,Q){const ee=[];let ae=0;for(let fe=0,pe=V.length;fe<pe;fe++){const ve=V[fe];let ue=ve.startIndex;fe===0?ue=0:ue<ae&&(ue=ae),ee[fe]=new N.Token(ue,ve.scopes,Q),ae=ue}return ee}static adaptTokenize(V,Q,ee,ae){const fe=Q.tokenize(ee,ae),pe=m._toClassicTokens(fe.tokens,V);let ve;return fe.endState.equals(ae)?ve=ae:ve=fe.endState,new N.TokenizationResult(pe,ve)}tokenize(V,Q,ee){return m.adaptTokenize(this._languageId,this._actual,V,ee)}_toBinaryTokens(V,Q){const ee=V.encodeLanguageId(this._languageId),ae=this._standaloneThemeService.getColorTheme().tokenTheme,fe=[];let pe=0,ve=0;for(let Ce=0,me=Q.length;Ce<me;Ce++){const be=Q[Ce],ce=ae.match(ee,be.scopes);if(pe>0&&fe[pe-1]===ce)continue;let he=be.startIndex;Ce===0?he=0:he<ve&&(he=ve),fe[pe++]=he,fe[pe++]=ce,ve=he}const ue=new Uint32Array(pe);for(let Ce=0;Ce<pe;Ce++)ue[Ce]=fe[Ce];return ue}tokenizeEncoded(V,Q,ee){const ae=this._actual.tokenize(V,ee),fe=this._toBinaryTokens(this._languageService.languageIdCodec,ae.tokens);let pe;return ae.endState.equals(ee)?pe=ee:pe=ae.endState,new N.EncodedTokenizationResult(fe,pe)}}e.TokenizationSupportAdapter=m;function S(K){return typeof K.getInitialState=="function"}function p(K){return"tokenizeEncoded"in K}function C(K){return K&&typeof K.then=="function"}function _(K){const V=u.StandaloneServices.get(n.IStandaloneThemeService);if(K){const Q=[null];for(let ee=1,ae=K.length;ee<ae;ee++)Q[ee]=y.Color.fromHex(K[ee]);V.setColorMapOverride(Q)}else V.setColorMapOverride(null)}e.setColorMap=_;function L(K,V){return p(V)?new g(K,V):new m(K,V,u.StandaloneServices.get(b.ILanguageService),u.StandaloneServices.get(n.IStandaloneThemeService))}function E(K,V){const Q={createTokenizationSupport:()=>Le(this,void 0,void 0,function*(){const ee=yield Promise.resolve(V.create());return ee?S(ee)?L(K,ee):new i.MonarchTokenizer(u.StandaloneServices.get(b.ILanguageService),u.StandaloneServices.get(n.IStandaloneThemeService),K,(0,h.compile)(K,ee),u.StandaloneServices.get(l.IConfigurationService)):null})};return N.TokenizationRegistry.registerFactory(K,Q)}e.registerTokensProviderFactory=E;function I(K,V){if(!u.StandaloneServices.get(b.ILanguageService).isRegisteredLanguageId(K))throw new Error(`Cannot set tokens provider for unknown language ${K}`);return C(V)?E(K,{create:()=>V}):N.TokenizationRegistry.register(K,L(K,V))}e.setTokensProvider=I;function T(K,V){const Q=ee=>new i.MonarchTokenizer(u.StandaloneServices.get(b.ILanguageService),u.StandaloneServices.get(n.IStandaloneThemeService),K,(0,h.compile)(K,ee),u.StandaloneServices.get(l.IConfigurationService));return C(V)?E(K,{create:()=>V}):N.TokenizationRegistry.register(K,Q(V))}e.setMonarchTokensProvider=T;function P(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).referenceProvider.register(K,V)}e.registerReferenceProvider=P;function B(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).renameProvider.register(K,V)}e.registerRenameProvider=B;function R(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).signatureHelpProvider.register(K,V)}e.registerSignatureHelpProvider=R;function k(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).hoverProvider.register(K,{provideHover:(ee,ae,fe)=>{const pe=ee.getWordAtPosition(ae);return Promise.resolve(V.provideHover(ee,ae,fe)).then(ve=>{if(!!ve)return!ve.range&&pe&&(ve.range=new f.Range(ae.lineNumber,pe.startColumn,ae.lineNumber,pe.endColumn)),ve.range||(ve.range=new f.Range(ae.lineNumber,ae.column,ae.lineNumber,ae.column)),ve})}})}e.registerHoverProvider=k;function A(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).documentSymbolProvider.register(K,V)}e.registerDocumentSymbolProvider=A;function O(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).documentHighlightProvider.register(K,V)}e.registerDocumentHighlightProvider=O;function F(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).linkedEditingRangeProvider.register(K,V)}e.registerLinkedEditingRangeProvider=F;function W(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).definitionProvider.register(K,V)}e.registerDefinitionProvider=W;function M(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).implementationProvider.register(K,V)}e.registerImplementationProvider=M;function z(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).typeDefinitionProvider.register(K,V)}e.registerTypeDefinitionProvider=z;function G(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).codeLensProvider.register(K,V)}e.registerCodeLensProvider=G;function te(K,V,Q){return u.StandaloneServices.get(s.ILanguageFeaturesService).codeActionProvider.register(K,{providedCodeActionKinds:Q==null?void 0:Q.providedCodeActionKinds,provideCodeActions:(ae,fe,pe,ve)=>{const Ce=u.StandaloneServices.get(t.IMarkerService).read({resource:ae.uri}).filter(me=>f.Range.areIntersectingOrTouching(me,fe));return V.provideCodeActions(ae,fe,{markers:Ce,only:pe.only},ve)},resolveCodeAction:V.resolveCodeAction})}e.registerCodeActionProvider=te;function X(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).documentFormattingEditProvider.register(K,V)}e.registerDocumentFormattingEditProvider=X;function J(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(K,V)}e.registerDocumentRangeFormattingEditProvider=J;function ie(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).onTypeFormattingEditProvider.register(K,V)}e.registerOnTypeFormattingEditProvider=ie;function re(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).linkProvider.register(K,V)}e.registerLinkProvider=re;function Z(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).completionProvider.register(K,V)}e.registerCompletionItemProvider=Z;function x(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).colorProvider.register(K,V)}e.registerColorProvider=x;function U(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).foldingRangeProvider.register(K,V)}e.registerFoldingRangeProvider=U;function q(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).declarationProvider.register(K,V)}e.registerDeclarationProvider=q;function le(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).selectionRangeProvider.register(K,V)}e.registerSelectionRangeProvider=le;function se(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).documentSemanticTokensProvider.register(K,V)}e.registerDocumentSemanticTokensProvider=se;function Y(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(K,V)}e.registerDocumentRangeSemanticTokensProvider=Y;function de(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).inlineCompletionsProvider.register(K,V)}e.registerInlineCompletionsProvider=de;function H(K,V){return u.StandaloneServices.get(s.ILanguageFeaturesService).inlayHintsProvider.register(K,V)}e.registerInlayHintsProvider=H;function $(){return{register:d,getLanguages:a,onLanguage:r,getEncodedLanguageId:o,setLanguageConfiguration:c,setColorMap:_,registerTokensProviderFactory:E,setTokensProvider:I,setMonarchTokensProvider:T,registerReferenceProvider:P,registerRenameProvider:B,registerCompletionItemProvider:Z,registerSignatureHelpProvider:R,registerHoverProvider:k,registerDocumentSymbolProvider:A,registerDocumentHighlightProvider:O,registerLinkedEditingRangeProvider:F,registerDefinitionProvider:W,registerImplementationProvider:M,registerTypeDefinitionProvider:z,registerCodeLensProvider:G,registerCodeActionProvider:te,registerDocumentFormattingEditProvider:X,registerDocumentRangeFormattingEditProvider:J,registerOnTypeFormattingEditProvider:ie,registerLinkProvider:re,registerColorProvider:x,registerFoldingRangeProvider:U,registerDeclarationProvider:q,registerSelectionRangeProvider:le,registerDocumentSemanticTokensProvider:se,registerDocumentRangeSemanticTokensProvider:Y,registerInlineCompletionsProvider:de,registerInlayHintsProvider:H,DocumentHighlightKind:v.DocumentHighlightKind,CompletionItemKind:v.CompletionItemKind,CompletionItemTag:v.CompletionItemTag,CompletionItemInsertTextRule:v.CompletionItemInsertTextRule,SymbolKind:v.SymbolKind,SymbolTag:v.SymbolTag,IndentAction:v.IndentAction,CompletionTriggerKind:v.CompletionTriggerKind,SignatureHelpTriggerKind:v.SignatureHelpTriggerKind,InlayHintKind:v.InlayHintKind,InlineCompletionTriggerKind:v.InlineCompletionTriggerKind,FoldingRangeKind:N.FoldingRangeKind}}e.createMonacoLanguagesAPI=$}),define(ne[776],oe([1,0,34,260,774,775,17,303]),function(j,e,y,f,N,D,w,b){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,y.EditorOptions.wrappingIndent.defaultValue=0,y.EditorOptions.glyphMargin.defaultValue=!1,y.EditorOptions.autoIndent.defaultValue=3,y.EditorOptions.overviewRulerLanes.defaultValue=2,b.FormattingConflicts.setFormatterSelector((h,i,n)=>Promise.resolve(h[0]));const u=(0,f.createMonacoBaseAPI)();u.editor=(0,N.createMonacoEditorAPI)(),u.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=u.CancellationTokenSource,e.Emitter=u.Emitter,e.KeyCode=u.KeyCode,e.KeyMod=u.KeyMod,e.Position=u.Position,e.Range=u.Range,e.Selection=u.Selection,e.SelectionDirection=u.SelectionDirection,e.MarkerSeverity=u.MarkerSeverity,e.MarkerTag=u.MarkerTag,e.Uri=u.Uri,e.Token=u.Token,e.editor=u.editor,e.languages=u.languages,(((v=w.globals.MonacoEnvironment)===null||v===void 0?void 0:v.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=u),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Jt=this&&this.__createBinding||(Object.create?function(j,e,y,f){f===void 0&&(f=y);var N=Object.getOwnPropertyDescriptor(e,y);(!N||("get"in N?!e.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return e[y]}}),Object.defineProperty(j,f,N)}:function(j,e,y,f){f===void 0&&(f=y),j[f]=e[y]}),ei=this&&this.__exportStar||function(j,e){for(var y in j)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&Jt(e,j,y)};define(ne[777],oe([1,0,776,772,709,710,711,652,713,714,712,759,715]),function(j,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),ei(y,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220613(a5298e13bba5ab5d97ccef97c7b56df9cec489ce)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var v=Object.create;var m=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var M=e=>m(e,"__esModule",{value:!0});var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var u=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of x(r))!A.call(e,o)&&(t||o!=="default")&&m(e,o,{get:()=>r[o],enumerable:!(n=y(r,o))||n.enumerable});return e},p=(e,r)=>u(M(m(e!=null?v(q(e)):{},"default",!r&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var d=D((w,c)=>{var b=p(a("vs/editor/editor.api"));c.exports=b});var s={};u(s,p(d()));var f={},g={},l=class{static getOrCreate(r){return g[r]||(g[r]=new l(r)),g[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,n)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,s.languages.register(e);let t=l.getOrCreate(r);s.languages.registerTokensProviderFactory(r,{create:async()=>(await t.load()).language}),s.languages.onLanguage(r,async()=>{let n=await t.load();s.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220613(a5298e13bba5ab5d97ccef97c7b56df9cec489ce)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var a=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var y=e=>a(e,"__esModule",{value:!0});var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)a(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&(r||t!=="default")&&a(e,t,{get:()=>n[t],enumerable:!(i=S(n,t))||i.enumerable});return e},w=(e,n)=>s(y(a(e!=null?C(x(e)):{},"default",!n&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),P=(e=>(n,r)=>e&&e.get(n)||(r=s(y({}),n,1),e&&e.set(n,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var v=I((L,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};s(o,w(v()));var g=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,i){this._languageId=n,this.setOptions(r),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new g("css",d,u),c=new g("scss",d,u),f=new g("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220613(a5298e13bba5ab5d97ccef97c7b56df9cec489ce)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var d=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var y=e=>d(e,"__esModule",{value:!0});var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)d(e,t,{get:n[t],enumerable:!0})},l=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&(t||o!=="default")&&d(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n)=>l(y(d(e!=null?w(O(e)):{},"default",!n&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),A=(e=>(n,t)=>e&&e.get(n)||(t=l(y({}),n,1),e&&e.set(n,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var h=k((z,v)=>{var E=b(f("vs/editor/editor.api"));v.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>c,htmlDefaults:()=>x,htmlLanguageService:()=>p,razorDefaults:()=>I,razorLanguageService:()=>m,registerHTMLLanguageService:()=>s});var a={};l(a,b(h()));var L=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",C="razor",p=s(i,u,g(i)),x=p.defaults,c=s(D,u,g(D)),M=c.defaults,m=s(C,u,g(C)),I=m.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:p,handlebarLanguageService:c,razorLanguageService:m,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new L(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220613(a5298e13bba5ab5d97ccef97c7b56df9cec489ce)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var s=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var d=e=>s(e,"__esModule",{value:!0});var g=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(o,n)=>(typeof require!="undefined"?require:o)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),b=(e,o)=>{for(var n in o)s(e,n,{get:o[n],enumerable:!0})},r=(e,o,n,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of v(o))!C.call(e,i)&&(n||i!=="default")&&s(e,i,{get:()=>o[i],enumerable:!(a=y(o,i))||a.enumerable});return e},u=(e,o)=>r(d(s(e!=null?p(h(e)):{},"default",!o&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),O=(e=>(o,n)=>e&&e.get(o)||(n=r(d({}),o,1),e&&e.set(o,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var m=D((I,c)=>{var M=u(g("vs/editor/editor.api"));c.exports=M});var L={};b(L,{jsonDefaults:()=>l});var t={};r(t,u(m()));var f=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(o,n,a){this._languageId=o,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(o){this._diagnosticsOptions=o||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(o){this._modeConfiguration=o||Object.create(null),this._onDidChange.fire(this)}},S={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},j={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},l=new f("json",S,j);t.languages.json={jsonDefaults:l};function _(){return new Promise((e,o)=>{g(["vs/language/json/jsonMode"],e,o)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(e=>e.setupMode(l))});return O(L);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220613(a5298e13bba5ab5d97ccef97c7b56df9cec489ce)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var k=Object.create;var m=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var D=n=>m(n,"__esModule",{value:!0});var b=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var M=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),F=(n,e)=>{for(var t in e)m(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of H(e))!w.call(n,s)&&(t||s!=="default")&&m(n,s,{get:()=>e[s],enumerable:!(o=N(e,s))||o.enumerable});return n},L=(n,e)=>g(D(m(n!=null?k(R(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),W=(n=>(e,t)=>n&&n.get(e)||(t=g(D({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var I=M((B,C)=>{var A=L(b("vs/editor/editor.api"));C.exports=A});var V={};F(V,{JsxEmit:()=>u,ModuleKind:()=>d,ModuleResolutionKind:()=>h,NewLineKind:()=>y,ScriptTarget:()=>f,getJavaScriptWorker:()=>S,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>_});var E="4.5.5";var l={};g(l,L(I()));var d=(r=>(r[r.None=0]="None",r[r.CommonJS=1]="CommonJS",r[r.AMD=2]="AMD",r[r.UMD=3]="UMD",r[r.System=4]="System",r[r.ES2015=5]="ES2015",r[r.ESNext=99]="ESNext",r))(d||{}),u=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(u||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),f=(i=>(i[i.ES3=0]="ES3",i[i.ES5=1]="ES5",i[i.ES2015=2]="ES2015",i[i.ES2016=3]="ES2016",i[i.ES2017=4]="ES2017",i[i.ES2018=5]="ES2018",i[i.ES2019=6]="ES2019",i[i.ES2020=7]="ES2020",i[i.ESNext=99]="ESNext",i[i.JSON=100]="JSON",i[i.Latest=99]="Latest",i))(f||{}),h=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(h||{}),O=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;constructor(e,t,o,s){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(o),this.setInlayHintsOptions(s),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let o;if(typeof t>"u"?o=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:o=t,this._extraLibs[o]&&this._extraLibs[o].content===e)return{dispose:()=>{}};let s=1;return this._removedExtraLibs[o]&&(s=this._removedExtraLibs[o]+1),this._extraLibs[o]&&(s=this._extraLibs[o].version+1),this._extraLibs[o]={content:e,version:s},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[o];!p||p.version===s&&(delete this._extraLibs[o],this._removedExtraLibs[o]=s,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let o=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,s=t.content,p=1;this._removedExtraLibs[o]&&(p=this._removedExtraLibs[o]+1),this._extraLibs[o]={content:s,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}},_=E,x=new O({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),v=new O({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),P=()=>c().then(n=>n.getTypeScriptWorker()),S=()=>c().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:d,JsxEmit:u,NewLineKind:y,ScriptTarget:f,ModuleResolutionKind:h,typescriptVersion:_,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:S};function c(){return new Promise((n,e)=>{b(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>c().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>c().then(n=>n.setupJavaScript(v)));return W(V);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map