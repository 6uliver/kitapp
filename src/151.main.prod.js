exports.id=151,exports.ids=[151],exports.modules={28151:(t,e,r)=>{"use strict";r.r(e),r.d(e,{JSONFile:()=>n,JSONFileSync:()=>o,LocalStorage:()=>c,Low:()=>w,LowSync:()=>p,Memory:()=>d,MemorySync:()=>u,TextFile:()=>s,TextFileSync:()=>h});var i=r(35747),a=r(33003);class s{constructor(t){this.filename=t,this.writer=new a.Writer(t)}async read(){let t;try{t=await i.promises.readFile(this.filename,"utf-8")}catch(t){if("ENOENT"===t.code)return null;throw t}return t}write(t){return this.writer.write(t)}}class n{constructor(t){this.adapter=new s(t)}async read(){const t=await this.adapter.read();return null===t?null:JSON.parse(t)}write(t){return this.adapter.write(JSON.stringify(t,null,2))}}var l=r(85622);class h{constructor(t){this.filename=t,this.tempFilename=l.join(l.dirname(t),`.${l.basename(t)}.tmp`)}read(){let t;try{t=i.readFileSync(this.filename,"utf-8")}catch(t){if("ENOENT"===t.code)return null;throw t}return t}write(t){i.writeFileSync(this.tempFilename,t),i.renameSync(this.tempFilename,this.filename)}}class o{constructor(t){this.adapter=new h(t)}read(){const t=this.adapter.read();return null===t?null:JSON.parse(t)}write(t){this.adapter.write(JSON.stringify(t,null,2))}}class c{constructor(t){this.key=t}read(){const t=localStorage.getItem(this.key);return null===t?null:JSON.parse(t)}write(t){localStorage.setItem(this.key,JSON.stringify(t))}}class d{constructor(){this.data=null}read(){return Promise.resolve(this.data)}write(t){return this.data=t,Promise.resolve()}}class u{constructor(){this.data=null}read(){return this.data||null}write(t){this.data=t}}class m extends Error{constructor(){super(),this.message="Missing Adapter"}}class w{constructor(t){if(this.data=null,!t)throw new m;this.adapter=t}async read(){this.data=await this.adapter.read()}async write(){this.data&&await this.adapter.write(this.data)}}class p{constructor(t){if(this.data=null,!t)throw new m;this.adapter=t}read(){this.data=this.adapter.read()}write(){null!==this.data&&this.adapter.write(this.data)}}},33003:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;const a=i(r(35747)),s=i(r(85622));e.Writer=class{constructor(t){var e;this.locked=!1,this.prev=null,this.next=null,this.nextPromise=null,this.nextData=null,this.filename=t,this.tempFilename=(e=t,s.default.join(s.default.dirname(e),"."+s.default.basename(e)+".tmp"))}_add(t){return this.nextData=t,this.nextPromise||(this.nextPromise=new Promise(((t,e)=>{this.next=[t,e]}))),new Promise(((t,e)=>{var r;null===(r=this.nextPromise)||void 0===r||r.then(t).catch(e)}))}async _write(t){var e,r;this.locked=!0;try{await a.default.promises.writeFile(this.tempFilename,t,"utf-8"),await a.default.promises.rename(this.tempFilename,this.filename),null===(e=this.prev)||void 0===e||e[0]()}catch(t){throw null===(r=this.prev)||void 0===r||r[1](t),t}finally{if(this.locked=!1,this.prev=this.next,this.next=this.nextPromise=null,null!==this.nextData){const t=this.nextData;this.nextData=null,await this.write(t)}}}async write(t){return this.locked?this._add(t):this._write(t)}}}};